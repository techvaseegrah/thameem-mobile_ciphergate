/*! For license information please see main.36aeebb6.js.LICENSE.txt */
(()=>{var e={11:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.uniqBy=function(e,t){const n=new Map;for(let r=0;r<e.length;r++){const i=e[r],a=t(i);n.has(a)||n.set(a,i)}return Array.from(n.values())}},225:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.toArray=function(e){return Array.isArray(e)?e:Array.from(e)}},385:()=>{},759:(e,t,n)=>{"use strict";var r=n(9950);var i="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},a=r.useState,o=r.useEffect,s=r.useLayoutEffect,l=r.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!i(e,n)}catch(r){return!0}}var u="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=a({inst:{value:n,getSnapshot:t}}),i=r[0].inst,u=r[1];return s(function(){i.value=n,i.getSnapshot=t,c(i)&&u({inst:i})},[e,n,t]),o(function(){return c(i)&&u({inst:i}),e(function(){c(i)&&u({inst:i})})},[e]),l(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:u},830:(e,t,n)=>{e.exports=n(5497).sortBy},1047:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.last=function(e){return e[e.length-1]}},1052:function(e){e.exports=function(){"use strict";var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};function t(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}var n=function(){return n=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},n.apply(this,arguments)};function r(e,t,n,r){function i(e){return e instanceof n?e:new n(function(t){t(e)})}return new(n||(n=Promise))(function(n,a){function o(e){try{l(r.next(e))}catch(Dt){a(Dt)}}function s(e){try{l(r.throw(e))}catch(Dt){a(Dt)}}function l(e){e.done?n(e.value):i(e.value).then(o,s)}l((r=r.apply(e,t||[])).next())})}function i(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return l([e,t])}}function l(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(Dt){a=[6,Dt],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}}function a(e,t,n){if(n||2===arguments.length)for(var r,i=0,a=t.length;i<a;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||t)}for(var o=function(){function e(e,t,n,r){this.left=e,this.top=t,this.width=n,this.height=r}return e.prototype.add=function(t,n,r,i){return new e(this.left+t,this.top+n,this.width+r,this.height+i)},e.fromClientRect=function(t,n){return new e(n.left+t.windowBounds.left,n.top+t.windowBounds.top,n.width,n.height)},e.fromDOMRectList=function(t,n){var r=Array.from(n).find(function(e){return 0!==e.width});return r?new e(r.left+t.windowBounds.left,r.top+t.windowBounds.top,r.width,r.height):e.EMPTY},e.EMPTY=new e(0,0,0,0),e}(),s=function(e,t){return o.fromClientRect(e,t.getBoundingClientRect())},l=function(e){var t=e.body,n=e.documentElement;if(!t||!n)throw new Error("Unable to get document size");var r=Math.max(Math.max(t.scrollWidth,n.scrollWidth),Math.max(t.offsetWidth,n.offsetWidth),Math.max(t.clientWidth,n.clientWidth)),i=Math.max(Math.max(t.scrollHeight,n.scrollHeight),Math.max(t.offsetHeight,n.offsetHeight),Math.max(t.clientHeight,n.clientHeight));return new o(0,0,r,i)},c=function(e){for(var t=[],n=0,r=e.length;n<r;){var i=e.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var a=e.charCodeAt(n++);56320===(64512&a)?t.push(((1023&i)<<10)+(1023&a)+65536):(t.push(i),n--)}else t.push(i)}return t},u=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var n=e.length;if(!n)return"";for(var r=[],i=-1,a="";++i<n;){var o=e[i];o<=65535?r.push(o):(o-=65536,r.push(55296+(o>>10),o%1024+56320)),(i+1===n||r.length>16384)&&(a+=String.fromCharCode.apply(String,r),r.length=0)}return a},A="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",d="undefined"===typeof Uint8Array?[]:new Uint8Array(256),h=0;h<A.length;h++)d[A.charCodeAt(h)]=h;for(var f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",p="undefined"===typeof Uint8Array?[]:new Uint8Array(256),g=0;g<f.length;g++)p[f.charCodeAt(g)]=g;for(var m=function(e){var t,n,r,i,a,o=.75*e.length,s=e.length,l=0;"="===e[e.length-1]&&(o--,"="===e[e.length-2]&&o--);var c="undefined"!==typeof ArrayBuffer&&"undefined"!==typeof Uint8Array&&"undefined"!==typeof Uint8Array.prototype.slice?new ArrayBuffer(o):new Array(o),u=Array.isArray(c)?c:new Uint8Array(c);for(t=0;t<s;t+=4)n=p[e.charCodeAt(t)],r=p[e.charCodeAt(t+1)],i=p[e.charCodeAt(t+2)],a=p[e.charCodeAt(t+3)],u[l++]=n<<2|r>>4,u[l++]=(15&r)<<4|i>>2,u[l++]=(3&i)<<6|63&a;return c},v=function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n.push(e[r+1]<<8|e[r]);return n},y=function(e){for(var t=e.length,n=[],r=0;r<t;r+=4)n.push(e[r+3]<<24|e[r+2]<<16|e[r+1]<<8|e[r]);return n},b=5,w=11,x=2,B=65536>>b,C=(1<<b)-1,N=B+(1024>>b)+32,k=65536>>w,_=(1<<w-b)-1,E=function(e,t,n){return e.slice?e.slice(t,n):new Uint16Array(Array.prototype.slice.call(e,t,n))},S=function(e,t,n){return e.slice?e.slice(t,n):new Uint32Array(Array.prototype.slice.call(e,t,n))},F=function(e,t){var n=m(e),r=Array.isArray(n)?y(n):new Uint32Array(n),i=Array.isArray(n)?v(n):new Uint16Array(n),a=24,o=E(i,a/2,r[4]/2),s=2===r[5]?E(i,(a+r[4])/2):S(r,Math.ceil((a+r[4])/4));return new I(r[0],r[1],r[2],r[3],o,s)},I=function(){function e(e,t,n,r,i,a){this.initialValue=e,this.errorValue=t,this.highStart=n,this.highValueIndex=r,this.index=i,this.data=a}return e.prototype.get=function(e){var t;if(e>=0){if(e<55296||e>56319&&e<=65535)return t=((t=this.index[e>>b])<<x)+(e&C),this.data[t];if(e<=65535)return t=((t=this.index[B+(e-55296>>b)])<<x)+(e&C),this.data[t];if(e<this.highStart)return t=N-k+(e>>w),t=this.index[t],t+=e>>b&_,t=((t=this.index[t])<<x)+(e&C),this.data[t];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),j="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",U="undefined"===typeof Uint8Array?[]:new Uint8Array(256),O=0;O<j.length;O++)U[j.charCodeAt(O)]=O;var P=50,L=1,D=2,T=3,M=4,Q=5,R=7,H=8,z=9,K=10,W=11,V=12,G=13,q=14,X=15,Y=16,J=17,Z=18,$=19,ee=20,te=21,ne=22,re=23,ie=24,ae=25,oe=26,se=27,le=28,ce=29,ue=30,Ae=31,de=32,he=33,fe=34,pe=35,ge=36,me=37,ve=38,ye=39,be=40,we=41,xe=42,Be=43,Ce=[9001,65288],Ne="!",ke="\xd7",_e="\xf7",Ee=F("KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA=="),Se=[ue,ge],Fe=[L,D,T,Q],Ie=[K,H],je=[se,oe],Ue=Fe.concat(Ie),Oe=[ve,ye,be,fe,pe],Pe=[X,G],Le=function(e,t){void 0===t&&(t="strict");var n=[],r=[],i=[];return e.forEach(function(e,a){var o=Ee.get(e);if(o>P?(i.push(!0),o-=P):i.push(!1),-1!==["normal","auto","loose"].indexOf(t)&&-1!==[8208,8211,12316,12448].indexOf(e))return r.push(a),n.push(Y);if(o===M||o===W){if(0===a)return r.push(a),n.push(ue);var s=n[a-1];return-1===Ue.indexOf(s)?(r.push(r[a-1]),n.push(s)):(r.push(a),n.push(ue))}return r.push(a),o===Ae?n.push("strict"===t?te:me):o===xe||o===ce?n.push(ue):o===Be?e>=131072&&e<=196605||e>=196608&&e<=262141?n.push(me):n.push(ue):void n.push(o)}),[r,n,i]},De=function(e,t,n,r){var i=r[n];if(Array.isArray(e)?-1!==e.indexOf(i):e===i)for(var a=n;a<=r.length;){if((l=r[++a])===t)return!0;if(l!==K)break}if(i===K)for(a=n;a>0;){var o=r[--a];if(Array.isArray(e)?-1!==e.indexOf(o):e===o)for(var s=n;s<=r.length;){var l;if((l=r[++s])===t)return!0;if(l!==K)break}if(o!==K)break}return!1},Te=function(e,t){for(var n=e;n>=0;){var r=t[n];if(r!==K)return r;n--}return 0},Me=function(e,t,n,r,i){if(0===n[r])return ke;var a=r-1;if(Array.isArray(i)&&!0===i[a])return ke;var o=a-1,s=a+1,l=t[a],c=o>=0?t[o]:0,u=t[s];if(l===D&&u===T)return ke;if(-1!==Fe.indexOf(l))return Ne;if(-1!==Fe.indexOf(u))return ke;if(-1!==Ie.indexOf(u))return ke;if(Te(a,t)===H)return _e;if(Ee.get(e[a])===W)return ke;if((l===de||l===he)&&Ee.get(e[s])===W)return ke;if(l===R||u===R)return ke;if(l===z)return ke;if(-1===[K,G,X].indexOf(l)&&u===z)return ke;if(-1!==[J,Z,$,ie,le].indexOf(u))return ke;if(Te(a,t)===ne)return ke;if(De(re,ne,a,t))return ke;if(De([J,Z],te,a,t))return ke;if(De(V,V,a,t))return ke;if(l===K)return _e;if(l===re||u===re)return ke;if(u===Y||l===Y)return _e;if(-1!==[G,X,te].indexOf(u)||l===q)return ke;if(c===ge&&-1!==Pe.indexOf(l))return ke;if(l===le&&u===ge)return ke;if(u===ee)return ke;if(-1!==Se.indexOf(u)&&l===ae||-1!==Se.indexOf(l)&&u===ae)return ke;if(l===se&&-1!==[me,de,he].indexOf(u)||-1!==[me,de,he].indexOf(l)&&u===oe)return ke;if(-1!==Se.indexOf(l)&&-1!==je.indexOf(u)||-1!==je.indexOf(l)&&-1!==Se.indexOf(u))return ke;if(-1!==[se,oe].indexOf(l)&&(u===ae||-1!==[ne,X].indexOf(u)&&t[s+1]===ae)||-1!==[ne,X].indexOf(l)&&u===ae||l===ae&&-1!==[ae,le,ie].indexOf(u))return ke;if(-1!==[ae,le,ie,J,Z].indexOf(u))for(var A=a;A>=0;){if((d=t[A])===ae)return ke;if(-1===[le,ie].indexOf(d))break;A--}if(-1!==[se,oe].indexOf(u))for(A=-1!==[J,Z].indexOf(l)?o:a;A>=0;){var d;if((d=t[A])===ae)return ke;if(-1===[le,ie].indexOf(d))break;A--}if(ve===l&&-1!==[ve,ye,fe,pe].indexOf(u)||-1!==[ye,fe].indexOf(l)&&-1!==[ye,be].indexOf(u)||-1!==[be,pe].indexOf(l)&&u===be)return ke;if(-1!==Oe.indexOf(l)&&-1!==[ee,oe].indexOf(u)||-1!==Oe.indexOf(u)&&l===se)return ke;if(-1!==Se.indexOf(l)&&-1!==Se.indexOf(u))return ke;if(l===ie&&-1!==Se.indexOf(u))return ke;if(-1!==Se.concat(ae).indexOf(l)&&u===ne&&-1===Ce.indexOf(e[s])||-1!==Se.concat(ae).indexOf(u)&&l===Z)return ke;if(l===we&&u===we){for(var h=n[a],f=1;h>0&&t[--h]===we;)f++;if(f%2!==0)return ke}return l===de&&u===he?ke:_e},Qe=function(e,t){t||(t={lineBreak:"normal",wordBreak:"normal"});var n=Le(e,t.lineBreak),r=n[0],i=n[1],a=n[2];"break-all"!==t.wordBreak&&"break-word"!==t.wordBreak||(i=i.map(function(e){return-1!==[ae,ue,xe].indexOf(e)?me:e}));var o="keep-all"===t.wordBreak?a.map(function(t,n){return t&&e[n]>=19968&&e[n]<=40959}):void 0;return[r,i,o]},Re=function(){function e(e,t,n,r){this.codePoints=e,this.required=t===Ne,this.start=n,this.end=r}return e.prototype.slice=function(){return u.apply(void 0,this.codePoints.slice(this.start,this.end))},e}(),He=function(e,t){var n=c(e),r=Qe(n,t),i=r[0],a=r[1],o=r[2],s=n.length,l=0,u=0;return{next:function(){if(u>=s)return{done:!0,value:null};for(var e=ke;u<s&&(e=Me(n,a,i,++u,o))===ke;);if(e!==ke||u===s){var t=new Re(n,e,l,u);return l=u,{value:t,done:!1}}return{done:!0,value:null}}}},ze=1,Ke=2,We=4,Ve=8,Ge=10,qe=47,Xe=92,Ye=9,Je=32,Ze=34,$e=61,et=35,tt=36,nt=37,rt=39,it=40,at=41,ot=95,st=45,lt=33,ct=60,ut=62,At=64,dt=91,ht=93,ft=61,pt=123,gt=63,mt=125,vt=124,yt=126,bt=128,wt=65533,xt=42,Bt=43,Ct=44,Nt=58,kt=59,_t=46,Et=0,St=8,Ft=11,It=14,jt=31,Ut=127,Ot=-1,Pt=48,Lt=97,Dt=101,Tt=102,Mt=117,Qt=122,Rt=65,Ht=69,zt=70,Kt=85,Wt=90,Vt=function(e){return e>=Pt&&e<=57},Gt=function(e){return e>=55296&&e<=57343},qt=function(e){return Vt(e)||e>=Rt&&e<=zt||e>=Lt&&e<=Tt},Xt=function(e){return e>=Lt&&e<=Qt},Yt=function(e){return e>=Rt&&e<=Wt},Jt=function(e){return Xt(e)||Yt(e)},Zt=function(e){return e>=bt},$t=function(e){return e===Ge||e===Ye||e===Je},en=function(e){return Jt(e)||Zt(e)||e===ot},tn=function(e){return en(e)||Vt(e)||e===st},nn=function(e){return e>=Et&&e<=St||e===Ft||e>=It&&e<=jt||e===Ut},rn=function(e,t){return e===Xe&&t!==Ge},an=function(e,t,n){return e===st?en(t)||rn(t,n):!!en(e)||!(e!==Xe||!rn(e,t))},on=function(e,t,n){return e===Bt||e===st?!!Vt(t)||t===_t&&Vt(n):Vt(e===_t?t:e)},sn=function(e){var t=0,n=1;e[t]!==Bt&&e[t]!==st||(e[t]===st&&(n=-1),t++);for(var r=[];Vt(e[t]);)r.push(e[t++]);var i=r.length?parseInt(u.apply(void 0,r),10):0;e[t]===_t&&t++;for(var a=[];Vt(e[t]);)a.push(e[t++]);var o=a.length,s=o?parseInt(u.apply(void 0,a),10):0;e[t]!==Ht&&e[t]!==Dt||t++;var l=1;e[t]!==Bt&&e[t]!==st||(e[t]===st&&(l=-1),t++);for(var c=[];Vt(e[t]);)c.push(e[t++]);var A=c.length?parseInt(u.apply(void 0,c),10):0;return n*(i+s*Math.pow(10,-o))*Math.pow(10,l*A)},ln={type:2},cn={type:3},un={type:4},An={type:13},dn={type:8},hn={type:21},fn={type:9},pn={type:10},gn={type:11},mn={type:12},vn={type:14},yn={type:23},bn={type:1},wn={type:25},xn={type:24},Bn={type:26},Cn={type:27},Nn={type:28},kn={type:29},_n={type:31},En={type:32},Sn=function(){function e(){this._value=[]}return e.prototype.write=function(e){this._value=this._value.concat(c(e))},e.prototype.read=function(){for(var e=[],t=this.consumeToken();t!==En;)e.push(t),t=this.consumeToken();return e},e.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case Ze:return this.consumeStringToken(Ze);case et:var t=this.peekCodePoint(0),n=this.peekCodePoint(1),r=this.peekCodePoint(2);if(tn(t)||rn(n,r)){var i=an(t,n,r)?Ke:ze;return{type:5,value:this.consumeName(),flags:i}}break;case tt:if(this.peekCodePoint(0)===$e)return this.consumeCodePoint(),An;break;case rt:return this.consumeStringToken(rt);case it:return ln;case at:return cn;case xt:if(this.peekCodePoint(0)===$e)return this.consumeCodePoint(),vn;break;case Bt:if(on(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case Ct:return un;case st:var a=e,o=this.peekCodePoint(0),s=this.peekCodePoint(1);if(on(a,o,s))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(an(a,o,s))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(o===st&&s===ut)return this.consumeCodePoint(),this.consumeCodePoint(),xn;break;case _t:if(on(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case qe:if(this.peekCodePoint(0)===xt)for(this.consumeCodePoint();;){var l=this.consumeCodePoint();if(l===xt&&(l=this.consumeCodePoint())===qe)return this.consumeToken();if(l===Ot)return this.consumeToken()}break;case Nt:return Bn;case kt:return Cn;case ct:if(this.peekCodePoint(0)===lt&&this.peekCodePoint(1)===st&&this.peekCodePoint(2)===st)return this.consumeCodePoint(),this.consumeCodePoint(),wn;break;case At:var c=this.peekCodePoint(0),A=this.peekCodePoint(1),d=this.peekCodePoint(2);if(an(c,A,d))return{type:7,value:this.consumeName()};break;case dt:return Nn;case Xe:if(rn(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case ht:return kn;case ft:if(this.peekCodePoint(0)===$e)return this.consumeCodePoint(),dn;break;case pt:return gn;case mt:return mn;case Mt:case Kt:var h=this.peekCodePoint(0),f=this.peekCodePoint(1);return h!==Bt||!qt(f)&&f!==gt||(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case vt:if(this.peekCodePoint(0)===$e)return this.consumeCodePoint(),fn;if(this.peekCodePoint(0)===vt)return this.consumeCodePoint(),hn;break;case yt:if(this.peekCodePoint(0)===$e)return this.consumeCodePoint(),pn;break;case Ot:return En}return $t(e)?(this.consumeWhiteSpace(),_n):Vt(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):en(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:6,value:u(e)}},e.prototype.consumeCodePoint=function(){var e=this._value.shift();return"undefined"===typeof e?-1:e},e.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},e.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},e.prototype.consumeUnicodeRangeToken=function(){for(var e=[],t=this.consumeCodePoint();qt(t)&&e.length<6;)e.push(t),t=this.consumeCodePoint();for(var n=!1;t===gt&&e.length<6;)e.push(t),t=this.consumeCodePoint(),n=!0;if(n)return{type:30,start:parseInt(u.apply(void 0,e.map(function(e){return e===gt?Pt:e})),16),end:parseInt(u.apply(void 0,e.map(function(e){return e===gt?zt:e})),16)};var r=parseInt(u.apply(void 0,e),16);if(this.peekCodePoint(0)===st&&qt(this.peekCodePoint(1))){this.consumeCodePoint(),t=this.consumeCodePoint();for(var i=[];qt(t)&&i.length<6;)i.push(t),t=this.consumeCodePoint();return{type:30,start:r,end:parseInt(u.apply(void 0,i),16)}}return{type:30,start:r,end:r}},e.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return"url"===e.toLowerCase()&&this.peekCodePoint(0)===it?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===it?(this.consumeCodePoint(),{type:19,value:e}):{type:20,value:e}},e.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===Ot)return{type:22,value:""};var t=this.peekCodePoint(0);if(t===rt||t===Ze){var n=this.consumeStringToken(this.consumeCodePoint());return 0===n.type&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===Ot||this.peekCodePoint(0)===at)?(this.consumeCodePoint(),{type:22,value:n.value}):(this.consumeBadUrlRemnants(),yn)}for(;;){var r=this.consumeCodePoint();if(r===Ot||r===at)return{type:22,value:u.apply(void 0,e)};if($t(r))return this.consumeWhiteSpace(),this.peekCodePoint(0)===Ot||this.peekCodePoint(0)===at?(this.consumeCodePoint(),{type:22,value:u.apply(void 0,e)}):(this.consumeBadUrlRemnants(),yn);if(r===Ze||r===rt||r===it||nn(r))return this.consumeBadUrlRemnants(),yn;if(r===Xe){if(!rn(r,this.peekCodePoint(0)))return this.consumeBadUrlRemnants(),yn;e.push(this.consumeEscapedCodePoint())}else e.push(r)}},e.prototype.consumeWhiteSpace=function(){for(;$t(this.peekCodePoint(0));)this.consumeCodePoint()},e.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(e===at||e===Ot)return;rn(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},e.prototype.consumeStringSlice=function(e){for(var t=5e4,n="";e>0;){var r=Math.min(t,e);n+=u.apply(void 0,this._value.splice(0,r)),e-=r}return this._value.shift(),n},e.prototype.consumeStringToken=function(e){for(var t="",n=0;;){var r=this._value[n];if(r===Ot||void 0===r||r===e)return{type:0,value:t+=this.consumeStringSlice(n)};if(r===Ge)return this._value.splice(0,n),bn;if(r===Xe){var i=this._value[n+1];i!==Ot&&void 0!==i&&(i===Ge?(t+=this.consumeStringSlice(n),n=-1,this._value.shift()):rn(r,i)&&(t+=this.consumeStringSlice(n),t+=u(this.consumeEscapedCodePoint()),n=-1))}n++}},e.prototype.consumeNumber=function(){var e=[],t=We,n=this.peekCodePoint(0);for(n!==Bt&&n!==st||e.push(this.consumeCodePoint());Vt(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0);var r=this.peekCodePoint(1);if(n===_t&&Vt(r))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=Ve;Vt(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0),r=this.peekCodePoint(1);var i=this.peekCodePoint(2);if((n===Ht||n===Dt)&&((r===Bt||r===st)&&Vt(i)||Vt(r)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=Ve;Vt(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[sn(e),t]},e.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),t=e[0],n=e[1],r=this.peekCodePoint(0),i=this.peekCodePoint(1),a=this.peekCodePoint(2);return an(r,i,a)?{type:15,number:t,flags:n,unit:this.consumeName()}:r===nt?(this.consumeCodePoint(),{type:16,number:t,flags:n}):{type:17,number:t,flags:n}},e.prototype.consumeEscapedCodePoint=function(){var e=this.consumeCodePoint();if(qt(e)){for(var t=u(e);qt(this.peekCodePoint(0))&&t.length<6;)t+=u(this.consumeCodePoint());$t(this.peekCodePoint(0))&&this.consumeCodePoint();var n=parseInt(t,16);return 0===n||Gt(n)||n>1114111?wt:n}return e===Ot?wt:e},e.prototype.consumeName=function(){for(var e="";;){var t=this.consumeCodePoint();if(tn(t))e+=u(t);else{if(!rn(t,this.peekCodePoint(0)))return this.reconsumeCodePoint(t),e;e+=u(this.consumeEscapedCodePoint())}}},e}(),Fn=function(){function e(e){this._tokens=e}return e.create=function(t){var n=new Sn;return n.write(t),new e(n.read())},e.parseValue=function(t){return e.create(t).parseComponentValue()},e.parseValues=function(t){return e.create(t).parseComponentValues()},e.prototype.parseComponentValue=function(){for(var e=this.consumeToken();31===e.type;)e=this.consumeToken();if(32===e.type)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);var t=this.consumeComponentValue();do{e=this.consumeToken()}while(31===e.type);if(32===e.type)return t;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},e.prototype.parseComponentValues=function(){for(var e=[];;){var t=this.consumeComponentValue();if(32===t.type)return e;e.push(t),e.push()}},e.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case 11:case 28:case 2:return this.consumeSimpleBlock(e.type);case 19:return this.consumeFunction(e)}return e},e.prototype.consumeSimpleBlock=function(e){for(var t={type:e,values:[]},n=this.consumeToken();;){if(32===n.type||Mn(n,e))return t;this.reconsumeToken(n),t.values.push(this.consumeComponentValue()),n=this.consumeToken()}},e.prototype.consumeFunction=function(e){for(var t={name:e.value,values:[],type:18};;){var n=this.consumeToken();if(32===n.type||3===n.type)return t;this.reconsumeToken(n),t.values.push(this.consumeComponentValue())}},e.prototype.consumeToken=function(){var e=this._tokens.shift();return"undefined"===typeof e?En:e},e.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},e}(),In=function(e){return 15===e.type},jn=function(e){return 17===e.type},Un=function(e){return 20===e.type},On=function(e){return 0===e.type},Pn=function(e,t){return Un(e)&&e.value===t},Ln=function(e){return 31!==e.type},Dn=function(e){return 31!==e.type&&4!==e.type},Tn=function(e){var t=[],n=[];return e.forEach(function(e){if(4===e.type){if(0===n.length)throw new Error("Error parsing function args, zero tokens for arg");return t.push(n),void(n=[])}31!==e.type&&n.push(e)}),n.length&&t.push(n),t},Mn=function(e,t){return 11===t&&12===e.type||28===t&&29===e.type||2===t&&3===e.type},Qn=function(e){return 17===e.type||15===e.type},Rn=function(e){return 16===e.type||Qn(e)},Hn=function(e){return e.length>1?[e[0],e[1]]:[e[0]]},zn={type:17,number:0,flags:We},Kn={type:16,number:50,flags:We},Wn={type:16,number:100,flags:We},Vn=function(e,t,n){var r=e[0],i=e[1];return[Gn(r,t),Gn("undefined"!==typeof i?i:r,n)]},Gn=function(e,t){if(16===e.type)return e.number/100*t;if(In(e))switch(e.unit){case"rem":case"em":return 16*e.number;default:return e.number}return e.number},qn="deg",Xn="grad",Yn="rad",Jn="turn",Zn={name:"angle",parse:function(e,t){if(15===t.type)switch(t.unit){case qn:return Math.PI*t.number/180;case Xn:return Math.PI/200*t.number;case Yn:return t.number;case Jn:return 2*Math.PI*t.number}throw new Error("Unsupported angle type")}},$n=function(e){return 15===e.type&&(e.unit===qn||e.unit===Xn||e.unit===Yn||e.unit===Jn)},er=function(e){switch(e.filter(Un).map(function(e){return e.value}).join(" ")){case"to bottom right":case"to right bottom":case"left top":case"top left":return[zn,zn];case"to top":case"bottom":return tr(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[zn,Wn];case"to right":case"left":return tr(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[Wn,Wn];case"to bottom":case"top":return tr(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[Wn,zn];case"to left":case"right":return tr(270)}return 0},tr=function(e){return Math.PI*e/180},nr={name:"color",parse:function(e,t){if(18===t.type){var n=ur[t.name];if("undefined"===typeof n)throw new Error('Attempting to parse an unsupported color function "'+t.name+'"');return n(e,t.values)}if(5===t.type){if(3===t.value.length){var r=t.value.substring(0,1),i=t.value.substring(1,2),a=t.value.substring(2,3);return ar(parseInt(r+r,16),parseInt(i+i,16),parseInt(a+a,16),1)}if(4===t.value.length){r=t.value.substring(0,1),i=t.value.substring(1,2),a=t.value.substring(2,3);var o=t.value.substring(3,4);return ar(parseInt(r+r,16),parseInt(i+i,16),parseInt(a+a,16),parseInt(o+o,16)/255)}if(6===t.value.length)return r=t.value.substring(0,2),i=t.value.substring(2,4),a=t.value.substring(4,6),ar(parseInt(r,16),parseInt(i,16),parseInt(a,16),1);if(8===t.value.length)return r=t.value.substring(0,2),i=t.value.substring(2,4),a=t.value.substring(4,6),o=t.value.substring(6,8),ar(parseInt(r,16),parseInt(i,16),parseInt(a,16),parseInt(o,16)/255)}if(20===t.type){var s=dr[t.value.toUpperCase()];if("undefined"!==typeof s)return s}return dr.TRANSPARENT}},rr=function(e){return 0===(255&e)},ir=function(e){var t=255&e,n=255&e>>8,r=255&e>>16,i=255&e>>24;return t<255?"rgba("+i+","+r+","+n+","+t/255+")":"rgb("+i+","+r+","+n+")"},ar=function(e,t,n,r){return(e<<24|t<<16|n<<8|Math.round(255*r))>>>0},or=function(e,t){if(17===e.type)return e.number;if(16===e.type){var n=3===t?1:255;return 3===t?e.number/100*n:Math.round(e.number/100*n)}return 0},sr=function(e,t){var n=t.filter(Dn);if(3===n.length){var r=n.map(or),i=r[0],a=r[1],o=r[2];return ar(i,a,o,1)}if(4===n.length){var s=n.map(or),l=(i=s[0],a=s[1],o=s[2],s[3]);return ar(i,a,o,l)}return 0};function lr(e,t,n){return n<0&&(n+=1),n>=1&&(n-=1),n<1/6?(t-e)*n*6+e:n<.5?t:n<2/3?6*(t-e)*(2/3-n)+e:e}var cr=function(e,t){var n=t.filter(Dn),r=n[0],i=n[1],a=n[2],o=n[3],s=(17===r.type?tr(r.number):Zn.parse(e,r))/(2*Math.PI),l=Rn(i)?i.number/100:0,c=Rn(a)?a.number/100:0,u="undefined"!==typeof o&&Rn(o)?Gn(o,1):1;if(0===l)return ar(255*c,255*c,255*c,1);var A=c<=.5?c*(l+1):c+l-c*l,d=2*c-A,h=lr(d,A,s+1/3),f=lr(d,A,s),p=lr(d,A,s-1/3);return ar(255*h,255*f,255*p,u)},ur={hsl:cr,hsla:cr,rgb:sr,rgba:sr},Ar=function(e,t){return nr.parse(e,Fn.create(t).parseComponentValue())},dr={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},hr={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map(function(e){if(Un(e))switch(e.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},fr={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},pr=function(e,t){var n=nr.parse(e,t[0]),r=t[1];return r&&Rn(r)?{color:n,stop:r}:{color:n,stop:null}},gr=function(e,t){var n=e[0],r=e[e.length-1];null===n.stop&&(n.stop=zn),null===r.stop&&(r.stop=Wn);for(var i=[],a=0,o=0;o<e.length;o++){var s=e[o].stop;if(null!==s){var l=Gn(s,t);l>a?i.push(l):i.push(a),a=l}else i.push(null)}var c=null;for(o=0;o<i.length;o++){var u=i[o];if(null===u)null===c&&(c=o);else if(null!==c){for(var A=o-c,d=(u-i[c-1])/(A+1),h=1;h<=A;h++)i[c+h-1]=d*h;c=null}}return e.map(function(e,n){return{color:e.color,stop:Math.max(Math.min(1,i[n]/t),0)}})},mr=function(e,t,n){var r=t/2,i=n/2,a=Gn(e[0],t)-r,o=i-Gn(e[1],n);return(Math.atan2(o,a)+2*Math.PI)%(2*Math.PI)},vr=function(e,t,n){var r="number"===typeof e?e:mr(e,t,n),i=Math.abs(t*Math.sin(r))+Math.abs(n*Math.cos(r)),a=t/2,o=n/2,s=i/2,l=Math.sin(r-Math.PI/2)*s,c=Math.cos(r-Math.PI/2)*s;return[i,a-c,a+c,o-l,o+l]},yr=function(e,t){return Math.sqrt(e*e+t*t)},br=function(e,t,n,r,i){return[[0,0],[0,t],[e,0],[e,t]].reduce(function(e,t){var a=t[0],o=t[1],s=yr(n-a,r-o);return(i?s<e.optimumDistance:s>e.optimumDistance)?{optimumCorner:t,optimumDistance:s}:e},{optimumDistance:i?1/0:-1/0,optimumCorner:null}).optimumCorner},wr=function(e,t,n,r,i){var a=0,o=0;switch(e.size){case 0:0===e.shape?a=o=Math.min(Math.abs(t),Math.abs(t-r),Math.abs(n),Math.abs(n-i)):1===e.shape&&(a=Math.min(Math.abs(t),Math.abs(t-r)),o=Math.min(Math.abs(n),Math.abs(n-i)));break;case 2:if(0===e.shape)a=o=Math.min(yr(t,n),yr(t,n-i),yr(t-r,n),yr(t-r,n-i));else if(1===e.shape){var s=Math.min(Math.abs(n),Math.abs(n-i))/Math.min(Math.abs(t),Math.abs(t-r)),l=br(r,i,t,n,!0),c=l[0],u=l[1];o=s*(a=yr(c-t,(u-n)/s))}break;case 1:0===e.shape?a=o=Math.max(Math.abs(t),Math.abs(t-r),Math.abs(n),Math.abs(n-i)):1===e.shape&&(a=Math.max(Math.abs(t),Math.abs(t-r)),o=Math.max(Math.abs(n),Math.abs(n-i)));break;case 3:if(0===e.shape)a=o=Math.max(yr(t,n),yr(t,n-i),yr(t-r,n),yr(t-r,n-i));else if(1===e.shape){s=Math.max(Math.abs(n),Math.abs(n-i))/Math.max(Math.abs(t),Math.abs(t-r));var A=br(r,i,t,n,!1);c=A[0],u=A[1],o=s*(a=yr(c-t,(u-n)/s))}}return Array.isArray(e.size)&&(a=Gn(e.size[0],r),o=2===e.size.length?Gn(e.size[1],i):a),[a,o]},xr=function(e,t){var n=tr(180),r=[];return Tn(t).forEach(function(t,i){if(0===i){var a=t[0];if(20===a.type&&-1!==["top","left","right","bottom"].indexOf(a.value))return void(n=er(t));if($n(a))return void(n=(Zn.parse(e,a)+tr(270))%tr(360))}var o=pr(e,t);r.push(o)}),{angle:n,stops:r,type:1}},Br="closest-side",Cr="farthest-side",Nr="closest-corner",kr="farthest-corner",_r="circle",Er="ellipse",Sr="cover",Fr="contain",Ir=function(e,t){var n=0,r=3,i=[],a=[];return Tn(t).forEach(function(t,o){var s=!0;if(0===o?s=t.reduce(function(e,t){if(Un(t))switch(t.value){case"center":return a.push(Kn),!1;case"top":case"left":return a.push(zn),!1;case"right":case"bottom":return a.push(Wn),!1}else if(Rn(t)||Qn(t))return a.push(t),!1;return e},s):1===o&&(s=t.reduce(function(e,t){if(Un(t))switch(t.value){case _r:return n=0,!1;case Er:return n=1,!1;case Fr:case Br:return r=0,!1;case Cr:return r=1,!1;case Nr:return r=2,!1;case Sr:case kr:return r=3,!1}else if(Qn(t)||Rn(t))return Array.isArray(r)||(r=[]),r.push(t),!1;return e},s)),s){var l=pr(e,t);i.push(l)}}),{size:r,shape:n,stops:i,position:a,type:2}},jr=function(e){return 1===e.type},Ur=function(e){return 2===e.type},Or={name:"image",parse:function(e,t){if(22===t.type){var n={url:t.value,type:0};return e.cache.addImage(t.value),n}if(18===t.type){var r=Dr[t.name];if("undefined"===typeof r)throw new Error('Attempting to parse an unsupported image function "'+t.name+'"');return r(e,t.values)}throw new Error("Unsupported image type "+t.type)}};function Pr(e){return!(20===e.type&&"none"===e.value)&&(18!==e.type||!!Dr[e.name])}var Lr,Dr={"linear-gradient":function(e,t){var n=tr(180),r=[];return Tn(t).forEach(function(t,i){if(0===i){var a=t[0];if(20===a.type&&"to"===a.value)return void(n=er(t));if($n(a))return void(n=Zn.parse(e,a))}var o=pr(e,t);r.push(o)}),{angle:n,stops:r,type:1}},"-moz-linear-gradient":xr,"-ms-linear-gradient":xr,"-o-linear-gradient":xr,"-webkit-linear-gradient":xr,"radial-gradient":function(e,t){var n=0,r=3,i=[],a=[];return Tn(t).forEach(function(t,o){var s=!0;if(0===o){var l=!1;s=t.reduce(function(e,t){if(l)if(Un(t))switch(t.value){case"center":return a.push(Kn),e;case"top":case"left":return a.push(zn),e;case"right":case"bottom":return a.push(Wn),e}else(Rn(t)||Qn(t))&&a.push(t);else if(Un(t))switch(t.value){case _r:return n=0,!1;case Er:return n=1,!1;case"at":return l=!0,!1;case Br:return r=0,!1;case Sr:case Cr:return r=1,!1;case Fr:case Nr:return r=2,!1;case kr:return r=3,!1}else if(Qn(t)||Rn(t))return Array.isArray(r)||(r=[]),r.push(t),!1;return e},s)}if(s){var c=pr(e,t);i.push(c)}}),{size:r,shape:n,stops:i,position:a,type:2}},"-moz-radial-gradient":Ir,"-ms-radial-gradient":Ir,"-o-radial-gradient":Ir,"-webkit-radial-gradient":Ir,"-webkit-gradient":function(e,t){var n=tr(180),r=[],i=1,a=0,o=3,s=[];return Tn(t).forEach(function(t,n){var a=t[0];if(0===n){if(Un(a)&&"linear"===a.value)return void(i=1);if(Un(a)&&"radial"===a.value)return void(i=2)}if(18===a.type)if("from"===a.name){var o=nr.parse(e,a.values[0]);r.push({stop:zn,color:o})}else if("to"===a.name)o=nr.parse(e,a.values[0]),r.push({stop:Wn,color:o});else if("color-stop"===a.name){var s=a.values.filter(Dn);if(2===s.length){o=nr.parse(e,s[1]);var l=s[0];jn(l)&&r.push({stop:{type:16,number:100*l.number,flags:l.flags},color:o})}}}),1===i?{angle:(n+tr(180))%tr(360),stops:r,type:i}:{size:o,shape:a,stops:r,position:s,type:i}}},Tr={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(0===t.length)return[];var n=t[0];return 20===n.type&&"none"===n.value?[]:t.filter(function(e){return Dn(e)&&Pr(e)}).map(function(t){return Or.parse(e,t)})}},Mr={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map(function(e){if(Un(e))switch(e.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},Qr={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(e,t){return Tn(t).map(function(e){return e.filter(Rn)}).map(Hn)}},Rr={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(e,t){return Tn(t).map(function(e){return e.filter(Un).map(function(e){return e.value}).join(" ")}).map(Hr)}},Hr=function(e){switch(e){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;default:return 0}};!function(e){e.AUTO="auto",e.CONTAIN="contain",e.COVER="cover"}(Lr||(Lr={}));var zr,Kr={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(e,t){return Tn(t).map(function(e){return e.filter(Wr)})}},Wr=function(e){return Un(e)||Rn(e)},Vr=function(e){return{name:"border-"+e+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},Gr=Vr("top"),qr=Vr("right"),Xr=Vr("bottom"),Yr=Vr("left"),Jr=function(e){return{name:"border-radius-"+e,initialValue:"0 0",prefix:!1,type:1,parse:function(e,t){return Hn(t.filter(Rn))}}},Zr=Jr("top-left"),$r=Jr("top-right"),ei=Jr("bottom-right"),ti=Jr("bottom-left"),ni=function(e){return{name:"border-"+e+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(e,t){switch(t){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},ri=ni("top"),ii=ni("right"),ai=ni("bottom"),oi=ni("left"),si=function(e){return{name:"border-"+e+"-width",initialValue:"0",type:0,prefix:!1,parse:function(e,t){return In(t)?t.number:0}}},li=si("top"),ci=si("right"),ui=si("bottom"),Ai=si("left"),di={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},hi={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(e,t){return"rtl"===t?1:0}},fi={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(e,t){return t.filter(Un).reduce(function(e,t){return e|pi(t.value)},0)}},pi=function(e){switch(e){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},gi={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},mi={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(e,t){return 20===t.type&&"normal"===t.value?0:17===t.type||15===t.type?t.number:0}};!function(e){e.NORMAL="normal",e.STRICT="strict"}(zr||(zr={}));var vi,yi={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){return"strict"===t?zr.STRICT:zr.NORMAL}},bi={name:"line-height",initialValue:"normal",prefix:!1,type:4},wi=function(e,t){return Un(e)&&"normal"===e.value?1.2*t:17===e.type?t*e.number:Rn(e)?Gn(e,t):t},xi={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(e,t){return 20===t.type&&"none"===t.value?null:Or.parse(e,t)}},Bi={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(e,t){return"inside"===t?0:1}},Ci={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;default:return-1}}},Ni=function(e){return{name:"margin-"+e,initialValue:"0",prefix:!1,type:4}},ki=Ni("top"),_i=Ni("right"),Ei=Ni("bottom"),Si=Ni("left"),Fi={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(e,t){return t.filter(Un).map(function(e){switch(e.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;default:return 0}})}},Ii={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){return"break-word"===t?"break-word":"normal"}},ji=function(e){return{name:"padding-"+e,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},Ui=ji("top"),Oi=ji("right"),Pi=ji("bottom"),Li=ji("left"),Di={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(e,t){switch(t){case"right":return 2;case"center":case"justify":return 1;default:return 0}}},Ti={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(e,t){switch(t){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},Mi={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return 1===t.length&&Pn(t[0],"none")?[]:Tn(t).map(function(t){for(var n={color:dr.TRANSPARENT,offsetX:zn,offsetY:zn,blur:zn},r=0,i=0;i<t.length;i++){var a=t[i];Qn(a)?(0===r?n.offsetX=a:1===r?n.offsetY=a:n.blur=a,r++):n.color=nr.parse(e,a)}return n})}},Qi={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},Ri={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(e,t){if(20===t.type&&"none"===t.value)return null;if(18===t.type){var n=Hi[t.name];if("undefined"===typeof n)throw new Error('Attempting to parse an unsupported transform function "'+t.name+'"');return n(t.values)}return null}},Hi={matrix:function(e){var t=e.filter(function(e){return 17===e.type}).map(function(e){return e.number});return 6===t.length?t:null},matrix3d:function(e){var t=e.filter(function(e){return 17===e.type}).map(function(e){return e.number}),n=t[0],r=t[1];t[2],t[3];var i=t[4],a=t[5];t[6],t[7],t[8],t[9],t[10],t[11];var o=t[12],s=t[13];return t[14],t[15],16===t.length?[n,r,i,a,o,s]:null}},zi={type:16,number:50,flags:We},Ki=[zi,zi],Wi={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(e,t){var n=t.filter(Rn);return 2!==n.length?Ki:[n[0],n[1]]}},Vi={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"hidden":return 1;case"collapse":return 2;default:return 0}}};!function(e){e.NORMAL="normal",e.BREAK_ALL="break-all",e.KEEP_ALL="keep-all"}(vi||(vi={}));for(var Gi={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"break-all":return vi.BREAK_ALL;case"keep-all":return vi.KEEP_ALL;default:return vi.NORMAL}}},qi={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(e,t){if(20===t.type)return{auto:!0,order:0};if(jn(t))return{auto:!1,order:t.number};throw new Error("Invalid z-index number parsed")}},Xi={name:"time",parse:function(e,t){if(15===t.type)switch(t.unit.toLowerCase()){case"s":return 1e3*t.number;case"ms":return t.number}throw new Error("Unsupported time type")}},Yi={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(e,t){return jn(t)?t.number:1}},Ji={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Zi={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(e,t){return t.filter(Un).map(function(e){switch(e.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(e){return 0!==e})}},$i={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(e,t){var n=[],r=[];return t.forEach(function(e){switch(e.type){case 20:case 0:n.push(e.value);break;case 17:n.push(e.number.toString());break;case 4:r.push(n.join(" ")),n.length=0}}),n.length&&r.push(n.join(" ")),r.map(function(e){return-1===e.indexOf(" ")?e:"'"+e+"'"})}},ea={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},ta={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(e,t){return jn(t)?t.number:Un(t)&&"bold"===t.value?700:400}},na={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.filter(Un).map(function(e){return e.value})}},ra={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"oblique":return"oblique";case"italic":return"italic";default:return"normal"}}},ia=function(e,t){return 0!==(e&t)},aa={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(0===t.length)return[];var n=t[0];return 20===n.type&&"none"===n.value?[]:t}},oa={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(0===t.length)return null;var n=t[0];if(20===n.type&&"none"===n.value)return null;for(var r=[],i=t.filter(Ln),a=0;a<i.length;a++){var o=i[a],s=i[a+1];if(20===o.type){var l=s&&jn(s)?s.number:1;r.push({counter:o.value,increment:l})}}return r}},sa={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(0===t.length)return[];for(var n=[],r=t.filter(Ln),i=0;i<r.length;i++){var a=r[i],o=r[i+1];if(Un(a)&&"none"!==a.value){var s=o&&jn(o)?o.number:0;n.push({counter:a.value,reset:s})}}return n}},la={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(e,t){return t.filter(In).map(function(t){return Xi.parse(e,t)})}},ca={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(0===t.length)return null;var n=t[0];if(20===n.type&&"none"===n.value)return null;var r=[],i=t.filter(On);if(i.length%2!==0)return null;for(var a=0;a<i.length;a+=2){var o=i[a].value,s=i[a+1].value;r.push({open:o,close:s})}return r}},ua=function(e,t,n){if(!e)return"";var r=e[Math.min(t,e.length-1)];return r?n?r.open:r.close:""},Aa={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return 1===t.length&&Pn(t[0],"none")?[]:Tn(t).map(function(t){for(var n={color:255,offsetX:zn,offsetY:zn,blur:zn,spread:zn,inset:!1},r=0,i=0;i<t.length;i++){var a=t[i];Pn(a,"inset")?n.inset=!0:Qn(a)?(0===r?n.offsetX=a:1===r?n.offsetY=a:2===r?n.blur=a:n.spread=a,r++):n.color=nr.parse(e,a)}return n})}},da={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(e,t){var n=[0,1,2],r=[];return t.filter(Un).forEach(function(e){switch(e.value){case"stroke":r.push(1);break;case"fill":r.push(0);break;case"markers":r.push(2)}}),n.forEach(function(e){-1===r.indexOf(e)&&r.push(e)}),r}},ha={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},fa={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(e,t){return In(t)?t.number:0}},pa=function(){function e(e,t){var n,r;this.animationDuration=va(e,la,t.animationDuration),this.backgroundClip=va(e,hr,t.backgroundClip),this.backgroundColor=va(e,fr,t.backgroundColor),this.backgroundImage=va(e,Tr,t.backgroundImage),this.backgroundOrigin=va(e,Mr,t.backgroundOrigin),this.backgroundPosition=va(e,Qr,t.backgroundPosition),this.backgroundRepeat=va(e,Rr,t.backgroundRepeat),this.backgroundSize=va(e,Kr,t.backgroundSize),this.borderTopColor=va(e,Gr,t.borderTopColor),this.borderRightColor=va(e,qr,t.borderRightColor),this.borderBottomColor=va(e,Xr,t.borderBottomColor),this.borderLeftColor=va(e,Yr,t.borderLeftColor),this.borderTopLeftRadius=va(e,Zr,t.borderTopLeftRadius),this.borderTopRightRadius=va(e,$r,t.borderTopRightRadius),this.borderBottomRightRadius=va(e,ei,t.borderBottomRightRadius),this.borderBottomLeftRadius=va(e,ti,t.borderBottomLeftRadius),this.borderTopStyle=va(e,ri,t.borderTopStyle),this.borderRightStyle=va(e,ii,t.borderRightStyle),this.borderBottomStyle=va(e,ai,t.borderBottomStyle),this.borderLeftStyle=va(e,oi,t.borderLeftStyle),this.borderTopWidth=va(e,li,t.borderTopWidth),this.borderRightWidth=va(e,ci,t.borderRightWidth),this.borderBottomWidth=va(e,ui,t.borderBottomWidth),this.borderLeftWidth=va(e,Ai,t.borderLeftWidth),this.boxShadow=va(e,Aa,t.boxShadow),this.color=va(e,di,t.color),this.direction=va(e,hi,t.direction),this.display=va(e,fi,t.display),this.float=va(e,gi,t.cssFloat),this.fontFamily=va(e,$i,t.fontFamily),this.fontSize=va(e,ea,t.fontSize),this.fontStyle=va(e,ra,t.fontStyle),this.fontVariant=va(e,na,t.fontVariant),this.fontWeight=va(e,ta,t.fontWeight),this.letterSpacing=va(e,mi,t.letterSpacing),this.lineBreak=va(e,yi,t.lineBreak),this.lineHeight=va(e,bi,t.lineHeight),this.listStyleImage=va(e,xi,t.listStyleImage),this.listStylePosition=va(e,Bi,t.listStylePosition),this.listStyleType=va(e,Ci,t.listStyleType),this.marginTop=va(e,ki,t.marginTop),this.marginRight=va(e,_i,t.marginRight),this.marginBottom=va(e,Ei,t.marginBottom),this.marginLeft=va(e,Si,t.marginLeft),this.opacity=va(e,Yi,t.opacity);var i=va(e,Fi,t.overflow);this.overflowX=i[0],this.overflowY=i[i.length>1?1:0],this.overflowWrap=va(e,Ii,t.overflowWrap),this.paddingTop=va(e,Ui,t.paddingTop),this.paddingRight=va(e,Oi,t.paddingRight),this.paddingBottom=va(e,Pi,t.paddingBottom),this.paddingLeft=va(e,Li,t.paddingLeft),this.paintOrder=va(e,da,t.paintOrder),this.position=va(e,Ti,t.position),this.textAlign=va(e,Di,t.textAlign),this.textDecorationColor=va(e,Ji,null!==(n=t.textDecorationColor)&&void 0!==n?n:t.color),this.textDecorationLine=va(e,Zi,null!==(r=t.textDecorationLine)&&void 0!==r?r:t.textDecoration),this.textShadow=va(e,Mi,t.textShadow),this.textTransform=va(e,Qi,t.textTransform),this.transform=va(e,Ri,t.transform),this.transformOrigin=va(e,Wi,t.transformOrigin),this.visibility=va(e,Vi,t.visibility),this.webkitTextStrokeColor=va(e,ha,t.webkitTextStrokeColor),this.webkitTextStrokeWidth=va(e,fa,t.webkitTextStrokeWidth),this.wordBreak=va(e,Gi,t.wordBreak),this.zIndex=va(e,qi,t.zIndex)}return e.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&0===this.visibility},e.prototype.isTransparent=function(){return rr(this.backgroundColor)},e.prototype.isTransformed=function(){return null!==this.transform},e.prototype.isPositioned=function(){return 0!==this.position},e.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},e.prototype.isFloating=function(){return 0!==this.float},e.prototype.isInlineLevel=function(){return ia(this.display,4)||ia(this.display,33554432)||ia(this.display,268435456)||ia(this.display,536870912)||ia(this.display,67108864)||ia(this.display,134217728)},e}(),ga=function(){function e(e,t){this.content=va(e,aa,t.content),this.quotes=va(e,ca,t.quotes)}return e}(),ma=function(){function e(e,t){this.counterIncrement=va(e,oa,t.counterIncrement),this.counterReset=va(e,sa,t.counterReset)}return e}(),va=function(e,t,n){var r=new Sn,i=null!==n&&"undefined"!==typeof n?n.toString():t.initialValue;r.write(i);var a=new Fn(r.read());switch(t.type){case 2:var o=a.parseComponentValue();return t.parse(e,Un(o)?o.value:t.initialValue);case 0:return t.parse(e,a.parseComponentValue());case 1:return t.parse(e,a.parseComponentValues());case 4:return a.parseComponentValue();case 3:switch(t.format){case"angle":return Zn.parse(e,a.parseComponentValue());case"color":return nr.parse(e,a.parseComponentValue());case"image":return Or.parse(e,a.parseComponentValue());case"length":var s=a.parseComponentValue();return Qn(s)?s:zn;case"length-percentage":var l=a.parseComponentValue();return Rn(l)?l:zn;case"time":return Xi.parse(e,a.parseComponentValue())}}},ya="data-html2canvas-debug",ba=function(e){switch(e.getAttribute(ya)){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},wa=function(e,t){var n=ba(e);return 1===n||t===n},xa=function(){function e(e,t){this.context=e,this.textNodes=[],this.elements=[],this.flags=0,wa(t,3),this.styles=new pa(e,window.getComputedStyle(t,null)),us(t)&&(this.styles.animationDuration.some(function(e){return e>0})&&(t.style.animationDuration="0s"),null!==this.styles.transform&&(t.style.transform="none")),this.bounds=s(this.context,t),wa(t,4)&&(this.flags|=16)}return e}(),Ba="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",Ca="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Na="undefined"===typeof Uint8Array?[]:new Uint8Array(256),ka=0;ka<Ca.length;ka++)Na[Ca.charCodeAt(ka)]=ka;for(var _a=function(e){var t,n,r,i,a,o=.75*e.length,s=e.length,l=0;"="===e[e.length-1]&&(o--,"="===e[e.length-2]&&o--);var c="undefined"!==typeof ArrayBuffer&&"undefined"!==typeof Uint8Array&&"undefined"!==typeof Uint8Array.prototype.slice?new ArrayBuffer(o):new Array(o),u=Array.isArray(c)?c:new Uint8Array(c);for(t=0;t<s;t+=4)n=Na[e.charCodeAt(t)],r=Na[e.charCodeAt(t+1)],i=Na[e.charCodeAt(t+2)],a=Na[e.charCodeAt(t+3)],u[l++]=n<<2|r>>4,u[l++]=(15&r)<<4|i>>2,u[l++]=(3&i)<<6|63&a;return c},Ea=function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n.push(e[r+1]<<8|e[r]);return n},Sa=function(e){for(var t=e.length,n=[],r=0;r<t;r+=4)n.push(e[r+3]<<24|e[r+2]<<16|e[r+1]<<8|e[r]);return n},Fa=5,Ia=11,ja=2,Ua=65536>>Fa,Oa=(1<<Fa)-1,Pa=Ua+(1024>>Fa)+32,La=65536>>Ia,Da=(1<<Ia-Fa)-1,Ta=function(e,t,n){return e.slice?e.slice(t,n):new Uint16Array(Array.prototype.slice.call(e,t,n))},Ma=function(e,t,n){return e.slice?e.slice(t,n):new Uint32Array(Array.prototype.slice.call(e,t,n))},Qa=function(e,t){var n=_a(e),r=Array.isArray(n)?Sa(n):new Uint32Array(n),i=Array.isArray(n)?Ea(n):new Uint16Array(n),a=24,o=Ta(i,a/2,r[4]/2),s=2===r[5]?Ta(i,(a+r[4])/2):Ma(r,Math.ceil((a+r[4])/4));return new Ra(r[0],r[1],r[2],r[3],o,s)},Ra=function(){function e(e,t,n,r,i,a){this.initialValue=e,this.errorValue=t,this.highStart=n,this.highValueIndex=r,this.index=i,this.data=a}return e.prototype.get=function(e){var t;if(e>=0){if(e<55296||e>56319&&e<=65535)return t=((t=this.index[e>>Fa])<<ja)+(e&Oa),this.data[t];if(e<=65535)return t=((t=this.index[Ua+(e-55296>>Fa)])<<ja)+(e&Oa),this.data[t];if(e<this.highStart)return t=Pa-La+(e>>Ia),t=this.index[t],t+=e>>Fa&Da,t=((t=this.index[t])<<ja)+(e&Oa),this.data[t];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),Ha="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",za="undefined"===typeof Uint8Array?[]:new Uint8Array(256),Ka=0;Ka<Ha.length;Ka++)za[Ha.charCodeAt(Ka)]=Ka;var Wa,Va=1,Ga=2,qa=3,Xa=4,Ya=5,Ja=7,Za=8,$a=9,eo=10,to=11,no=12,ro=13,io=14,ao=15,oo=function(e){for(var t=[],n=0,r=e.length;n<r;){var i=e.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var a=e.charCodeAt(n++);56320===(64512&a)?t.push(((1023&i)<<10)+(1023&a)+65536):(t.push(i),n--)}else t.push(i)}return t},so=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var n=e.length;if(!n)return"";for(var r=[],i=-1,a="";++i<n;){var o=e[i];o<=65535?r.push(o):(o-=65536,r.push(55296+(o>>10),o%1024+56320)),(i+1===n||r.length>16384)&&(a+=String.fromCharCode.apply(String,r),r.length=0)}return a},lo=Qa(Ba),co="\xd7",uo="\xf7",Ao=function(e){return lo.get(e)},ho=function(e,t,n){var r=n-2,i=t[r],a=t[n-1],o=t[n];if(a===Ga&&o===qa)return co;if(a===Ga||a===qa||a===Xa)return uo;if(o===Ga||o===qa||o===Xa)return uo;if(a===Za&&-1!==[Za,$a,to,no].indexOf(o))return co;if((a===to||a===$a)&&(o===$a||o===eo))return co;if((a===no||a===eo)&&o===eo)return co;if(o===ro||o===Ya)return co;if(o===Ja)return co;if(a===Va)return co;if(a===ro&&o===io){for(;i===Ya;)i=t[--r];if(i===io)return co}if(a===ao&&o===ao){for(var s=0;i===ao;)s++,i=t[--r];if(s%2===0)return co}return uo},fo=function(e){var t=oo(e),n=t.length,r=0,i=0,a=t.map(Ao);return{next:function(){if(r>=n)return{done:!0,value:null};for(var e=co;r<n&&(e=ho(t,a,++r))===co;);if(e!==co||r===n){var o=so.apply(null,t.slice(i,r));return i=r,{value:o,done:!1}}return{done:!0,value:null}}}},po=function(e){for(var t,n=fo(e),r=[];!(t=n.next()).done;)t.value&&r.push(t.value.slice());return r},go=function(e){var t=123;if(e.createRange){var n=e.createRange();if(n.getBoundingClientRect){var r=e.createElement("boundtest");r.style.height=t+"px",r.style.display="block",e.body.appendChild(r),n.selectNode(r);var i=n.getBoundingClientRect(),a=Math.round(i.height);if(e.body.removeChild(r),a===t)return!0}}return!1},mo=function(e){var t=e.createElement("boundtest");t.style.width="50px",t.style.display="block",t.style.fontSize="12px",t.style.letterSpacing="0px",t.style.wordSpacing="0px",e.body.appendChild(t);var n=e.createRange();t.innerHTML="function"===typeof"".repeat?"&#128104;".repeat(10):"";var r=t.firstChild,i=c(r.data).map(function(e){return u(e)}),a=0,o={},s=i.every(function(e,t){n.setStart(r,a),n.setEnd(r,a+e.length);var i=n.getBoundingClientRect();a+=e.length;var s=i.x>o.x||i.y>o.y;return o=i,0===t||s});return e.body.removeChild(t),s},vo=function(){return"undefined"!==typeof(new Image).crossOrigin},yo=function(){return"string"===typeof(new XMLHttpRequest).responseType},bo=function(e){var t=new Image,n=e.createElement("canvas"),r=n.getContext("2d");if(!r)return!1;t.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{r.drawImage(t,0,0),n.toDataURL()}catch(Dt){return!1}return!0},wo=function(e){return 0===e[0]&&255===e[1]&&0===e[2]&&255===e[3]},xo=function(e){var t=e.createElement("canvas"),n=100;t.width=n,t.height=n;var r=t.getContext("2d");if(!r)return Promise.reject(!1);r.fillStyle="rgb(0, 255, 0)",r.fillRect(0,0,n,n);var i=new Image,a=t.toDataURL();i.src=a;var o=Bo(n,n,0,0,i);return r.fillStyle="red",r.fillRect(0,0,n,n),Co(o).then(function(t){r.drawImage(t,0,0);var i=r.getImageData(0,0,n,n).data;r.fillStyle="red",r.fillRect(0,0,n,n);var o=e.createElement("div");return o.style.backgroundImage="url("+a+")",o.style.height=n+"px",wo(i)?Co(Bo(n,n,0,0,o)):Promise.reject(!1)}).then(function(e){return r.drawImage(e,0,0),wo(r.getImageData(0,0,n,n).data)}).catch(function(){return!1})},Bo=function(e,t,n,r,i){var a="http://www.w3.org/2000/svg",o=document.createElementNS(a,"svg"),s=document.createElementNS(a,"foreignObject");return o.setAttributeNS(null,"width",e.toString()),o.setAttributeNS(null,"height",t.toString()),s.setAttributeNS(null,"width","100%"),s.setAttributeNS(null,"height","100%"),s.setAttributeNS(null,"x",n.toString()),s.setAttributeNS(null,"y",r.toString()),s.setAttributeNS(null,"externalResourcesRequired","true"),o.appendChild(s),s.appendChild(i),o},Co=function(e){return new Promise(function(t,n){var r=new Image;r.onload=function(){return t(r)},r.onerror=n,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(e))})},No={get SUPPORT_RANGE_BOUNDS(){var e=go(document);return Object.defineProperty(No,"SUPPORT_RANGE_BOUNDS",{value:e}),e},get SUPPORT_WORD_BREAKING(){var e=No.SUPPORT_RANGE_BOUNDS&&mo(document);return Object.defineProperty(No,"SUPPORT_WORD_BREAKING",{value:e}),e},get SUPPORT_SVG_DRAWING(){var e=bo(document);return Object.defineProperty(No,"SUPPORT_SVG_DRAWING",{value:e}),e},get SUPPORT_FOREIGNOBJECT_DRAWING(){var e="function"===typeof Array.from&&"function"===typeof window.fetch?xo(document):Promise.resolve(!1);return Object.defineProperty(No,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:e}),e},get SUPPORT_CORS_IMAGES(){var e=vo();return Object.defineProperty(No,"SUPPORT_CORS_IMAGES",{value:e}),e},get SUPPORT_RESPONSE_TYPE(){var e=yo();return Object.defineProperty(No,"SUPPORT_RESPONSE_TYPE",{value:e}),e},get SUPPORT_CORS_XHR(){var e="withCredentials"in new XMLHttpRequest;return Object.defineProperty(No,"SUPPORT_CORS_XHR",{value:e}),e},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var e=!("undefined"===typeof Intl||!Intl.Segmenter);return Object.defineProperty(No,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:e}),e}},ko=function(){function e(e,t){this.text=e,this.bounds=t}return e}(),_o=function(e,t,n,r){var i=jo(t,n),a=[],s=0;return i.forEach(function(t){if(n.textDecorationLine.length||t.trim().length>0)if(No.SUPPORT_RANGE_BOUNDS){var i=So(r,s,t.length).getClientRects();if(i.length>1){var l=Fo(t),c=0;l.forEach(function(t){a.push(new ko(t,o.fromDOMRectList(e,So(r,c+s,t.length).getClientRects()))),c+=t.length})}else a.push(new ko(t,o.fromDOMRectList(e,i)))}else{var u=r.splitText(t.length);a.push(new ko(t,Eo(e,r))),r=u}else No.SUPPORT_RANGE_BOUNDS||(r=r.splitText(t.length));s+=t.length}),a},Eo=function(e,t){var n=t.ownerDocument;if(n){var r=n.createElement("html2canvaswrapper");r.appendChild(t.cloneNode(!0));var i=t.parentNode;if(i){i.replaceChild(r,t);var a=s(e,r);return r.firstChild&&i.replaceChild(r.firstChild,r),a}}return o.EMPTY},So=function(e,t,n){var r=e.ownerDocument;if(!r)throw new Error("Node has no owner document");var i=r.createRange();return i.setStart(e,t),i.setEnd(e,t+n),i},Fo=function(e){if(No.SUPPORT_NATIVE_TEXT_SEGMENTATION){var t=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(t.segment(e)).map(function(e){return e.segment})}return po(e)},Io=function(e,t){if(No.SUPPORT_NATIVE_TEXT_SEGMENTATION){var n=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(n.segment(e)).map(function(e){return e.segment})}return Oo(e,t)},jo=function(e,t){return 0!==t.letterSpacing?Fo(e):Io(e,t)},Uo=[32,160,4961,65792,65793,4153,4241],Oo=function(e,t){for(var n,r=He(e,{lineBreak:t.lineBreak,wordBreak:"break-word"===t.overflowWrap?"break-word":t.wordBreak}),i=[],a=function(){if(n.value){var e=n.value.slice(),t=c(e),r="";t.forEach(function(e){-1===Uo.indexOf(e)?r+=u(e):(r.length&&i.push(r),i.push(u(e)),r="")}),r.length&&i.push(r)}};!(n=r.next()).done;)a();return i},Po=function(){function e(e,t,n){this.text=Lo(t.data,n.textTransform),this.textBounds=_o(e,this.text,n,t)}return e}(),Lo=function(e,t){switch(t){case 1:return e.toLowerCase();case 3:return e.replace(Do,To);case 2:return e.toUpperCase();default:return e}},Do=/(^|\s|:|-|\(|\))([a-z])/g,To=function(e,t,n){return e.length>0?t+n.toUpperCase():e},Mo=function(e){function n(t,n){var r=e.call(this,t,n)||this;return r.src=n.currentSrc||n.src,r.intrinsicWidth=n.naturalWidth,r.intrinsicHeight=n.naturalHeight,r.context.cache.addImage(r.src),r}return t(n,e),n}(xa),Qo=function(e){function n(t,n){var r=e.call(this,t,n)||this;return r.canvas=n,r.intrinsicWidth=n.width,r.intrinsicHeight=n.height,r}return t(n,e),n}(xa),Ro=function(e){function n(t,n){var r=e.call(this,t,n)||this,i=new XMLSerializer,a=s(t,n);return n.setAttribute("width",a.width+"px"),n.setAttribute("height",a.height+"px"),r.svg="data:image/svg+xml,"+encodeURIComponent(i.serializeToString(n)),r.intrinsicWidth=n.width.baseVal.value,r.intrinsicHeight=n.height.baseVal.value,r.context.cache.addImage(r.svg),r}return t(n,e),n}(xa),Ho=function(e){function n(t,n){var r=e.call(this,t,n)||this;return r.value=n.value,r}return t(n,e),n}(xa),zo=function(e){function n(t,n){var r=e.call(this,t,n)||this;return r.start=n.start,r.reversed="boolean"===typeof n.reversed&&!0===n.reversed,r}return t(n,e),n}(xa),Ko=[{type:15,flags:0,unit:"px",number:3}],Wo=[{type:16,flags:0,number:50}],Vo=function(e){return e.width>e.height?new o(e.left+(e.width-e.height)/2,e.top,e.height,e.height):e.width<e.height?new o(e.left,e.top+(e.height-e.width)/2,e.width,e.width):e},Go=function(e){var t=e.type===Yo?new Array(e.value.length+1).join("\u2022"):e.value;return 0===t.length?e.placeholder||"":t},qo="checkbox",Xo="radio",Yo="password",Jo=707406591,Zo=function(e){function n(t,n){var r=e.call(this,t,n)||this;switch(r.type=n.type.toLowerCase(),r.checked=n.checked,r.value=Go(n),r.type!==qo&&r.type!==Xo||(r.styles.backgroundColor=3739148031,r.styles.borderTopColor=r.styles.borderRightColor=r.styles.borderBottomColor=r.styles.borderLeftColor=2779096575,r.styles.borderTopWidth=r.styles.borderRightWidth=r.styles.borderBottomWidth=r.styles.borderLeftWidth=1,r.styles.borderTopStyle=r.styles.borderRightStyle=r.styles.borderBottomStyle=r.styles.borderLeftStyle=1,r.styles.backgroundClip=[0],r.styles.backgroundOrigin=[0],r.bounds=Vo(r.bounds)),r.type){case qo:r.styles.borderTopRightRadius=r.styles.borderTopLeftRadius=r.styles.borderBottomRightRadius=r.styles.borderBottomLeftRadius=Ko;break;case Xo:r.styles.borderTopRightRadius=r.styles.borderTopLeftRadius=r.styles.borderBottomRightRadius=r.styles.borderBottomLeftRadius=Wo}return r}return t(n,e),n}(xa),$o=function(e){function n(t,n){var r=e.call(this,t,n)||this,i=n.options[n.selectedIndex||0];return r.value=i&&i.text||"",r}return t(n,e),n}(xa),es=function(e){function n(t,n){var r=e.call(this,t,n)||this;return r.value=n.value,r}return t(n,e),n}(xa),ts=function(e){function n(t,n){var r=e.call(this,t,n)||this;r.src=n.src,r.width=parseInt(n.width,10)||0,r.height=parseInt(n.height,10)||0,r.backgroundColor=r.styles.backgroundColor;try{if(n.contentWindow&&n.contentWindow.document&&n.contentWindow.document.documentElement){r.tree=as(t,n.contentWindow.document.documentElement);var i=n.contentWindow.document.documentElement?Ar(t,getComputedStyle(n.contentWindow.document.documentElement).backgroundColor):dr.TRANSPARENT,a=n.contentWindow.document.body?Ar(t,getComputedStyle(n.contentWindow.document.body).backgroundColor):dr.TRANSPARENT;r.backgroundColor=rr(i)?rr(a)?r.styles.backgroundColor:a:i}}catch(Dt){}return r}return t(n,e),n}(xa),ns=["OL","UL","MENU"],rs=function(e,t,n,r){for(var i=t.firstChild,a=void 0;i;i=a)if(a=i.nextSibling,ls(i)&&i.data.trim().length>0)n.textNodes.push(new Po(e,i,n.styles));else if(cs(i))if(ks(i)&&i.assignedNodes)i.assignedNodes().forEach(function(t){return rs(e,t,n,r)});else{var o=is(e,i);o.styles.isVisible()&&(os(i,o,r)?o.flags|=4:ss(o.styles)&&(o.flags|=2),-1!==ns.indexOf(i.tagName)&&(o.flags|=8),n.elements.push(o),i.slot,i.shadowRoot?rs(e,i.shadowRoot,o,r):Cs(i)||gs(i)||Ns(i)||rs(e,i,o,r))}},is=function(e,t){return bs(t)?new Mo(e,t):vs(t)?new Qo(e,t):gs(t)?new Ro(e,t):ds(t)?new Ho(e,t):hs(t)?new zo(e,t):fs(t)?new Zo(e,t):Ns(t)?new $o(e,t):Cs(t)?new es(e,t):ws(t)?new ts(e,t):new xa(e,t)},as=function(e,t){var n=is(e,t);return n.flags|=4,rs(e,t,n,n),n},os=function(e,t,n){return t.styles.isPositionedWithZIndex()||t.styles.opacity<1||t.styles.isTransformed()||ms(e)&&n.styles.isTransparent()},ss=function(e){return e.isPositioned()||e.isFloating()},ls=function(e){return e.nodeType===Node.TEXT_NODE},cs=function(e){return e.nodeType===Node.ELEMENT_NODE},us=function(e){return cs(e)&&"undefined"!==typeof e.style&&!As(e)},As=function(e){return"object"===typeof e.className},ds=function(e){return"LI"===e.tagName},hs=function(e){return"OL"===e.tagName},fs=function(e){return"INPUT"===e.tagName},ps=function(e){return"HTML"===e.tagName},gs=function(e){return"svg"===e.tagName},ms=function(e){return"BODY"===e.tagName},vs=function(e){return"CANVAS"===e.tagName},ys=function(e){return"VIDEO"===e.tagName},bs=function(e){return"IMG"===e.tagName},ws=function(e){return"IFRAME"===e.tagName},xs=function(e){return"STYLE"===e.tagName},Bs=function(e){return"SCRIPT"===e.tagName},Cs=function(e){return"TEXTAREA"===e.tagName},Ns=function(e){return"SELECT"===e.tagName},ks=function(e){return"SLOT"===e.tagName},_s=function(e){return e.tagName.indexOf("-")>0},Es=function(){function e(){this.counters={}}return e.prototype.getCounterValue=function(e){var t=this.counters[e];return t&&t.length?t[t.length-1]:1},e.prototype.getCounterValues=function(e){var t=this.counters[e];return t||[]},e.prototype.pop=function(e){var t=this;e.forEach(function(e){return t.counters[e].pop()})},e.prototype.parse=function(e){var t=this,n=e.counterIncrement,r=e.counterReset,i=!0;null!==n&&n.forEach(function(e){var n=t.counters[e.counter];n&&0!==e.increment&&(i=!1,n.length||n.push(1),n[Math.max(0,n.length-1)]+=e.increment)});var a=[];return i&&r.forEach(function(e){var n=t.counters[e.counter];a.push(e.counter),n||(n=t.counters[e.counter]=[]),n.push(e.reset)}),a},e}(),Ss={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},Fs={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["\u0554","\u0553","\u0552","\u0551","\u0550","\u054f","\u054e","\u054d","\u054c","\u054b","\u054a","\u0549","\u0548","\u0547","\u0546","\u0545","\u0544","\u0543","\u0542","\u0541","\u0540","\u053f","\u053e","\u053d","\u053c","\u053b","\u053a","\u0539","\u0538","\u0537","\u0536","\u0535","\u0534","\u0533","\u0532","\u0531"]},Is={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["\u05d9\u05f3","\u05d8\u05f3","\u05d7\u05f3","\u05d6\u05f3","\u05d5\u05f3","\u05d4\u05f3","\u05d3\u05f3","\u05d2\u05f3","\u05d1\u05f3","\u05d0\u05f3","\u05ea","\u05e9","\u05e8","\u05e7","\u05e6","\u05e4","\u05e2","\u05e1","\u05e0","\u05de","\u05dc","\u05db","\u05d9\u05d8","\u05d9\u05d7","\u05d9\u05d6","\u05d8\u05d6","\u05d8\u05d5","\u05d9","\u05d8","\u05d7","\u05d6","\u05d5","\u05d4","\u05d3","\u05d2","\u05d1","\u05d0"]},js={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["\u10f5","\u10f0","\u10ef","\u10f4","\u10ee","\u10ed","\u10ec","\u10eb","\u10ea","\u10e9","\u10e8","\u10e7","\u10e6","\u10e5","\u10e4","\u10f3","\u10e2","\u10e1","\u10e0","\u10df","\u10de","\u10dd","\u10f2","\u10dc","\u10db","\u10da","\u10d9","\u10d8","\u10d7","\u10f1","\u10d6","\u10d5","\u10d4","\u10d3","\u10d2","\u10d1","\u10d0"]},Us=function(e,t,n,r,i,a){return e<t||e>n?Vs(e,i,a.length>0):r.integers.reduce(function(t,n,i){for(;e>=n;)e-=n,t+=r.values[i];return t},"")+a},Os=function(e,t,n,r){var i="";do{n||e--,i=r(e)+i,e/=t}while(e*t>=t);return i},Ps=function(e,t,n,r,i){var a=n-t+1;return(e<0?"-":"")+(Os(Math.abs(e),a,r,function(e){return u(Math.floor(e%a)+t)})+i)},Ls=function(e,t,n){void 0===n&&(n=". ");var r=t.length;return Os(Math.abs(e),r,!1,function(e){return t[Math.floor(e%r)]})+n},Ds=1,Ts=2,Ms=4,Qs=8,Rs=function(e,t,n,r,i,a){if(e<-9999||e>9999)return Vs(e,4,i.length>0);var o=Math.abs(e),s=i;if(0===o)return t[0]+s;for(var l=0;o>0&&l<=4;l++){var c=o%10;0===c&&ia(a,Ds)&&""!==s?s=t[c]+s:c>1||1===c&&0===l||1===c&&1===l&&ia(a,Ts)||1===c&&1===l&&ia(a,Ms)&&e>100||1===c&&l>1&&ia(a,Qs)?s=t[c]+(l>0?n[l-1]:"")+s:1===c&&l>0&&(s=n[l-1]+s),o=Math.floor(o/10)}return(e<0?r:"")+s},Hs="\u5341\u767e\u5343\u842c",zs="\u62fe\u4f70\u4edf\u842c",Ks="\u30de\u30a4\u30ca\u30b9",Ws="\ub9c8\uc774\ub108\uc2a4",Vs=function(e,t,n){var r=n?". ":"",i=n?"\u3001":"",a=n?", ":"",o=n?" ":"";switch(t){case 0:return"\u2022"+o;case 1:return"\u25e6"+o;case 2:return"\u25fe"+o;case 5:var s=Ps(e,48,57,!0,r);return s.length<4?"0"+s:s;case 4:return Ls(e,"\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d",i);case 6:return Us(e,1,3999,Ss,3,r).toLowerCase();case 7:return Us(e,1,3999,Ss,3,r);case 8:return Ps(e,945,969,!1,r);case 9:return Ps(e,97,122,!1,r);case 10:return Ps(e,65,90,!1,r);case 11:return Ps(e,1632,1641,!0,r);case 12:case 49:return Us(e,1,9999,Fs,3,r);case 35:return Us(e,1,9999,Fs,3,r).toLowerCase();case 13:return Ps(e,2534,2543,!0,r);case 14:case 30:return Ps(e,6112,6121,!0,r);case 15:return Ls(e,"\u5b50\u4e11\u5bc5\u536f\u8fb0\u5df3\u5348\u672a\u7533\u9149\u620c\u4ea5",i);case 16:return Ls(e,"\u7532\u4e59\u4e19\u4e01\u620a\u5df1\u5e9a\u8f9b\u58ec\u7678",i);case 17:case 48:return Rs(e,"\u96f6\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d",Hs,"\u8ca0",i,Ts|Ms|Qs);case 47:return Rs(e,"\u96f6\u58f9\u8cb3\u53c3\u8086\u4f0d\u9678\u67d2\u634c\u7396",zs,"\u8ca0",i,Ds|Ts|Ms|Qs);case 42:return Rs(e,"\u96f6\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d",Hs,"\u8d1f",i,Ts|Ms|Qs);case 41:return Rs(e,"\u96f6\u58f9\u8d30\u53c1\u8086\u4f0d\u9646\u67d2\u634c\u7396",zs,"\u8d1f",i,Ds|Ts|Ms|Qs);case 26:return Rs(e,"\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u5341\u767e\u5343\u4e07",Ks,i,0);case 25:return Rs(e,"\u96f6\u58f1\u5f10\u53c2\u56db\u4f0d\u516d\u4e03\u516b\u4e5d","\u62fe\u767e\u5343\u4e07",Ks,i,Ds|Ts|Ms);case 31:return Rs(e,"\uc601\uc77c\uc774\uc0bc\uc0ac\uc624\uc721\uce60\ud314\uad6c","\uc2ed\ubc31\ucc9c\ub9cc",Ws,a,Ds|Ts|Ms);case 33:return Rs(e,"\u96f6\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u5341\u767e\u5343\u842c",Ws,a,0);case 32:return Rs(e,"\u96f6\u58f9\u8cb3\u53c3\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u62fe\u767e\u5343",Ws,a,Ds|Ts|Ms);case 18:return Ps(e,2406,2415,!0,r);case 20:return Us(e,1,19999,js,3,r);case 21:return Ps(e,2790,2799,!0,r);case 22:return Ps(e,2662,2671,!0,r);case 22:return Us(e,1,10999,Is,3,r);case 23:return Ls(e,"\u3042\u3044\u3046\u3048\u304a\u304b\u304d\u304f\u3051\u3053\u3055\u3057\u3059\u305b\u305d\u305f\u3061\u3064\u3066\u3068\u306a\u306b\u306c\u306d\u306e\u306f\u3072\u3075\u3078\u307b\u307e\u307f\u3080\u3081\u3082\u3084\u3086\u3088\u3089\u308a\u308b\u308c\u308d\u308f\u3090\u3091\u3092\u3093");case 24:return Ls(e,"\u3044\u308d\u306f\u306b\u307b\u3078\u3068\u3061\u308a\u306c\u308b\u3092\u308f\u304b\u3088\u305f\u308c\u305d\u3064\u306d\u306a\u3089\u3080\u3046\u3090\u306e\u304a\u304f\u3084\u307e\u3051\u3075\u3053\u3048\u3066\u3042\u3055\u304d\u3086\u3081\u307f\u3057\u3091\u3072\u3082\u305b\u3059");case 27:return Ps(e,3302,3311,!0,r);case 28:return Ls(e,"\u30a2\u30a4\u30a6\u30a8\u30aa\u30ab\u30ad\u30af\u30b1\u30b3\u30b5\u30b7\u30b9\u30bb\u30bd\u30bf\u30c1\u30c4\u30c6\u30c8\u30ca\u30cb\u30cc\u30cd\u30ce\u30cf\u30d2\u30d5\u30d8\u30db\u30de\u30df\u30e0\u30e1\u30e2\u30e4\u30e6\u30e8\u30e9\u30ea\u30eb\u30ec\u30ed\u30ef\u30f0\u30f1\u30f2\u30f3",i);case 29:return Ls(e,"\u30a4\u30ed\u30cf\u30cb\u30db\u30d8\u30c8\u30c1\u30ea\u30cc\u30eb\u30f2\u30ef\u30ab\u30e8\u30bf\u30ec\u30bd\u30c4\u30cd\u30ca\u30e9\u30e0\u30a6\u30f0\u30ce\u30aa\u30af\u30e4\u30de\u30b1\u30d5\u30b3\u30a8\u30c6\u30a2\u30b5\u30ad\u30e6\u30e1\u30df\u30b7\u30f1\u30d2\u30e2\u30bb\u30b9",i);case 34:return Ps(e,3792,3801,!0,r);case 37:return Ps(e,6160,6169,!0,r);case 38:return Ps(e,4160,4169,!0,r);case 39:return Ps(e,2918,2927,!0,r);case 40:return Ps(e,1776,1785,!0,r);case 43:return Ps(e,3046,3055,!0,r);case 44:return Ps(e,3174,3183,!0,r);case 45:return Ps(e,3664,3673,!0,r);case 46:return Ps(e,3872,3881,!0,r);default:return Ps(e,48,57,!0,r)}},Gs="data-html2canvas-ignore",qs=function(){function e(e,t,n){if(this.context=e,this.options=n,this.scrolledElements=[],this.referenceElement=t,this.counters=new Es,this.quoteDepth=0,!t.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(t.ownerDocument.documentElement,!1)}return e.prototype.toIFrame=function(e,t){var n=this,a=Ys(e,t);if(!a.contentWindow)return Promise.reject("Unable to find iframe window");var o=e.defaultView.pageXOffset,s=e.defaultView.pageYOffset,l=a.contentWindow,c=l.document,u=$s(a).then(function(){return r(n,void 0,void 0,function(){var e,n;return i(this,function(r){switch(r.label){case 0:return this.scrolledElements.forEach(il),l&&(l.scrollTo(t.left,t.top),!/(iPad|iPhone|iPod)/g.test(navigator.userAgent)||l.scrollY===t.top&&l.scrollX===t.left||(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(l.scrollX-t.left,l.scrollY-t.top,0,0))),e=this.options.onclone,"undefined"===typeof(n=this.clonedReferenceElement)?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:c.fonts&&c.fonts.ready?[4,c.fonts.ready]:[3,2];case 1:r.sent(),r.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,Zs(c)]:[3,4];case 3:r.sent(),r.label=4;case 4:return"function"===typeof e?[2,Promise.resolve().then(function(){return e(c,n)}).then(function(){return a})]:[2,a]}})})});return c.open(),c.write(nl(document.doctype)+"<html></html>"),rl(this.referenceElement.ownerDocument,o,s),c.replaceChild(c.adoptNode(this.documentElement),c.documentElement),c.close(),u},e.prototype.createElementClone=function(e){if(wa(e,2),vs(e))return this.createCanvasClone(e);if(ys(e))return this.createVideoClone(e);if(xs(e))return this.createStyleClone(e);var t=e.cloneNode(!1);return bs(t)&&(bs(e)&&e.currentSrc&&e.currentSrc!==e.src&&(t.src=e.currentSrc,t.srcset=""),"lazy"===t.loading&&(t.loading="eager")),_s(t)?this.createCustomElementClone(t):t},e.prototype.createCustomElementClone=function(e){var t=document.createElement("html2canvascustomelement");return tl(e.style,t),t},e.prototype.createStyleClone=function(e){try{var t=e.sheet;if(t&&t.cssRules){var n=[].slice.call(t.cssRules,0).reduce(function(e,t){return t&&"string"===typeof t.cssText?e+t.cssText:e},""),r=e.cloneNode(!1);return r.textContent=n,r}}catch(Dt){if(this.context.logger.error("Unable to access cssRules property",Dt),"SecurityError"!==Dt.name)throw Dt}return e.cloneNode(!1)},e.prototype.createCanvasClone=function(e){var t;if(this.options.inlineImages&&e.ownerDocument){var n=e.ownerDocument.createElement("img");try{return n.src=e.toDataURL(),n}catch(Dt){this.context.logger.info("Unable to inline canvas contents, canvas is tainted",e)}}var r=e.cloneNode(!1);try{r.width=e.width,r.height=e.height;var i=e.getContext("2d"),a=r.getContext("2d");if(a)if(!this.options.allowTaint&&i)a.putImageData(i.getImageData(0,0,e.width,e.height),0,0);else{var o=null!==(t=e.getContext("webgl2"))&&void 0!==t?t:e.getContext("webgl");if(o){var s=o.getContextAttributes();!1===(null===s||void 0===s?void 0:s.preserveDrawingBuffer)&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",e)}a.drawImage(e,0,0)}return r}catch(Dt){this.context.logger.info("Unable to clone canvas as it is tainted",e)}return r},e.prototype.createVideoClone=function(e){var t=e.ownerDocument.createElement("canvas");t.width=e.offsetWidth,t.height=e.offsetHeight;var n=t.getContext("2d");try{return n&&(n.drawImage(e,0,0,t.width,t.height),this.options.allowTaint||n.getImageData(0,0,t.width,t.height)),t}catch(Dt){this.context.logger.info("Unable to clone video as it is tainted",e)}var r=e.ownerDocument.createElement("canvas");return r.width=e.offsetWidth,r.height=e.offsetHeight,r},e.prototype.appendChildNode=function(e,t,n){cs(t)&&(Bs(t)||t.hasAttribute(Gs)||"function"===typeof this.options.ignoreElements&&this.options.ignoreElements(t))||this.options.copyStyles&&cs(t)&&xs(t)||e.appendChild(this.cloneNode(t,n))},e.prototype.cloneChildNodes=function(e,t,n){for(var r=this,i=e.shadowRoot?e.shadowRoot.firstChild:e.firstChild;i;i=i.nextSibling)if(cs(i)&&ks(i)&&"function"===typeof i.assignedNodes){var a=i.assignedNodes();a.length&&a.forEach(function(e){return r.appendChildNode(t,e,n)})}else this.appendChildNode(t,i,n)},e.prototype.cloneNode=function(e,t){if(ls(e))return document.createTextNode(e.data);if(!e.ownerDocument)return e.cloneNode(!1);var n=e.ownerDocument.defaultView;if(n&&cs(e)&&(us(e)||As(e))){var r=this.createElementClone(e);r.style.transitionProperty="none";var i=n.getComputedStyle(e),a=n.getComputedStyle(e,":before"),o=n.getComputedStyle(e,":after");this.referenceElement===e&&us(r)&&(this.clonedReferenceElement=r),ms(r)&&ul(r);var s=this.counters.parse(new ma(this.context,i)),l=this.resolvePseudoContent(e,r,a,Wa.BEFORE);_s(e)&&(t=!0),ys(e)||this.cloneChildNodes(e,r,t),l&&r.insertBefore(l,r.firstChild);var c=this.resolvePseudoContent(e,r,o,Wa.AFTER);return c&&r.appendChild(c),this.counters.pop(s),(i&&(this.options.copyStyles||As(e))&&!ws(e)||t)&&tl(i,r),0===e.scrollTop&&0===e.scrollLeft||this.scrolledElements.push([r,e.scrollLeft,e.scrollTop]),(Cs(e)||Ns(e))&&(Cs(r)||Ns(r))&&(r.value=e.value),r}return e.cloneNode(!1)},e.prototype.resolvePseudoContent=function(e,t,n,r){var i=this;if(n){var a=n.content,o=t.ownerDocument;if(o&&a&&"none"!==a&&"-moz-alt-content"!==a&&"none"!==n.display){this.counters.parse(new ma(this.context,n));var s=new ga(this.context,n),l=o.createElement("html2canvaspseudoelement");tl(n,l),s.content.forEach(function(t){if(0===t.type)l.appendChild(o.createTextNode(t.value));else if(22===t.type){var n=o.createElement("img");n.src=t.value,n.style.opacity="1",l.appendChild(n)}else if(18===t.type){if("attr"===t.name){var r=t.values.filter(Un);r.length&&l.appendChild(o.createTextNode(e.getAttribute(r[0].value)||""))}else if("counter"===t.name){var a=t.values.filter(Dn),c=a[0],u=a[1];if(c&&Un(c)){var A=i.counters.getCounterValue(c.value),d=u&&Un(u)?Ci.parse(i.context,u.value):3;l.appendChild(o.createTextNode(Vs(A,d,!1)))}}else if("counters"===t.name){var h=t.values.filter(Dn),f=(c=h[0],h[1]);if(u=h[2],c&&Un(c)){var p=i.counters.getCounterValues(c.value),g=u&&Un(u)?Ci.parse(i.context,u.value):3,m=f&&0===f.type?f.value:"",v=p.map(function(e){return Vs(e,g,!1)}).join(m);l.appendChild(o.createTextNode(v))}}}else if(20===t.type)switch(t.value){case"open-quote":l.appendChild(o.createTextNode(ua(s.quotes,i.quoteDepth++,!0)));break;case"close-quote":l.appendChild(o.createTextNode(ua(s.quotes,--i.quoteDepth,!1)));break;default:l.appendChild(o.createTextNode(t.value))}}),l.className=sl+" "+ll;var c=r===Wa.BEFORE?" "+sl:" "+ll;return As(t)?t.className.baseValue+=c:t.className+=c,l}}},e.destroy=function(e){return!!e.parentNode&&(e.parentNode.removeChild(e),!0)},e}();!function(e){e[e.BEFORE=0]="BEFORE",e[e.AFTER=1]="AFTER"}(Wa||(Wa={}));var Xs,Ys=function(e,t){var n=e.createElement("iframe");return n.className="html2canvas-container",n.style.visibility="hidden",n.style.position="fixed",n.style.left="-10000px",n.style.top="0px",n.style.border="0",n.width=t.width.toString(),n.height=t.height.toString(),n.scrolling="no",n.setAttribute(Gs,"true"),e.body.appendChild(n),n},Js=function(e){return new Promise(function(t){e.complete?t():e.src?(e.onload=t,e.onerror=t):t()})},Zs=function(e){return Promise.all([].slice.call(e.images,0).map(Js))},$s=function(e){return new Promise(function(t,n){var r=e.contentWindow;if(!r)return n("No window assigned for iframe");var i=r.document;r.onload=e.onload=function(){r.onload=e.onload=null;var n=setInterval(function(){i.body.childNodes.length>0&&"complete"===i.readyState&&(clearInterval(n),t(e))},50)}})},el=["all","d","content"],tl=function(e,t){for(var n=e.length-1;n>=0;n--){var r=e.item(n);-1===el.indexOf(r)&&t.style.setProperty(r,e.getPropertyValue(r))}return t},nl=function(e){var t="";return e&&(t+="<!DOCTYPE ",e.name&&(t+=e.name),e.internalSubset&&(t+=e.internalSubset),e.publicId&&(t+='"'+e.publicId+'"'),e.systemId&&(t+='"'+e.systemId+'"'),t+=">"),t},rl=function(e,t,n){e&&e.defaultView&&(t!==e.defaultView.pageXOffset||n!==e.defaultView.pageYOffset)&&e.defaultView.scrollTo(t,n)},il=function(e){var t=e[0],n=e[1],r=e[2];t.scrollLeft=n,t.scrollTop=r},al=":before",ol=":after",sl="___html2canvas___pseudoelement_before",ll="___html2canvas___pseudoelement_after",cl='{\n    content: "" !important;\n    display: none !important;\n}',ul=function(e){Al(e,"."+sl+al+cl+"\n         ."+ll+ol+cl)},Al=function(e,t){var n=e.ownerDocument;if(n){var r=n.createElement("style");r.textContent=t,e.appendChild(r)}},dl=function(){function e(){}return e.getOrigin=function(t){var n=e._link;return n?(n.href=t,n.href=n.href,n.protocol+n.hostname+n.port):"about:blank"},e.isSameOrigin=function(t){return e.getOrigin(t)===e._origin},e.setContext=function(t){e._link=t.document.createElement("a"),e._origin=e.getOrigin(t.location.href)},e._origin="about:blank",e}(),hl=function(){function e(e,t){this.context=e,this._options=t,this._cache={}}return e.prototype.addImage=function(e){var t=Promise.resolve();return this.has(e)?t:bl(e)||ml(e)?((this._cache[e]=this.loadImage(e)).catch(function(){}),t):t},e.prototype.match=function(e){return this._cache[e]},e.prototype.loadImage=function(e){return r(this,void 0,void 0,function(){var t,n,r,a,o=this;return i(this,function(i){switch(i.label){case 0:return t=dl.isSameOrigin(e),n=!vl(e)&&!0===this._options.useCORS&&No.SUPPORT_CORS_IMAGES&&!t,r=!vl(e)&&!t&&!bl(e)&&"string"===typeof this._options.proxy&&No.SUPPORT_CORS_XHR&&!n,t||!1!==this._options.allowTaint||vl(e)||bl(e)||r||n?(a=e,r?[4,this.proxy(a)]:[3,2]):[2];case 1:a=i.sent(),i.label=2;case 2:return this.context.logger.debug("Added image "+e.substring(0,256)),[4,new Promise(function(e,t){var r=new Image;r.onload=function(){return e(r)},r.onerror=t,(yl(a)||n)&&(r.crossOrigin="anonymous"),r.src=a,!0===r.complete&&setTimeout(function(){return e(r)},500),o._options.imageTimeout>0&&setTimeout(function(){return t("Timed out ("+o._options.imageTimeout+"ms) loading image")},o._options.imageTimeout)})];case 3:return[2,i.sent()]}})})},e.prototype.has=function(e){return"undefined"!==typeof this._cache[e]},e.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},e.prototype.proxy=function(e){var t=this,n=this._options.proxy;if(!n)throw new Error("No proxy defined");var r=e.substring(0,256);return new Promise(function(i,a){var o=No.SUPPORT_RESPONSE_TYPE?"blob":"text",s=new XMLHttpRequest;s.onload=function(){if(200===s.status)if("text"===o)i(s.response);else{var e=new FileReader;e.addEventListener("load",function(){return i(e.result)},!1),e.addEventListener("error",function(e){return a(e)},!1),e.readAsDataURL(s.response)}else a("Failed to proxy resource "+r+" with status code "+s.status)},s.onerror=a;var l=n.indexOf("?")>-1?"&":"?";if(s.open("GET",""+n+l+"url="+encodeURIComponent(e)+"&responseType="+o),"text"!==o&&s instanceof XMLHttpRequest&&(s.responseType=o),t._options.imageTimeout){var c=t._options.imageTimeout;s.timeout=c,s.ontimeout=function(){return a("Timed out ("+c+"ms) proxying "+r)}}s.send()})},e}(),fl=/^data:image\/svg\+xml/i,pl=/^data:image\/.*;base64,/i,gl=/^data:image\/.*/i,ml=function(e){return No.SUPPORT_SVG_DRAWING||!wl(e)},vl=function(e){return gl.test(e)},yl=function(e){return pl.test(e)},bl=function(e){return"blob"===e.substr(0,4)},wl=function(e){return"svg"===e.substr(-3).toLowerCase()||fl.test(e)},xl=function(){function e(e,t){this.type=0,this.x=e,this.y=t}return e.prototype.add=function(t,n){return new e(this.x+t,this.y+n)},e}(),Bl=function(e,t,n){return new xl(e.x+(t.x-e.x)*n,e.y+(t.y-e.y)*n)},Cl=function(){function e(e,t,n,r){this.type=1,this.start=e,this.startControl=t,this.endControl=n,this.end=r}return e.prototype.subdivide=function(t,n){var r=Bl(this.start,this.startControl,t),i=Bl(this.startControl,this.endControl,t),a=Bl(this.endControl,this.end,t),o=Bl(r,i,t),s=Bl(i,a,t),l=Bl(o,s,t);return n?new e(this.start,r,o,l):new e(l,s,a,this.end)},e.prototype.add=function(t,n){return new e(this.start.add(t,n),this.startControl.add(t,n),this.endControl.add(t,n),this.end.add(t,n))},e.prototype.reverse=function(){return new e(this.end,this.endControl,this.startControl,this.start)},e}(),Nl=function(e){return 1===e.type},kl=function(){function e(e){var t=e.styles,n=e.bounds,r=Vn(t.borderTopLeftRadius,n.width,n.height),i=r[0],a=r[1],o=Vn(t.borderTopRightRadius,n.width,n.height),s=o[0],l=o[1],c=Vn(t.borderBottomRightRadius,n.width,n.height),u=c[0],A=c[1],d=Vn(t.borderBottomLeftRadius,n.width,n.height),h=d[0],f=d[1],p=[];p.push((i+s)/n.width),p.push((h+u)/n.width),p.push((a+f)/n.height),p.push((l+A)/n.height);var g=Math.max.apply(Math,p);g>1&&(i/=g,a/=g,s/=g,l/=g,u/=g,A/=g,h/=g,f/=g);var m=n.width-s,v=n.height-A,y=n.width-u,b=n.height-f,w=t.borderTopWidth,x=t.borderRightWidth,B=t.borderBottomWidth,C=t.borderLeftWidth,N=Gn(t.paddingTop,e.bounds.width),k=Gn(t.paddingRight,e.bounds.width),_=Gn(t.paddingBottom,e.bounds.width),E=Gn(t.paddingLeft,e.bounds.width);this.topLeftBorderDoubleOuterBox=i>0||a>0?_l(n.left+C/3,n.top+w/3,i-C/3,a-w/3,Xs.TOP_LEFT):new xl(n.left+C/3,n.top+w/3),this.topRightBorderDoubleOuterBox=i>0||a>0?_l(n.left+m,n.top+w/3,s-x/3,l-w/3,Xs.TOP_RIGHT):new xl(n.left+n.width-x/3,n.top+w/3),this.bottomRightBorderDoubleOuterBox=u>0||A>0?_l(n.left+y,n.top+v,u-x/3,A-B/3,Xs.BOTTOM_RIGHT):new xl(n.left+n.width-x/3,n.top+n.height-B/3),this.bottomLeftBorderDoubleOuterBox=h>0||f>0?_l(n.left+C/3,n.top+b,h-C/3,f-B/3,Xs.BOTTOM_LEFT):new xl(n.left+C/3,n.top+n.height-B/3),this.topLeftBorderDoubleInnerBox=i>0||a>0?_l(n.left+2*C/3,n.top+2*w/3,i-2*C/3,a-2*w/3,Xs.TOP_LEFT):new xl(n.left+2*C/3,n.top+2*w/3),this.topRightBorderDoubleInnerBox=i>0||a>0?_l(n.left+m,n.top+2*w/3,s-2*x/3,l-2*w/3,Xs.TOP_RIGHT):new xl(n.left+n.width-2*x/3,n.top+2*w/3),this.bottomRightBorderDoubleInnerBox=u>0||A>0?_l(n.left+y,n.top+v,u-2*x/3,A-2*B/3,Xs.BOTTOM_RIGHT):new xl(n.left+n.width-2*x/3,n.top+n.height-2*B/3),this.bottomLeftBorderDoubleInnerBox=h>0||f>0?_l(n.left+2*C/3,n.top+b,h-2*C/3,f-2*B/3,Xs.BOTTOM_LEFT):new xl(n.left+2*C/3,n.top+n.height-2*B/3),this.topLeftBorderStroke=i>0||a>0?_l(n.left+C/2,n.top+w/2,i-C/2,a-w/2,Xs.TOP_LEFT):new xl(n.left+C/2,n.top+w/2),this.topRightBorderStroke=i>0||a>0?_l(n.left+m,n.top+w/2,s-x/2,l-w/2,Xs.TOP_RIGHT):new xl(n.left+n.width-x/2,n.top+w/2),this.bottomRightBorderStroke=u>0||A>0?_l(n.left+y,n.top+v,u-x/2,A-B/2,Xs.BOTTOM_RIGHT):new xl(n.left+n.width-x/2,n.top+n.height-B/2),this.bottomLeftBorderStroke=h>0||f>0?_l(n.left+C/2,n.top+b,h-C/2,f-B/2,Xs.BOTTOM_LEFT):new xl(n.left+C/2,n.top+n.height-B/2),this.topLeftBorderBox=i>0||a>0?_l(n.left,n.top,i,a,Xs.TOP_LEFT):new xl(n.left,n.top),this.topRightBorderBox=s>0||l>0?_l(n.left+m,n.top,s,l,Xs.TOP_RIGHT):new xl(n.left+n.width,n.top),this.bottomRightBorderBox=u>0||A>0?_l(n.left+y,n.top+v,u,A,Xs.BOTTOM_RIGHT):new xl(n.left+n.width,n.top+n.height),this.bottomLeftBorderBox=h>0||f>0?_l(n.left,n.top+b,h,f,Xs.BOTTOM_LEFT):new xl(n.left,n.top+n.height),this.topLeftPaddingBox=i>0||a>0?_l(n.left+C,n.top+w,Math.max(0,i-C),Math.max(0,a-w),Xs.TOP_LEFT):new xl(n.left+C,n.top+w),this.topRightPaddingBox=s>0||l>0?_l(n.left+Math.min(m,n.width-x),n.top+w,m>n.width+x?0:Math.max(0,s-x),Math.max(0,l-w),Xs.TOP_RIGHT):new xl(n.left+n.width-x,n.top+w),this.bottomRightPaddingBox=u>0||A>0?_l(n.left+Math.min(y,n.width-C),n.top+Math.min(v,n.height-B),Math.max(0,u-x),Math.max(0,A-B),Xs.BOTTOM_RIGHT):new xl(n.left+n.width-x,n.top+n.height-B),this.bottomLeftPaddingBox=h>0||f>0?_l(n.left+C,n.top+Math.min(b,n.height-B),Math.max(0,h-C),Math.max(0,f-B),Xs.BOTTOM_LEFT):new xl(n.left+C,n.top+n.height-B),this.topLeftContentBox=i>0||a>0?_l(n.left+C+E,n.top+w+N,Math.max(0,i-(C+E)),Math.max(0,a-(w+N)),Xs.TOP_LEFT):new xl(n.left+C+E,n.top+w+N),this.topRightContentBox=s>0||l>0?_l(n.left+Math.min(m,n.width+C+E),n.top+w+N,m>n.width+C+E?0:s-C+E,l-(w+N),Xs.TOP_RIGHT):new xl(n.left+n.width-(x+k),n.top+w+N),this.bottomRightContentBox=u>0||A>0?_l(n.left+Math.min(y,n.width-(C+E)),n.top+Math.min(v,n.height+w+N),Math.max(0,u-(x+k)),A-(B+_),Xs.BOTTOM_RIGHT):new xl(n.left+n.width-(x+k),n.top+n.height-(B+_)),this.bottomLeftContentBox=h>0||f>0?_l(n.left+C+E,n.top+b,Math.max(0,h-(C+E)),f-(B+_),Xs.BOTTOM_LEFT):new xl(n.left+C+E,n.top+n.height-(B+_))}return e}();!function(e){e[e.TOP_LEFT=0]="TOP_LEFT",e[e.TOP_RIGHT=1]="TOP_RIGHT",e[e.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",e[e.BOTTOM_LEFT=3]="BOTTOM_LEFT"}(Xs||(Xs={}));var _l=function(e,t,n,r,i){var a=(Math.sqrt(2)-1)/3*4,o=n*a,s=r*a,l=e+n,c=t+r;switch(i){case Xs.TOP_LEFT:return new Cl(new xl(e,c),new xl(e,c-s),new xl(l-o,t),new xl(l,t));case Xs.TOP_RIGHT:return new Cl(new xl(e,t),new xl(e+o,t),new xl(l,c-s),new xl(l,c));case Xs.BOTTOM_RIGHT:return new Cl(new xl(l,t),new xl(l,t+s),new xl(e+o,c),new xl(e,c));case Xs.BOTTOM_LEFT:default:return new Cl(new xl(l,c),new xl(l-o,c),new xl(e,t+s),new xl(e,t))}},El=function(e){return[e.topLeftBorderBox,e.topRightBorderBox,e.bottomRightBorderBox,e.bottomLeftBorderBox]},Sl=function(e){return[e.topLeftContentBox,e.topRightContentBox,e.bottomRightContentBox,e.bottomLeftContentBox]},Fl=function(e){return[e.topLeftPaddingBox,e.topRightPaddingBox,e.bottomRightPaddingBox,e.bottomLeftPaddingBox]},Il=function(){function e(e,t,n){this.offsetX=e,this.offsetY=t,this.matrix=n,this.type=0,this.target=6}return e}(),jl=function(){function e(e,t){this.path=e,this.target=t,this.type=1}return e}(),Ul=function(){function e(e){this.opacity=e,this.type=2,this.target=6}return e}(),Ol=function(e){return 0===e.type},Pl=function(e){return 1===e.type},Ll=function(e){return 2===e.type},Dl=function(e,t){return e.length===t.length&&e.some(function(e,n){return e===t[n]})},Tl=function(e,t,n,r,i){return e.map(function(e,a){switch(a){case 0:return e.add(t,n);case 1:return e.add(t+r,n);case 2:return e.add(t+r,n+i);case 3:return e.add(t,n+i)}return e})},Ml=function(){function e(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return e}(),Ql=function(){function e(e,t){if(this.container=e,this.parent=t,this.effects=[],this.curves=new kl(this.container),this.container.styles.opacity<1&&this.effects.push(new Ul(this.container.styles.opacity)),null!==this.container.styles.transform){var n=this.container.bounds.left+this.container.styles.transformOrigin[0].number,r=this.container.bounds.top+this.container.styles.transformOrigin[1].number,i=this.container.styles.transform;this.effects.push(new Il(n,r,i))}if(0!==this.container.styles.overflowX){var a=El(this.curves),o=Fl(this.curves);Dl(a,o)?this.effects.push(new jl(a,6)):(this.effects.push(new jl(a,2)),this.effects.push(new jl(o,4)))}}return e.prototype.getEffects=function(e){for(var t=-1===[2,3].indexOf(this.container.styles.position),n=this.parent,r=this.effects.slice(0);n;){var i=n.effects.filter(function(e){return!Pl(e)});if(t||0!==n.container.styles.position||!n.parent){if(r.unshift.apply(r,i),t=-1===[2,3].indexOf(n.container.styles.position),0!==n.container.styles.overflowX){var a=El(n.curves),o=Fl(n.curves);Dl(a,o)||r.unshift(new jl(o,6))}}else r.unshift.apply(r,i);n=n.parent}return r.filter(function(t){return ia(t.target,e)})},e}(),Rl=function(e,t,n,r){e.container.elements.forEach(function(i){var a=ia(i.flags,4),o=ia(i.flags,2),s=new Ql(i,e);ia(i.styles.display,2048)&&r.push(s);var l=ia(i.flags,8)?[]:r;if(a||o){var c=a||i.styles.isPositioned()?n:t,u=new Ml(s);if(i.styles.isPositioned()||i.styles.opacity<1||i.styles.isTransformed()){var A=i.styles.zIndex.order;if(A<0){var d=0;c.negativeZIndex.some(function(e,t){return A>e.element.container.styles.zIndex.order?(d=t,!1):d>0}),c.negativeZIndex.splice(d,0,u)}else if(A>0){var h=0;c.positiveZIndex.some(function(e,t){return A>=e.element.container.styles.zIndex.order?(h=t+1,!1):h>0}),c.positiveZIndex.splice(h,0,u)}else c.zeroOrAutoZIndexOrTransformedOrOpacity.push(u)}else i.styles.isFloating()?c.nonPositionedFloats.push(u):c.nonPositionedInlineLevel.push(u);Rl(s,u,a?u:n,l)}else i.styles.isInlineLevel()?t.inlineLevel.push(s):t.nonInlineLevel.push(s),Rl(s,t,n,l);ia(i.flags,8)&&Hl(i,l)})},Hl=function(e,t){for(var n=e instanceof zo?e.start:1,r=e instanceof zo&&e.reversed,i=0;i<t.length;i++){var a=t[i];a.container instanceof Ho&&"number"===typeof a.container.value&&0!==a.container.value&&(n=a.container.value),a.listValue=Vs(n,a.container.styles.listStyleType,!0),n+=r?-1:1}},zl=function(e){var t=new Ql(e,null),n=new Ml(t),r=[];return Rl(t,n,n,r),Hl(t.container,r),n},Kl=function(e,t){switch(t){case 0:return Xl(e.topLeftBorderBox,e.topLeftPaddingBox,e.topRightBorderBox,e.topRightPaddingBox);case 1:return Xl(e.topRightBorderBox,e.topRightPaddingBox,e.bottomRightBorderBox,e.bottomRightPaddingBox);case 2:return Xl(e.bottomRightBorderBox,e.bottomRightPaddingBox,e.bottomLeftBorderBox,e.bottomLeftPaddingBox);default:return Xl(e.bottomLeftBorderBox,e.bottomLeftPaddingBox,e.topLeftBorderBox,e.topLeftPaddingBox)}},Wl=function(e,t){switch(t){case 0:return Xl(e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox,e.topRightBorderBox,e.topRightBorderDoubleOuterBox);case 1:return Xl(e.topRightBorderBox,e.topRightBorderDoubleOuterBox,e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox);case 2:return Xl(e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox,e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox);default:return Xl(e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox,e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox)}},Vl=function(e,t){switch(t){case 0:return Xl(e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox,e.topRightBorderDoubleInnerBox,e.topRightPaddingBox);case 1:return Xl(e.topRightBorderDoubleInnerBox,e.topRightPaddingBox,e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox);case 2:return Xl(e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox,e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox);default:return Xl(e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox,e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox)}},Gl=function(e,t){switch(t){case 0:return ql(e.topLeftBorderStroke,e.topRightBorderStroke);case 1:return ql(e.topRightBorderStroke,e.bottomRightBorderStroke);case 2:return ql(e.bottomRightBorderStroke,e.bottomLeftBorderStroke);default:return ql(e.bottomLeftBorderStroke,e.topLeftBorderStroke)}},ql=function(e,t){var n=[];return Nl(e)?n.push(e.subdivide(.5,!1)):n.push(e),Nl(t)?n.push(t.subdivide(.5,!0)):n.push(t),n},Xl=function(e,t,n,r){var i=[];return Nl(e)?i.push(e.subdivide(.5,!1)):i.push(e),Nl(n)?i.push(n.subdivide(.5,!0)):i.push(n),Nl(r)?i.push(r.subdivide(.5,!0).reverse()):i.push(r),Nl(t)?i.push(t.subdivide(.5,!1).reverse()):i.push(t),i},Yl=function(e){var t=e.bounds,n=e.styles;return t.add(n.borderLeftWidth,n.borderTopWidth,-(n.borderRightWidth+n.borderLeftWidth),-(n.borderTopWidth+n.borderBottomWidth))},Jl=function(e){var t=e.styles,n=e.bounds,r=Gn(t.paddingLeft,n.width),i=Gn(t.paddingRight,n.width),a=Gn(t.paddingTop,n.width),o=Gn(t.paddingBottom,n.width);return n.add(r+t.borderLeftWidth,a+t.borderTopWidth,-(t.borderRightWidth+t.borderLeftWidth+r+i),-(t.borderTopWidth+t.borderBottomWidth+a+o))},Zl=function(e,t){return 0===e?t.bounds:2===e?Jl(t):Yl(t)},$l=function(e,t){return 0===e?t.bounds:2===e?Jl(t):Yl(t)},ec=function(e,t,n){var r=Zl(ic(e.styles.backgroundOrigin,t),e),i=$l(ic(e.styles.backgroundClip,t),e),a=rc(ic(e.styles.backgroundSize,t),n,r),o=a[0],s=a[1],l=Vn(ic(e.styles.backgroundPosition,t),r.width-o,r.height-s);return[ac(ic(e.styles.backgroundRepeat,t),l,a,r,i),Math.round(r.left+l[0]),Math.round(r.top+l[1]),o,s]},tc=function(e){return Un(e)&&e.value===Lr.AUTO},nc=function(e){return"number"===typeof e},rc=function(e,t,n){var r=t[0],i=t[1],a=t[2],o=e[0],s=e[1];if(!o)return[0,0];if(Rn(o)&&s&&Rn(s))return[Gn(o,n.width),Gn(s,n.height)];var l=nc(a);if(Un(o)&&(o.value===Lr.CONTAIN||o.value===Lr.COVER))return nc(a)?n.width/n.height<a!==(o.value===Lr.COVER)?[n.width,n.width/a]:[n.height*a,n.height]:[n.width,n.height];var c=nc(r),u=nc(i),A=c||u;if(tc(o)&&(!s||tc(s)))return c&&u?[r,i]:l||A?A&&l?[c?r:i*a,u?i:r/a]:[c?r:n.width,u?i:n.height]:[n.width,n.height];if(l){var d=0,h=0;return Rn(o)?d=Gn(o,n.width):Rn(s)&&(h=Gn(s,n.height)),tc(o)?d=h*a:s&&!tc(s)||(h=d/a),[d,h]}var f=null,p=null;if(Rn(o)?f=Gn(o,n.width):s&&Rn(s)&&(p=Gn(s,n.height)),null===f||s&&!tc(s)||(p=c&&u?f/r*i:n.height),null!==p&&tc(o)&&(f=c&&u?p/i*r:n.width),null!==f&&null!==p)return[f,p];throw new Error("Unable to calculate background-size for element")},ic=function(e,t){var n=e[t];return"undefined"===typeof n?e[0]:n},ac=function(e,t,n,r,i){var a=t[0],o=t[1],s=n[0],l=n[1];switch(e){case 2:return[new xl(Math.round(r.left),Math.round(r.top+o)),new xl(Math.round(r.left+r.width),Math.round(r.top+o)),new xl(Math.round(r.left+r.width),Math.round(l+r.top+o)),new xl(Math.round(r.left),Math.round(l+r.top+o))];case 3:return[new xl(Math.round(r.left+a),Math.round(r.top)),new xl(Math.round(r.left+a+s),Math.round(r.top)),new xl(Math.round(r.left+a+s),Math.round(r.height+r.top)),new xl(Math.round(r.left+a),Math.round(r.height+r.top))];case 1:return[new xl(Math.round(r.left+a),Math.round(r.top+o)),new xl(Math.round(r.left+a+s),Math.round(r.top+o)),new xl(Math.round(r.left+a+s),Math.round(r.top+o+l)),new xl(Math.round(r.left+a),Math.round(r.top+o+l))];default:return[new xl(Math.round(i.left),Math.round(i.top)),new xl(Math.round(i.left+i.width),Math.round(i.top)),new xl(Math.round(i.left+i.width),Math.round(i.height+i.top)),new xl(Math.round(i.left),Math.round(i.height+i.top))]}},oc="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",sc="Hidden Text",lc=function(){function e(e){this._data={},this._document=e}return e.prototype.parseMetrics=function(e,t){var n=this._document.createElement("div"),r=this._document.createElement("img"),i=this._document.createElement("span"),a=this._document.body;n.style.visibility="hidden",n.style.fontFamily=e,n.style.fontSize=t,n.style.margin="0",n.style.padding="0",n.style.whiteSpace="nowrap",a.appendChild(n),r.src=oc,r.width=1,r.height=1,r.style.margin="0",r.style.padding="0",r.style.verticalAlign="baseline",i.style.fontFamily=e,i.style.fontSize=t,i.style.margin="0",i.style.padding="0",i.appendChild(this._document.createTextNode(sc)),n.appendChild(i),n.appendChild(r);var o=r.offsetTop-i.offsetTop+2;n.removeChild(i),n.appendChild(this._document.createTextNode(sc)),n.style.lineHeight="normal",r.style.verticalAlign="super";var s=r.offsetTop-n.offsetTop+2;return a.removeChild(n),{baseline:o,middle:s}},e.prototype.getMetrics=function(e,t){var n=e+" "+t;return"undefined"===typeof this._data[n]&&(this._data[n]=this.parseMetrics(e,t)),this._data[n]},e}(),cc=function(){function e(e,t){this.context=e,this.options=t}return e}(),uc=1e4,Ac=function(e){function n(t,n){var r=e.call(this,t,n)||this;return r._activeEffects=[],r.canvas=n.canvas?n.canvas:document.createElement("canvas"),r.ctx=r.canvas.getContext("2d"),n.canvas||(r.canvas.width=Math.floor(n.width*n.scale),r.canvas.height=Math.floor(n.height*n.scale),r.canvas.style.width=n.width+"px",r.canvas.style.height=n.height+"px"),r.fontMetrics=new lc(document),r.ctx.scale(r.options.scale,r.options.scale),r.ctx.translate(-n.x,-n.y),r.ctx.textBaseline="bottom",r._activeEffects=[],r.context.logger.debug("Canvas renderer initialized ("+n.width+"x"+n.height+") with scale "+n.scale),r}return t(n,e),n.prototype.applyEffects=function(e){for(var t=this;this._activeEffects.length;)this.popEffect();e.forEach(function(e){return t.applyEffect(e)})},n.prototype.applyEffect=function(e){this.ctx.save(),Ll(e)&&(this.ctx.globalAlpha=e.opacity),Ol(e)&&(this.ctx.translate(e.offsetX,e.offsetY),this.ctx.transform(e.matrix[0],e.matrix[1],e.matrix[2],e.matrix[3],e.matrix[4],e.matrix[5]),this.ctx.translate(-e.offsetX,-e.offsetY)),Pl(e)&&(this.path(e.path),this.ctx.clip()),this._activeEffects.push(e)},n.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},n.prototype.renderStack=function(e){return r(this,void 0,void 0,function(){return i(this,function(t){switch(t.label){case 0:return e.element.container.styles.isVisible()?[4,this.renderStackContent(e)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},n.prototype.renderNode=function(e){return r(this,void 0,void 0,function(){return i(this,function(t){switch(t.label){case 0:return ia(e.container.flags,16),e.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(e)]:[3,3];case 1:return t.sent(),[4,this.renderNodeContent(e)];case 2:t.sent(),t.label=3;case 3:return[2]}})})},n.prototype.renderTextWithLetterSpacing=function(e,t,n){var r=this;0===t?this.ctx.fillText(e.text,e.bounds.left,e.bounds.top+n):Fo(e.text).reduce(function(t,i){return r.ctx.fillText(i,t,e.bounds.top+n),t+r.ctx.measureText(i).width},e.bounds.left)},n.prototype.createFontStyle=function(e){var t=e.fontVariant.filter(function(e){return"normal"===e||"small-caps"===e}).join(""),n=gc(e.fontFamily).join(", "),r=In(e.fontSize)?""+e.fontSize.number+e.fontSize.unit:e.fontSize.number+"px";return[[e.fontStyle,t,e.fontWeight,r,n].join(" "),n,r]},n.prototype.renderTextNode=function(e,t){return r(this,void 0,void 0,function(){var n,r,a,o,s,l,c,u,A=this;return i(this,function(i){return n=this.createFontStyle(t),r=n[0],a=n[1],o=n[2],this.ctx.font=r,this.ctx.direction=1===t.direction?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",s=this.fontMetrics.getMetrics(a,o),l=s.baseline,c=s.middle,u=t.paintOrder,e.textBounds.forEach(function(e){u.forEach(function(n){switch(n){case 0:A.ctx.fillStyle=ir(t.color),A.renderTextWithLetterSpacing(e,t.letterSpacing,l);var r=t.textShadow;r.length&&e.text.trim().length&&(r.slice(0).reverse().forEach(function(n){A.ctx.shadowColor=ir(n.color),A.ctx.shadowOffsetX=n.offsetX.number*A.options.scale,A.ctx.shadowOffsetY=n.offsetY.number*A.options.scale,A.ctx.shadowBlur=n.blur.number,A.renderTextWithLetterSpacing(e,t.letterSpacing,l)}),A.ctx.shadowColor="",A.ctx.shadowOffsetX=0,A.ctx.shadowOffsetY=0,A.ctx.shadowBlur=0),t.textDecorationLine.length&&(A.ctx.fillStyle=ir(t.textDecorationColor||t.color),t.textDecorationLine.forEach(function(t){switch(t){case 1:A.ctx.fillRect(e.bounds.left,Math.round(e.bounds.top+l),e.bounds.width,1);break;case 2:A.ctx.fillRect(e.bounds.left,Math.round(e.bounds.top),e.bounds.width,1);break;case 3:A.ctx.fillRect(e.bounds.left,Math.ceil(e.bounds.top+c),e.bounds.width,1)}}));break;case 1:t.webkitTextStrokeWidth&&e.text.trim().length&&(A.ctx.strokeStyle=ir(t.webkitTextStrokeColor),A.ctx.lineWidth=t.webkitTextStrokeWidth,A.ctx.lineJoin=window.chrome?"miter":"round",A.ctx.strokeText(e.text,e.bounds.left,e.bounds.top+l)),A.ctx.strokeStyle="",A.ctx.lineWidth=0,A.ctx.lineJoin="miter"}})}),[2]})})},n.prototype.renderReplacedElement=function(e,t,n){if(n&&e.intrinsicWidth>0&&e.intrinsicHeight>0){var r=Jl(e),i=Fl(t);this.path(i),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(n,0,0,e.intrinsicWidth,e.intrinsicHeight,r.left,r.top,r.width,r.height),this.ctx.restore()}},n.prototype.renderNodeContent=function(e){return r(this,void 0,void 0,function(){var t,r,a,s,l,c,u,A,d,h,f,p,g,m,v,y,b,w;return i(this,function(i){switch(i.label){case 0:this.applyEffects(e.getEffects(4)),t=e.container,r=e.curves,a=t.styles,s=0,l=t.textNodes,i.label=1;case 1:return s<l.length?(c=l[s],[4,this.renderTextNode(c,a)]):[3,4];case 2:i.sent(),i.label=3;case 3:return s++,[3,1];case 4:if(!(t instanceof Mo))return[3,8];i.label=5;case 5:return i.trys.push([5,7,,8]),[4,this.context.cache.match(t.src)];case 6:return v=i.sent(),this.renderReplacedElement(t,r,v),[3,8];case 7:return i.sent(),this.context.logger.error("Error loading image "+t.src),[3,8];case 8:if(t instanceof Qo&&this.renderReplacedElement(t,r,t.canvas),!(t instanceof Ro))return[3,12];i.label=9;case 9:return i.trys.push([9,11,,12]),[4,this.context.cache.match(t.svg)];case 10:return v=i.sent(),this.renderReplacedElement(t,r,v),[3,12];case 11:return i.sent(),this.context.logger.error("Error loading svg "+t.svg.substring(0,255)),[3,12];case 12:return t instanceof ts&&t.tree?[4,new n(this.context,{scale:this.options.scale,backgroundColor:t.backgroundColor,x:0,y:0,width:t.width,height:t.height}).render(t.tree)]:[3,14];case 13:u=i.sent(),t.width&&t.height&&this.ctx.drawImage(u,0,0,t.width,t.height,t.bounds.left,t.bounds.top,t.bounds.width,t.bounds.height),i.label=14;case 14:if(t instanceof Zo&&(A=Math.min(t.bounds.width,t.bounds.height),t.type===qo?t.checked&&(this.ctx.save(),this.path([new xl(t.bounds.left+.39363*A,t.bounds.top+.79*A),new xl(t.bounds.left+.16*A,t.bounds.top+.5549*A),new xl(t.bounds.left+.27347*A,t.bounds.top+.44071*A),new xl(t.bounds.left+.39694*A,t.bounds.top+.5649*A),new xl(t.bounds.left+.72983*A,t.bounds.top+.23*A),new xl(t.bounds.left+.84*A,t.bounds.top+.34085*A),new xl(t.bounds.left+.39363*A,t.bounds.top+.79*A)]),this.ctx.fillStyle=ir(Jo),this.ctx.fill(),this.ctx.restore()):t.type===Xo&&t.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(t.bounds.left+A/2,t.bounds.top+A/2,A/4,0,2*Math.PI,!0),this.ctx.fillStyle=ir(Jo),this.ctx.fill(),this.ctx.restore())),dc(t)&&t.value.length){switch(d=this.createFontStyle(a),b=d[0],h=d[1],f=this.fontMetrics.getMetrics(b,h).baseline,this.ctx.font=b,this.ctx.fillStyle=ir(a.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=fc(t.styles.textAlign),w=Jl(t),p=0,t.styles.textAlign){case 1:p+=w.width/2;break;case 2:p+=w.width}g=w.add(p,0,0,-w.height/2+1),this.ctx.save(),this.path([new xl(w.left,w.top),new xl(w.left+w.width,w.top),new xl(w.left+w.width,w.top+w.height),new xl(w.left,w.top+w.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new ko(t.value,g),a.letterSpacing,f),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!ia(t.styles.display,2048))return[3,20];if(null===t.styles.listStyleImage)return[3,19];if(0!==(m=t.styles.listStyleImage).type)return[3,18];v=void 0,y=m.url,i.label=15;case 15:return i.trys.push([15,17,,18]),[4,this.context.cache.match(y)];case 16:return v=i.sent(),this.ctx.drawImage(v,t.bounds.left-(v.width+10),t.bounds.top),[3,18];case 17:return i.sent(),this.context.logger.error("Error loading list-style-image "+y),[3,18];case 18:return[3,20];case 19:e.listValue&&-1!==t.styles.listStyleType&&(b=this.createFontStyle(a)[0],this.ctx.font=b,this.ctx.fillStyle=ir(a.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",w=new o(t.bounds.left,t.bounds.top+Gn(t.styles.paddingTop,t.bounds.width),t.bounds.width,wi(a.lineHeight,a.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new ko(e.listValue,w),a.letterSpacing,wi(a.lineHeight,a.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),i.label=20;case 20:return[2]}})})},n.prototype.renderStackContent=function(e){return r(this,void 0,void 0,function(){var t,n,r,a,o,s,l,c,u,A,d,h,f,p,g;return i(this,function(i){switch(i.label){case 0:return ia(e.element.container.flags,16),[4,this.renderNodeBackgroundAndBorders(e.element)];case 1:i.sent(),t=0,n=e.negativeZIndex,i.label=2;case 2:return t<n.length?(g=n[t],[4,this.renderStack(g)]):[3,5];case 3:i.sent(),i.label=4;case 4:return t++,[3,2];case 5:return[4,this.renderNodeContent(e.element)];case 6:i.sent(),r=0,a=e.nonInlineLevel,i.label=7;case 7:return r<a.length?(g=a[r],[4,this.renderNode(g)]):[3,10];case 8:i.sent(),i.label=9;case 9:return r++,[3,7];case 10:o=0,s=e.nonPositionedFloats,i.label=11;case 11:return o<s.length?(g=s[o],[4,this.renderStack(g)]):[3,14];case 12:i.sent(),i.label=13;case 13:return o++,[3,11];case 14:l=0,c=e.nonPositionedInlineLevel,i.label=15;case 15:return l<c.length?(g=c[l],[4,this.renderStack(g)]):[3,18];case 16:i.sent(),i.label=17;case 17:return l++,[3,15];case 18:u=0,A=e.inlineLevel,i.label=19;case 19:return u<A.length?(g=A[u],[4,this.renderNode(g)]):[3,22];case 20:i.sent(),i.label=21;case 21:return u++,[3,19];case 22:d=0,h=e.zeroOrAutoZIndexOrTransformedOrOpacity,i.label=23;case 23:return d<h.length?(g=h[d],[4,this.renderStack(g)]):[3,26];case 24:i.sent(),i.label=25;case 25:return d++,[3,23];case 26:f=0,p=e.positiveZIndex,i.label=27;case 27:return f<p.length?(g=p[f],[4,this.renderStack(g)]):[3,30];case 28:i.sent(),i.label=29;case 29:return f++,[3,27];case 30:return[2]}})})},n.prototype.mask=function(e){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(e.slice(0).reverse()),this.ctx.closePath()},n.prototype.path=function(e){this.ctx.beginPath(),this.formatPath(e),this.ctx.closePath()},n.prototype.formatPath=function(e){var t=this;e.forEach(function(e,n){var r=Nl(e)?e.start:e;0===n?t.ctx.moveTo(r.x,r.y):t.ctx.lineTo(r.x,r.y),Nl(e)&&t.ctx.bezierCurveTo(e.startControl.x,e.startControl.y,e.endControl.x,e.endControl.y,e.end.x,e.end.y)})},n.prototype.renderRepeat=function(e,t,n,r){this.path(e),this.ctx.fillStyle=t,this.ctx.translate(n,r),this.ctx.fill(),this.ctx.translate(-n,-r)},n.prototype.resizeImage=function(e,t,n){var r;if(e.width===t&&e.height===n)return e;var i=(null!==(r=this.canvas.ownerDocument)&&void 0!==r?r:document).createElement("canvas");return i.width=Math.max(1,t),i.height=Math.max(1,n),i.getContext("2d").drawImage(e,0,0,e.width,e.height,0,0,t,n),i},n.prototype.renderBackgroundImage=function(e){return r(this,void 0,void 0,function(){var t,n,r,a,o,s;return i(this,function(l){switch(l.label){case 0:t=e.styles.backgroundImage.length-1,n=function(n){var a,o,s,l,c,u,A,d,h,f,p,g,m,v,y,b,w,x,B,C,N,k,_,E,S,F,I,j,U,O,P;return i(this,function(i){switch(i.label){case 0:if(0!==n.type)return[3,5];a=void 0,o=n.url,i.label=1;case 1:return i.trys.push([1,3,,4]),[4,r.context.cache.match(o)];case 2:return a=i.sent(),[3,4];case 3:return i.sent(),r.context.logger.error("Error loading background-image "+o),[3,4];case 4:return a&&(s=ec(e,t,[a.width,a.height,a.width/a.height]),b=s[0],k=s[1],_=s[2],B=s[3],C=s[4],v=r.ctx.createPattern(r.resizeImage(a,B,C),"repeat"),r.renderRepeat(b,v,k,_)),[3,6];case 5:jr(n)?(l=ec(e,t,[null,null,null]),b=l[0],k=l[1],_=l[2],B=l[3],C=l[4],c=vr(n.angle,B,C),u=c[0],A=c[1],d=c[2],h=c[3],f=c[4],(p=document.createElement("canvas")).width=B,p.height=C,g=p.getContext("2d"),m=g.createLinearGradient(A,h,d,f),gr(n.stops,u).forEach(function(e){return m.addColorStop(e.stop,ir(e.color))}),g.fillStyle=m,g.fillRect(0,0,B,C),B>0&&C>0&&(v=r.ctx.createPattern(p,"repeat"),r.renderRepeat(b,v,k,_))):Ur(n)&&(y=ec(e,t,[null,null,null]),b=y[0],w=y[1],x=y[2],B=y[3],C=y[4],N=0===n.position.length?[Kn]:n.position,k=Gn(N[0],B),_=Gn(N[N.length-1],C),E=wr(n,k,_,B,C),S=E[0],F=E[1],S>0&&F>0&&(I=r.ctx.createRadialGradient(w+k,x+_,0,w+k,x+_,S),gr(n.stops,2*S).forEach(function(e){return I.addColorStop(e.stop,ir(e.color))}),r.path(b),r.ctx.fillStyle=I,S!==F?(j=e.bounds.left+.5*e.bounds.width,U=e.bounds.top+.5*e.bounds.height,P=1/(O=F/S),r.ctx.save(),r.ctx.translate(j,U),r.ctx.transform(1,0,0,O,0,0),r.ctx.translate(-j,-U),r.ctx.fillRect(w,P*(x-U)+U,B,C*P),r.ctx.restore()):r.ctx.fill())),i.label=6;case 6:return t--,[2]}})},r=this,a=0,o=e.styles.backgroundImage.slice(0).reverse(),l.label=1;case 1:return a<o.length?(s=o[a],[5,n(s)]):[3,4];case 2:l.sent(),l.label=3;case 3:return a++,[3,1];case 4:return[2]}})})},n.prototype.renderSolidBorder=function(e,t,n){return r(this,void 0,void 0,function(){return i(this,function(r){return this.path(Kl(n,t)),this.ctx.fillStyle=ir(e),this.ctx.fill(),[2]})})},n.prototype.renderDoubleBorder=function(e,t,n,a){return r(this,void 0,void 0,function(){var r,o;return i(this,function(i){switch(i.label){case 0:return t<3?[4,this.renderSolidBorder(e,n,a)]:[3,2];case 1:return i.sent(),[2];case 2:return r=Wl(a,n),this.path(r),this.ctx.fillStyle=ir(e),this.ctx.fill(),o=Vl(a,n),this.path(o),this.ctx.fill(),[2]}})})},n.prototype.renderNodeBackgroundAndBorders=function(e){return r(this,void 0,void 0,function(){var t,n,r,a,o,s,l,c,u=this;return i(this,function(i){switch(i.label){case 0:return this.applyEffects(e.getEffects(2)),t=e.container.styles,n=!rr(t.backgroundColor)||t.backgroundImage.length,r=[{style:t.borderTopStyle,color:t.borderTopColor,width:t.borderTopWidth},{style:t.borderRightStyle,color:t.borderRightColor,width:t.borderRightWidth},{style:t.borderBottomStyle,color:t.borderBottomColor,width:t.borderBottomWidth},{style:t.borderLeftStyle,color:t.borderLeftColor,width:t.borderLeftWidth}],a=hc(ic(t.backgroundClip,0),e.curves),n||t.boxShadow.length?(this.ctx.save(),this.path(a),this.ctx.clip(),rr(t.backgroundColor)||(this.ctx.fillStyle=ir(t.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(e.container)]):[3,2];case 1:i.sent(),this.ctx.restore(),t.boxShadow.slice(0).reverse().forEach(function(t){u.ctx.save();var n=El(e.curves),r=t.inset?0:uc,i=Tl(n,-r+(t.inset?1:-1)*t.spread.number,(t.inset?1:-1)*t.spread.number,t.spread.number*(t.inset?-2:2),t.spread.number*(t.inset?-2:2));t.inset?(u.path(n),u.ctx.clip(),u.mask(i)):(u.mask(n),u.ctx.clip(),u.path(i)),u.ctx.shadowOffsetX=t.offsetX.number+r,u.ctx.shadowOffsetY=t.offsetY.number,u.ctx.shadowColor=ir(t.color),u.ctx.shadowBlur=t.blur.number,u.ctx.fillStyle=t.inset?ir(t.color):"rgba(0,0,0,1)",u.ctx.fill(),u.ctx.restore()}),i.label=2;case 2:o=0,s=0,l=r,i.label=3;case 3:return s<l.length?0!==(c=l[s]).style&&!rr(c.color)&&c.width>0?2!==c.style?[3,5]:[4,this.renderDashedDottedBorder(c.color,c.width,o,e.curves,2)]:[3,11]:[3,13];case 4:return i.sent(),[3,11];case 5:return 3!==c.style?[3,7]:[4,this.renderDashedDottedBorder(c.color,c.width,o,e.curves,3)];case 6:return i.sent(),[3,11];case 7:return 4!==c.style?[3,9]:[4,this.renderDoubleBorder(c.color,c.width,o,e.curves)];case 8:return i.sent(),[3,11];case 9:return[4,this.renderSolidBorder(c.color,o,e.curves)];case 10:i.sent(),i.label=11;case 11:o++,i.label=12;case 12:return s++,[3,3];case 13:return[2]}})})},n.prototype.renderDashedDottedBorder=function(e,t,n,a,o){return r(this,void 0,void 0,function(){var r,s,l,c,u,A,d,h,f,p,g,m,v,y,b,w;return i(this,function(i){return this.ctx.save(),r=Gl(a,n),s=Kl(a,n),2===o&&(this.path(s),this.ctx.clip()),Nl(s[0])?(l=s[0].start.x,c=s[0].start.y):(l=s[0].x,c=s[0].y),Nl(s[1])?(u=s[1].end.x,A=s[1].end.y):(u=s[1].x,A=s[1].y),d=0===n||2===n?Math.abs(l-u):Math.abs(c-A),this.ctx.beginPath(),3===o?this.formatPath(r):this.formatPath(s.slice(0,2)),h=t<3?3*t:2*t,f=t<3?2*t:t,3===o&&(h=t,f=t),p=!0,d<=2*h?p=!1:d<=2*h+f?(h*=g=d/(2*h+f),f*=g):(m=Math.floor((d+f)/(h+f)),v=(d-m*h)/(m-1),f=(y=(d-(m+1)*h)/m)<=0||Math.abs(f-v)<Math.abs(f-y)?v:y),p&&(3===o?this.ctx.setLineDash([0,h+f]):this.ctx.setLineDash([h,f])),3===o?(this.ctx.lineCap="round",this.ctx.lineWidth=t):this.ctx.lineWidth=2*t+1.1,this.ctx.strokeStyle=ir(e),this.ctx.stroke(),this.ctx.setLineDash([]),2===o&&(Nl(s[0])&&(b=s[3],w=s[0],this.ctx.beginPath(),this.formatPath([new xl(b.end.x,b.end.y),new xl(w.start.x,w.start.y)]),this.ctx.stroke()),Nl(s[1])&&(b=s[1],w=s[2],this.ctx.beginPath(),this.formatPath([new xl(b.end.x,b.end.y),new xl(w.start.x,w.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},n.prototype.render=function(e){return r(this,void 0,void 0,function(){var t;return i(this,function(n){switch(n.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=ir(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),t=zl(e),[4,this.renderStack(t)];case 1:return n.sent(),this.applyEffects([]),[2,this.canvas]}})})},n}(cc),dc=function(e){return e instanceof es||e instanceof $o||e instanceof Zo&&e.type!==Xo&&e.type!==qo},hc=function(e,t){switch(e){case 0:return El(t);case 2:return Sl(t);default:return Fl(t)}},fc=function(e){switch(e){case 1:return"center";case 2:return"right";default:return"left"}},pc=["-apple-system","system-ui"],gc=function(e){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?e.filter(function(e){return-1===pc.indexOf(e)}):e},mc=function(e){function n(t,n){var r=e.call(this,t,n)||this;return r.canvas=n.canvas?n.canvas:document.createElement("canvas"),r.ctx=r.canvas.getContext("2d"),r.options=n,r.canvas.width=Math.floor(n.width*n.scale),r.canvas.height=Math.floor(n.height*n.scale),r.canvas.style.width=n.width+"px",r.canvas.style.height=n.height+"px",r.ctx.scale(r.options.scale,r.options.scale),r.ctx.translate(-n.x,-n.y),r.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+n.width+"x"+n.height+" at "+n.x+","+n.y+") with scale "+n.scale),r}return t(n,e),n.prototype.render=function(e){return r(this,void 0,void 0,function(){var t,n;return i(this,function(r){switch(r.label){case 0:return t=Bo(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,e),[4,vc(t)];case 1:return n=r.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=ir(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(n,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},n}(cc),vc=function(e){return new Promise(function(t,n){var r=new Image;r.onload=function(){t(r)},r.onerror=n,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(e))})},yc=function(){function e(e){var t=e.id,n=e.enabled;this.id=t,this.enabled=n,this.start=Date.now()}return e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&("undefined"!==typeof window&&window.console&&"function"===typeof console.debug?console.debug.apply(console,a([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},e.prototype.getTime=function(){return Date.now()-this.start},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&"undefined"!==typeof window&&window.console&&"function"===typeof console.info&&console.info.apply(console,a([this.id,this.getTime()+"ms"],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&("undefined"!==typeof window&&window.console&&"function"===typeof console.warn?console.warn.apply(console,a([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&("undefined"!==typeof window&&window.console&&"function"===typeof console.error?console.error.apply(console,a([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},e.instances={},e}(),bc=function(){function e(t,n){var r;this.windowBounds=n,this.instanceName="#"+e.instanceCount++,this.logger=new yc({id:this.instanceName,enabled:t.logging}),this.cache=null!==(r=t.cache)&&void 0!==r?r:new hl(this,t)}return e.instanceCount=1,e}(),wc=function(e,t){return void 0===t&&(t={}),xc(e,t)};"undefined"!==typeof window&&dl.setContext(window);var xc=function(e,t){return r(void 0,void 0,void 0,function(){var r,a,c,u,A,d,h,f,p,g,m,v,y,b,w,x,B,C,N,k,_,E,S,F,I,j,U,O,P,L,D,T,M,Q,R,H,z,K;return i(this,function(i){switch(i.label){case 0:if(!e||"object"!==typeof e)return[2,Promise.reject("Invalid element provided as first argument")];if(!(r=e.ownerDocument))throw new Error("Element is not attached to a Document");if(!(a=r.defaultView))throw new Error("Document is not attached to a Window");return c={allowTaint:null!==(E=t.allowTaint)&&void 0!==E&&E,imageTimeout:null!==(S=t.imageTimeout)&&void 0!==S?S:15e3,proxy:t.proxy,useCORS:null!==(F=t.useCORS)&&void 0!==F&&F},u=n({logging:null===(I=t.logging)||void 0===I||I,cache:t.cache},c),A={windowWidth:null!==(j=t.windowWidth)&&void 0!==j?j:a.innerWidth,windowHeight:null!==(U=t.windowHeight)&&void 0!==U?U:a.innerHeight,scrollX:null!==(O=t.scrollX)&&void 0!==O?O:a.pageXOffset,scrollY:null!==(P=t.scrollY)&&void 0!==P?P:a.pageYOffset},d=new o(A.scrollX,A.scrollY,A.windowWidth,A.windowHeight),h=new bc(u,d),f=null!==(L=t.foreignObjectRendering)&&void 0!==L&&L,p={allowTaint:null!==(D=t.allowTaint)&&void 0!==D&&D,onclone:t.onclone,ignoreElements:t.ignoreElements,inlineImages:f,copyStyles:f},h.logger.debug("Starting document clone with size "+d.width+"x"+d.height+" scrolled to "+-d.left+","+-d.top),g=new qs(h,e,p),(m=g.clonedReferenceElement)?[4,g.toIFrame(r,d)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return v=i.sent(),y=ms(m)||ps(m)?l(m.ownerDocument):s(h,m),b=y.width,w=y.height,x=y.left,B=y.top,C=Bc(h,m,t.backgroundColor),N={canvas:t.canvas,backgroundColor:C,scale:null!==(M=null!==(T=t.scale)&&void 0!==T?T:a.devicePixelRatio)&&void 0!==M?M:1,x:(null!==(Q=t.x)&&void 0!==Q?Q:0)+x,y:(null!==(R=t.y)&&void 0!==R?R:0)+B,width:null!==(H=t.width)&&void 0!==H?H:Math.ceil(b),height:null!==(z=t.height)&&void 0!==z?z:Math.ceil(w)},f?(h.logger.debug("Document cloned, using foreign object rendering"),[4,new mc(h,N).render(m)]):[3,3];case 2:return k=i.sent(),[3,5];case 3:return h.logger.debug("Document cloned, element located at "+x+","+B+" with size "+b+"x"+w+" using computed rendering"),h.logger.debug("Starting DOM parsing"),_=as(h,m),C===_.styles.backgroundColor&&(_.styles.backgroundColor=dr.TRANSPARENT),h.logger.debug("Starting renderer for element at "+N.x+","+N.y+" with size "+N.width+"x"+N.height),[4,new Ac(h,N).render(_)];case 4:k=i.sent(),i.label=5;case 5:return(null===(K=t.removeContainer)||void 0===K||K)&&(qs.destroy(v)||h.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),h.logger.debug("Finished rendering"),[2,k]}})})},Bc=function(e,t,n){var r=t.ownerDocument,i=r.documentElement?Ar(e,getComputedStyle(r.documentElement).backgroundColor):dr.TRANSPARENT,a=r.body?Ar(e,getComputedStyle(r.body).backgroundColor):dr.TRANSPARENT,o="string"===typeof n?Ar(e,n):null===n?dr.TRANSPARENT:4294967295;return t===r.documentElement?rr(i)?rr(a)?o:a:i:o};return wc}()},1065:()=>{},1083:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.toKey=function(e){var t;return"string"===typeof e||"symbol"===typeof e?e:Object.is(null===e||void 0===e||null===(t=e.valueOf)||void 0===t?void 0:t.call(e),-0)?"-0":String(e)}},1098:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isDeepKey=function(e){switch(typeof e){case"number":case"symbol":return!1;case"string":return e.includes(".")||e.includes("[")||e.includes("]")}}},1111:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isLength=function(e){return Number.isSafeInteger(e)&&e>=0}},1214:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isPrimitive=function(e){return null==e||"object"!==typeof e&&"function"!==typeof e}},1311:(e,t,n)=>{"use strict";var r=n(2897).default;Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const i=n(3539),a=n(1214),o=n(9115);function s(e,t,n,u){if(t===e)return!0;switch(typeof t){case"object":return function(e,t,n,r){if(null==t)return!0;if(Array.isArray(t))return l(e,t,n,r);if(t instanceof Map)return function(e,t,n,r){if(0===t.size)return!0;if(!(e instanceof Map))return!1;for(const[i,a]of t.entries()){if(!1===n(e.get(i),a,i,e,t,r))return!1}return!0}(e,t,n,r);if(t instanceof Set)return c(e,t,n,r);const i=Object.keys(t);if(null==e)return 0===i.length;if(0===i.length)return!0;if(null!==r&&void 0!==r&&r.has(t))return r.get(t)===e;null===r||void 0===r||r.set(t,e);try{for(let o=0;o<i.length;o++){const s=i[o];if(!a.isPrimitive(e)&&!(s in e))return!1;if(void 0===t[s]&&void 0!==e[s])return!1;if(null===t[s]&&null!==e[s])return!1;if(!n(e[s],t[s],s,e,t,r))return!1}return!0}finally{null===r||void 0===r||r.delete(t)}}(e,t,n,u);case"function":return Object.keys(t).length>0?s(e,r({},t),n,u):o.eq(e,t);default:return i.isObject(e)?"string"!==typeof t||""===t:o.eq(e,t)}}function l(e,t,n,r){if(0===t.length)return!0;if(!Array.isArray(e))return!1;const i=new Set;for(let a=0;a<t.length;a++){const o=t[a];let s=!1;for(let l=0;l<e.length;l++){if(i.has(l))continue;let c=!1;if(n(e[l],o,a,e,t,r)&&(c=!0),c){i.add(l),s=!0;break}}if(!s)return!1}return!0}function c(e,t,n,r){return 0===t.size||e instanceof Set&&l([...e],[...t],n,r)}t.isMatchWith=function e(t,n,r){return"function"!==typeof r?e(t,n,()=>{}):s(t,n,function e(t,n,i,a,o,l){const c=r(t,n,i,a,o,l);return void 0!==c?Boolean(c):s(t,n,e,l)},new Map)},t.isSetMatch=c},1352:(e,t,n)=>{"use strict";var r=n(7119);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},1558:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isTypedArray=function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}},1591:()=>{},1640:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(1810),i=n(5825),a=n(3679),o=n(4090);t.iteratee=function(e){if(null==e)return r.identity;switch(typeof e){case"function":return e;case"object":return Array.isArray(e)&&2===e.length?o.matchesProperty(e[0],e[1]):a.matches(e);case"string":case"symbol":case"number":return i.property(e)}}},1761:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var s=2*(r+1)-1,l=e[s],c=s+1,u=e[c];if(0>a(l,n))c<i&&0>a(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[s]=n,r=s);else{if(!(c<i&&0>a(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var c=[],u=[],A=1,d=null,h=3,f=!1,p=!1,g=!1,m="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,y="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function w(e){if(g=!1,b(e),!p)if(null!==r(c))p=!0,U(x);else{var t=r(u);null!==t&&O(w,t.startTime-e)}}function x(e,n){p=!1,g&&(g=!1,v(k),k=-1),f=!0;var a=h;try{for(b(n),d=r(c);null!==d&&(!(d.expirationTime>n)||e&&!S());){var o=d.callback;if("function"===typeof o){d.callback=null,h=d.priorityLevel;var s=o(d.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?d.callback=s:d===r(c)&&i(c),b(n)}else i(c);d=r(c)}if(null!==d)var l=!0;else{var A=r(u);null!==A&&O(w,A.startTime-n),l=!1}return l}finally{d=null,h=a,f=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var B,C=!1,N=null,k=-1,_=5,E=-1;function S(){return!(t.unstable_now()-E<_)}function F(){if(null!==N){var e=t.unstable_now();E=e;var n=!0;try{n=N(!0,e)}finally{n?B():(C=!1,N=null)}}else C=!1}if("function"===typeof y)B=function(){y(F)};else if("undefined"!==typeof MessageChannel){var I=new MessageChannel,j=I.port2;I.port1.onmessage=F,B=function(){j.postMessage(null)}}else B=function(){m(F,0)};function U(e){N=e,C||(C=!0,B())}function O(e,n){k=m(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){p||f||(p=!0,U(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:A++,callback:i,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(e.sortIndex=a,n(u,e),null===r(c)&&e===r(u)&&(g?(v(k),k=-1):g=!0,O(w,a-o))):(e.sortIndex=s,n(c,e),p||f||(p=!0,U(x))),e},t.unstable_shouldYield=S,t.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}},1810:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.identity=function(e){return e}},1921:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(7108);t.toNumber=function(e){return r.isSymbol(e)?NaN:Number(e)}},2049:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),A=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),h=Symbol.iterator;var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},p=Object.assign,g={};function m(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}function v(){}function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=m.prototype;var b=y.prototype=new v;b.constructor=y,p(b,m.prototype),b.isPureReactComponent=!0;var w=Array.isArray,x=Object.prototype.hasOwnProperty,B={current:null},C={key:!0,ref:!0,__self:!0,__source:!0};function N(e,t,r){var i,a={},o=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)x.call(t,i)&&!C.hasOwnProperty(i)&&(a[i]=t[i]);var l=arguments.length-2;if(1===l)a.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];a.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===a[i]&&(a[i]=l[i]);return{$$typeof:n,type:e,key:o,ref:s,props:a,_owner:B.current}}function k(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var _=/\/+/g;function E(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function S(e,t,i,a,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return o=o(l=e),e=""===a?"."+E(l,0):a,w(o)?(i="",null!=e&&(i=e.replace(_,"$&/")+"/"),S(o,t,i,"",function(e){return e})):null!=o&&(k(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(_,"$&/")+"/")+e)),t.push(o)),1;if(l=0,a=""===a?".":a+":",w(e))for(var c=0;c<e.length;c++){var u=a+E(s=e[c],c);l+=S(s,t,i,u,o)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(s=e.next()).done;)l+=S(s=s.value,t,i,u=a+E(s,c++),o);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function F(e,t,n){if(null==e)return e;var r=[],i=0;return S(e,r,"","",function(e){return t.call(n,e,i++)}),r}function I(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var j={current:null},U={transition:null},O={ReactCurrentDispatcher:j,ReactCurrentBatchConfig:U,ReactCurrentOwner:B};function P(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:F,forEach:function(e,t,n){F(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return F(e,function(){t++}),t},toArray:function(e){return F(e,function(e){return e})||[]},only:function(e){if(!k(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=m,t.Fragment=i,t.Profiler=o,t.PureComponent=y,t.StrictMode=a,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,t.act=P,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=p({},e.props),a=e.key,o=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,s=B.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)x.call(t,c)&&!C.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=N,t.createFactory=function(e){var t=N.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=k,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:I}},t.memo=function(e,t){return{$$typeof:A,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=U.transition;U.transition={};try{e()}finally{U.transition=t}},t.unstable_act=P,t.useCallback=function(e,t){return j.current.useCallback(e,t)},t.useContext=function(e){return j.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return j.current.useDeferredValue(e)},t.useEffect=function(e,t){return j.current.useEffect(e,t)},t.useId=function(){return j.current.useId()},t.useImperativeHandle=function(e,t,n){return j.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return j.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return j.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return j.current.useMemo(e,t)},t.useReducer=function(e,t,n){return j.current.useReducer(e,t,n)},t.useRef=function(e){return j.current.useRef(e)},t.useState=function(e){return j.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return j.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return j.current.useTransition()},t.version="18.3.1"},2239:(e,t,n)=>{e.exports=n(7384).uniqBy},2284:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}n.d(t,{A:()=>r})},2540:(e,t,n)=>{e.exports=n(3177).isPlainObject},2654:(e,t,n)=>{"use strict";var r=n(9950),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)o.call(t,r)&&!l.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:u,props:a,_owner:s.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},2718:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(7431),i=n(7740),a=n(3539),o=n(9115);t.isIterateeCall=function(e,t,n){return!!a.isObject(n)&&(!!("number"===typeof t&&i.isArrayLike(n)&&r.isIndex(t)&&t<n.length||"string"===typeof t&&t in n)&&o.eq(n[t],e))}},2742:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(6907);t.debounce=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};"object"!==typeof n&&(n={});const{leading:i=!1,trailing:a=!0,maxWait:o}=n,s=Array(2);let l;i&&(s[0]="leading"),a&&(s[1]="trailing");let c=null;const u=r.debounce(function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];l=e.apply(this,n),c=null},t,{edges:s}),A=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return null!=o&&(null===c&&(c=Date.now()),Date.now()-c>=o)?(l=e.apply(this,n),c=Date.now(),u.cancel(),u.schedule(),l):(u.apply(this,n),l)};return A.cancel=u.cancel,A.flush=()=>(u.flush(),l),A}},2897:(e,t,n)=>{var r=n(3693);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}e.exports=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach(function(t){r(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e},e.exports.__esModule=!0,e.exports.default=e.exports},3044:(e,t,n)=>{"use strict";e.exports=n(9940)},3177:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isPlainObject=function(e){if("object"!==typeof e)return!1;if(null==e)return!1;if(null===Object.getPrototypeOf(e))return!0;if("[object Object]"!==Object.prototype.toString.call(e)){var t;const n=e[Symbol.toStringTag];if(null==n)return!1;return!!(null!==(t=Object.getOwnPropertyDescriptor(e,Symbol.toStringTag))&&void 0!==t&&t.writable)&&e.toString()==="[object ".concat(n,"]")}let n=e;for(;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(e)===n}},3470:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});t.argumentsTag="[object Arguments]",t.arrayBufferTag="[object ArrayBuffer]",t.arrayTag="[object Array]",t.bigInt64ArrayTag="[object BigInt64Array]",t.bigUint64ArrayTag="[object BigUint64Array]",t.booleanTag="[object Boolean]",t.dataViewTag="[object DataView]",t.dateTag="[object Date]",t.errorTag="[object Error]",t.float32ArrayTag="[object Float32Array]",t.float64ArrayTag="[object Float64Array]",t.functionTag="[object Function]",t.int16ArrayTag="[object Int16Array]",t.int32ArrayTag="[object Int32Array]",t.int8ArrayTag="[object Int8Array]",t.mapTag="[object Map]",t.numberTag="[object Number]",t.objectTag="[object Object]",t.regexpTag="[object RegExp]",t.setTag="[object Set]",t.stringTag="[object String]",t.symbolTag="[object Symbol]",t.uint16ArrayTag="[object Uint16Array]",t.uint32ArrayTag="[object Uint32Array]",t.uint8ArrayTag="[object Uint8Array]",t.uint8ClampedArrayTag="[object Uint8ClampedArray]"},3539:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isObject=function(e){return null!==e&&("object"===typeof e||"function"===typeof e)}},3679:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(5399),i=n(9358);t.matches=function(e){return e=i.cloneDeep(e),t=>r.isMatch(t,e)}},3693:(e,t,n)=>{var r=n(7736);e.exports=function(e,t,n){return(t=r(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.__esModule=!0,e.exports.default=e.exports},3738:e=>{function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},3787:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(7740),i=n(8316);t.isArrayLikeObject=function(e){return i.isObjectLike(e)&&r.isArrayLike(e)}},3886:()=>{},4090:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(5399),i=n(1083),a=n(5573),o=n(8146),s=n(5942);t.matchesProperty=function(e,t){switch(typeof e){case"object":var n;Object.is(null===(n=e)||void 0===n?void 0:n.valueOf(),-0)&&(e="-0");break;case"number":e=i.toKey(e)}return t=a.cloneDeep(t),function(n){const i=o.get(n,e);return void 0===i?s.has(n,e):void 0===t?void 0===i:r.isMatch(i,t)}}},4195:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isUnsafeProperty=function(e){return"__proto__"===e}},4414:(e,t,n)=>{"use strict";e.exports=n(2654)},4441:function(e,t,n){var r;!function(){"use strict";var i,a=1e9,o={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},s=!0,l="[DecimalError] ",c=l+"Invalid argument: ",u=l+"Exponent out of range: ",A=Math.floor,d=Math.pow,h=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,f=1e7,p=9007199254740991,g=A(1286742750677284.5),m={};function v(e,t){var n,r,i,a,o,l,c,u,A=e.constructor,d=A.precision;if(!e.s||!t.s)return t.s||(t=new A(e)),s?E(t,d):t;if(c=e.d,u=t.d,o=e.e,i=t.e,c=c.slice(),a=o-i){for(a<0?(r=c,a=-a,l=u.length):(r=u,i=o,l=c.length),a>(l=(o=Math.ceil(d/7))>l?o+1:l+1)&&(a=l,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for((l=c.length)-(a=u.length)<0&&(a=l,r=u,u=c,c=r),n=0;a;)n=(c[--a]=c[a]+u[a]+n)/f|0,c[a]%=f;for(n&&(c.unshift(n),++i),l=c.length;0==c[--l];)c.pop();return t.d=c,t.e=i,s?E(t,d):t}function y(e,t,n){if(e!==~~e||e<t||e>n)throw Error(c+e)}function b(e){var t,n,r,i=e.length-1,a="",o=e[0];if(i>0){for(a+=o,t=1;t<i;t++)(n=7-(r=e[t]+"").length)&&(a+=N(n)),a+=r;(n=7-(r=(o=e[t])+"").length)&&(a+=N(n))}else if(0===o)return"0";for(;o%10===0;)o/=10;return a+o}m.absoluteValue=m.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e},m.comparedTo=m.cmp=function(e){var t,n,r,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(t=0,n=(r=a.d.length)<(i=e.d.length)?r:i;t<n;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1},m.decimalPlaces=m.dp=function(){var e=this,t=e.d.length-1,n=7*(t-e.e);if(t=e.d[t])for(;t%10==0;t/=10)n--;return n<0?0:n},m.dividedBy=m.div=function(e){return w(this,new this.constructor(e))},m.dividedToIntegerBy=m.idiv=function(e){var t=this.constructor;return E(w(this,new t(e),0,1),t.precision)},m.equals=m.eq=function(e){return!this.cmp(e)},m.exponent=function(){return B(this)},m.greaterThan=m.gt=function(e){return this.cmp(e)>0},m.greaterThanOrEqualTo=m.gte=function(e){return this.cmp(e)>=0},m.isInteger=m.isint=function(){return this.e>this.d.length-2},m.isNegative=m.isneg=function(){return this.s<0},m.isPositive=m.ispos=function(){return this.s>0},m.isZero=function(){return 0===this.s},m.lessThan=m.lt=function(e){return this.cmp(e)<0},m.lessThanOrEqualTo=m.lte=function(e){return this.cmp(e)<1},m.logarithm=m.log=function(e){var t,n=this,r=n.constructor,a=r.precision,o=a+5;if(void 0===e)e=new r(10);else if((e=new r(e)).s<1||e.eq(i))throw Error(l+"NaN");if(n.s<1)throw Error(l+(n.s?"NaN":"-Infinity"));return n.eq(i)?new r(0):(s=!1,t=w(k(n,o),k(e,o),o),s=!0,E(t,a))},m.minus=m.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?S(t,e):v(t,(e.s=-e.s,e))},m.modulo=m.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(!(e=new r(e)).s)throw Error(l+"NaN");return n.s?(s=!1,t=w(n,e,0,1).times(e),s=!0,n.minus(t)):E(new r(n),i)},m.naturalExponential=m.exp=function(){return x(this)},m.naturalLogarithm=m.ln=function(){return k(this)},m.negated=m.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e},m.plus=m.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?v(t,e):S(t,(e.s=-e.s,e))},m.precision=m.sd=function(e){var t,n,r,i=this;if(void 0!==e&&e!==!!e&&1!==e&&0!==e)throw Error(c+e);if(t=B(i)+1,n=7*(r=i.d.length-1)+1,r=i.d[r]){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n},m.squareRoot=m.sqrt=function(){var e,t,n,r,i,a,o,c=this,u=c.constructor;if(c.s<1){if(!c.s)return new u(0);throw Error(l+"NaN")}for(e=B(c),s=!1,0==(i=Math.sqrt(+c))||i==1/0?(((t=b(c.d)).length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=A((e+1)/2)-(e<0||e%2),r=new u(t=i==1/0?"5e"+e:(t=i.toExponential()).slice(0,t.indexOf("e")+1)+e)):r=new u(i.toString()),i=o=(n=u.precision)+3;;)if(r=(a=r).plus(w(c,a,o+2)).times(.5),b(a.d).slice(0,o)===(t=b(r.d)).slice(0,o)){if(t=t.slice(o-3,o+1),i==o&&"4999"==t){if(E(a,n+1,0),a.times(a).eq(c)){r=a;break}}else if("9999"!=t)break;o+=4}return s=!0,E(r,n)},m.times=m.mul=function(e){var t,n,r,i,a,o,l,c,u,A=this,d=A.constructor,h=A.d,p=(e=new d(e)).d;if(!A.s||!e.s)return new d(0);for(e.s*=A.s,n=A.e+e.e,(c=h.length)<(u=p.length)&&(a=h,h=p,p=a,o=c,c=u,u=o),a=[],r=o=c+u;r--;)a.push(0);for(r=u;--r>=0;){for(t=0,i=c+r;i>r;)l=a[i]+p[r]*h[i-r-1]+t,a[i--]=l%f|0,t=l/f|0;a[i]=(a[i]+t)%f|0}for(;!a[--o];)a.pop();return t?++n:a.shift(),e.d=a,e.e=n,s?E(e,d.precision):e},m.toDecimalPlaces=m.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),void 0===e?n:(y(e,0,a),void 0===t?t=r.rounding:y(t,0,8),E(n,e+B(n)+1,t))},m.toExponential=function(e,t){var n,r=this,i=r.constructor;return void 0===e?n=F(r,!0):(y(e,0,a),void 0===t?t=i.rounding:y(t,0,8),n=F(r=E(new i(r),e+1,t),!0,e+1)),n},m.toFixed=function(e,t){var n,r,i=this,o=i.constructor;return void 0===e?F(i):(y(e,0,a),void 0===t?t=o.rounding:y(t,0,8),n=F((r=E(new o(i),e+B(i)+1,t)).abs(),!1,e+B(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)},m.toInteger=m.toint=function(){var e=this,t=e.constructor;return E(new t(e),B(e)+1,t.rounding)},m.toNumber=function(){return+this},m.toPower=m.pow=function(e){var t,n,r,a,o,c,u=this,d=u.constructor,h=+(e=new d(e));if(!e.s)return new d(i);if(!(u=new d(u)).s){if(e.s<1)throw Error(l+"Infinity");return u}if(u.eq(i))return u;if(r=d.precision,e.eq(i))return E(u,r);if(c=(t=e.e)>=(n=e.d.length-1),o=u.s,c){if((n=h<0?-h:h)<=p){for(a=new d(i),t=Math.ceil(r/7+4),s=!1;n%2&&I((a=a.times(u)).d,t),0!==(n=A(n/2));)I((u=u.times(u)).d,t);return s=!0,e.s<0?new d(i).div(a):E(a,r)}}else if(o<0)throw Error(l+"NaN");return o=o<0&&1&e.d[Math.max(t,n)]?-1:1,u.s=1,s=!1,a=e.times(k(u,r+12)),s=!0,(a=x(a)).s=o,a},m.toPrecision=function(e,t){var n,r,i=this,o=i.constructor;return void 0===e?r=F(i,(n=B(i))<=o.toExpNeg||n>=o.toExpPos):(y(e,1,a),void 0===t?t=o.rounding:y(t,0,8),r=F(i=E(new o(i),e,t),e<=(n=B(i))||n<=o.toExpNeg,e)),r},m.toSignificantDigits=m.tosd=function(e,t){var n=this.constructor;return void 0===e?(e=n.precision,t=n.rounding):(y(e,1,a),void 0===t?t=n.rounding:y(t,0,8)),E(new n(this),e,t)},m.toString=m.valueOf=m.val=m.toJSON=function(){var e=this,t=B(e),n=e.constructor;return F(e,t<=n.toExpNeg||t>=n.toExpPos)};var w=function(){function e(e,t){var n,r=0,i=e.length;for(e=e.slice();i--;)n=e[i]*t+r,e[i]=n%f|0,r=n/f|0;return r&&e.unshift(r),e}function t(e,t,n,r){var i,a;if(n!=r)a=n>r?1:-1;else for(i=a=0;i<n;i++)if(e[i]!=t[i]){a=e[i]>t[i]?1:-1;break}return a}function n(e,t,n){for(var r=0;n--;)e[n]-=r,r=e[n]<t[n]?1:0,e[n]=r*f+e[n]-t[n];for(;!e[0]&&e.length>1;)e.shift()}return function(r,i,a,o){var s,c,u,A,d,h,p,g,m,v,y,b,w,x,C,N,k,_,S=r.constructor,F=r.s==i.s?1:-1,I=r.d,j=i.d;if(!r.s)return new S(r);if(!i.s)throw Error(l+"Division by zero");for(c=r.e-i.e,k=j.length,C=I.length,g=(p=new S(F)).d=[],u=0;j[u]==(I[u]||0);)++u;if(j[u]>(I[u]||0)&&--c,(b=null==a?a=S.precision:o?a+(B(r)-B(i))+1:a)<0)return new S(0);if(b=b/7+2|0,u=0,1==k)for(A=0,j=j[0],b++;(u<C||A)&&b--;u++)w=A*f+(I[u]||0),g[u]=w/j|0,A=w%j|0;else{for((A=f/(j[0]+1)|0)>1&&(j=e(j,A),I=e(I,A),k=j.length,C=I.length),x=k,v=(m=I.slice(0,k)).length;v<k;)m[v++]=0;(_=j.slice()).unshift(0),N=j[0],j[1]>=f/2&&++N;do{A=0,(s=t(j,m,k,v))<0?(y=m[0],k!=v&&(y=y*f+(m[1]||0)),(A=y/N|0)>1?(A>=f&&(A=f-1),1==(s=t(d=e(j,A),m,h=d.length,v=m.length))&&(A--,n(d,k<h?_:j,h))):(0==A&&(s=A=1),d=j.slice()),(h=d.length)<v&&d.unshift(0),n(m,d,v),-1==s&&(s=t(j,m,k,v=m.length))<1&&(A++,n(m,k<v?_:j,v)),v=m.length):0===s&&(A++,m=[0]),g[u++]=A,s&&m[0]?m[v++]=I[x]||0:(m=[I[x]],v=1)}while((x++<C||void 0!==m[0])&&b--)}return g[0]||g.shift(),p.e=c,E(p,o?a+B(p)+1:a)}}();function x(e,t){var n,r,a,o,l,c=0,A=0,h=e.constructor,f=h.precision;if(B(e)>16)throw Error(u+B(e));if(!e.s)return new h(i);for(null==t?(s=!1,l=f):l=t,o=new h(.03125);e.abs().gte(.1);)e=e.times(o),A+=5;for(l+=Math.log(d(2,A))/Math.LN10*2+5|0,n=r=a=new h(i),h.precision=l;;){if(r=E(r.times(e),l),n=n.times(++c),b((o=a.plus(w(r,n,l))).d).slice(0,l)===b(a.d).slice(0,l)){for(;A--;)a=E(a.times(a),l);return h.precision=f,null==t?(s=!0,E(a,f)):a}a=o}}function B(e){for(var t=7*e.e,n=e.d[0];n>=10;n/=10)t++;return t}function C(e,t,n){if(t>e.LN10.sd())throw s=!0,n&&(e.precision=n),Error(l+"LN10 precision limit exceeded");return E(new e(e.LN10),t)}function N(e){for(var t="";e--;)t+="0";return t}function k(e,t){var n,r,a,o,c,u,A,d,h,f=1,p=e,g=p.d,m=p.constructor,v=m.precision;if(p.s<1)throw Error(l+(p.s?"NaN":"-Infinity"));if(p.eq(i))return new m(0);if(null==t?(s=!1,d=v):d=t,p.eq(10))return null==t&&(s=!0),C(m,d);if(d+=10,m.precision=d,r=(n=b(g)).charAt(0),o=B(p),!(Math.abs(o)<15e14))return A=C(m,d+2,v).times(o+""),p=k(new m(r+"."+n.slice(1)),d-10).plus(A),m.precision=v,null==t?(s=!0,E(p,v)):p;for(;r<7&&1!=r||1==r&&n.charAt(1)>3;)r=(n=b((p=p.times(e)).d)).charAt(0),f++;for(o=B(p),r>1?(p=new m("0."+n),o++):p=new m(r+"."+n.slice(1)),u=c=p=w(p.minus(i),p.plus(i),d),h=E(p.times(p),d),a=3;;){if(c=E(c.times(h),d),b((A=u.plus(w(c,new m(a),d))).d).slice(0,d)===b(u.d).slice(0,d))return u=u.times(2),0!==o&&(u=u.plus(C(m,d+2,v).times(o+""))),u=w(u,new m(f),d),m.precision=v,null==t?(s=!0,E(u,v)):u;u=A,a+=2}}function _(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;48===t.charCodeAt(r);)++r;for(i=t.length;48===t.charCodeAt(i-1);)--i;if(t=t.slice(r,i)){if(i-=r,n=n-r-1,e.e=A(n/7),e.d=[],r=(n+1)%7,n<0&&(r+=7),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=7;r<i;)e.d.push(+t.slice(r,r+=7));r=7-(t=t.slice(r)).length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),s&&(e.e>g||e.e<-g))throw Error(u+n)}else e.s=0,e.e=0,e.d=[0];return e}function E(e,t,n){var r,i,a,o,l,c,h,p,m=e.d;for(o=1,a=m[0];a>=10;a/=10)o++;if((r=t-o)<0)r+=7,i=t,h=m[p=0];else{if((p=Math.ceil((r+1)/7))>=(a=m.length))return e;for(h=a=m[p],o=1;a>=10;a/=10)o++;i=(r%=7)-7+o}if(void 0!==n&&(l=h/(a=d(10,o-i-1))%10|0,c=t<0||void 0!==m[p+1]||h%a,c=n<4?(l||c)&&(0==n||n==(e.s<0?3:2)):l>5||5==l&&(4==n||c||6==n&&(r>0?i>0?h/d(10,o-i):0:m[p-1])%10&1||n==(e.s<0?8:7))),t<1||!m[0])return c?(a=B(e),m.length=1,t=t-a-1,m[0]=d(10,(7-t%7)%7),e.e=A(-t/7)||0):(m.length=1,m[0]=e.e=e.s=0),e;if(0==r?(m.length=p,a=1,p--):(m.length=p+1,a=d(10,7-r),m[p]=i>0?(h/d(10,o-i)%d(10,i)|0)*a:0),c)for(;;){if(0==p){(m[0]+=a)==f&&(m[0]=1,++e.e);break}if(m[p]+=a,m[p]!=f)break;m[p--]=0,a=1}for(r=m.length;0===m[--r];)m.pop();if(s&&(e.e>g||e.e<-g))throw Error(u+B(e));return e}function S(e,t){var n,r,i,a,o,l,c,u,A,d,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),s?E(t,p):t;if(c=e.d,d=t.d,r=t.e,u=e.e,c=c.slice(),o=u-r){for((A=o<0)?(n=c,o=-o,l=d.length):(n=d,r=u,l=c.length),o>(i=Math.max(Math.ceil(p/7),l)+2)&&(o=i,n.length=1),n.reverse(),i=o;i--;)n.push(0);n.reverse()}else{for((A=(i=c.length)<(l=d.length))&&(l=i),i=0;i<l;i++)if(c[i]!=d[i]){A=c[i]<d[i];break}o=0}for(A&&(n=c,c=d,d=n,t.s=-t.s),l=c.length,i=d.length-l;i>0;--i)c[l++]=0;for(i=d.length;i>o;){if(c[--i]<d[i]){for(a=i;a&&0===c[--a];)c[a]=f-1;--c[a],c[i]+=f}c[i]-=d[i]}for(;0===c[--l];)c.pop();for(;0===c[0];c.shift())--r;return c[0]?(t.d=c,t.e=r,s?E(t,p):t):new h(0)}function F(e,t,n){var r,i=B(e),a=b(e.d),o=a.length;return t?(n&&(r=n-o)>0?a=a.charAt(0)+"."+a.slice(1)+N(r):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+N(-i-1)+a,n&&(r=n-o)>0&&(a+=N(r))):i>=o?(a+=N(i+1-o),n&&(r=n-i-1)>0&&(a=a+"."+N(r))):((r=i+1)<o&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-o)>0&&(i+1===o&&(a+="."),a+=N(r))),e.s<0?"-"+a:a}function I(e,t){if(e.length>t)return e.length=t,!0}function j(e){if(!e||"object"!==typeof e)throw Error(l+"Object expected");var t,n,r,i=["precision",1,a,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if(void 0!==(r=e[n=i[t]])){if(!(A(r)===r&&r>=i[t+1]&&r<=i[t+2]))throw Error(c+n+": "+r);this[n]=r}if(void 0!==(r=e[n="LN10"])){if(r!=Math.LN10)throw Error(c+n+": "+r);this[n]=new this(r)}return this}o=function e(t){var n,r,i;function a(e){var t=this;if(!(t instanceof a))return new a(e);if(t.constructor=a,e instanceof a)return t.s=e.s,t.e=e.e,void(t.d=(e=e.d)?e.slice():e);if("number"===typeof e){if(0*e!==0)throw Error(c+e);if(e>0)t.s=1;else{if(!(e<0))return t.s=0,t.e=0,void(t.d=[0]);e=-e,t.s=-1}return e===~~e&&e<1e7?(t.e=0,void(t.d=[e])):_(t,e.toString())}if("string"!==typeof e)throw Error(c+e);if(45===e.charCodeAt(0)?(e=e.slice(1),t.s=-1):t.s=1,!h.test(e))throw Error(c+e);_(t,e)}if(a.prototype=m,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=e,a.config=a.set=j,void 0===t&&(t={}),t)for(i=["precision","rounding","toExpNeg","toExpPos","LN10"],n=0;n<i.length;)t.hasOwnProperty(r=i[n++])||(t[r]=this[r]);return a.config(t),a}(o),o.default=o.Decimal=o,i=new o(1),void 0===(r=function(){return o}.call(t,n,t,e))||(e.exports=r)}()},4879:(e,t,n)=>{e.exports=n(8146).get},4980:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var r=n(2284);function i(e){var t=function(e,t){if("object"!=(0,r.A)(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=(0,r.A)(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==(0,r.A)(t)?t:t+""}function a(e,t,n){return(t=i(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},5031:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(6301),i=n(1083);t.toPath=function(e){if(Array.isArray(e))return e.map(i.toKey);if("symbol"===typeof e)return[e];const t=[],n=(e=r.toString(e)).length;if(0===n)return t;let a=0,o="",s="",l=!1;for(46===e.charCodeAt(0)&&(t.push(""),a++);a<n;){const r=e[a];s?"\\"===r&&a+1<n?(a++,o+=e[a]):r===s?s="":o+=r:l?'"'===r||"'"===r?s=r:"]"===r?(l=!1,t.push(o),o=""):o+=r:"["===r?(l=!0,o&&(t.push(o),o="")):"."===r?o&&(t.push(o),o=""):o+=r,a++}return o&&t.push(o),t}},5230:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(9223);t.isArguments=function(e){return null!==e&&"object"===typeof e&&"[object Arguments]"===r.getTag(e)}},5340:(e,t,n)=>{"use strict";e.exports=n(1761)},5399:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(1311);t.isMatch=function(e,t){return r.isMatchWith(e,t,()=>{})}},5438:e=>{"use strict";var t=Object.prototype.hasOwnProperty,n="~";function r(){}function i(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function a(e,t,r,a,o){if("function"!==typeof r)throw new TypeError("The listener must be a function");var s=new i(r,a||e,o),l=n?n+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],s]:e._events[l].push(s):(e._events[l]=s,e._eventsCount++),e}function o(e,t){0===--e._eventsCount?e._events=new r:delete e._events[t]}function s(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),s.prototype.eventNames=function(){var e,r,i=[];if(0===this._eventsCount)return i;for(r in e=this._events)t.call(e,r)&&i.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},s.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,a=r.length,o=new Array(a);i<a;i++)o[i]=r[i].fn;return o},s.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},s.prototype.emit=function(e,t,r,i,a,o){var s=n?n+e:e;if(!this._events[s])return!1;var l,c,u=this._events[s],A=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),A){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,r),!0;case 4:return u.fn.call(u.context,t,r,i),!0;case 5:return u.fn.call(u.context,t,r,i,a),!0;case 6:return u.fn.call(u.context,t,r,i,a,o),!0}for(c=1,l=new Array(A-1);c<A;c++)l[c-1]=arguments[c];u.fn.apply(u.context,l)}else{var d,h=u.length;for(c=0;c<h;c++)switch(u[c].once&&this.removeListener(e,u[c].fn,void 0,!0),A){case 1:u[c].fn.call(u[c].context);break;case 2:u[c].fn.call(u[c].context,t);break;case 3:u[c].fn.call(u[c].context,t,r);break;case 4:u[c].fn.call(u[c].context,t,r,i);break;default:if(!l)for(d=1,l=new Array(A-1);d<A;d++)l[d-1]=arguments[d];u[c].fn.apply(u[c].context,l)}}return!0},s.prototype.on=function(e,t,n){return a(this,e,t,n,!1)},s.prototype.once=function(e,t,n){return a(this,e,t,n,!0)},s.prototype.removeListener=function(e,t,r,i){var a=n?n+e:e;if(!this._events[a])return this;if(!t)return o(this,a),this;var s=this._events[a];if(s.fn)s.fn!==t||i&&!s.once||r&&s.context!==r||o(this,a);else{for(var l=0,c=[],u=s.length;l<u;l++)(s[l].fn!==t||i&&!s[l].once||r&&s[l].context!==r)&&c.push(s[l]);c.length?this._events[a]=1===c.length?c[0]:c:o(this,a)}return this},s.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&o(this,t)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,e.exports=s},5497:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(9363),i=n(8897),a=n(2718);t.sortBy=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];const s=n.length;return s>1&&a.isIterateeCall(e,n[0],n[1])?n=[]:s>2&&a.isIterateeCall(n[0],n[1],n[2])&&(n=[n[0]]),r.orderBy(e,i.flatten(n),["asc"])}},5573:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(6537);t.cloneDeep=function(e){return r.cloneDeepWith(e)}},5698:(e,t)=>{"use strict";function n(e){return"symbol"===typeof e?1:null===e?2:void 0===e?3:e!==e?4:0}Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});t.compareValues=(e,t,r)=>{if(e!==t){const i=n(e),a=n(t);if(i===a&&0===i){if(e<t)return"desc"===r?1:-1;if(e>t)return"desc"===r?-1:1}return"desc"===r?a-i:i-a}return 0}},5825:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(8146);t.property=function(e){return function(t){return r.get(t,e)}}},5942:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(1098),i=n(7431),a=n(5230),o=n(5031);t.has=function(e,t){let n;if(n=Array.isArray(t)?t:"string"===typeof t&&r.isDeepKey(t)&&null==(null===e||void 0===e?void 0:e[t])?o.toPath(t):[t],0===n.length)return!1;let s=e;for(let r=0;r<n.length;r++){const e=n[r];if(null==s||!Object.hasOwn(s,e)){if(!((Array.isArray(s)||a.isArguments(s))&&i.isIndex(e)&&e<s.length))return!1}s=s[e]}return!0}},6135:(e,t,n)=>{e.exports=n(6633).throttle},6301:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.toString=function e(t){if(null==t)return"";if("string"===typeof t)return t;if(Array.isArray(t))return t.map(e).join(",");const n=String(t);return"0"===n&&Object.is(Number(t),-0)?"-0":n}},6537:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(9690),i=n(3470);t.cloneDeepWith=function(e,t){return r.cloneDeepWith(e,(n,a,o,s)=>{const l=null===t||void 0===t?void 0:t(n,a,o,s);if(void 0!==l)return l;if("object"===typeof e)switch(Object.prototype.toString.call(e)){case i.numberTag:case i.stringTag:case i.booleanTag:{const t=new e.constructor(null===e||void 0===e?void 0:e.valueOf());return r.copyProperties(t,e),t}case i.argumentsTag:{const t={};return r.copyProperties(t,e),t.length=e.length,t[Symbol.iterator]=e[Symbol.iterator],t}default:return}})}},6538:(e,t,n)=>{"use strict";e.exports=n(759)},6567:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(1921);t.toFinite=function(e){if(!e)return 0===e?e:0;if((e=r.toNumber(e))===1/0||e===-1/0){return(e<0?-1:1)*Number.MAX_VALUE}return e===e?e:0}},6633:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(2742);t.throttle=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{leading:i=!0,trailing:a=!0}=n;return r.debounce(e,t,{leading:i,maxWait:t,trailing:a})}},6667:(e,t,n)=>{e.exports=n(6928).last},6879:(e,t)=>{"use strict";var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.for("react.view_transition"),p=Symbol.for("react.client.reference");function g(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case i:case o:case a:case u:case A:case f:return e;default:switch(e=e&&e.$$typeof){case l:case c:case h:case d:case s:return e;default:return t}}case r:return t}}}t.zv=function(e){return g(e)===i}},6907:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.debounce=function(e,t){let n,{signal:r,edges:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=null;const o=null!=i&&i.includes("leading"),s=null==i||i.includes("trailing"),l=()=>{null!==a&&(e.apply(n,a),n=void 0,a=null)};let c=null;const u=()=>{null!=c&&clearTimeout(c),c=setTimeout(()=>{c=null,s&&l(),A()},t)},A=()=>{null!==c&&(clearTimeout(c),c=null),n=void 0,a=null},d=function(){if(null!==r&&void 0!==r&&r.aborted)return;n=this;for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];a=t;const s=null==c;u(),o&&s&&l()};return d.schedule=u,d.cancel=A,d.flush=()=>{l()},null===r||void 0===r||r.addEventListener("abort",A,{once:!0}),d}},6928:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(1047),i=n(225),a=n(7740);t.last=function(e){if(a.isArrayLike(e))return r.last(i.toArray(e))}},7108:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isSymbol=function(e){return"symbol"===typeof e||e instanceof Symbol}},7119:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(8345)},7254:(e,t,n)=>{"use strict";var r=n(9950);var i="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},a=r.useSyncExternalStore,o=r.useRef,s=r.useEffect,l=r.useMemo,c=r.useDebugValue},7256:(e,t,n)=>{"use strict";n(7254)},7384:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(11),i=n(1810),a=n(3787),o=n(1640);t.uniqBy=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.identity;return a.isArrayLikeObject(e)?r.uniqBy(Array.from(e),o.iteratee(t)):[]}},7431:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=/^(?:0|[1-9]\d*)$/;t.isIndex=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_SAFE_INTEGER;switch(typeof e){case"number":return Number.isInteger(e)&&e>=0&&e<t;case"symbol":return!1;case"string":return n.test(e)}}},7736:(e,t,n)=>{var r=n(3738).default,i=n(9045);e.exports=function(e){var t=i(e,"string");return"symbol"==r(t)?t:t+""},e.exports.__esModule=!0,e.exports.default=e.exports},7740:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(1111);t.isArrayLike=function(e){return null!=e&&"function"!==typeof e&&r.isLength(e.length)}},7774:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(2718),i=n(6567);t.range=function(e,t,n){n&&"number"!==typeof n&&r.isIterateeCall(e,t,n)&&(t=n=void 0),e=i.toFinite(e),void 0===t?(t=e,e=0):t=i.toFinite(t),n=void 0===n?e<t?1:-1:i.toFinite(n);const a=Math.max(Math.ceil((t-e)/(n||1)),0),o=new Array(a);for(let r=0;r<a;r++)o[r]=e,e+=n;return o}},8146:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(4195),i=n(1098),a=n(1083),o=n(5031);t.get=function e(t,n,s){if(null==t)return s;switch(typeof n){case"string":{if(r.isUnsafeProperty(n))return s;const a=t[n];return void 0===a?i.isDeepKey(n)?e(t,o.toPath(n),s):s:a}case"number":case"symbol":{"number"===typeof n&&(n=a.toKey(n));const e=t[n];return void 0===e?s:e}default:{var l;if(Array.isArray(n))return function(e,t,n){if(0===t.length)return n;let i=e;for(let a=0;a<t.length;a++){if(null==i)return n;if(r.isUnsafeProperty(t[a]))return n;i=i[t[a]]}if(void 0===i)return n;return i}(t,n,s);if(n=Object.is(null===(l=n)||void 0===l?void 0:l.valueOf(),-0)?"-0":String(n),r.isUnsafeProperty(n))return s;const e=t[n];return void 0===e?s:e}}}},8316:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isObjectLike=function(e){return"object"===typeof e&&null!==e}},8345:(e,t,n)=>{"use strict";var r=n(9950),i=n(5340);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,s={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)o.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),A=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},f={};function p(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){g[e]=new p(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];g[t]=new p(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){g[e]=new p(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){g[e]=new p(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){g[e]=new p(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){g[e]=new p(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){g[e]=new p(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){g[e]=new p(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){g[e]=new p(e,5,!1,e.toLowerCase(),null,!1,!1)});var m=/[\-:]([a-z])/g;function v(e){return e[1].toUpperCase()}function y(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!A.call(f,e)||!A.call(h,e)&&(d.test(e)?f[e]=!0:(h[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(m,v);g[t]=new p(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(m,v);g[t]=new p(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(m,v);g[t]=new p(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){g[e]=new p(e,1,!1,e.toLowerCase(),null,!1,!1)}),g.xlinkHref=new p("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){g[e]=new p(e,1,!1,e.toLowerCase(),null,!0,!0)});var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),x=Symbol.for("react.portal"),B=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),_=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),F=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),j=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var U=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var O=Symbol.iterator;function P(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=O&&e[O]||e["@@iterator"])?e:null}var L,D=Object.assign;function T(e){if(void 0===L)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var M=!1;function Q(e,t){if(!e||M)return"";M=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s]){var l="\n"+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=o&&0<=s);break}}}finally{M=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?T(e):""}function R(e){switch(e.tag){case 5:return T(e.type);case 16:return T("Lazy");case 13:return T("Suspense");case 19:return T("SuspenseList");case 0:case 2:case 15:return e=Q(e.type,!1);case 11:return e=Q(e.type.render,!1);case 1:return e=Q(e.type,!0);default:return""}}function H(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case B:return"Fragment";case x:return"Portal";case N:return"Profiler";case C:return"StrictMode";case S:return"Suspense";case F:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case _:return(e.displayName||"Context")+".Consumer";case k:return(e._context.displayName||"Context")+".Provider";case E:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case I:return null!==(t=e.displayName||null)?t:H(e.type)||"Memo";case j:t=e._payload,e=e._init;try{return H(e(t))}catch(n){}}return null}function z(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return H(t);case 8:return t===C?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function K(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function V(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=W(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function X(e,t){var n=t.checked;return D({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=K(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function J(e,t){null!=(t=t.checked)&&y(e,"checked",t,!1)}function Z(e,t){J(e,t);var n=K(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,K(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function $(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+K(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return D({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:K(n)}}function ae(e,t){var n=K(t.value),r=K(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,Ae=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return ue(e,t)})}:ue);function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var he={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fe=["Webkit","ms","Moz","O"];function pe(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||he.hasOwnProperty(e)&&he[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=pe(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(he).forEach(function(e){fe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),he[t]=he[e]})});var me=D({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ve(e,t){if(t){if(me[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function ye(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,Be=null,Ce=null;function Ne(e){if(e=yi(e)){if("function"!==typeof xe)throw Error(a(280));var t=e.stateNode;t&&(t=wi(t),xe(e.stateNode,e.type,t))}}function ke(e){Be?Ce?Ce.push(e):Ce=[e]:Be=e}function _e(){if(Be){var e=Be,t=Ce;if(Ce=Be=null,Ne(e),t)for(e=0;e<t.length;e++)Ne(t[e])}}function Ee(e,t){return e(t)}function Se(){}var Fe=!1;function Ie(e,t,n){if(Fe)return e(t,n);Fe=!0;try{return Ee(e,t,n)}finally{Fe=!1,(null!==Be||null!==Ce)&&(Se(),_e())}}function je(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Ue=!1;if(u)try{var Oe={};Object.defineProperty(Oe,"passive",{get:function(){Ue=!0}}),window.addEventListener("test",Oe,Oe),window.removeEventListener("test",Oe,Oe)}catch(ue){Ue=!1}function Pe(e,t,n,r,i,a,o,s,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Le=!1,De=null,Te=!1,Me=null,Qe={onError:function(e){Le=!0,De=e}};function Re(e,t,n,r,i,a,o,s,l){Le=!1,De=null,Pe.apply(Qe,arguments)}function He(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function ze(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ke(e){if(He(e)!==e)throw Error(a(188))}function We(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=He(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Ke(i),e;if(o===r)return Ke(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=o;break}if(l===r){s=!0,r=i,n=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===n){s=!0,n=o,r=i;break}if(l===r){s=!0,r=o,n=i;break}l=l.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?Ve(e):null}function Ve(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ve(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,qe=i.unstable_cancelCallback,Xe=i.unstable_shouldYield,Ye=i.unstable_requestPaint,Je=i.unstable_now,Ze=i.unstable_getCurrentPriorityLevel,$e=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/lt|0)|0},st=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function At(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var s=o&~i;0!==s?r=At(s):0!==(a&=o)&&(r=At(a))}else 0!==(o=n&~i)?r=At(o):0!==a&&(r=At(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function ht(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ft(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function pt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function mt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function vt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var yt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,xt,Bt,Ct,Nt,kt=!1,_t=[],Et=null,St=null,Ft=null,It=new Map,jt=new Map,Ut=[],Ot="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Pt(e,t){switch(e){case"focusin":case"focusout":Et=null;break;case"dragenter":case"dragleave":St=null;break;case"mouseover":case"mouseout":Ft=null;break;case"pointerover":case"pointerout":It.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":jt.delete(t.pointerId)}}function Lt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=yi(t))&&xt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Dt(e){var t=vi(e.target);if(null!==t){var n=He(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=ze(n)))return e.blockedOn=t,void Nt(e.priority,function(){Bt(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Tt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Xt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=yi(n))&&xt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Mt(e,t,n){Tt(e)&&n.delete(t)}function Qt(){kt=!1,null!==Et&&Tt(Et)&&(Et=null),null!==St&&Tt(St)&&(St=null),null!==Ft&&Tt(Ft)&&(Ft=null),It.forEach(Mt),jt.forEach(Mt)}function Rt(e,t){e.blockedOn===t&&(e.blockedOn=null,kt||(kt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Qt)))}function Ht(e){function t(t){return Rt(t,e)}if(0<_t.length){Rt(_t[0],e);for(var n=1;n<_t.length;n++){var r=_t[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Et&&Rt(Et,e),null!==St&&Rt(St,e),null!==Ft&&Rt(Ft,e),It.forEach(t),jt.forEach(t),n=0;n<Ut.length;n++)(r=Ut[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Ut.length&&null===(n=Ut[0]).blockedOn;)Dt(n),null===n.blockedOn&&Ut.shift()}var zt=b.ReactCurrentBatchConfig,Kt=!0;function Wt(e,t,n,r){var i=yt,a=zt.transition;zt.transition=null;try{yt=1,Gt(e,t,n,r)}finally{yt=i,zt.transition=a}}function Vt(e,t,n,r){var i=yt,a=zt.transition;zt.transition=null;try{yt=4,Gt(e,t,n,r)}finally{yt=i,zt.transition=a}}function Gt(e,t,n,r){if(Kt){var i=Xt(e,t,n,r);if(null===i)Kr(e,t,r,qt,n),Pt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Et=Lt(Et,e,t,n,r,i),!0;case"dragenter":return St=Lt(St,e,t,n,r,i),!0;case"mouseover":return Ft=Lt(Ft,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return It.set(a,Lt(It.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,jt.set(a,Lt(jt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Pt(e,r),4&t&&-1<Ot.indexOf(e)){for(;null!==i;){var a=yi(i);if(null!==a&&wt(a),null===(a=Xt(e,t,n,r))&&Kr(e,t,r,qt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Kr(e,t,r,null,n)}}var qt=null;function Xt(e,t,n,r){if(qt=null,null!==(e=vi(e=we(r))))if(null===(t=He(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=ze(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return qt=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ze()){case $e:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Jt=null,Zt=null,$t=null;function en(){if($t)return $t;var e,t,n=Zt,r=n.length,i="value"in Jt?Jt.value:Jt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return $t=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return D(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,sn,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=an(cn),An=D({},cn,{view:0,detail:0}),dn=an(An),hn=D({},An,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Nn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(on=e.screenX-ln.screenX,sn=e.screenY-ln.screenY):sn=on=0,ln=e),on)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),fn=an(hn),pn=an(D({},hn,{dataTransfer:0})),gn=an(D({},An,{relatedTarget:0})),mn=an(D({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),vn=D({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),yn=an(vn),bn=an(D({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Bn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Bn[e])&&!!t[e]}function Nn(){return Cn}var kn=D({},An,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Nn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),_n=an(kn),En=an(D({},hn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Sn=an(D({},An,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Nn})),Fn=an(D({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),In=D({},hn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),jn=an(In),Un=[9,13,27,32],On=u&&"CompositionEvent"in window,Pn=null;u&&"documentMode"in document&&(Pn=document.documentMode);var Ln=u&&"TextEvent"in window&&!Pn,Dn=u&&(!On||Pn&&8<Pn&&11>=Pn),Tn=String.fromCharCode(32),Mn=!1;function Qn(e,t){switch(e){case"keyup":return-1!==Un.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Rn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Hn=!1;var zn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!zn[e.type]:"textarea"===t}function Wn(e,t,n,r){ke(r),0<(t=Vr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Vn=null,Gn=null;function qn(e){Tr(e,0)}function Xn(e){if(G(bi(e)))return e}function Yn(e,t){if("change"===e)return t}var Jn=!1;if(u){var Zn;if(u){var $n="oninput"in document;if(!$n){var er=document.createElement("div");er.setAttribute("oninput","return;"),$n="function"===typeof er.oninput}Zn=$n}else Zn=!1;Jn=Zn&&(!document.documentMode||9<document.documentMode)}function tr(){Vn&&(Vn.detachEvent("onpropertychange",nr),Gn=Vn=null)}function nr(e){if("value"===e.propertyName&&Xn(Gn)){var t=[];Wn(t,Gn,e,we(e)),Ie(qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(Vn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Xn(Gn)}function ar(e,t){if("click"===e)return Xn(t)}function or(e,t){if("input"===e||"change"===e)return Xn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!A.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function Ar(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?Ar(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function dr(){for(var e=window,t=q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=q((e=t.contentWindow).document)}return t}function hr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function fr(e){var t=dr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Ar(n.ownerDocument.documentElement,n)){if(null!==r&&hr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=ur(n,a);var o=ur(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var pr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,mr=null,vr=null,yr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;yr||null==gr||gr!==q(r)||("selectionStart"in(r=gr)&&hr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},vr&&lr(vr,r)||(vr=r,0<(r=Vr(mr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},Br={},Cr={};function Nr(e){if(Br[e])return Br[e];if(!xr[e])return e;var t,n=xr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Cr)return Br[e]=n[t];return e}u&&(Cr=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);var kr=Nr("animationend"),_r=Nr("animationiteration"),Er=Nr("animationstart"),Sr=Nr("transitionend"),Fr=new Map,Ir="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function jr(e,t){Fr.set(e,t),l(t,[e])}for(var Ur=0;Ur<Ir.length;Ur++){var Or=Ir[Ur];jr(Or.toLowerCase(),"on"+(Or[0].toUpperCase()+Or.slice(1)))}jr(kr,"onAnimationEnd"),jr(_r,"onAnimationIteration"),jr(Er,"onAnimationStart"),jr("dblclick","onDoubleClick"),jr("focusin","onFocus"),jr("focusout","onBlur"),jr(Sr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Pr));function Dr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,s,l,c){if(Re.apply(this,arguments),Le){if(!Le)throw Error(a(198));var u=De;Le=!1,De=null,Te||(Te=!0,Me=u)}}(r,t,void 0,e),e.currentTarget=null}function Tr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==a&&i.isPropagationStopped())break e;Dr(i,s,c),a=l}else for(o=0;o<r.length;o++){if(l=(s=r[o]).instance,c=s.currentTarget,s=s.listener,l!==a&&i.isPropagationStopped())break e;Dr(i,s,c),a=l}}}if(Te)throw e=Me,Te=!1,Me=null,e}function Mr(e,t){var n=t[pi];void 0===n&&(n=t[pi]=new Set);var r=e+"__bubble";n.has(r)||(zr(t,e,2,!1),n.add(r))}function Qr(e,t,n){var r=0;t&&(r|=4),zr(n,e,r,t)}var Rr="_reactListening"+Math.random().toString(36).slice(2);function Hr(e){if(!e[Rr]){e[Rr]=!0,o.forEach(function(t){"selectionchange"!==t&&(Lr.has(t)||Qr(t,!1,e),Qr(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Rr]||(t[Rr]=!0,Qr("selectionchange",!1,t))}}function zr(e,t,n,r){switch(Yt(t)){case 1:var i=Wt;break;case 4:i=Vt;break;default:i=Gt}n=i.bind(null,t,n,e),i=void 0,!Ue||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Kr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=vi(s)))return;if(5===(l=o.tag)||6===l){r=a=o;continue e}s=s.parentNode}}r=r.return}Ie(function(){var r=a,i=we(n),o=[];e:{var s=Fr.get(e);if(void 0!==s){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=_n;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=fn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=pn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Sn;break;case kr:case _r:case Er:l=mn;break;case Sr:l=Fn;break;case"scroll":l=dn;break;case"wheel":l=jn;break;case"copy":case"cut":case"paste":l=yn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=En}var u=0!==(4&t),A=!u&&"scroll"===e,d=u?null!==s?s+"Capture":null:s;u=[];for(var h,f=r;null!==f;){var p=(h=f).stateNode;if(5===h.tag&&null!==p&&(h=p,null!==d&&(null!=(p=je(f,d))&&u.push(Wr(f,p,h)))),A)break;f=f.return}0<u.length&&(s=new l(s,c,null,n,i),o.push({event:s,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!vi(c)&&!c[fi])&&(l||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?vi(c):null)&&(c!==(A=He(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=fn,p="onMouseLeave",d="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(u=En,p="onPointerLeave",d="onPointerEnter",f="pointer"),A=null==l?s:bi(l),h=null==c?s:bi(c),(s=new u(p,f+"leave",l,n,i)).target=A,s.relatedTarget=h,p=null,vi(i)===r&&((u=new u(d,f+"enter",c,n,i)).target=h,u.relatedTarget=A,p=u),A=p,l&&c)e:{for(d=c,f=0,h=u=l;h;h=Gr(h))f++;for(h=0,p=d;p;p=Gr(p))h++;for(;0<f-h;)u=Gr(u),f--;for(;0<h-f;)d=Gr(d),h--;for(;f--;){if(u===d||null!==d&&u===d.alternate)break e;u=Gr(u),d=Gr(d)}u=null}else u=null;null!==l&&qr(o,s,l,u,!1),null!==c&&null!==A&&qr(o,A,c,u,!0)}if("select"===(l=(s=r?bi(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var g=Yn;else if(Kn(s))if(Jn)g=or;else{g=ir;var m=rr}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(g=ar);switch(g&&(g=g(e,r))?Wn(o,g,n,i):(m&&m(e,s,r),"focusout"===e&&(m=s._wrapperState)&&m.controlled&&"number"===s.type&&ee(s,"number",s.value)),m=r?bi(r):window,e){case"focusin":(Kn(m)||"true"===m.contentEditable)&&(gr=m,mr=r,vr=null);break;case"focusout":vr=mr=gr=null;break;case"mousedown":yr=!0;break;case"contextmenu":case"mouseup":case"dragend":yr=!1,br(o,n,i);break;case"selectionchange":if(pr)break;case"keydown":case"keyup":br(o,n,i)}var v;if(On)e:{switch(e){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else Hn?Qn(e,n)&&(y="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(y="onCompositionStart");y&&(Dn&&"ko"!==n.locale&&(Hn||"onCompositionStart"!==y?"onCompositionEnd"===y&&Hn&&(v=en()):(Zt="value"in(Jt=i)?Jt.value:Jt.textContent,Hn=!0)),0<(m=Vr(r,y)).length&&(y=new bn(y,e,null,n,i),o.push({event:y,listeners:m}),v?y.data=v:null!==(v=Rn(n))&&(y.data=v))),(v=Ln?function(e,t){switch(e){case"compositionend":return Rn(t);case"keypress":return 32!==t.which?null:(Mn=!0,Tn);case"textInput":return(e=t.data)===Tn&&Mn?null:e;default:return null}}(e,n):function(e,t){if(Hn)return"compositionend"===e||!On&&Qn(e,t)?(e=en(),$t=Zt=Jt=null,Hn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Dn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Vr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=v))}Tr(o,t)})}function Wr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Vr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=je(e,n))&&r.unshift(Wr(e,a,i)),null!=(a=je(e,t))&&r.push(Wr(e,a,i))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function qr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,l=s.alternate,c=s.stateNode;if(null!==l&&l===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(l=je(n,a))&&o.unshift(Wr(n,l,s)):i||null!=(l=je(n,a))&&o.push(Wr(n,l,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Xr=/\r\n?/g,Yr=/\u0000|\uFFFD/g;function Jr(e){return("string"===typeof e?e:""+e).replace(Xr,"\n").replace(Yr,"")}function Zr(e,t,n){if(t=Jr(t),Jr(e)!==t&&n)throw Error(a(425))}function $r(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout(function(){throw e})}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Ht(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Ht(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ui(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Ai=Math.random().toString(36).slice(2),di="__reactFiber$"+Ai,hi="__reactProps$"+Ai,fi="__reactContainer$"+Ai,pi="__reactEvents$"+Ai,gi="__reactListeners$"+Ai,mi="__reactHandles$"+Ai;function vi(e){var t=e[di];if(t)return t;for(var n=e.parentNode;n;){if(t=n[fi]||n[di]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ui(e);null!==e;){if(n=e[di])return n;e=ui(e)}return t}n=(e=n).parentNode}return null}function yi(e){return!(e=e[di]||e[fi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function wi(e){return e[hi]||null}var xi=[],Bi=-1;function Ci(e){return{current:e}}function Ni(e){0>Bi||(e.current=xi[Bi],xi[Bi]=null,Bi--)}function ki(e,t){Bi++,xi[Bi]=e.current,e.current=t}var _i={},Ei=Ci(_i),Si=Ci(!1),Fi=_i;function Ii(e,t){var n=e.type.contextTypes;if(!n)return _i;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function ji(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ui(){Ni(Si),Ni(Ei)}function Oi(e,t,n){if(Ei.current!==_i)throw Error(a(168));ki(Ei,t),ki(Si,n)}function Pi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,z(e)||"Unknown",i));return D({},n,r)}function Li(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||_i,Fi=Ei.current,ki(Ei,e),ki(Si,Si.current),!0}function Di(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Pi(e,t,Fi),r.__reactInternalMemoizedMergedChildContext=e,Ni(Si),Ni(Ei),ki(Ei,e)):Ni(Si),ki(Si,n)}var Ti=null,Mi=!1,Qi=!1;function Ri(e){null===Ti?Ti=[e]:Ti.push(e)}function Hi(){if(!Qi&&null!==Ti){Qi=!0;var e=0,t=yt;try{var n=Ti;for(yt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Ti=null,Mi=!1}catch(i){throw null!==Ti&&(Ti=Ti.slice(e+1)),Ge($e,Hi),i}finally{yt=t,Qi=!1}}return null}var zi=[],Ki=0,Wi=null,Vi=0,Gi=[],qi=0,Xi=null,Yi=1,Ji="";function Zi(e,t){zi[Ki++]=Vi,zi[Ki++]=Wi,Wi=e,Vi=t}function $i(e,t,n){Gi[qi++]=Yi,Gi[qi++]=Ji,Gi[qi++]=Xi,Xi=e;var r=Yi;e=Ji;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Yi=1<<32-ot(t)+i|n<<i|r,Ji=a+e}else Yi=1<<a|n<<i|r,Ji=e}function ea(e){null!==e.return&&(Zi(e,1),$i(e,1,0))}function ta(e){for(;e===Wi;)Wi=zi[--Ki],zi[Ki]=null,Vi=zi[--Ki],zi[Ki]=null;for(;e===Xi;)Xi=Gi[--qi],Gi[qi]=null,Ji=Gi[--qi],Gi[qi]=null,Yi=Gi[--qi],Gi[qi]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Ic(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function sa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Xi?{id:Yi,overflow:Ji}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Ic(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function la(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(ia){var t=ra;if(t){var n=t;if(!sa(e,t)){if(la(e))throw Error(a(418));t=ci(n.nextSibling);var r=na;t&&sa(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(la(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function ua(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function Aa(e){if(e!==na)return!1;if(!ia)return ua(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(la(e))throw da(),Error(a(418));for(;t;)oa(e,t),t=ci(t.nextSibling)}if(ua(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?ci(e.stateNode.nextSibling):null;return!0}function da(){for(var e=ra;e;)e=ci(e.nextSibling)}function ha(){ra=na=null,ia=!1}function fa(e){null===aa?aa=[e]:aa.push(e)}var pa=b.ReactCurrentBatchConfig;function ga(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function ma(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function va(e){return(0,e._init)(e._payload)}function ya(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Uc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Dc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===B?A(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===j&&va(a)===t.type)?((r=i(t,n.props)).ref=ga(e,t,n),r.return=e,r):((r=Oc(n.type,n.key,n.props,null,e.mode,r)).ref=ga(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Tc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function A(e,t,n,r,a){return null===t||7!==t.tag?((t=Pc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Dc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Oc(t.type,t.key,t.props,null,e.mode,n)).ref=ga(e,null,t),n.return=e,n;case x:return(t=Tc(t,e.mode,n)).return=e,t;case j:return d(e,(0,t._init)(t._payload),n)}if(te(t)||P(t))return(t=Pc(t,e.mode,n,null)).return=e,t;ma(e,t)}return null}function h(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case x:return n.key===i?u(e,t,n,r):null;case j:return h(e,t,(i=n._init)(n._payload),r)}if(te(n)||P(n))return null!==i?null:A(e,t,n,r,null);ma(e,n)}return null}function f(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case x:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case j:return f(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||P(r))return A(t,e=e.get(n)||null,r,i,null);ma(t,r)}return null}function p(i,a,s,l){for(var c=null,u=null,A=a,p=a=0,g=null;null!==A&&p<s.length;p++){A.index>p?(g=A,A=null):g=A.sibling;var m=h(i,A,s[p],l);if(null===m){null===A&&(A=g);break}e&&A&&null===m.alternate&&t(i,A),a=o(m,a,p),null===u?c=m:u.sibling=m,u=m,A=g}if(p===s.length)return n(i,A),ia&&Zi(i,p),c;if(null===A){for(;p<s.length;p++)null!==(A=d(i,s[p],l))&&(a=o(A,a,p),null===u?c=A:u.sibling=A,u=A);return ia&&Zi(i,p),c}for(A=r(i,A);p<s.length;p++)null!==(g=f(A,i,p,s[p],l))&&(e&&null!==g.alternate&&A.delete(null===g.key?p:g.key),a=o(g,a,p),null===u?c=g:u.sibling=g,u=g);return e&&A.forEach(function(e){return t(i,e)}),ia&&Zi(i,p),c}function g(i,s,l,c){var u=P(l);if("function"!==typeof u)throw Error(a(150));if(null==(l=u.call(l)))throw Error(a(151));for(var A=u=null,p=s,g=s=0,m=null,v=l.next();null!==p&&!v.done;g++,v=l.next()){p.index>g?(m=p,p=null):m=p.sibling;var y=h(i,p,v.value,c);if(null===y){null===p&&(p=m);break}e&&p&&null===y.alternate&&t(i,p),s=o(y,s,g),null===A?u=y:A.sibling=y,A=y,p=m}if(v.done)return n(i,p),ia&&Zi(i,g),u;if(null===p){for(;!v.done;g++,v=l.next())null!==(v=d(i,v.value,c))&&(s=o(v,s,g),null===A?u=v:A.sibling=v,A=v);return ia&&Zi(i,g),u}for(p=r(i,p);!v.done;g++,v=l.next())null!==(v=f(p,i,g,v.value,c))&&(e&&null!==v.alternate&&p.delete(null===v.key?g:v.key),s=o(v,s,g),null===A?u=v:A.sibling=v,A=v);return e&&p.forEach(function(e){return t(i,e)}),ia&&Zi(i,g),u}return function e(r,a,o,l){if("object"===typeof o&&null!==o&&o.type===B&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,u=a;null!==u;){if(u.key===c){if((c=o.type)===B){if(7===u.tag){n(r,u.sibling),(a=i(u,o.props.children)).return=r,r=a;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===j&&va(c)===u.type){n(r,u.sibling),(a=i(u,o.props)).ref=ga(r,u,o),a.return=r,r=a;break e}n(r,u);break}t(r,u),u=u.sibling}o.type===B?((a=Pc(o.props.children,r.mode,l,o.key)).return=r,r=a):((l=Oc(o.type,o.key,o.props,null,r.mode,l)).ref=ga(r,a,o),l.return=r,r=l)}return s(r);case x:e:{for(u=o.key;null!==a;){if(a.key===u){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Tc(o,r.mode,l)).return=r,r=a}return s(r);case j:return e(r,a,(u=o._init)(o._payload),l)}if(te(o))return p(r,a,o,l);if(P(o))return g(r,a,o,l);ma(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Dc(o,r.mode,l)).return=r,r=a),s(r)):n(r,a)}}var ba=ya(!0),wa=ya(!1),xa=Ci(null),Ba=null,Ca=null,Na=null;function ka(){Na=Ca=Ba=null}function _a(e){var t=xa.current;Ni(xa),e._currentValue=t}function Ea(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Sa(e,t){Ba=e,Na=Ca=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ys=!0),e.firstContext=null)}function Fa(e){var t=e._currentValue;if(Na!==e)if(e={context:e,memoizedValue:t,next:null},null===Ca){if(null===Ba)throw Error(a(308));Ca=e,Ba.dependencies={lanes:0,firstContext:e}}else Ca=Ca.next=e;return t}var Ia=null;function ja(e){null===Ia?Ia=[e]:Ia.push(e)}function Ua(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,ja(t)):(n.next=i.next,i.next=n),t.interleaved=n,Oa(e,r)}function Oa(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Pa=!1;function La(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Da(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ta(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ma(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&El)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Oa(e,n)}return null===(i=r.interleaved)?(t.next=t,ja(r)):(t.next=i.next,i.next=t),r.interleaved=t,Oa(e,n)}function Qa(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}function Ra(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ha(e,t,n,r){var i=e.updateQueue;Pa=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var l=s,c=l.next;l.next=null,null===o?a=c:o.next=c,o=l;var u=e.alternate;null!==u&&((s=(u=u.updateQueue).lastBaseUpdate)!==o&&(null===s?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l))}if(null!==a){var A=i.baseState;for(o=0,u=c=l=null,s=a;;){var d=s.lane,h=s.eventTime;if((r&d)===d){null!==u&&(u=u.next={eventTime:h,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var f=e,p=s;switch(d=t,h=n,p.tag){case 1:if("function"===typeof(f=p.payload)){A=f.call(h,A,d);break e}A=f;break e;case 3:f.flags=-65537&f.flags|128;case 0:if(null===(d="function"===typeof(f=p.payload)?f.call(h,A,d):f)||void 0===d)break e;A=D({},A,d);break e;case 2:Pa=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(d=i.effects)?i.effects=[s]:d.push(s))}else h={eventTime:h,lane:d,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===u?(c=u=h,l=A):u=u.next=h,o|=d;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(d=s).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}if(null===u&&(l=A),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Ll|=o,e.lanes=o,e.memoizedState=A}}function za(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var Ka={},Wa=Ci(Ka),Va=Ci(Ka),Ga=Ci(Ka);function qa(e){if(e===Ka)throw Error(a(174));return e}function Xa(e,t){switch(ki(Ga,t),ki(Va,e),ki(Wa,Ka),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ni(Wa),ki(Wa,t)}function Ya(){Ni(Wa),Ni(Va),Ni(Ga)}function Ja(e){qa(Ga.current);var t=qa(Wa.current),n=le(t,e.type);t!==n&&(ki(Va,e),ki(Wa,n))}function Za(e){Va.current===e&&(Ni(Wa),Ni(Va))}var $a=Ci(0);function eo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var to=[];function no(){for(var e=0;e<to.length;e++)to[e]._workInProgressVersionPrimary=null;to.length=0}var ro=b.ReactCurrentDispatcher,io=b.ReactCurrentBatchConfig,ao=0,oo=null,so=null,lo=null,co=!1,uo=!1,Ao=0,ho=0;function fo(){throw Error(a(321))}function po(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function go(e,t,n,r,i,o){if(ao=o,oo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ro.current=null===e||null===e.memoizedState?$o:es,e=n(r,i),uo){o=0;do{if(uo=!1,Ao=0,25<=o)throw Error(a(301));o+=1,lo=so=null,t.updateQueue=null,ro.current=ts,e=n(r,i)}while(uo)}if(ro.current=Zo,t=null!==so&&null!==so.next,ao=0,lo=so=oo=null,co=!1,t)throw Error(a(300));return e}function mo(){var e=0!==Ao;return Ao=0,e}function vo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===lo?oo.memoizedState=lo=e:lo=lo.next=e,lo}function yo(){if(null===so){var e=oo.alternate;e=null!==e?e.memoizedState:null}else e=so.next;var t=null===lo?oo.memoizedState:lo.next;if(null!==t)lo=t,so=e;else{if(null===e)throw Error(a(310));e={memoizedState:(so=e).memoizedState,baseState:so.baseState,baseQueue:so.baseQueue,queue:so.queue,next:null},null===lo?oo.memoizedState=lo=e:lo=lo.next=e}return lo}function bo(e,t){return"function"===typeof t?t(e):t}function wo(e){var t=yo(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=so,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var l=s=null,c=null,u=o;do{var A=u.lane;if((ao&A)===A)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:A,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=d,s=r):c=c.next=d,oo.lanes|=A,Ll|=A}u=u.next}while(null!==u&&u!==o);null===c?s=r:c.next=l,sr(r,t.memoizedState)||(ys=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,oo.lanes|=o,Ll|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function xo(e){var t=yo(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);sr(o,t.memoizedState)||(ys=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Bo(){}function Co(e,t){var n=oo,r=yo(),i=t(),o=!sr(r.memoizedState,i);if(o&&(r.memoizedState=i,ys=!0),r=r.queue,Lo(_o.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==lo&&1&lo.memoizedState.tag){if(n.flags|=2048,Io(9,ko.bind(null,n,r,i,t),void 0,null),null===Sl)throw Error(a(349));0!==(30&ao)||No(n,t,i)}return i}function No(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=oo.updateQueue)?(t={lastEffect:null,stores:null},oo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function ko(e,t,n,r){t.value=n,t.getSnapshot=r,Eo(t)&&So(e)}function _o(e,t,n){return n(function(){Eo(t)&&So(e)})}function Eo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function So(e){var t=Oa(e,1);null!==t&&nc(t,e,1,-1)}function Fo(e){var t=vo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bo,lastRenderedState:e},t.queue=e,e=e.dispatch=qo.bind(null,oo,e),[t.memoizedState,e]}function Io(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=oo.updateQueue)?(t={lastEffect:null,stores:null},oo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function jo(){return yo().memoizedState}function Uo(e,t,n,r){var i=vo();oo.flags|=e,i.memoizedState=Io(1|t,n,void 0,void 0===r?null:r)}function Oo(e,t,n,r){var i=yo();r=void 0===r?null:r;var a=void 0;if(null!==so){var o=so.memoizedState;if(a=o.destroy,null!==r&&po(r,o.deps))return void(i.memoizedState=Io(t,n,a,r))}oo.flags|=e,i.memoizedState=Io(1|t,n,a,r)}function Po(e,t){return Uo(8390656,8,e,t)}function Lo(e,t){return Oo(2048,8,e,t)}function Do(e,t){return Oo(4,2,e,t)}function To(e,t){return Oo(4,4,e,t)}function Mo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Qo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Oo(4,4,Mo.bind(null,t,e),n)}function Ro(){}function Ho(e,t){var n=yo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&po(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function zo(e,t){var n=yo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&po(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ko(e,t,n){return 0===(21&ao)?(e.baseState&&(e.baseState=!1,ys=!0),e.memoizedState=n):(sr(n,t)||(n=pt(),oo.lanes|=n,Ll|=n,e.baseState=!0),t)}function Wo(e,t){var n=yt;yt=0!==n&&4>n?n:4,e(!0);var r=io.transition;io.transition={};try{e(!1),t()}finally{yt=n,io.transition=r}}function Vo(){return yo().memoizedState}function Go(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Xo(e))Yo(t,n);else if(null!==(n=Ua(e,t,n,r))){nc(n,e,r,ec()),Jo(n,t,r)}}function qo(e,t,n){var r=tc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Xo(e))Yo(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,o)){var l=t.interleaved;return null===l?(i.next=i,ja(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Ua(e,t,i,r))&&(nc(n,e,r,i=ec()),Jo(n,t,r))}}function Xo(e){var t=e.alternate;return e===oo||null!==t&&t===oo}function Yo(e,t){uo=co=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Jo(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}var Zo={readContext:Fa,useCallback:fo,useContext:fo,useEffect:fo,useImperativeHandle:fo,useInsertionEffect:fo,useLayoutEffect:fo,useMemo:fo,useReducer:fo,useRef:fo,useState:fo,useDebugValue:fo,useDeferredValue:fo,useTransition:fo,useMutableSource:fo,useSyncExternalStore:fo,useId:fo,unstable_isNewReconciler:!1},$o={readContext:Fa,useCallback:function(e,t){return vo().memoizedState=[e,void 0===t?null:t],e},useContext:Fa,useEffect:Po,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Uo(4194308,4,Mo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Uo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Uo(4,2,e,t)},useMemo:function(e,t){var n=vo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=vo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Go.bind(null,oo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},vo().memoizedState=e},useState:Fo,useDebugValue:Ro,useDeferredValue:function(e){return vo().memoizedState=e},useTransition:function(){var e=Fo(!1),t=e[0];return e=Wo.bind(null,e[1]),vo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=oo,i=vo();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Sl)throw Error(a(349));0!==(30&ao)||No(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Po(_o.bind(null,r,o,e),[e]),r.flags|=2048,Io(9,ko.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=vo(),t=Sl.identifierPrefix;if(ia){var n=Ji;t=":"+t+"R"+(n=(Yi&~(1<<32-ot(Yi)-1)).toString(32)+n),0<(n=Ao++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ho++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},es={readContext:Fa,useCallback:Ho,useContext:Fa,useEffect:Lo,useImperativeHandle:Qo,useInsertionEffect:Do,useLayoutEffect:To,useMemo:zo,useReducer:wo,useRef:jo,useState:function(){return wo(bo)},useDebugValue:Ro,useDeferredValue:function(e){return Ko(yo(),so.memoizedState,e)},useTransition:function(){return[wo(bo)[0],yo().memoizedState]},useMutableSource:Bo,useSyncExternalStore:Co,useId:Vo,unstable_isNewReconciler:!1},ts={readContext:Fa,useCallback:Ho,useContext:Fa,useEffect:Lo,useImperativeHandle:Qo,useInsertionEffect:Do,useLayoutEffect:To,useMemo:zo,useReducer:xo,useRef:jo,useState:function(){return xo(bo)},useDebugValue:Ro,useDeferredValue:function(e){var t=yo();return null===so?t.memoizedState=e:Ko(t,so.memoizedState,e)},useTransition:function(){return[xo(bo)[0],yo().memoizedState]},useMutableSource:Bo,useSyncExternalStore:Co,useId:Vo,unstable_isNewReconciler:!1};function ns(e,t){if(e&&e.defaultProps){for(var n in t=D({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function rs(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:D({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var is={isMounted:function(e){return!!(e=e._reactInternals)&&He(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),a=Ta(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Ma(e,a,i))&&(nc(t,e,i,r),Qa(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),a=Ta(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Ma(e,a,i))&&(nc(t,e,i,r),Qa(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),i=Ta(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Ma(e,i,r))&&(nc(t,e,r,n),Qa(t,e,r))}};function as(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,a))}function os(e,t,n){var r=!1,i=_i,a=t.contextType;return"object"===typeof a&&null!==a?a=Fa(a):(i=ji(t)?Fi:Ei.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ii(e,i):_i),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=is,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function ss(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&is.enqueueReplaceState(t,t.state,null)}function ls(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},La(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Fa(a):(a=ji(t)?Fi:Ei.current,i.context=Ii(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(rs(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&is.enqueueReplaceState(i,i.state,null),Ha(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function cs(e,t){try{var n="",r=t;do{n+=R(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function us(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function As(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var ds="function"===typeof WeakMap?WeakMap:Map;function hs(e,t,n){(n=Ta(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Kl||(Kl=!0,Wl=r),As(0,t)},n}function fs(e,t,n){(n=Ta(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){As(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){As(0,t),"function"!==typeof r&&(null===Vl?Vl=new Set([this]):Vl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ps(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ds;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Nc.bind(null,e,t,n),t.then(e,e))}function gs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ms(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Ta(-1,1)).tag=2,Ma(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var vs=b.ReactCurrentOwner,ys=!1;function bs(e,t,n,r){t.child=null===e?wa(t,null,n,r):ba(t,e.child,n,r)}function ws(e,t,n,r,i){n=n.render;var a=t.ref;return Sa(t,i),r=go(e,t,n,r,a,i),n=mo(),null===e||ys?(ia&&n&&ea(t),t.flags|=1,bs(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ks(e,t,i))}function xs(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||jc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Oc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Bs(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(o,r)&&e.ref===t.ref)return Ks(e,t,i)}return t.flags|=1,(e=Uc(a,r)).ref=t.ref,e.return=t,t.child=e}function Bs(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(lr(a,r)&&e.ref===t.ref){if(ys=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Ks(e,t,i);0!==(131072&e.flags)&&(ys=!0)}}return ks(e,t,n,r,i)}function Cs(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ki(Ul,jl),jl|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ki(Ul,jl),jl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,ki(Ul,jl),jl|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,ki(Ul,jl),jl|=r;return bs(e,t,i,n),t.child}function Ns(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ks(e,t,n,r,i){var a=ji(n)?Fi:Ei.current;return a=Ii(t,a),Sa(t,i),n=go(e,t,n,r,a,i),r=mo(),null===e||ys?(ia&&r&&ea(t),t.flags|=1,bs(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ks(e,t,i))}function _s(e,t,n,r,i){if(ji(n)){var a=!0;Li(t)}else a=!1;if(Sa(t,i),null===t.stateNode)zs(e,t),os(t,n,r),ls(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var l=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Fa(c):c=Ii(t,c=ji(n)?Fi:Ei.current);var u=n.getDerivedStateFromProps,A="function"===typeof u||"function"===typeof o.getSnapshotBeforeUpdate;A||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||l!==c)&&ss(t,o,r,c),Pa=!1;var d=t.memoizedState;o.state=d,Ha(t,r,o,i),l=t.memoizedState,s!==r||d!==l||Si.current||Pa?("function"===typeof u&&(rs(t,n,u,r),l=t.memoizedState),(s=Pa||as(t,n,s,r,d,l,c))?(A||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=c,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Da(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:ns(t.type,s),o.props=c,A=t.pendingProps,d=o.context,"object"===typeof(l=n.contextType)&&null!==l?l=Fa(l):l=Ii(t,l=ji(n)?Fi:Ei.current);var h=n.getDerivedStateFromProps;(u="function"===typeof h||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==A||d!==l)&&ss(t,o,r,l),Pa=!1,d=t.memoizedState,o.state=d,Ha(t,r,o,i);var f=t.memoizedState;s!==A||d!==f||Si.current||Pa?("function"===typeof h&&(rs(t,n,h,r),f=t.memoizedState),(c=Pa||as(t,n,c,r,d,f,l)||!1)?(u||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,f,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,f,l)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),o.props=r,o.state=f,o.context=l,r=c):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Es(e,t,n,r,a,i)}function Es(e,t,n,r,i,a){Ns(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Di(t,n,!1),Ks(e,t,a);r=t.stateNode,vs.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=ba(t,e.child,null,a),t.child=ba(t,null,s,a)):bs(e,t,s,a),t.memoizedState=r.state,i&&Di(t,n,!0),t.child}function Ss(e){var t=e.stateNode;t.pendingContext?Oi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Oi(0,t.context,!1),Xa(e,t.containerInfo)}function Fs(e,t,n,r,i){return ha(),fa(i),t.flags|=256,bs(e,t,n,r),t.child}var Is,js,Us,Os,Ps={dehydrated:null,treeContext:null,retryLane:0};function Ls(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ds(e,t,n){var r,i=t.pendingProps,o=$a.current,s=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),ki($a,1&o),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,s?(i=t.mode,s=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=l):s=Lc(l,i,0,null),e=Pc(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Ls(n),t.memoizedState=Ps,e):Ts(t,l));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,s){if(n)return 256&t.flags?(t.flags&=-257,Ms(e,t,s,r=us(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Lc({mode:"visible",children:r.children},i,0,null),(o=Pc(o,i,s,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&ba(t,e.child,null,s),t.child.memoizedState=Ls(s),t.memoizedState=Ps,o);if(0===(1&t.mode))return Ms(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,Ms(e,t,s,r=us(o=Error(a(419)),r,void 0))}if(l=0!==(s&e.childLanes),ys||l){if(null!==(r=Sl)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Oa(e,i),nc(r,e,i,-1))}return pc(),Ms(e,t,s,r=us(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=_c.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=ci(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Gi[qi++]=Yi,Gi[qi++]=Ji,Gi[qi++]=Xi,Yi=e.id,Ji=e.overflow,Xi=t),t=Ts(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,o,n);if(s){s=i.fallback,l=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Uc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?s=Uc(r,s):(s=Pc(s,l,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,l=null===(l=e.child.memoizedState)?Ls(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=e.childLanes&~n,t.memoizedState=Ps,i}return e=(s=e.child).sibling,i=Uc(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Ts(e,t){return(t=Lc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Ms(e,t,n,r){return null!==r&&fa(r),ba(t,e.child,null,n),(e=Ts(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Qs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ea(e.return,t,n)}function Rs(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function Hs(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(bs(e,t,r.children,n),0!==(2&(r=$a.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Qs(e,n,t);else if(19===e.tag)Qs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ki($a,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===eo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Rs(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===eo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Rs(t,!0,n,null,a);break;case"together":Rs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function zs(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ks(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ll|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Uc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Uc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ws(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Vs(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Gs(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vs(t),null;case 1:case 17:return ji(t.type)&&Ui(),Vs(t),null;case 3:return r=t.stateNode,Ya(),Ni(Si),Ni(Ei),no(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Aa(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(oc(aa),aa=null))),js(e,t),Vs(t),null;case 5:Za(t);var i=qa(Ga.current);if(n=t.type,null!==e&&null!=t.stateNode)Us(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Vs(t),null}if(e=qa(Wa.current),Aa(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[di]=t,r[hi]=o,e=0!==(1&t.mode),n){case"dialog":Mr("cancel",r),Mr("close",r);break;case"iframe":case"object":case"embed":Mr("load",r);break;case"video":case"audio":for(i=0;i<Pr.length;i++)Mr(Pr[i],r);break;case"source":Mr("error",r);break;case"img":case"image":case"link":Mr("error",r),Mr("load",r);break;case"details":Mr("toggle",r);break;case"input":Y(r,o),Mr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Mr("invalid",r);break;case"textarea":ie(r,o),Mr("invalid",r)}for(var l in ve(n,o),i=null,o)if(o.hasOwnProperty(l)){var c=o[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Zr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Zr(r.textContent,c,e),i=["children",""+c]):s.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Mr("scroll",r)}switch(n){case"input":V(r),$(r,o,!0);break;case"textarea":V(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=$r)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[di]=t,e[hi]=r,Is(e,t,!1,!1),t.stateNode=e;e:{switch(l=ye(n,r),n){case"dialog":Mr("cancel",e),Mr("close",e),i=r;break;case"iframe":case"object":case"embed":Mr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Pr.length;i++)Mr(Pr[i],e);i=r;break;case"source":Mr("error",e),i=r;break;case"img":case"image":case"link":Mr("error",e),Mr("load",e),i=r;break;case"details":Mr("toggle",e),i=r;break;case"input":Y(e,r),i=X(e,r),Mr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=D({},r,{value:void 0}),Mr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Mr("invalid",e)}for(o in ve(n,i),c=i)if(c.hasOwnProperty(o)){var u=c[o];"style"===o?ge(e,u):"dangerouslySetInnerHTML"===o?null!=(u=u?u.__html:void 0)&&Ae(e,u):"children"===o?"string"===typeof u?("textarea"!==n||""!==u)&&de(e,u):"number"===typeof u&&de(e,""+u):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(s.hasOwnProperty(o)?null!=u&&"onScroll"===o&&Mr("scroll",e):null!=u&&y(e,o,u,l))}switch(n){case"input":V(e),$(e,r,!1);break;case"textarea":V(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+K(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=$r)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Vs(t),null;case 6:if(e&&null!=t.stateNode)Os(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=qa(Ga.current),qa(Wa.current),Aa(t)){if(r=t.stateNode,n=t.memoizedProps,r[di]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Zr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Zr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[di]=t,t.stateNode=r}return Vs(t),null;case 13:if(Ni($a),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))da(),ha(),t.flags|=98560,o=!1;else if(o=Aa(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[di]=t}else ha(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Vs(t),o=!1}else null!==aa&&(oc(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&$a.current)?0===Ol&&(Ol=3):pc())),null!==t.updateQueue&&(t.flags|=4),Vs(t),null);case 4:return Ya(),js(e,t),null===e&&Hr(t.stateNode.containerInfo),Vs(t),null;case 10:return _a(t.type._context),Vs(t),null;case 19:if(Ni($a),null===(o=t.memoizedState))return Vs(t),null;if(r=0!==(128&t.flags),null===(l=o.rendering))if(r)Ws(o,!1);else{if(0!==Ol||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=eo(e))){for(t.flags|=128,Ws(o,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(l=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,e=l.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ki($a,1&$a.current|2),t.child}e=e.sibling}null!==o.tail&&Je()>Hl&&(t.flags|=128,r=!0,Ws(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=eo(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ws(o,!0),null===o.tail&&"hidden"===o.tailMode&&!l.alternate&&!ia)return Vs(t),null}else 2*Je()-o.renderingStartTime>Hl&&1073741824!==n&&(t.flags|=128,r=!0,Ws(o,!1),t.lanes=4194304);o.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=o.last)?n.sibling=l:t.child=l,o.last=l)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Je(),t.sibling=null,n=$a.current,ki($a,r?1&n|2:1&n),t):(Vs(t),null);case 22:case 23:return Ac(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&jl)&&(Vs(t),6&t.subtreeFlags&&(t.flags|=8192)):Vs(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function qs(e,t){switch(ta(t),t.tag){case 1:return ji(t.type)&&Ui(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Ya(),Ni(Si),Ni(Ei),no(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Za(t),null;case 13:if(Ni($a),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));ha()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ni($a),null;case 4:return Ya(),null;case 10:return _a(t.type._context),null;case 22:case 23:return Ac(),null;default:return null}}Is=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},js=function(){},Us=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,qa(Wa.current);var a,o=null;switch(n){case"input":i=X(e,i),r=X(e,r),o=[];break;case"select":i=D({},i,{value:void 0}),r=D({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=$r)}for(u in ve(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var l=i[u];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(s.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(o=o||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(s.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Mr("scroll",e),o||l===c||(o=[])):(o=o||[]).push(u,c))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}},Os=function(e,t,n,r){n!==r&&(t.flags|=4)};var Xs=!1,Ys=!1,Js="function"===typeof WeakSet?WeakSet:Set,Zs=null;function $s(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Cc(e,t,r)}else n.current=null}function el(e,t,n){try{n()}catch(r){Cc(e,t,r)}}var tl=!1;function nl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&el(t,n,a)}i=i.next}while(i!==r)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function il(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function al(e){var t=e.alternate;null!==t&&(e.alternate=null,al(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[di],delete t[hi],delete t[pi],delete t[gi],delete t[mi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ol(e){return 5===e.tag||3===e.tag||4===e.tag}function sl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ol(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=$r));else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}var ul=null,Al=!1;function dl(e,t,n){for(n=n.child;null!==n;)hl(e,t,n),n=n.sibling}function hl(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(s){}switch(n.tag){case 5:Ys||$s(n,t);case 6:var r=ul,i=Al;ul=null,dl(e,t,n),Al=i,null!==(ul=r)&&(Al?(e=ul,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ul.removeChild(n.stateNode));break;case 18:null!==ul&&(Al?(e=ul,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),Ht(e)):li(ul,n.stateNode));break;case 4:r=ul,i=Al,ul=n.stateNode.containerInfo,Al=!0,dl(e,t,n),ul=r,Al=i;break;case 0:case 11:case 14:case 15:if(!Ys&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&el(n,t,o),i=i.next}while(i!==r)}dl(e,t,n);break;case 1:if(!Ys&&($s(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Cc(n,t,s)}dl(e,t,n);break;case 21:dl(e,t,n);break;case 22:1&n.mode?(Ys=(r=Ys)||null!==n.memoizedState,dl(e,t,n),Ys=r):dl(e,t,n);break;default:dl(e,t,n)}}function fl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Js),t.forEach(function(t){var r=Ec.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function pl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 5:ul=l.stateNode,Al=!1;break e;case 3:case 4:ul=l.stateNode.containerInfo,Al=!0;break e}l=l.return}if(null===ul)throw Error(a(160));hl(o,s,i),ul=null,Al=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(u){Cc(i,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gl(t,e),t=t.sibling}function gl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(pl(t,e),ml(e),4&r){try{nl(3,e,e.return),rl(3,e)}catch(g){Cc(e,e.return,g)}try{nl(5,e,e.return)}catch(g){Cc(e,e.return,g)}}break;case 1:pl(t,e),ml(e),512&r&&null!==n&&$s(n,n.return);break;case 5:if(pl(t,e),ml(e),512&r&&null!==n&&$s(n,n.return),32&e.flags){var i=e.stateNode;try{de(i,"")}catch(g){Cc(e,e.return,g)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,s=null!==n?n.memoizedProps:o,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===o.type&&null!=o.name&&J(i,o),ye(l,s);var u=ye(l,o);for(s=0;s<c.length;s+=2){var A=c[s],d=c[s+1];"style"===A?ge(i,d):"dangerouslySetInnerHTML"===A?Ae(i,d):"children"===A?de(i,d):y(i,A,d,u)}switch(l){case"input":Z(i,o);break;case"textarea":ae(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var f=o.value;null!=f?ne(i,!!o.multiple,f,!1):h!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[hi]=o}catch(g){Cc(e,e.return,g)}}break;case 6:if(pl(t,e),ml(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(g){Cc(e,e.return,g)}}break;case 3:if(pl(t,e),ml(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Ht(t.containerInfo)}catch(g){Cc(e,e.return,g)}break;case 4:default:pl(t,e),ml(e);break;case 13:pl(t,e),ml(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Rl=Je())),4&r&&fl(e);break;case 22:if(A=null!==n&&null!==n.memoizedState,1&e.mode?(Ys=(u=Ys)||A,pl(t,e),Ys=u):pl(t,e),ml(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!A&&0!==(1&e.mode))for(Zs=e,A=e.child;null!==A;){for(d=Zs=A;null!==Zs;){switch(f=(h=Zs).child,h.tag){case 0:case 11:case 14:case 15:nl(4,h,h.return);break;case 1:$s(h,h.return);var p=h.stateNode;if("function"===typeof p.componentWillUnmount){r=h,n=h.return;try{t=r,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(g){Cc(r,n,g)}}break;case 5:$s(h,h.return);break;case 22:if(null!==h.memoizedState){wl(d);continue}}null!==f?(f.return=h,Zs=f):wl(d)}A=A.sibling}e:for(A=null,d=e;;){if(5===d.tag){if(null===A){A=d;try{i=d.stateNode,u?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(l=d.stateNode,s=void 0!==(c=d.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=pe("display",s))}catch(g){Cc(e,e.return,g)}}}else if(6===d.tag){if(null===A)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(g){Cc(e,e.return,g)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;A===d&&(A=null),d=d.return}A===d&&(A=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:pl(t,e),ml(e),4&r&&fl(e);case 21:}}function ml(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ol(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(de(i,""),r.flags&=-33),cl(e,sl(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;ll(e,sl(e),o);break;default:throw Error(a(161))}}catch(s){Cc(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function vl(e,t,n){Zs=e,yl(e,t,n)}function yl(e,t,n){for(var r=0!==(1&e.mode);null!==Zs;){var i=Zs,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Xs;if(!o){var s=i.alternate,l=null!==s&&null!==s.memoizedState||Ys;s=Xs;var c=Ys;if(Xs=o,(Ys=l)&&!c)for(Zs=i;null!==Zs;)l=(o=Zs).child,22===o.tag&&null!==o.memoizedState?xl(i):null!==l?(l.return=o,Zs=l):xl(i);for(;null!==a;)Zs=a,yl(a,t,n),a=a.sibling;Zs=i,Xs=s,Ys=c}bl(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Zs=a):bl(e)}}function bl(e){for(;null!==Zs;){var t=Zs;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Ys||rl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Ys)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ns(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&za(t,o,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}za(t,s,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var A=u.memoizedState;if(null!==A){var d=A.dehydrated;null!==d&&Ht(d)}}}break;default:throw Error(a(163))}Ys||512&t.flags&&il(t)}catch(h){Cc(t,t.return,h)}}if(t===e){Zs=null;break}if(null!==(n=t.sibling)){n.return=t.return,Zs=n;break}Zs=t.return}}function wl(e){for(;null!==Zs;){var t=Zs;if(t===e){Zs=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Zs=n;break}Zs=t.return}}function xl(e){for(;null!==Zs;){var t=Zs;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(l){Cc(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){Cc(t,i,l)}}var a=t.return;try{il(t)}catch(l){Cc(t,a,l)}break;case 5:var o=t.return;try{il(t)}catch(l){Cc(t,o,l)}}}catch(l){Cc(t,t.return,l)}if(t===e){Zs=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Zs=s;break}Zs=t.return}}var Bl,Cl=Math.ceil,Nl=b.ReactCurrentDispatcher,kl=b.ReactCurrentOwner,_l=b.ReactCurrentBatchConfig,El=0,Sl=null,Fl=null,Il=0,jl=0,Ul=Ci(0),Ol=0,Pl=null,Ll=0,Dl=0,Tl=0,Ml=null,Ql=null,Rl=0,Hl=1/0,zl=null,Kl=!1,Wl=null,Vl=null,Gl=!1,ql=null,Xl=0,Yl=0,Jl=null,Zl=-1,$l=0;function ec(){return 0!==(6&El)?Je():-1!==Zl?Zl:Zl=Je()}function tc(e){return 0===(1&e.mode)?1:0!==(2&El)&&0!==Il?Il&-Il:null!==pa.transition?(0===$l&&($l=pt()),$l):0!==(e=yt)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function nc(e,t,n,r){if(50<Yl)throw Yl=0,Jl=null,Error(a(185));mt(e,n,r),0!==(2&El)&&e===Sl||(e===Sl&&(0===(2&El)&&(Dl|=n),4===Ol&&sc(e,Il)),rc(e,r),1===n&&0===El&&0===(1&t.mode)&&(Hl=Je()+500,Mi&&Hi()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),s=1<<o,l=i[o];-1===l?0!==(s&n)&&0===(s&r)||(i[o]=ht(s,t)):l<=t&&(e.expiredLanes|=s),a&=~s}}(e,t);var r=dt(e,e===Sl?Il:0);if(0===r)null!==n&&qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&qe(n),1===t)0===e.tag?function(e){Mi=!0,Ri(e)}(lc.bind(null,e)):Ri(lc.bind(null,e)),oi(function(){0===(6&El)&&Hi()}),n=null;else{switch(bt(r)){case 1:n=$e;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Sc(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if(Zl=-1,$l=0,0!==(6&El))throw Error(a(327));var n=e.callbackNode;if(xc()&&e.callbackNode!==n)return null;var r=dt(e,e===Sl?Il:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gc(e,r);else{t=r;var i=El;El|=2;var o=fc();for(Sl===e&&Il===t||(zl=null,Hl=Je()+500,dc(e,t));;)try{vc();break}catch(l){hc(e,l)}ka(),Nl.current=o,El=i,null!==Fl?t=0:(Sl=null,Il=0,t=Ol)}if(0!==t){if(2===t&&(0!==(i=ft(e))&&(r=i,t=ac(e,i))),1===t)throw n=Pl,dc(e,0),sc(e,r),rc(e,Je()),n;if(6===t)sc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!sr(a(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=gc(e,r))&&(0!==(o=ft(e))&&(r=o,t=ac(e,o))),1===t))throw n=Pl,dc(e,0),sc(e,r),rc(e,Je()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:wc(e,Ql,zl);break;case 3:if(sc(e,r),(130023424&r)===r&&10<(t=Rl+500-Je())){if(0!==dt(e,0))break;if(((i=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(wc.bind(null,e,Ql,zl),t);break}wc(e,Ql,zl);break;case 4:if(sc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-ot(r);o=1<<s,(s=t[s])>i&&(i=s),r&=~o}if(r=i,10<(r=(120>(r=Je()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Cl(r/1960))-r)){e.timeoutHandle=ri(wc.bind(null,e,Ql,zl),r);break}wc(e,Ql,zl);break;default:throw Error(a(329))}}}return rc(e,Je()),e.callbackNode===n?ic.bind(null,e):null}function ac(e,t){var n=Ml;return e.current.memoizedState.isDehydrated&&(dc(e,t).flags|=256),2!==(e=gc(e,t))&&(t=Ql,Ql=n,null!==t&&oc(t)),e}function oc(e){null===Ql?Ql=e:Ql.push.apply(Ql,e)}function sc(e,t){for(t&=~Tl,t&=~Dl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function lc(e){if(0!==(6&El))throw Error(a(327));xc();var t=dt(e,0);if(0===(1&t))return rc(e,Je()),null;var n=gc(e,t);if(0!==e.tag&&2===n){var r=ft(e);0!==r&&(t=r,n=ac(e,r))}if(1===n)throw n=Pl,dc(e,0),sc(e,t),rc(e,Je()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wc(e,Ql,zl),rc(e,Je()),null}function cc(e,t){var n=El;El|=1;try{return e(t)}finally{0===(El=n)&&(Hl=Je()+500,Mi&&Hi())}}function uc(e){null!==ql&&0===ql.tag&&0===(6&El)&&xc();var t=El;El|=1;var n=_l.transition,r=yt;try{if(_l.transition=null,yt=1,e)return e()}finally{yt=r,_l.transition=n,0===(6&(El=t))&&Hi()}}function Ac(){jl=Ul.current,Ni(Ul)}function dc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Fl)for(n=Fl.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ui();break;case 3:Ya(),Ni(Si),Ni(Ei),no();break;case 5:Za(r);break;case 4:Ya();break;case 13:case 19:Ni($a);break;case 10:_a(r.type._context);break;case 22:case 23:Ac()}n=n.return}if(Sl=e,Fl=e=Uc(e.current,null),Il=jl=t,Ol=0,Pl=null,Tl=Dl=Ll=0,Ql=Ml=null,null!==Ia){for(t=0;t<Ia.length;t++)if(null!==(r=(n=Ia[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Ia=null}return e}function hc(e,t){for(;;){var n=Fl;try{if(ka(),ro.current=Zo,co){for(var r=oo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}co=!1}if(ao=0,lo=so=oo=null,uo=!1,Ao=0,kl.current=null,null===n||null===n.return){Ol=1,Pl=t,Fl=null;break}e:{var o=e,s=n.return,l=n,c=t;if(t=Il,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,A=l,d=A.tag;if(0===(1&A.mode)&&(0===d||11===d||15===d)){var h=A.alternate;h?(A.updateQueue=h.updateQueue,A.memoizedState=h.memoizedState,A.lanes=h.lanes):(A.updateQueue=null,A.memoizedState=null)}var f=gs(s);if(null!==f){f.flags&=-257,ms(f,s,l,0,t),1&f.mode&&ps(o,u,t),c=u;var p=(t=f).updateQueue;if(null===p){var g=new Set;g.add(c),t.updateQueue=g}else p.add(c);break e}if(0===(1&t)){ps(o,u,t),pc();break e}c=Error(a(426))}else if(ia&&1&l.mode){var m=gs(s);if(null!==m){0===(65536&m.flags)&&(m.flags|=256),ms(m,s,l,0,t),fa(cs(c,l));break e}}o=c=cs(c,l),4!==Ol&&(Ol=2),null===Ml?Ml=[o]:Ml.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Ra(o,hs(0,c,t));break e;case 1:l=c;var v=o.type,y=o.stateNode;if(0===(128&o.flags)&&("function"===typeof v.getDerivedStateFromError||null!==y&&"function"===typeof y.componentDidCatch&&(null===Vl||!Vl.has(y)))){o.flags|=65536,t&=-t,o.lanes|=t,Ra(o,fs(o,l,t));break e}}o=o.return}while(null!==o)}bc(n)}catch(b){t=b,Fl===n&&null!==n&&(Fl=n=n.return);continue}break}}function fc(){var e=Nl.current;return Nl.current=Zo,null===e?Zo:e}function pc(){0!==Ol&&3!==Ol&&2!==Ol||(Ol=4),null===Sl||0===(268435455&Ll)&&0===(268435455&Dl)||sc(Sl,Il)}function gc(e,t){var n=El;El|=2;var r=fc();for(Sl===e&&Il===t||(zl=null,dc(e,t));;)try{mc();break}catch(i){hc(e,i)}if(ka(),El=n,Nl.current=r,null!==Fl)throw Error(a(261));return Sl=null,Il=0,Ol}function mc(){for(;null!==Fl;)yc(Fl)}function vc(){for(;null!==Fl&&!Xe();)yc(Fl)}function yc(e){var t=Bl(e.alternate,e,jl);e.memoizedProps=e.pendingProps,null===t?bc(e):Fl=t,kl.current=null}function bc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Gs(n,t,jl)))return void(Fl=n)}else{if(null!==(n=qs(n,t)))return n.flags&=32767,void(Fl=n);if(null===e)return Ol=6,void(Fl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Fl=t);Fl=t=e}while(null!==t);0===Ol&&(Ol=5)}function wc(e,t,n){var r=yt,i=_l.transition;try{_l.transition=null,yt=1,function(e,t,n,r){do{xc()}while(null!==ql);if(0!==(6&El))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Sl&&(Fl=Sl=null,Il=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Gl||(Gl=!0,Sc(tt,function(){return xc(),null})),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=_l.transition,_l.transition=null;var s=yt;yt=1;var l=El;El|=4,kl.current=null,function(e,t){if(ei=Kt,hr(e=dr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var s=0,l=-1,c=-1,u=0,A=0,d=e,h=null;t:for(;;){for(var f;d!==n||0!==i&&3!==d.nodeType||(l=s+i),d!==o||0!==r&&3!==d.nodeType||(c=s+r),3===d.nodeType&&(s+=d.nodeValue.length),null!==(f=d.firstChild);)h=d,d=f;for(;;){if(d===e)break t;if(h===n&&++u===i&&(l=s),h===o&&++A===r&&(c=s),null!==(f=d.nextSibling))break;h=(d=h).parentNode}d=f}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Kt=!1,Zs=t;null!==Zs;)if(e=(t=Zs).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Zs=e;else for(;null!==Zs;){t=Zs;try{var p=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==p){var g=p.memoizedProps,m=p.memoizedState,v=t.stateNode,y=v.getSnapshotBeforeUpdate(t.elementType===t.type?g:ns(t.type,g),m);v.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(a(163))}}catch(w){Cc(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Zs=e;break}Zs=t.return}p=tl,tl=!1}(e,n),gl(n,e),fr(ti),Kt=!!ei,ti=ei=null,e.current=n,vl(n,e,i),Ye(),El=l,yt=s,_l.transition=o}else e.current=n;if(Gl&&(Gl=!1,ql=e,Xl=i),o=e.pendingLanes,0===o&&(Vl=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Je()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Kl)throw Kl=!1,e=Wl,Wl=null,e;0!==(1&Xl)&&0!==e.tag&&xc(),o=e.pendingLanes,0!==(1&o)?e===Jl?Yl++:(Yl=0,Jl=e):Yl=0,Hi()}(e,t,n,r)}finally{_l.transition=i,yt=r}return null}function xc(){if(null!==ql){var e=bt(Xl),t=_l.transition,n=yt;try{if(_l.transition=null,yt=16>e?16:e,null===ql)var r=!1;else{if(e=ql,ql=null,Xl=0,0!==(6&El))throw Error(a(331));var i=El;for(El|=4,Zs=e.current;null!==Zs;){var o=Zs,s=o.child;if(0!==(16&Zs.flags)){var l=o.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Zs=u;null!==Zs;){var A=Zs;switch(A.tag){case 0:case 11:case 15:nl(8,A,o)}var d=A.child;if(null!==d)d.return=A,Zs=d;else for(;null!==Zs;){var h=(A=Zs).sibling,f=A.return;if(al(A),A===u){Zs=null;break}if(null!==h){h.return=f,Zs=h;break}Zs=f}}}var p=o.alternate;if(null!==p){var g=p.child;if(null!==g){p.child=null;do{var m=g.sibling;g.sibling=null,g=m}while(null!==g)}}Zs=o}}if(0!==(2064&o.subtreeFlags)&&null!==s)s.return=o,Zs=s;else e:for(;null!==Zs;){if(0!==(2048&(o=Zs).flags))switch(o.tag){case 0:case 11:case 15:nl(9,o,o.return)}var v=o.sibling;if(null!==v){v.return=o.return,Zs=v;break e}Zs=o.return}}var y=e.current;for(Zs=y;null!==Zs;){var b=(s=Zs).child;if(0!==(2064&s.subtreeFlags)&&null!==b)b.return=s,Zs=b;else e:for(s=y;null!==Zs;){if(0!==(2048&(l=Zs).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(x){Cc(l,l.return,x)}if(l===s){Zs=null;break e}var w=l.sibling;if(null!==w){w.return=l.return,Zs=w;break e}Zs=l.return}}if(El=i,Hi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(x){}r=!0}return r}finally{yt=n,_l.transition=t}}return!1}function Bc(e,t,n){e=Ma(e,t=hs(0,t=cs(n,t),1),1),t=ec(),null!==e&&(mt(e,1,t),rc(e,t))}function Cc(e,t,n){if(3===e.tag)Bc(e,e,n);else for(;null!==t;){if(3===t.tag){Bc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Vl||!Vl.has(r))){t=Ma(t,e=fs(t,e=cs(n,e),1),1),e=ec(),null!==t&&(mt(t,1,e),rc(t,e));break}}t=t.return}}function Nc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Sl===e&&(Il&n)===n&&(4===Ol||3===Ol&&(130023424&Il)===Il&&500>Je()-Rl?dc(e,0):Tl|=n),rc(e,t)}function kc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=ec();null!==(e=Oa(e,t))&&(mt(e,t,n),rc(e,n))}function _c(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),kc(e,n)}function Ec(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),kc(e,n)}function Sc(e,t){return Ge(e,t)}function Fc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ic(e,t,n,r){return new Fc(e,t,n,r)}function jc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Uc(e,t){var n=e.alternate;return null===n?((n=Ic(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Oc(e,t,n,r,i,o){var s=2;if(r=e,"function"===typeof e)jc(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case B:return Pc(n.children,i,o,t);case C:s=8,i|=8;break;case N:return(e=Ic(12,n,t,2|i)).elementType=N,e.lanes=o,e;case S:return(e=Ic(13,n,t,i)).elementType=S,e.lanes=o,e;case F:return(e=Ic(19,n,t,i)).elementType=F,e.lanes=o,e;case U:return Lc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case k:s=10;break e;case _:s=9;break e;case E:s=11;break e;case I:s=14;break e;case j:s=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Ic(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Pc(e,t,n,r){return(e=Ic(7,e,r,t)).lanes=n,e}function Lc(e,t,n,r){return(e=Ic(22,e,r,t)).elementType=U,e.lanes=n,e.stateNode={isHidden:!1},e}function Dc(e,t,n){return(e=Ic(6,e,null,t)).lanes=n,e}function Tc(e,t,n){return(t=Ic(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Mc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Qc(e,t,n,r,i,a,o,s,l){return e=new Mc(e,t,n,s,l),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Ic(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},La(a),e}function Rc(e){if(!e)return _i;e:{if(He(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ji(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(ji(n))return Pi(e,n,t)}return t}function Hc(e,t,n,r,i,a,o,s,l){return(e=Qc(n,r,!0,e,0,a,0,s,l)).context=Rc(null),n=e.current,(a=Ta(r=ec(),i=tc(n))).callback=void 0!==t&&null!==t?t:null,Ma(n,a,i),e.current.lanes=i,mt(e,i,r),rc(e,r),e}function zc(e,t,n,r){var i=t.current,a=ec(),o=tc(i);return n=Rc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Ta(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Ma(i,t,o))&&(nc(e,i,o,a),Qa(e,i,o)),o}function Kc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Wc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Vc(e,t){Wc(e,t),(e=e.alternate)&&Wc(e,t)}Bl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Si.current)ys=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ys=!1,function(e,t,n){switch(t.tag){case 3:Ss(t),ha();break;case 5:Ja(t);break;case 1:ji(t.type)&&Li(t);break;case 4:Xa(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;ki(xa,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(ki($a,1&$a.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Ds(e,t,n):(ki($a,1&$a.current),null!==(e=Ks(e,t,n))?e.sibling:null);ki($a,1&$a.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Hs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),ki($a,$a.current),r)break;return null;case 22:case 23:return t.lanes=0,Cs(e,t,n)}return Ks(e,t,n)}(e,t,n);ys=0!==(131072&e.flags)}else ys=!1,ia&&0!==(1048576&t.flags)&&$i(t,Vi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;zs(e,t),e=t.pendingProps;var i=Ii(t,Ei.current);Sa(t,n),i=go(null,t,r,e,i,n);var o=mo();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ji(r)?(o=!0,Li(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,La(t),i.updater=is,t.stateNode=i,i._reactInternals=t,ls(t,r,e,n),t=Es(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),bs(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(zs(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return jc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===E)return 11;if(e===I)return 14}return 2}(r),e=ns(r,e),i){case 0:t=ks(null,t,r,e,n);break e;case 1:t=_s(null,t,r,e,n);break e;case 11:t=ws(null,t,r,e,n);break e;case 14:t=xs(null,t,r,ns(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,ks(e,t,r,i=t.elementType===r?i:ns(r,i),n);case 1:return r=t.type,i=t.pendingProps,_s(e,t,r,i=t.elementType===r?i:ns(r,i),n);case 3:e:{if(Ss(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Da(e,t),Ha(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Fs(e,t,r,n,i=cs(Error(a(423)),t));break e}if(r!==i){t=Fs(e,t,r,n,i=cs(Error(a(424)),t));break e}for(ra=ci(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=wa(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ha(),r===i){t=Ks(e,t,n);break e}bs(e,t,r,n)}t=t.child}return t;case 5:return Ja(t),null===e&&ca(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==o&&ni(r,o)&&(t.flags|=32),Ns(e,t),bs(e,t,s,n),t.child;case 6:return null===e&&ca(t),null;case 13:return Ds(e,t,n);case 4:return Xa(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=ba(t,null,r,n):bs(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,ws(e,t,r,i=t.elementType===r?i:ns(r,i),n);case 7:return bs(e,t,t.pendingProps,n),t.child;case 8:case 12:return bs(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,ki(xa,r._currentValue),r._currentValue=s,null!==o)if(sr(o.value,s)){if(o.children===i.children&&!Si.current){t=Ks(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var l=o.dependencies;if(null!==l){s=o.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Ta(-1,n&-n)).tag=2;var u=o.updateQueue;if(null!==u){var A=(u=u.shared).pending;null===A?c.next=c:(c.next=A.next,A.next=c),u.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),Ea(o.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===o.tag)s=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(s=o.return))throw Error(a(341));s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),Ea(s,n,t),s=o.sibling}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===t){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}bs(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Sa(t,n),r=r(i=Fa(i)),t.flags|=1,bs(e,t,r,n),t.child;case 14:return i=ns(r=t.type,t.pendingProps),xs(e,t,r,i=ns(r.type,i),n);case 15:return Bs(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ns(r,i),zs(e,t),t.tag=1,ji(r)?(e=!0,Li(t)):e=!1,Sa(t,n),os(t,r,i),ls(t,r,i,n),Es(null,t,r,!0,e,n);case 19:return Hs(e,t,n);case 22:return Cs(e,t,n)}throw Error(a(156,t.tag))};var Gc="function"===typeof reportError?reportError:function(e){console.error(e)};function qc(e){this._internalRoot=e}function Xc(e){this._internalRoot=e}function Yc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function $c(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var s=i;i=function(){var e=Kc(o);s.call(e)}}zc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Kc(o);a.call(e)}}var o=Hc(t,r,e,0,null,!1,0,"",Zc);return e._reactRootContainer=o,e[fi]=o.current,Hr(8===e.nodeType?e.parentNode:e),uc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=Kc(l);s.call(e)}}var l=Qc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=l,e[fi]=l.current,Hr(8===e.nodeType?e.parentNode:e),uc(function(){zc(t,l,n,r)}),l}(n,t,e,i,r);return Kc(o)}Xc.prototype.render=qc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));zc(e,t,null,null)},Xc.prototype.unmount=qc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;uc(function(){zc(null,e,null,null)}),t[fi]=null}},Xc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ct();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ut.length&&0!==t&&t<Ut[n].priority;n++);Ut.splice(n,0,e),0===n&&Dt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=At(t.pendingLanes);0!==n&&(vt(t,1|n),rc(t,Je()),0===(6&El)&&(Hl=Je()+500,Hi()))}break;case 13:uc(function(){var t=Oa(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}}),Vc(e,1)}},xt=function(e){if(13===e.tag){var t=Oa(e,134217728);if(null!==t)nc(t,e,134217728,ec());Vc(e,134217728)}},Bt=function(e){if(13===e.tag){var t=tc(e),n=Oa(e,t);if(null!==n)nc(n,e,t,ec());Vc(e,t)}},Ct=function(){return yt},Nt=function(e,t){var n=yt;try{return yt=e,t()}finally{yt=n}},xe=function(e,t,n){switch(t){case"input":if(Z(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(a(90));G(r),Z(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ee=cc,Se=uc;var eu={usingClientEntryPoint:!1,Events:[yi,bi,wi,ke,_e,cc]},tu={findFiberByHostInstance:vi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nu={bundleType:tu.bundleType,version:tu.version,rendererPackageName:tu.rendererPackageName,rendererConfig:tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:tu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ru.isDisabled&&ru.supportsFiber)try{it=ru.inject(nu),at=ru}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Yc(t))throw Error(a(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Yc(e))throw Error(a(299));var n=!1,r="",i=Gc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Qc(e,1,!1,null,0,n,0,r,i),e[fi]=t.current,Hr(8===e.nodeType?e.parentNode:e),new qc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return uc(e)},t.hydrate=function(e,t,n){if(!Jc(t))throw Error(a(200));return $c(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Yc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",s=Gc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=Hc(t,null,e,1,null!=n?n:null,i,0,o,s),e[fi]=t.current,Hr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Xc(t)},t.render=function(e,t,n){if(!Jc(t))throw Error(a(200));return $c(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jc(e))throw Error(a(40));return!!e._reactRootContainer&&(uc(function(){$c(null,null,e,!1,function(){e._reactRootContainer=null,e[fi]=null})}),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return $c(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},8354:(e,t,n)=>{e.exports=n(7774).range},8897:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.flatten=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;const n=[],r=Math.floor(t),i=(e,t)=>{for(let a=0;a<e.length;a++){const o=e[a];Array.isArray(o)&&t<r?i(o,t+1):n.push(o)}};return i(e,0),n}},9045:(e,t,n)=>{var r=n(3738).default;e.exports=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},9115:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.eq=function(e,t){return e===t||Number.isNaN(e)&&Number.isNaN(t)}},9190:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.getSymbols=function(e){return Object.getOwnPropertySymbols(e).filter(t=>Object.prototype.propertyIsEnumerable.call(e,t))}},9223:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.getTag=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}},9358:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(9690);t.cloneDeep=function(e){return r.cloneDeepWithImpl(e,void 0,e,new Map,void 0)}},9363:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(5698),i=n(9696),a=n(5031);t.orderBy=function(e,t,n,o){if(null==e)return[];n=o?void 0:n,Array.isArray(e)||(e=Object.values(e)),Array.isArray(t)||(t=null==t?[null]:[t]),0===t.length&&(t=[null]),Array.isArray(n)||(n=null==n?[]:[n]),n=n.map(e=>String(e));const s=(e,t)=>{let n=e;for(let r=0;r<t.length&&null!=n;++r)n=n[t[r]];return n},l=t.map(e=>(Array.isArray(e)&&1===e.length&&(e=e[0]),null==e||"function"===typeof e||Array.isArray(e)||i.isKey(e)?e:{key:e,path:a.toPath(e)}));return e.map(e=>({original:e,criteria:l.map(t=>((e,t)=>null==t||null==e?t:"object"===typeof e&&"key"in e?Object.hasOwn(t,e.key)?t[e.key]:s(t,e.path):"function"===typeof e?e(t):Array.isArray(e)?s(t,e):"object"===typeof t?t[e]:t)(t,e))})).slice().sort((e,t)=>{for(let i=0;i<l.length;i++){const a=r.compareValues(e.criteria[i],t.criteria[i],n[i]);if(0!==a)return a}return 0}).map(e=>e.original)}},9690:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(9190),i=n(9223),a=n(3470),o=n(1214),s=n(1558);function l(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Map,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0;const A=null===u||void 0===u?void 0:u(e,t,n,r);if(void 0!==A)return A;if(o.isPrimitive(e))return e;if(r.has(e))return r.get(e);if(Array.isArray(e)){const t=new Array(e.length);r.set(e,t);for(let i=0;i<e.length;i++)t[i]=l(e[i],i,n,r,u);return Object.hasOwn(e,"index")&&(t.index=e.index),Object.hasOwn(e,"input")&&(t.input=e.input),t}if(e instanceof Date)return new Date(e.getTime());if(e instanceof RegExp){const t=new RegExp(e.source,e.flags);return t.lastIndex=e.lastIndex,t}if(e instanceof Map){const t=new Map;r.set(e,t);for(const[i,a]of e)t.set(i,l(a,i,n,r,u));return t}if(e instanceof Set){const t=new Set;r.set(e,t);for(const i of e)t.add(l(i,void 0,n,r,u));return t}if("undefined"!==typeof Buffer&&Buffer.isBuffer(e))return e.subarray();if(s.isTypedArray(e)){const t=new(Object.getPrototypeOf(e).constructor)(e.length);r.set(e,t);for(let i=0;i<e.length;i++)t[i]=l(e[i],i,n,r,u);return t}if(e instanceof ArrayBuffer||"undefined"!==typeof SharedArrayBuffer&&e instanceof SharedArrayBuffer)return e.slice(0);if(e instanceof DataView){const t=new DataView(e.buffer.slice(0),e.byteOffset,e.byteLength);return r.set(e,t),c(t,e,n,r,u),t}if("undefined"!==typeof File&&e instanceof File){const t=new File([e],e.name,{type:e.type});return r.set(e,t),c(t,e,n,r,u),t}if("undefined"!==typeof Blob&&e instanceof Blob){const t=new Blob([e],{type:e.type});return r.set(e,t),c(t,e,n,r,u),t}if(e instanceof Error){const t=new e.constructor;return r.set(e,t),t.message=e.message,t.name=e.name,t.stack=e.stack,t.cause=e.cause,c(t,e,n,r,u),t}if(e instanceof Boolean){const t=new Boolean(e.valueOf());return r.set(e,t),c(t,e,n,r,u),t}if(e instanceof Number){const t=new Number(e.valueOf());return r.set(e,t),c(t,e,n,r,u),t}if(e instanceof String){const t=new String(e.valueOf());return r.set(e,t),c(t,e,n,r,u),t}if("object"===typeof e&&function(e){switch(i.getTag(e)){case a.argumentsTag:case a.arrayTag:case a.arrayBufferTag:case a.dataViewTag:case a.booleanTag:case a.dateTag:case a.float32ArrayTag:case a.float64ArrayTag:case a.int8ArrayTag:case a.int16ArrayTag:case a.int32ArrayTag:case a.mapTag:case a.numberTag:case a.objectTag:case a.regexpTag:case a.setTag:case a.stringTag:case a.symbolTag:case a.uint8ArrayTag:case a.uint8ClampedArrayTag:case a.uint16ArrayTag:case a.uint32ArrayTag:return!0;default:return!1}}(e)){const t=Object.create(Object.getPrototypeOf(e));return r.set(e,t),c(t,e,n,r,u),t}return e}function c(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,i=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0;const o=[...Object.keys(t),...r.getSymbols(t)];for(let r=0;r<o.length;r++){const s=o[r],c=Object.getOwnPropertyDescriptor(e,s);(null==c||c.writable)&&(e[s]=l(t[s],s,n,i,a))}}t.cloneDeepWith=function(e,t){return l(e,void 0,e,new Map,t)},t.cloneDeepWithImpl=l,t.copyProperties=c},9696:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(7108),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;t.isKey=function(e,t){return!Array.isArray(e)&&(!("number"!==typeof e&&"boolean"!==typeof e&&null!=e&&!r.isSymbol(e))||("string"===typeof e&&(a.test(e)||!i.test(e))||null!=t&&Object.hasOwn(t,e)))}},9940:(e,t,n)=>{"use strict";var r=n(9950),i=n(6538);var a="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},o=i.useSyncExternalStore,s=r.useRef,l=r.useEffect,c=r.useMemo,u=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var A=s(null);if(null===A.current){var d={hasValue:!1,value:null};A.current=d}else d=A.current;A=c(function(){function e(e){if(!l){if(l=!0,o=e,e=r(e),void 0!==i&&d.hasValue){var t=d.value;if(i(t,e))return s=t}return s=e}if(t=s,a(o,e))return t;var n=r(e);return void 0!==i&&i(t,n)?(o=e,t):(o=e,s=n)}var o,s,l=!1,c=void 0===n?null:n;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]},[t,n,r,i]);var h=o(e,A[0],A[1]);return l(function(){d.hasValue=!0,d.value=h},[h]),u(h),h}},9950:(e,t,n)=>{"use strict";e.exports=n(2049)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r].call(a.exports,a,a.exports,n),a.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var s=2&i&&r;("object"==typeof s||"function"==typeof s)&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach(e=>o[e]=()=>r[e]);return o.default=()=>r,n.d(a,o),a}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce((t,r)=>(n.f[r](e,t),t),[])),n.u=e=>"static/js/"+e+"."+{82:"819bf36f",239:"18960612"}[e]+".chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="repair-shop-client:";n.l=(r,i,a,o)=>{if(e[r])e[r].push(i);else{var s,l;if(void 0!==a)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var A=c[u];if(A.getAttribute("src")==r||A.getAttribute("data-webpack")==t+a){s=A;break}}s||(l=!0,(s=document.createElement("script")).charset="utf-8",n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+a),s.src=r),e[r]=[i];var d=(t,n)=>{s.onerror=s.onload=null,clearTimeout(h);var i=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach(e=>e(n)),t)return t(n)},h=setTimeout(d.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=d.bind(null,s.onerror),s.onload=d.bind(null,s.onload),l&&document.head.appendChild(s)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",(()=>{var e={792:0};n.f.j=(t,r)=>{var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var a=new Promise((n,r)=>i=e[t]=[n,r]);r.push(i[2]=a);var o=n.p+n.u(t),s=new Error;n.l(o,r=>{if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var a=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",s.name="ChunkLoadError",s.type=a,s.request=o,i[1](s)}},"chunk-"+t,t)}};var t=(t,r)=>{var i,a,[o,s,l]=r,c=0;if(o.some(t=>0!==e[t])){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(l)l(n)}for(t&&t(r);c<o.length;c++)a=o[c],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0},r=self.webpackChunkrepair_shop_client=self.webpackChunkrepair_shop_client||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),(()=>{"use strict";var e={};n.r(e),n.d(e,{hasBrowserEnv:()=>jc,hasStandardBrowserEnv:()=>Oc,hasStandardBrowserWebWorkerEnv:()=>Pc,navigator:()=>Uc,origin:()=>Lc});var t={};n.r(t),n.d(t,{scaleBand:()=>gm,scaleDiverging:()=>ux,scaleDivergingLog:()=>Ax,scaleDivergingPow:()=>hx,scaleDivergingSqrt:()=>fx,scaleDivergingSymlog:()=>dx,scaleIdentity:()=>iy,scaleImplicit:()=>fm,scaleLinear:()=>ry,scaleLog:()=>hy,scaleOrdinal:()=>pm,scalePoint:()=>vm,scalePow:()=>xy,scaleQuantile:()=>Oy,scaleQuantize:()=>Py,scaleRadial:()=>Ny,scaleSequential:()=>rx,scaleSequentialLog:()=>ix,scaleSequentialPow:()=>ox,scaleSequentialQuantile:()=>lx,scaleSequentialSqrt:()=>sx,scaleSequentialSymlog:()=>ax,scaleSqrt:()=>By,scaleSymlog:()=>my,scaleThreshold:()=>Ly,scaleTime:()=>$w,scaleUtc:()=>ex,tickFormat:()=>ty});var r,i=n(9950),a=n.t(i,2),o=n(1352);function s(){return s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(r||(r={}));const l="popstate";function c(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function u(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(zD){}}}function A(e,t){return{usr:e.state,key:e.key,idx:t}}function d(e,t,n,r){return void 0===n&&(n=null),s({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?f(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function h(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function f(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function p(e,t,n,i){void 0===i&&(i={});let{window:a=document.defaultView,v5Compat:o=!1}=i,u=a.history,f=r.Pop,p=null,g=m();function m(){return(u.state||{idx:null}).idx}function v(){f=r.Pop;let e=m(),t=null==e?null:e-g;g=e,p&&p({action:f,location:b.location,delta:t})}function y(e){let t="null"!==a.location.origin?a.location.origin:a.location.href,n="string"===typeof e?e:h(e);return n=n.replace(/ $/,"%20"),c(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==g&&(g=0,u.replaceState(s({},u.state,{idx:g}),""));let b={get action(){return f},get location(){return e(a,u)},listen(e){if(p)throw new Error("A history only accepts one active listener");return a.addEventListener(l,v),p=e,()=>{a.removeEventListener(l,v),p=null}},createHref:e=>t(a,e),createURL:y,encodeLocation(e){let t=y(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){f=r.Push;let i=d(b.location,e,t);n&&n(i,e),g=m()+1;let s=A(i,g),l=b.createHref(i);try{u.pushState(s,"",l)}catch(c){if(c instanceof DOMException&&"DataCloneError"===c.name)throw c;a.location.assign(l)}o&&p&&p({action:f,location:b.location,delta:1})},replace:function(e,t){f=r.Replace;let i=d(b.location,e,t);n&&n(i,e),g=m();let a=A(i,g),s=b.createHref(i);u.replaceState(a,"",s),o&&p&&p({action:f,location:b.location,delta:0})},go:e=>u.go(e)};return b}var g;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(g||(g={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function m(e,t,n){return void 0===n&&(n="/"),v(e,t,n,!1)}function v(e,t,n,r){let i=j(("string"===typeof t?f(t):t).pathname||"/",n);if(null==i)return null;let a=y(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(a);let o=null;for(let s=0;null==o&&s<a.length;++s){let e=I(i);o=S(a[s],e,r)}return o}function y(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,a)=>{let o={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(c(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(r.length));let s=Q([r,o.relativePath]),l=n.concat(o);e.children&&e.children.length>0&&(c(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+s+'".'),y(e.children,t,l,s)),(null!=e.path||e.index)&&t.push({path:s,score:E(s,e.index),routesMeta:l})};return e.forEach((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of b(e.path))i(e,t,r);else i(e,t)}),t}function b(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(0===r.length)return i?[a,""]:[a];let o=b(r.join("/")),s=[];return s.push(...o.map(e=>""===e?a:[a,e].join("/"))),i&&s.push(...o),s.map(t=>e.startsWith("/")&&""===t?"/":t)}const w=/^:[\w-]+$/,x=3,B=2,C=1,N=10,k=-2,_=e=>"*"===e;function E(e,t){let n=e.split("/"),r=n.length;return n.some(_)&&(r+=k),t&&(r+=B),n.filter(e=>!_(e)).reduce((e,t)=>e+(w.test(t)?x:""===t?C:N),r)}function S(e,t,n){void 0===n&&(n=!1);let{routesMeta:r}=e,i={},a="/",o=[];for(let s=0;s<r.length;++s){let e=r[s],l=s===r.length-1,c="/"===a?t:t.slice(a.length)||"/",u=F({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),A=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=F({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(i,u.params),o.push({params:i,pathname:Q([a,u.pathname]),pathnameBase:R(Q([a,u.pathnameBase])),route:A}),"/"!==u.pathnameBase&&(a=Q([a,u.pathnameBase]))}return o}function F(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);u("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)"));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let a=new RegExp(i,t?void 0:"i");return[a,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),s=i.slice(1),l=r.reduce((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=s[n]||"";o=a.slice(0,a.length-e.length).replace(/(.)\/+$/,"$1")}const l=s[n];return e[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{});return{params:l,pathname:a,pathnameBase:o,pattern:e}}function I(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return u(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function j(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}const U=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function O(e,t){void 0===t&&(t="/");let n,{pathname:r,search:i="",hash:a=""}="string"===typeof e?f(e):e;if(r)if(o=r,U.test(o))n=r;else{if(r.includes("//")){let e=r;r=r.replace(/\/\/+/g,"/"),u(!1,"Pathnames cannot have embedded double slashes - normalizing "+e+" -> "+r)}n=r.startsWith("/")?P(r.substring(1),"/"):P(r,t)}else n=t;var o;return{pathname:n,search:H(i),hash:z(a)}}function P(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}function L(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function D(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function T(e,t){let n=D(e);return t?n.map((e,t)=>t===n.length-1?e.pathname:e.pathnameBase):n.map(e=>e.pathnameBase)}function M(e,t,n,r){let i;void 0===r&&(r=!1),"string"===typeof e?i=f(e):(i=s({},e),c(!i.pathname||!i.pathname.includes("?"),L("?","pathname","search",i)),c(!i.pathname||!i.pathname.includes("#"),L("#","pathname","hash",i)),c(!i.search||!i.search.includes("#"),L("#","search","hash",i)));let a,o=""===e||""===i.pathname,l=o?"/":i.pathname;if(null==l)a=n;else{let e=t.length-1;if(!r&&l.startsWith("..")){let t=l.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}a=e>=0?t[e]:"/"}let u=O(i,a),A=l&&"/"!==l&&l.endsWith("/"),d=(o||"."===l)&&n.endsWith("/");return u.pathname.endsWith("/")||!A&&!d||(u.pathname+="/"),u}const Q=e=>e.join("/").replace(/\/\/+/g,"/"),R=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),H=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",z=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function K(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const W=["post","put","patch","delete"],V=(new Set(W),["get",...W]);new Set(V),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function G(){return G=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},G.apply(this,arguments)}const q=i.createContext(null);const X=i.createContext(null);const Y=i.createContext(null);const J=i.createContext(null);const Z=i.createContext({outlet:null,matches:[],isDataRoute:!1});const $=i.createContext(null);function ee(){return null!=i.useContext(J)}function te(){return ee()||c(!1),i.useContext(J).location}function ne(e){i.useContext(Y).static||i.useLayoutEffect(e)}function re(){let{isDataRoute:e}=i.useContext(Z);return e?function(){let{router:e}=fe(de.UseNavigateStable),t=ge(he.UseNavigateStable),n=i.useRef(!1);ne(()=>{n.current=!0});let r=i.useCallback(function(r,i){void 0===i&&(i={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,G({fromRouteId:t},i)))},[e,t]);return r}():function(){ee()||c(!1);let e=i.useContext(q),{basename:t,future:n,navigator:r}=i.useContext(Y),{matches:a}=i.useContext(Z),{pathname:o}=te(),s=JSON.stringify(T(a,n.v7_relativeSplatPath)),l=i.useRef(!1);ne(()=>{l.current=!0});let u=i.useCallback(function(n,i){if(void 0===i&&(i={}),!l.current)return;if("number"===typeof n)return void r.go(n);let a=M(n,JSON.parse(s),o,"path"===i.relative);null==e&&"/"!==t&&(a.pathname="/"===a.pathname?t:Q([t,a.pathname])),(i.replace?r.replace:r.push)(a,i.state,i)},[t,r,s,o,e]);return u}()}function ie(){let{matches:e}=i.useContext(Z),t=e[e.length-1];return t?t.params:{}}function ae(e,t){let{relative:n}=void 0===t?{}:t,{future:r}=i.useContext(Y),{matches:a}=i.useContext(Z),{pathname:o}=te(),s=JSON.stringify(T(a,r.v7_relativeSplatPath));return i.useMemo(()=>M(e,JSON.parse(s),o,"path"===n),[e,s,o,n])}function oe(e,t,n,a){ee()||c(!1);let{navigator:o}=i.useContext(Y),{matches:s}=i.useContext(Z),l=s[s.length-1],u=l?l.params:{},A=(l&&l.pathname,l?l.pathnameBase:"/");l&&l.route;let d,h=te();if(t){var p;let e="string"===typeof t?f(t):t;"/"===A||(null==(p=e.pathname)?void 0:p.startsWith(A))||c(!1),d=e}else d=h;let g=d.pathname||"/",v=g;if("/"!==A){let e=A.replace(/^\//,"").split("/");v="/"+g.replace(/^\//,"").split("/").slice(e.length).join("/")}let y=m(e,{pathname:v});let b=Ae(y&&y.map(e=>Object.assign({},e,{params:Object.assign({},u,e.params),pathname:Q([A,o.encodeLocation?o.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?A:Q([A,o.encodeLocation?o.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),s,n,a);return t&&b?i.createElement(J.Provider,{value:{location:G({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:r.Pop}},b):b}function se(){let e=function(){var e;let t=i.useContext($),n=pe(he.UseRouteError),r=ge(he.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[r]}(),t=K(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r};return i.createElement(i.Fragment,null,i.createElement("h2",null,"Unexpected Application Error!"),i.createElement("h3",{style:{fontStyle:"italic"}},t),n?i.createElement("pre",{style:a},n):null,null)}const le=i.createElement(se,null);class ce extends i.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?i.createElement(Z.Provider,{value:this.props.routeContext},i.createElement($.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ue(e){let{routeContext:t,match:n,children:r}=e,a=i.useContext(q);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),i.createElement(Z.Provider,{value:t},r)}function Ae(e,t,n,r){var a;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===r&&(r=null),null==e){var o;if(!n)return null;if(n.errors)e=n.matches;else{if(!(null!=(o=r)&&o.v7_partialHydration&&0===t.length&&!n.initialized&&n.matches.length>0))return null;e=n.matches}}let s=e,l=null==(a=n)?void 0:a.errors;if(null!=l){let e=s.findIndex(e=>e.route.id&&void 0!==(null==l?void 0:l[e.route.id]));e>=0||c(!1),s=s.slice(0,Math.min(s.length,e+1))}let u=!1,A=-1;if(n&&r&&r.v7_partialHydration)for(let i=0;i<s.length;i++){let e=s[i];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(A=i),e.route.id){let{loaderData:t,errors:r}=n,i=e.route.loader&&void 0===t[e.route.id]&&(!r||void 0===r[e.route.id]);if(e.route.lazy||i){u=!0,s=A>=0?s.slice(0,A+1):[s[0]];break}}}return s.reduceRight((e,r,a)=>{let o,c=!1,d=null,h=null;var f;n&&(o=l&&r.route.id?l[r.route.id]:void 0,d=r.route.errorElement||le,u&&(A<0&&0===a?(f="route-fallback",!1||me[f]||(me[f]=!0),c=!0,h=null):A===a&&(c=!0,h=r.route.hydrateFallbackElement||null)));let p=t.concat(s.slice(0,a+1)),g=()=>{let t;return t=o?d:c?h:r.route.Component?i.createElement(r.route.Component,null):r.route.element?r.route.element:e,i.createElement(ue,{match:r,routeContext:{outlet:e,matches:p,isDataRoute:null!=n},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===a)?i.createElement(ce,{location:n.location,revalidation:n.revalidation,component:d,error:o,children:g(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):g()},null)}var de=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(de||{}),he=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(he||{});function fe(e){let t=i.useContext(q);return t||c(!1),t}function pe(e){let t=i.useContext(X);return t||c(!1),t}function ge(e){let t=function(){let e=i.useContext(Z);return e||c(!1),e}(),n=t.matches[t.matches.length-1];return n.route.id||c(!1),n.route.id}const me={};function ve(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}a.startTransition;function ye(e){c(!1)}function be(e){let{basename:t="/",children:n=null,location:a,navigationType:o=r.Pop,navigator:s,static:l=!1,future:u}=e;ee()&&c(!1);let A=t.replace(/^\/*/,"/"),d=i.useMemo(()=>({basename:A,navigator:s,static:l,future:G({v7_relativeSplatPath:!1},u)}),[A,u,s,l]);"string"===typeof a&&(a=f(a));let{pathname:h="/",search:p="",hash:g="",state:m=null,key:v="default"}=a,y=i.useMemo(()=>{let e=j(h,A);return null==e?null:{location:{pathname:e,search:p,hash:g,state:m,key:v},navigationType:o}},[A,h,p,g,m,v,o]);return null==y?null:i.createElement(Y.Provider,{value:d},i.createElement(J.Provider,{children:n,value:y}))}function we(e){let{children:t,location:n}=e;return oe(xe(t),n)}new Promise(()=>{});i.Component;function xe(e,t){void 0===t&&(t=[]);let n=[];return i.Children.forEach(e,(e,r)=>{if(!i.isValidElement(e))return;let a=[...t,r];if(e.type===i.Fragment)return void n.push.apply(n,xe(e.props.children,a));e.type!==ye&&c(!1),e.props.index&&e.props.children&&c(!1);let o={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=xe(e.props.children,a)),n.push(o)}),n}var Be=n(7119),Ce=n.t(Be,2);function Ne(){return Ne=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ne.apply(this,arguments)}function ke(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const _e=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(zD){}new Map;const Ee=a.startTransition;Ce.flushSync,a.useId;function Se(e){let{basename:t,children:n,future:r,window:a}=e,o=i.useRef();var s;null==o.current&&(o.current=(void 0===(s={window:a,v5Compat:!0})&&(s={}),p(function(e,t){let{pathname:n,search:r,hash:i}=e.location;return d("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:h(t)},null,s)));let l=o.current,[c,u]=i.useState({action:l.action,location:l.location}),{v7_startTransition:A}=r||{},f=i.useCallback(e=>{A&&Ee?Ee(()=>u(e)):u(e)},[u,A]);return i.useLayoutEffect(()=>l.listen(f),[l,f]),i.useEffect(()=>ve(r),[r]),i.createElement(be,{basename:t,children:n,location:c.location,navigationType:c.action,navigator:l,future:r})}const Fe="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Ie=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,je=i.forwardRef(function(e,t){let n,{onClick:r,relative:a,reloadDocument:o,replace:s,state:l,target:u,to:A,preventScrollReset:d,viewTransition:f}=e,p=ke(e,_e),{basename:g}=i.useContext(Y),m=!1;if("string"===typeof A&&Ie.test(A)&&(n=A,Fe))try{let e=new URL(window.location.href),t=A.startsWith("//")?new URL(e.protocol+A):new URL(A),n=j(t.pathname,g);t.origin===e.origin&&null!=n?A=n+t.search+t.hash:m=!0}catch(zD){}let v=function(e,t){let{relative:n}=void 0===t?{}:t;ee()||c(!1);let{basename:r,navigator:a}=i.useContext(Y),{hash:o,pathname:s,search:l}=ae(e,{relative:n}),u=s;return"/"!==r&&(u="/"===s?r:Q([r,s])),a.createHref({pathname:u,search:l,hash:o})}(A,{relative:a}),y=function(e,t){let{target:n,replace:r,state:a,preventScrollReset:o,relative:s,viewTransition:l}=void 0===t?{}:t,c=re(),u=te(),A=ae(e,{relative:s});return i.useCallback(t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==r?r:h(u)===h(A);c(e,{replace:n,state:a,preventScrollReset:o,relative:s,viewTransition:l})}},[u,c,A,r,a,n,e,o,s,l])}(A,{replace:s,state:l,target:u,preventScrollReset:d,relative:a,viewTransition:f});return i.createElement("a",Ne({},p,{href:n||v,onClick:m||o?r:function(e){r&&r(e),e.defaultPrevented||y(e)},ref:t,target:u}))});var Ue,Oe;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Ue||(Ue={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Oe||(Oe={}));var Pe=n(4414);const Le=()=>{const e=re(),[t,n]=(0,i.useState)(!1);return(0,Pe.jsxs)(Pe.Fragment,{children:[(0,Pe.jsxs)("div",{className:"w-64 bg-gray-900 text-white h-screen fixed flex flex-col",children:[(0,Pe.jsxs)("div",{className:"p-6 text-2xl font-bold border-b border-gray-700",children:["Repair",(0,Pe.jsx)("span",{className:"text-blue-500",children:"Pro"})]}),(0,Pe.jsx)("nav",{className:"flex-1 p-4 overflow-y-auto",children:(0,Pe.jsx)("ul",{className:"space-y-2",children:[{name:"Dashboard",path:"/dashboard",icon:"\ud83d\udcca"},{name:"New Intake",path:"/jobs/new",icon:"\u2795"},{name:"Active Jobs",path:"/jobs",icon:"\ud83d\udee0\ufe0f"},{name:"Departments",path:"/departments",icon:"\ud83c\udfe2"},{name:"Inventory",path:"/inventory",icon:"\ud83d\udce6"},{name:"Suppliers",path:"/suppliers",icon:"\ud83d\ude9a"},{name:"Purchases",path:"/purchases",icon:"\ud83d\uded2"},{name:"Workers",path:"/workers",icon:"\ud83d\udc64"},{name:"Attendance",path:"/attendance",icon:"\ud83d\udccb"},{name:"Holidays",path:"/holidays",icon:"\ud83c\udf89"},{name:"Salary",path:"/admin/salary",icon:"\u20b9"},{name:"Financials",path:"/financials",icon:"\ud83d\udcb0"},{name:"Settings",path:"/settings",icon:"\u2699\ufe0f"}].map(e=>(0,Pe.jsx)("li",{children:(0,Pe.jsxs)(je,{to:e.path,className:"flex items-center p-3 hover:bg-gray-800 rounded transition",children:[(0,Pe.jsx)("span",{className:"mr-3",children:e.icon}),e.name]})},e.name))})}),(0,Pe.jsx)("div",{className:"p-4 border-t border-gray-700",children:(0,Pe.jsxs)("button",{onClick:()=>{n(!0)},className:"w-full flex items-center p-3 text-left hover:bg-gray-800 rounded transition text-red-400 hover:text-red-300",children:[(0,Pe.jsx)("span",{className:"mr-3",children:"\ud83d\udeaa"}),"Logout"]})})]}),t&&(0,Pe.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Pe.jsxs)("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md mx-4",children:[(0,Pe.jsx)("div",{className:"border-b border-gray-200 px-6 py-4",children:(0,Pe.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Confirm Logout"})}),(0,Pe.jsxs)("div",{className:"px-6 py-4",children:[(0,Pe.jsx)("div",{className:"mb-6",children:(0,Pe.jsx)("p",{className:"text-gray-700",children:"Are you sure you want to logout?"})}),(0,Pe.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,Pe.jsx)("button",{onClick:()=>{n(!1)},className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition",children:"Cancel"}),(0,Pe.jsx)("button",{onClick:()=>{localStorage.removeItem("admin"),e("/admin/login")},className:"px-4 py-2 bg-red-600 text-white rounded-lg font-semibold hover:bg-red-700 transition",children:"Logout"})]})]})]})})]})};var De=n(4980);function Te(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Me(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Te(Object(n),!0).forEach(function(t){(0,De.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Te(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var Qe=n(2284),Re=Uint8Array,He=Uint16Array,ze=Int32Array,Ke=new Re([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),We=new Re([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Ve=new Re([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Ge=function(e,t){for(var n=new He(31),r=0;r<31;++r)n[r]=t+=1<<e[r-1];var i=new ze(n[30]);for(r=1;r<30;++r)for(var a=n[r];a<n[r+1];++a)i[a]=a-n[r]<<5|r;return{b:n,r:i}},qe=Ge(Ke,2),Xe=qe.b,Ye=qe.r;Xe[28]=258,Ye[258]=28;for(var Je=Ge(We,0),Ze=(Je.b,Je.r),$e=new He(32768),et=0;et<32768;++et){var tt=(43690&et)>>1|(21845&et)<<1;tt=(61680&(tt=(52428&tt)>>2|(13107&tt)<<2))>>4|(3855&tt)<<4,$e[et]=((65280&tt)>>8|(255&tt)<<8)>>1}var nt=function(e,t,n){for(var r=e.length,i=0,a=new He(t);i<r;++i)e[i]&&++a[e[i]-1];var o,s=new He(t);for(i=1;i<t;++i)s[i]=s[i-1]+a[i-1]<<1;if(n){o=new He(1<<t);var l=15-t;for(i=0;i<r;++i)if(e[i])for(var c=i<<4|e[i],u=t-e[i],A=s[e[i]-1]++<<u,d=A|(1<<u)-1;A<=d;++A)o[$e[A]>>l]=c}else for(o=new He(r),i=0;i<r;++i)e[i]&&(o[i]=$e[s[e[i]-1]++]>>15-e[i]);return o},rt=new Re(288);for(et=0;et<144;++et)rt[et]=8;for(et=144;et<256;++et)rt[et]=9;for(et=256;et<280;++et)rt[et]=7;for(et=280;et<288;++et)rt[et]=8;var it=new Re(32);for(et=0;et<32;++et)it[et]=5;var at=nt(rt,9,0),ot=nt(it,5,0),st=function(e){return(e+7)/8|0},lt=function(e,t,n){return(null==t||t<0)&&(t=0),(null==n||n>e.length)&&(n=e.length),new Re(e.subarray(t,n))},ct=function(e,t,n){n<<=7&t;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8},ut=function(e,t,n){n<<=7&t;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8,e[r+2]|=n>>16},At=function(e,t){for(var n=[],r=0;r<e.length;++r)e[r]&&n.push({s:r,f:e[r]});var i=n.length,a=n.slice();if(!i)return{t:vt,l:0};if(1==i){var o=new Re(n[0].s+1);return o[n[0].s]=1,{t:o,l:1}}n.sort(function(e,t){return e.f-t.f}),n.push({s:-1,f:25001});var s=n[0],l=n[1],c=0,u=1,A=2;for(n[0]={s:-1,f:s.f+l.f,l:s,r:l};u!=i-1;)s=n[n[c].f<n[A].f?c++:A++],l=n[c!=u&&n[c].f<n[A].f?c++:A++],n[u++]={s:-1,f:s.f+l.f,l:s,r:l};var d=a[0].s;for(r=1;r<i;++r)a[r].s>d&&(d=a[r].s);var h=new He(d+1),f=dt(n[u-1],h,0);if(f>t){r=0;var p=0,g=f-t,m=1<<g;for(a.sort(function(e,t){return h[t.s]-h[e.s]||e.f-t.f});r<i;++r){var v=a[r].s;if(!(h[v]>t))break;p+=m-(1<<f-h[v]),h[v]=t}for(p>>=g;p>0;){var y=a[r].s;h[y]<t?p-=1<<t-h[y]++-1:++r}for(;r>=0&&p;--r){var b=a[r].s;h[b]==t&&(--h[b],++p)}f=t}return{t:new Re(h),l:f}},dt=function(e,t,n){return-1==e.s?Math.max(dt(e.l,t,n+1),dt(e.r,t,n+1)):t[e.s]=n},ht=function(e){for(var t=e.length;t&&!e[--t];);for(var n=new He(++t),r=0,i=e[0],a=1,o=function(e){n[r++]=e},s=1;s<=t;++s)if(e[s]==i&&s!=t)++a;else{if(!i&&a>2){for(;a>138;a-=138)o(32754);a>2&&(o(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(o(i),--a;a>6;a-=6)o(8304);a>2&&(o(a-3<<5|8208),a=0)}for(;a--;)o(i);a=1,i=e[s]}return{c:n.subarray(0,r),n:t}},ft=function(e,t){for(var n=0,r=0;r<t.length;++r)n+=e[r]*t[r];return n},pt=function(e,t,n){var r=n.length,i=st(t+2);e[i]=255&r,e[i+1]=r>>8,e[i+2]=255^e[i],e[i+3]=255^e[i+1];for(var a=0;a<r;++a)e[i+a+4]=n[a];return 8*(i+4+r)},gt=function(e,t,n,r,i,a,o,s,l,c,u){ct(t,u++,n),++i[256];for(var A=At(i,15),d=A.t,h=A.l,f=At(a,15),p=f.t,g=f.l,m=ht(d),v=m.c,y=m.n,b=ht(p),w=b.c,x=b.n,B=new He(19),C=0;C<v.length;++C)++B[31&v[C]];for(C=0;C<w.length;++C)++B[31&w[C]];for(var N=At(B,7),k=N.t,_=N.l,E=19;E>4&&!k[Ve[E-1]];--E);var S,F,I,j,U=c+5<<3,O=ft(i,rt)+ft(a,it)+o,P=ft(i,d)+ft(a,p)+o+14+3*E+ft(B,k)+2*B[16]+3*B[17]+7*B[18];if(l>=0&&U<=O&&U<=P)return pt(t,u,e.subarray(l,l+c));if(ct(t,u,1+(P<O)),u+=2,P<O){S=nt(d,h,0),F=d,I=nt(p,g,0),j=p;var L=nt(k,_,0);ct(t,u,y-257),ct(t,u+5,x-1),ct(t,u+10,E-4),u+=14;for(C=0;C<E;++C)ct(t,u+3*C,k[Ve[C]]);u+=3*E;for(var D=[v,w],T=0;T<2;++T){var M=D[T];for(C=0;C<M.length;++C){var Q=31&M[C];ct(t,u,L[Q]),u+=k[Q],Q>15&&(ct(t,u,M[C]>>5&127),u+=M[C]>>12)}}}else S=at,F=rt,I=ot,j=it;for(C=0;C<s;++C){var R=r[C];if(R>255){ut(t,u,S[(Q=R>>18&31)+257]),u+=F[Q+257],Q>7&&(ct(t,u,R>>23&31),u+=Ke[Q]);var H=31&R;ut(t,u,I[H]),u+=j[H],H>3&&(ut(t,u,R>>5&8191),u+=We[H])}else ut(t,u,S[R]),u+=F[R]}return ut(t,u,S[256]),u+F[256]},mt=new ze([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),vt=new Re(0),yt=function(e,t,n,r,i,a){var o=a.z||e.length,s=new Re(r+o+5*(1+Math.ceil(o/7e3))+i),l=s.subarray(r,s.length-i),c=a.l,u=7&(a.r||0);if(t){u&&(l[0]=a.r>>3);for(var A=mt[t-1],d=A>>13,h=8191&A,f=(1<<n)-1,p=a.p||new He(32768),g=a.h||new He(f+1),m=Math.ceil(n/3),v=2*m,y=function(t){return(e[t]^e[t+1]<<m^e[t+2]<<v)&f},b=new ze(25e3),w=new He(288),x=new He(32),B=0,C=0,N=a.i||0,k=0,_=a.w||0,E=0;N+2<o;++N){var S=y(N),F=32767&N,I=g[S];if(p[F]=I,g[S]=F,_<=N){var j=o-N;if((B>7e3||k>24576)&&(j>423||!c)){u=gt(e,l,0,b,w,x,C,k,E,N-E,u),k=B=C=0,E=N;for(var U=0;U<286;++U)w[U]=0;for(U=0;U<30;++U)x[U]=0}var O=2,P=0,L=h,D=F-I&32767;if(j>2&&S==y(N-D))for(var T=Math.min(d,j)-1,M=Math.min(32767,N),Q=Math.min(258,j);D<=M&&--L&&F!=I;){if(e[N+O]==e[N+O-D]){for(var R=0;R<Q&&e[N+R]==e[N+R-D];++R);if(R>O){if(O=R,P=D,R>T)break;var H=Math.min(D,R-2),z=0;for(U=0;U<H;++U){var K=N-D+U&32767,W=K-p[K]&32767;W>z&&(z=W,I=K)}}}D+=(F=I)-(I=p[F])&32767}if(P){b[k++]=268435456|Ye[O]<<18|Ze[P];var V=31&Ye[O],G=31&Ze[P];C+=Ke[V]+We[G],++w[257+V],++x[G],_=N+O,++B}else b[k++]=e[N],++w[e[N]]}}for(N=Math.max(N,_);N<o;++N)b[k++]=e[N],++w[e[N]];u=gt(e,l,c,b,w,x,C,k,E,N-E,u),c||(a.r=7&u|l[u/8|0]<<3,u-=7,a.h=g,a.p=p,a.i=N,a.w=_)}else{for(N=a.w||0;N<o+c;N+=65535){var q=N+65535;q>=o&&(l[u/8|0]=c,q=o),u=pt(l,u+1,e.subarray(N,q))}a.i=o}return lt(s,0,r+st(u)+i)},bt=function(){var e=1,t=0;return{p:function(n){for(var r=e,i=t,a=0|n.length,o=0;o!=a;){for(var s=Math.min(o+2655,a);o<s;++o)i+=r+=n[o];r=(65535&r)+15*(r>>16),i=(65535&i)+15*(i>>16)}e=r,t=i},d:function(){return(255&(e%=65521))<<24|(65280&e)<<8|(255&(t%=65521))<<8|t>>8}}},wt=function(e,t,n,r,i){if(!i&&(i={l:1},t.dictionary)){var a=t.dictionary.subarray(-32768),o=new Re(a.length+e.length);o.set(a),o.set(e,a.length),e=o,i.w=a.length}return yt(e,null==t.level?6:t.level,null==t.mem?i.l?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(e.length)))):20:12+t.mem,n,r,i)},xt=function(e,t,n){for(;n;++t)e[t]=n,n>>>=8},Bt=function(e,t){var n=t.level,r=0==n?0:n<6?1:9==n?3:2;if(e[0]=120,e[1]=r<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var i=bt();i.p(t.dictionary),xt(e,2,i.d())}};function Ct(e,t){t||(t={});var n=bt();n.p(e);var r=wt(e,t,t.dictionary?6:2,4);return Bt(r,t),xt(r,r.length-4,n.d()),r}var Nt="undefined"!=typeof TextDecoder&&new TextDecoder;try{Nt.decode(vt,{stream:!0})}catch(zD){}"function"==typeof queueMicrotask?queueMicrotask:"function"==typeof setTimeout&&setTimeout;function kt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function _t(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return kt(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?kt(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Et(e){return new TextDecoder(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf8").decode(e)}const St=new TextEncoder;const Ft=(()=>{const e=new Uint8Array(4);return!((new Uint32Array(e.buffer)[0]=1)&e[0])})(),It={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class jt{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8192,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,De.A)(this,"buffer",void 0),(0,De.A)(this,"byteLength",void 0),(0,De.A)(this,"byteOffset",void 0),(0,De.A)(this,"length",void 0),(0,De.A)(this,"offset",void 0),(0,De.A)(this,"lastWrittenByte",void 0),(0,De.A)(this,"littleEndian",void 0),(0,De.A)(this,"_data",void 0),(0,De.A)(this,"_mark",void 0),(0,De.A)(this,"_marks",void 0);let n=!1;"number"===typeof e?e=new ArrayBuffer(e):(n=!0,this.lastWrittenByte=e.byteLength);const r=t.offset?t.offset>>>0:0,i=e.byteLength-r;let a=r;(ArrayBuffer.isView(e)||e instanceof jt)&&(e.byteLength!==e.buffer.byteLength&&(a=e.byteOffset+r),e=e.buffer),this.lastWrittenByte=n?i:0,this.buffer=e,this.length=i,this.byteLength=i,this.byteOffset=a,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,a,i),this._mark=0,this._marks=[]}available(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this.offset+=e,this}back(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(void 0===e)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(!this.available(e)){const t=2*(this.offset+e),n=new Uint8Array(t);n.set(new Uint8Array(this.buffer)),this.buffer=n.buffer,this.length=t,this.byteLength=t,this._data=new DataView(this.buffer)}return this}readBoolean(){return 0!==this.readUint8()}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this.readArray(e,"uint8")}readArray(e,t){const n=It[t].BYTES_PER_ELEMENT*e,r=this.byteOffset+this.offset,i=this.buffer.slice(r,r+n);if(this.littleEndian===Ft&&"uint8"!==t&&"int8"!==t){const e=new Uint8Array(this.buffer.slice(r,r+n));e.reverse();const i=new It[t](e.buffer);return this.offset+=n,i.reverse(),i}const a=new It[t](i);return this.offset+=n,a}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t="";for(let n=0;n<e;n++)t+=this.readChar();return t}readUtf8(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return Et(this.readBytes(e))}decodeText(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf8";return Et(this.readBytes(e),t)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let t=0;t<e.length;t++)this._data.setUint8(this.offset++,e[t]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let t=0;t<e.length;t++)this.writeUint8(e.charCodeAt(t));return this}writeUtf8(e){return this.writeBytes(function(e){return St.encode(e)}(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Ut(e){let t=e.length;for(;--t>=0;)e[t]=0}const Ot=256,Pt=286,Lt=30,Dt=15,Tt=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),Mt=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),Qt=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),Rt=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Ht=new Array(576);Ut(Ht);const zt=new Array(60);Ut(zt);const Kt=new Array(512);Ut(Kt);const Wt=new Array(256);Ut(Wt);const Vt=new Array(29);Ut(Vt);const Gt=new Array(Lt);function qt(e,t,n,r,i){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=e&&e.length}let Xt,Yt,Jt;function Zt(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}Ut(Gt);const $t=e=>e<256?Kt[e]:Kt[256+(e>>>7)],en=(e,t)=>{e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255},tn=(e,t,n)=>{e.bi_valid>16-n?(e.bi_buf|=t<<e.bi_valid&65535,en(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=n-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)},nn=(e,t,n)=>{tn(e,n[2*t],n[2*t+1])},rn=(e,t)=>{let n=0;do{n|=1&e,e>>>=1,n<<=1}while(--t>0);return n>>>1},an=(e,t,n)=>{const r=new Array(16);let i,a,o=0;for(i=1;i<=Dt;i++)o=o+n[i-1]<<1,r[i]=o;for(a=0;a<=t;a++){let t=e[2*a+1];0!==t&&(e[2*a]=rn(r[t]++,t))}},on=e=>{let t;for(t=0;t<Pt;t++)e.dyn_ltree[2*t]=0;for(t=0;t<Lt;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.sym_next=e.matches=0},sn=e=>{e.bi_valid>8?en(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},ln=(e,t,n,r)=>{const i=2*t,a=2*n;return e[i]<e[a]||e[i]===e[a]&&r[t]<=r[n]},cn=(e,t,n)=>{const r=e.heap[n];let i=n<<1;for(;i<=e.heap_len&&(i<e.heap_len&&ln(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!ln(t,r,e.heap[i],e.depth));)e.heap[n]=e.heap[i],n=i,i<<=1;e.heap[n]=r},un=(e,t,n)=>{let r,i,a,o,s=0;if(0!==e.sym_next)do{r=255&e.pending_buf[e.sym_buf+s++],r+=(255&e.pending_buf[e.sym_buf+s++])<<8,i=e.pending_buf[e.sym_buf+s++],0===r?nn(e,i,t):(a=Wt[i],nn(e,a+Ot+1,t),o=Tt[a],0!==o&&(i-=Vt[a],tn(e,i,o)),r--,a=$t(r),nn(e,a,n),o=Mt[a],0!==o&&(r-=Gt[a],tn(e,r,o)))}while(s<e.sym_next);nn(e,256,t)},An=(e,t)=>{const n=t.dyn_tree,r=t.stat_desc.static_tree,i=t.stat_desc.has_stree,a=t.stat_desc.elems;let o,s,l,c=-1;for(e.heap_len=0,e.heap_max=573,o=0;o<a;o++)0!==n[2*o]?(e.heap[++e.heap_len]=c=o,e.depth[o]=0):n[2*o+1]=0;for(;e.heap_len<2;)l=e.heap[++e.heap_len]=c<2?++c:0,n[2*l]=1,e.depth[l]=0,e.opt_len--,i&&(e.static_len-=r[2*l+1]);for(t.max_code=c,o=e.heap_len>>1;o>=1;o--)cn(e,n,o);l=a;do{o=e.heap[1],e.heap[1]=e.heap[e.heap_len--],cn(e,n,1),s=e.heap[1],e.heap[--e.heap_max]=o,e.heap[--e.heap_max]=s,n[2*l]=n[2*o]+n[2*s],e.depth[l]=(e.depth[o]>=e.depth[s]?e.depth[o]:e.depth[s])+1,n[2*o+1]=n[2*s+1]=l,e.heap[1]=l++,cn(e,n,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],((e,t)=>{const n=t.dyn_tree,r=t.max_code,i=t.stat_desc.static_tree,a=t.stat_desc.has_stree,o=t.stat_desc.extra_bits,s=t.stat_desc.extra_base,l=t.stat_desc.max_length;let c,u,A,d,h,f,p=0;for(d=0;d<=Dt;d++)e.bl_count[d]=0;for(n[2*e.heap[e.heap_max]+1]=0,c=e.heap_max+1;c<573;c++)u=e.heap[c],d=n[2*n[2*u+1]+1]+1,d>l&&(d=l,p++),n[2*u+1]=d,u>r||(e.bl_count[d]++,h=0,u>=s&&(h=o[u-s]),f=n[2*u],e.opt_len+=f*(d+h),a&&(e.static_len+=f*(i[2*u+1]+h)));if(0!==p){do{for(d=l-1;0===e.bl_count[d];)d--;e.bl_count[d]--,e.bl_count[d+1]+=2,e.bl_count[l]--,p-=2}while(p>0);for(d=l;0!==d;d--)for(u=e.bl_count[d];0!==u;)A=e.heap[--c],A>r||(n[2*A+1]!==d&&(e.opt_len+=(d-n[2*A+1])*n[2*A],n[2*A+1]=d),u--)}})(e,t),an(n,c,e.bl_count)},dn=(e,t,n)=>{let r,i,a=-1,o=t[1],s=0,l=7,c=4;for(0===o&&(l=138,c=3),t[2*(n+1)+1]=65535,r=0;r<=n;r++)i=o,o=t[2*(r+1)+1],++s<l&&i===o||(s<c?e.bl_tree[2*i]+=s:0!==i?(i!==a&&e.bl_tree[2*i]++,e.bl_tree[32]++):s<=10?e.bl_tree[34]++:e.bl_tree[36]++,s=0,a=i,0===o?(l=138,c=3):i===o?(l=6,c=3):(l=7,c=4))},hn=(e,t,n)=>{let r,i,a=-1,o=t[1],s=0,l=7,c=4;for(0===o&&(l=138,c=3),r=0;r<=n;r++)if(i=o,o=t[2*(r+1)+1],!(++s<l&&i===o)){if(s<c)do{nn(e,i,e.bl_tree)}while(0!==--s);else 0!==i?(i!==a&&(nn(e,i,e.bl_tree),s--),nn(e,16,e.bl_tree),tn(e,s-3,2)):s<=10?(nn(e,17,e.bl_tree),tn(e,s-3,3)):(nn(e,18,e.bl_tree),tn(e,s-11,7));s=0,a=i,0===o?(l=138,c=3):i===o?(l=6,c=3):(l=7,c=4)}};let fn=!1;const pn=(e,t,n,r)=>{tn(e,0+(r?1:0),3),sn(e),en(e,n),en(e,~n),n&&e.pending_buf.set(e.window.subarray(t,t+n),e.pending),e.pending+=n};var gn=e=>{fn||((()=>{let e,t,n,r,i;const a=new Array(16);for(n=0,r=0;r<28;r++)for(Vt[r]=n,e=0;e<1<<Tt[r];e++)Wt[n++]=r;for(Wt[n-1]=r,i=0,r=0;r<16;r++)for(Gt[r]=i,e=0;e<1<<Mt[r];e++)Kt[i++]=r;for(i>>=7;r<Lt;r++)for(Gt[r]=i<<7,e=0;e<1<<Mt[r]-7;e++)Kt[256+i++]=r;for(t=0;t<=Dt;t++)a[t]=0;for(e=0;e<=143;)Ht[2*e+1]=8,e++,a[8]++;for(;e<=255;)Ht[2*e+1]=9,e++,a[9]++;for(;e<=279;)Ht[2*e+1]=7,e++,a[7]++;for(;e<=287;)Ht[2*e+1]=8,e++,a[8]++;for(an(Ht,287,a),e=0;e<Lt;e++)zt[2*e+1]=5,zt[2*e]=rn(e,5);Xt=new qt(Ht,Tt,257,Pt,Dt),Yt=new qt(zt,Mt,0,Lt,Dt),Jt=new qt(new Array(0),Qt,0,19,7)})(),fn=!0),e.l_desc=new Zt(e.dyn_ltree,Xt),e.d_desc=new Zt(e.dyn_dtree,Yt),e.bl_desc=new Zt(e.bl_tree,Jt),e.bi_buf=0,e.bi_valid=0,on(e)},mn=(e,t,n,r)=>{let i,a,o=0;e.level>0?(2===e.strm.data_type&&(e.strm.data_type=(e=>{let t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<Ot;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0})(e)),An(e,e.l_desc),An(e,e.d_desc),o=(e=>{let t;for(dn(e,e.dyn_ltree,e.l_desc.max_code),dn(e,e.dyn_dtree,e.d_desc.max_code),An(e,e.bl_desc),t=18;t>=3&&0===e.bl_tree[2*Rt[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t})(e),i=e.opt_len+3+7>>>3,a=e.static_len+3+7>>>3,a<=i&&(i=a)):i=a=n+5,n+4<=i&&-1!==t?pn(e,t,n,r):4===e.strategy||a===i?(tn(e,2+(r?1:0),3),un(e,Ht,zt)):(tn(e,4+(r?1:0),3),((e,t,n,r)=>{let i;for(tn(e,t-257,5),tn(e,n-1,5),tn(e,r-4,4),i=0;i<r;i++)tn(e,e.bl_tree[2*Rt[i]+1],3);hn(e,e.dyn_ltree,t-1),hn(e,e.dyn_dtree,n-1)})(e,e.l_desc.max_code+1,e.d_desc.max_code+1,o+1),un(e,e.dyn_ltree,e.dyn_dtree)),on(e),r&&sn(e)},vn=(e,t,n)=>(e.pending_buf[e.sym_buf+e.sym_next++]=t,e.pending_buf[e.sym_buf+e.sym_next++]=t>>8,e.pending_buf[e.sym_buf+e.sym_next++]=n,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(Wt[n]+Ot+1)]++,e.dyn_dtree[2*$t(t)]++),e.sym_next===e.sym_end),yn=e=>{tn(e,2,3),nn(e,256,Ht),(e=>{16===e.bi_valid?(en(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)})(e)},bn={_tr_init:gn,_tr_stored_block:pn,_tr_flush_block:mn,_tr_tally:vn,_tr_align:yn};var wn=(e,t,n,r)=>{let i=65535&e,a=e>>>16&65535,o=0;for(;0!==n;){o=n>2e3?2e3:n,n-=o;do{i=i+t[r++]|0,a=a+i|0}while(--o);i%=65521,a%=65521}return i|a<<16};const xn=new Uint32Array((()=>{let e,t=[];for(var n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t})());var Bn=(e,t,n,r)=>{const i=xn,a=r+n;e^=-1;for(let o=r;o<a;o++)e=e>>>8^i[255&(e^t[o])];return-1^e},Cn={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Nn={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:kn,_tr_stored_block:_n,_tr_flush_block:En,_tr_tally:Sn,_tr_align:Fn}=bn,{Z_NO_FLUSH:In,Z_PARTIAL_FLUSH:jn,Z_FULL_FLUSH:Un,Z_FINISH:On,Z_BLOCK:Pn,Z_OK:Ln,Z_STREAM_END:Dn,Z_STREAM_ERROR:Tn,Z_DATA_ERROR:Mn,Z_BUF_ERROR:Qn,Z_DEFAULT_COMPRESSION:Rn,Z_FILTERED:Hn,Z_HUFFMAN_ONLY:zn,Z_RLE:Kn,Z_FIXED:Wn,Z_DEFAULT_STRATEGY:Vn,Z_UNKNOWN:Gn,Z_DEFLATED:qn}=Nn,Xn=258,Yn=262,Jn=42,Zn=113,$n=666,er=(e,t)=>(e.msg=Cn[t],t),tr=e=>2*e-(e>4?9:0),nr=e=>{let t=e.length;for(;--t>=0;)e[t]=0},rr=e=>{let t,n,r,i=e.w_size;t=e.hash_size,r=t;do{n=e.head[--r],e.head[r]=n>=i?n-i:0}while(--t);t=i,r=t;do{n=e.prev[--r],e.prev[r]=n>=i?n-i:0}while(--t)};let ir=(e,t,n)=>(t<<e.hash_shift^n)&e.hash_mask;const ar=e=>{const t=e.state;let n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+n),e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))},or=(e,t)=>{En(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,ar(e.strm)},sr=(e,t)=>{e.pending_buf[e.pending++]=t},lr=(e,t)=>{e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t},cr=(e,t,n,r)=>{let i=e.avail_in;return i>r&&(i=r),0===i?0:(e.avail_in-=i,t.set(e.input.subarray(e.next_in,e.next_in+i),n),1===e.state.wrap?e.adler=wn(e.adler,t,i,n):2===e.state.wrap&&(e.adler=Bn(e.adler,t,i,n)),e.next_in+=i,e.total_in+=i,i)},ur=(e,t)=>{let n,r,i=e.max_chain_length,a=e.strstart,o=e.prev_length,s=e.nice_match;const l=e.strstart>e.w_size-Yn?e.strstart-(e.w_size-Yn):0,c=e.window,u=e.w_mask,A=e.prev,d=e.strstart+Xn;let h=c[a+o-1],f=c[a+o];e.prev_length>=e.good_match&&(i>>=2),s>e.lookahead&&(s=e.lookahead);do{if(n=t,c[n+o]===f&&c[n+o-1]===h&&c[n]===c[a]&&c[++n]===c[a+1]){a+=2,n++;do{}while(c[++a]===c[++n]&&c[++a]===c[++n]&&c[++a]===c[++n]&&c[++a]===c[++n]&&c[++a]===c[++n]&&c[++a]===c[++n]&&c[++a]===c[++n]&&c[++a]===c[++n]&&a<d);if(r=Xn-(d-a),a=d-Xn,r>o){if(e.match_start=t,o=r,r>=s)break;h=c[a+o-1],f=c[a+o]}}}while((t=A[t&u])>l&&0!==--i);return o<=e.lookahead?o:e.lookahead},Ar=e=>{const t=e.w_size;let n,r,i;do{if(r=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-Yn)&&(e.window.set(e.window.subarray(t,t+t-r),0),e.match_start-=t,e.strstart-=t,e.block_start-=t,e.insert>e.strstart&&(e.insert=e.strstart),rr(e),r+=t),0===e.strm.avail_in)break;if(n=cr(e.strm,e.window,e.strstart+e.lookahead,r),e.lookahead+=n,e.lookahead+e.insert>=3)for(i=e.strstart-e.insert,e.ins_h=e.window[i],e.ins_h=ir(e,e.ins_h,e.window[i+1]);e.insert&&(e.ins_h=ir(e,e.ins_h,e.window[i+3-1]),e.prev[i&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=i,i++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<Yn&&0!==e.strm.avail_in)},dr=(e,t)=>{let n,r,i,a=e.pending_buf_size-5>e.w_size?e.w_size:e.pending_buf_size-5,o=0,s=e.strm.avail_in;do{if(n=65535,i=e.bi_valid+42>>3,e.strm.avail_out<i)break;if(i=e.strm.avail_out-i,r=e.strstart-e.block_start,n>r+e.strm.avail_in&&(n=r+e.strm.avail_in),n>i&&(n=i),n<a&&(0===n&&t!==On||t===In||n!==r+e.strm.avail_in))break;o=t===On&&n===r+e.strm.avail_in?1:0,_n(e,0,0,o),e.pending_buf[e.pending-4]=n,e.pending_buf[e.pending-3]=n>>8,e.pending_buf[e.pending-2]=~n,e.pending_buf[e.pending-1]=~n>>8,ar(e.strm),r&&(r>n&&(r=n),e.strm.output.set(e.window.subarray(e.block_start,e.block_start+r),e.strm.next_out),e.strm.next_out+=r,e.strm.avail_out-=r,e.strm.total_out+=r,e.block_start+=r,n-=r),n&&(cr(e.strm,e.strm.output,e.strm.next_out,n),e.strm.next_out+=n,e.strm.avail_out-=n,e.strm.total_out+=n)}while(0===o);return s-=e.strm.avail_in,s&&(s>=e.w_size?(e.matches=2,e.window.set(e.strm.input.subarray(e.strm.next_in-e.w_size,e.strm.next_in),0),e.strstart=e.w_size,e.insert=e.strstart):(e.window_size-e.strstart<=s&&(e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,e.insert>e.strstart&&(e.insert=e.strstart)),e.window.set(e.strm.input.subarray(e.strm.next_in-s,e.strm.next_in),e.strstart),e.strstart+=s,e.insert+=s>e.w_size-e.insert?e.w_size-e.insert:s),e.block_start=e.strstart),e.high_water<e.strstart&&(e.high_water=e.strstart),o?4:t!==In&&t!==On&&0===e.strm.avail_in&&e.strstart===e.block_start?2:(i=e.window_size-e.strstart,e.strm.avail_in>i&&e.block_start>=e.w_size&&(e.block_start-=e.w_size,e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,i+=e.w_size,e.insert>e.strstart&&(e.insert=e.strstart)),i>e.strm.avail_in&&(i=e.strm.avail_in),i&&(cr(e.strm,e.window,e.strstart,i),e.strstart+=i,e.insert+=i>e.w_size-e.insert?e.w_size-e.insert:i),e.high_water<e.strstart&&(e.high_water=e.strstart),i=e.bi_valid+42>>3,i=e.pending_buf_size-i>65535?65535:e.pending_buf_size-i,a=i>e.w_size?e.w_size:i,r=e.strstart-e.block_start,(r>=a||(r||t===On)&&t!==In&&0===e.strm.avail_in&&r<=i)&&(n=r>i?i:r,o=t===On&&0===e.strm.avail_in&&n===r?1:0,_n(e,e.block_start,n,o),e.block_start+=n,ar(e.strm)),o?3:1)},hr=(e,t)=>{let n,r;for(;;){if(e.lookahead<Yn){if(Ar(e),e.lookahead<Yn&&t===In)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=ir(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-Yn&&(e.match_length=ur(e,n)),e.match_length>=3)if(r=Sn(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){e.match_length--;do{e.strstart++,e.ins_h=ir(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!==--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=ir(e,e.ins_h,e.window[e.strstart+1]);else r=Sn(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(or(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<2?e.strstart:2,t===On?(or(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(or(e,!1),0===e.strm.avail_out)?1:2},fr=(e,t)=>{let n,r,i;for(;;){if(e.lookahead<Yn){if(Ar(e),e.lookahead<Yn&&t===In)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=ir(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-Yn&&(e.match_length=ur(e,n),e.match_length<=5&&(e.strategy===Hn||3===e.match_length&&e.strstart-e.match_start>4096)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){i=e.strstart+e.lookahead-3,r=Sn(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=i&&(e.ins_h=ir(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!==--e.prev_length);if(e.match_available=0,e.match_length=2,e.strstart++,r&&(or(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if(r=Sn(e,0,e.window[e.strstart-1]),r&&or(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=Sn(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,t===On?(or(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(or(e,!1),0===e.strm.avail_out)?1:2};function pr(e,t,n,r,i){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=i}const gr=[new pr(0,0,0,0,dr),new pr(4,4,8,4,hr),new pr(4,5,16,8,hr),new pr(4,6,32,32,hr),new pr(4,4,16,16,fr),new pr(8,16,32,32,fr),new pr(8,16,128,128,fr),new pr(8,32,128,256,fr),new pr(32,128,258,1024,fr),new pr(32,258,258,4096,fr)];function mr(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=qn,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),nr(this.dyn_ltree),nr(this.dyn_dtree),nr(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),nr(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),nr(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const vr=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.status!==Jn&&57!==t.status&&69!==t.status&&73!==t.status&&91!==t.status&&103!==t.status&&t.status!==Zn&&t.status!==$n?1:0},yr=e=>{if(vr(e))return er(e,Tn);e.total_in=e.total_out=0,e.data_type=Gn;const t=e.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=2===t.wrap?57:t.wrap?Jn:Zn,e.adler=2===t.wrap?0:1,t.last_flush=-2,kn(t),Ln},br=e=>{const t=yr(e);return t===Ln&&(e=>{e.window_size=2*e.w_size,nr(e.head),e.max_lazy_match=gr[e.level].max_lazy,e.good_match=gr[e.level].good_length,e.nice_match=gr[e.level].nice_length,e.max_chain_length=gr[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=2,e.match_available=0,e.ins_h=0})(e.state),t},wr=(e,t,n,r,i,a)=>{if(!e)return Tn;let o=1;if(t===Rn&&(t=6),r<0?(o=0,r=-r):r>15&&(o=2,r-=16),i<1||i>9||n!==qn||r<8||r>15||t<0||t>9||a<0||a>Wn||8===r&&1!==o)return er(e,Tn);8===r&&(r=9);const s=new mr;return e.state=s,s.strm=e,s.status=Jn,s.wrap=o,s.gzhead=null,s.w_bits=r,s.w_size=1<<s.w_bits,s.w_mask=s.w_size-1,s.hash_bits=i+7,s.hash_size=1<<s.hash_bits,s.hash_mask=s.hash_size-1,s.hash_shift=~~((s.hash_bits+3-1)/3),s.window=new Uint8Array(2*s.w_size),s.head=new Uint16Array(s.hash_size),s.prev=new Uint16Array(s.w_size),s.lit_bufsize=1<<i+6,s.pending_buf_size=4*s.lit_bufsize,s.pending_buf=new Uint8Array(s.pending_buf_size),s.sym_buf=s.lit_bufsize,s.sym_end=3*(s.lit_bufsize-1),s.level=t,s.strategy=a,s.method=n,br(e)};var xr=(e,t)=>{if(vr(e)||t>Pn||t<0)return e?er(e,Tn):Tn;const n=e.state;if(!e.output||0!==e.avail_in&&!e.input||n.status===$n&&t!==On)return er(e,0===e.avail_out?Qn:Tn);const r=n.last_flush;if(n.last_flush=t,0!==n.pending){if(ar(e),0===e.avail_out)return n.last_flush=-1,Ln}else if(0===e.avail_in&&tr(t)<=tr(r)&&t!==On)return er(e,Qn);if(n.status===$n&&0!==e.avail_in)return er(e,Qn);if(n.status===Jn&&0===n.wrap&&(n.status=Zn),n.status===Jn){let t=qn+(n.w_bits-8<<4)<<8,r=-1;if(r=n.strategy>=zn||n.level<2?0:n.level<6?1:6===n.level?2:3,t|=r<<6,0!==n.strstart&&(t|=32),t+=31-t%31,lr(n,t),0!==n.strstart&&(lr(n,e.adler>>>16),lr(n,65535&e.adler)),e.adler=1,n.status=Zn,ar(e),0!==n.pending)return n.last_flush=-1,Ln}if(57===n.status)if(e.adler=0,sr(n,31),sr(n,139),sr(n,8),n.gzhead)sr(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),sr(n,255&n.gzhead.time),sr(n,n.gzhead.time>>8&255),sr(n,n.gzhead.time>>16&255),sr(n,n.gzhead.time>>24&255),sr(n,9===n.level?2:n.strategy>=zn||n.level<2?4:0),sr(n,255&n.gzhead.os),n.gzhead.extra&&n.gzhead.extra.length&&(sr(n,255&n.gzhead.extra.length),sr(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(e.adler=Bn(e.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=69;else if(sr(n,0),sr(n,0),sr(n,0),sr(n,0),sr(n,0),sr(n,9===n.level?2:n.strategy>=zn||n.level<2?4:0),sr(n,3),n.status=Zn,ar(e),0!==n.pending)return n.last_flush=-1,Ln;if(69===n.status){if(n.gzhead.extra){let t=n.pending,r=(65535&n.gzhead.extra.length)-n.gzindex;for(;n.pending+r>n.pending_buf_size;){let i=n.pending_buf_size-n.pending;if(n.pending_buf.set(n.gzhead.extra.subarray(n.gzindex,n.gzindex+i),n.pending),n.pending=n.pending_buf_size,n.gzhead.hcrc&&n.pending>t&&(e.adler=Bn(e.adler,n.pending_buf,n.pending-t,t)),n.gzindex+=i,ar(e),0!==n.pending)return n.last_flush=-1,Ln;t=0,r-=i}let i=new Uint8Array(n.gzhead.extra);n.pending_buf.set(i.subarray(n.gzindex,n.gzindex+r),n.pending),n.pending+=r,n.gzhead.hcrc&&n.pending>t&&(e.adler=Bn(e.adler,n.pending_buf,n.pending-t,t)),n.gzindex=0}n.status=73}if(73===n.status){if(n.gzhead.name){let t,r=n.pending;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>r&&(e.adler=Bn(e.adler,n.pending_buf,n.pending-r,r)),ar(e),0!==n.pending)return n.last_flush=-1,Ln;r=0}t=n.gzindex<n.gzhead.name.length?255&n.gzhead.name.charCodeAt(n.gzindex++):0,sr(n,t)}while(0!==t);n.gzhead.hcrc&&n.pending>r&&(e.adler=Bn(e.adler,n.pending_buf,n.pending-r,r)),n.gzindex=0}n.status=91}if(91===n.status){if(n.gzhead.comment){let t,r=n.pending;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>r&&(e.adler=Bn(e.adler,n.pending_buf,n.pending-r,r)),ar(e),0!==n.pending)return n.last_flush=-1,Ln;r=0}t=n.gzindex<n.gzhead.comment.length?255&n.gzhead.comment.charCodeAt(n.gzindex++):0,sr(n,t)}while(0!==t);n.gzhead.hcrc&&n.pending>r&&(e.adler=Bn(e.adler,n.pending_buf,n.pending-r,r))}n.status=103}if(103===n.status){if(n.gzhead.hcrc){if(n.pending+2>n.pending_buf_size&&(ar(e),0!==n.pending))return n.last_flush=-1,Ln;sr(n,255&e.adler),sr(n,e.adler>>8&255),e.adler=0}if(n.status=Zn,ar(e),0!==n.pending)return n.last_flush=-1,Ln}if(0!==e.avail_in||0!==n.lookahead||t!==In&&n.status!==$n){let r=0===n.level?dr(n,t):n.strategy===zn?((e,t)=>{let n;for(;;){if(0===e.lookahead&&(Ar(e),0===e.lookahead)){if(t===In)return 1;break}if(e.match_length=0,n=Sn(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(or(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===On?(or(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(or(e,!1),0===e.strm.avail_out)?1:2})(n,t):n.strategy===Kn?((e,t)=>{let n,r,i,a;const o=e.window;for(;;){if(e.lookahead<=Xn){if(Ar(e),e.lookahead<=Xn&&t===In)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&e.strstart>0&&(i=e.strstart-1,r=o[i],r===o[++i]&&r===o[++i]&&r===o[++i])){a=e.strstart+Xn;do{}while(r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&i<a);e.match_length=Xn-(a-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(n=Sn(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=Sn(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(or(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===On?(or(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(or(e,!1),0===e.strm.avail_out)?1:2})(n,t):gr[n.level].func(n,t);if(3!==r&&4!==r||(n.status=$n),1===r||3===r)return 0===e.avail_out&&(n.last_flush=-1),Ln;if(2===r&&(t===jn?Fn(n):t!==Pn&&(_n(n,0,0,!1),t===Un&&(nr(n.head),0===n.lookahead&&(n.strstart=0,n.block_start=0,n.insert=0))),ar(e),0===e.avail_out))return n.last_flush=-1,Ln}return t!==On?Ln:n.wrap<=0?Dn:(2===n.wrap?(sr(n,255&e.adler),sr(n,e.adler>>8&255),sr(n,e.adler>>16&255),sr(n,e.adler>>24&255),sr(n,255&e.total_in),sr(n,e.total_in>>8&255),sr(n,e.total_in>>16&255),sr(n,e.total_in>>24&255)):(lr(n,e.adler>>>16),lr(n,65535&e.adler)),ar(e),n.wrap>0&&(n.wrap=-n.wrap),0!==n.pending?Ln:Dn)},Br=(e,t)=>{let n=t.length;if(vr(e))return Tn;const r=e.state,i=r.wrap;if(2===i||1===i&&r.status!==Jn||r.lookahead)return Tn;if(1===i&&(e.adler=wn(e.adler,t,n,0)),r.wrap=0,n>=r.w_size){0===i&&(nr(r.head),r.strstart=0,r.block_start=0,r.insert=0);let e=new Uint8Array(r.w_size);e.set(t.subarray(n-r.w_size,n),0),t=e,n=r.w_size}const a=e.avail_in,o=e.next_in,s=e.input;for(e.avail_in=n,e.next_in=0,e.input=t,Ar(r);r.lookahead>=3;){let e=r.strstart,t=r.lookahead-2;do{r.ins_h=ir(r,r.ins_h,r.window[e+3-1]),r.prev[e&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=e,e++}while(--t);r.strstart=e,r.lookahead=2,Ar(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=2,r.match_available=0,e.next_in=o,e.input=s,e.avail_in=a,r.wrap=i,Ln},Cr={deflateInit:(e,t)=>wr(e,t,qn,15,8,Vn),deflateInit2:wr,deflateReset:br,deflateResetKeep:yr,deflateSetHeader:(e,t)=>vr(e)||2!==e.state.wrap?Tn:(e.state.gzhead=t,Ln),deflate:xr,deflateEnd:e=>{if(vr(e))return Tn;const t=e.state.status;return e.state=null,t===Zn?er(e,Mn):Ln},deflateSetDictionary:Br,deflateInfo:"pako deflate (from Nodeca project)"};const Nr=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var kr=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const n=t.shift();if(n){if("object"!==typeof n)throw new TypeError(n+"must be non-object");for(const t in n)Nr(n,t)&&(e[t]=n[t])}}return e},_r=e=>{let t=0;for(let r=0,i=e.length;r<i;r++)t+=e[r].length;const n=new Uint8Array(t);for(let r=0,i=0,a=e.length;r<a;r++){let t=e[r];n.set(t,i),i+=t.length}return n};let Er=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(M0){Er=!1}const Sr=new Uint8Array(256);for(let n=0;n<256;n++)Sr[n]=n>=252?6:n>=248?5:n>=240?4:n>=224?3:n>=192?2:1;Sr[254]=Sr[254]=1;var Fr=e=>{if("function"===typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(e);let t,n,r,i,a,o=e.length,s=0;for(i=0;i<o;i++)n=e.charCodeAt(i),55296===(64512&n)&&i+1<o&&(r=e.charCodeAt(i+1),56320===(64512&r)&&(n=65536+(n-55296<<10)+(r-56320),i++)),s+=n<128?1:n<2048?2:n<65536?3:4;for(t=new Uint8Array(s),a=0,i=0;a<s;i++)n=e.charCodeAt(i),55296===(64512&n)&&i+1<o&&(r=e.charCodeAt(i+1),56320===(64512&r)&&(n=65536+(n-55296<<10)+(r-56320),i++)),n<128?t[a++]=n:n<2048?(t[a++]=192|n>>>6,t[a++]=128|63&n):n<65536?(t[a++]=224|n>>>12,t[a++]=128|n>>>6&63,t[a++]=128|63&n):(t[a++]=240|n>>>18,t[a++]=128|n>>>12&63,t[a++]=128|n>>>6&63,t[a++]=128|63&n);return t},Ir=(e,t)=>{const n=t||e.length;if("function"===typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(e.subarray(0,t));let r,i;const a=new Array(2*n);for(i=0,r=0;r<n;){let t=e[r++];if(t<128){a[i++]=t;continue}let o=Sr[t];if(o>4)a[i++]=65533,r+=o-1;else{for(t&=2===o?31:3===o?15:7;o>1&&r<n;)t=t<<6|63&e[r++],o--;o>1?a[i++]=65533:t<65536?a[i++]=t:(t-=65536,a[i++]=55296|t>>10&1023,a[i++]=56320|1023&t)}}return((e,t)=>{if(t<65534&&e.subarray&&Er)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let n="";for(let r=0;r<t;r++)n+=String.fromCharCode(e[r]);return n})(a,i)},jr=(e,t)=>{(t=t||e.length)>e.length&&(t=e.length);let n=t-1;for(;n>=0&&128===(192&e[n]);)n--;return n<0||0===n?t:n+Sr[e[n]]>t?n:t};var Ur=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0};const Or=Object.prototype.toString,{Z_NO_FLUSH:Pr,Z_SYNC_FLUSH:Lr,Z_FULL_FLUSH:Dr,Z_FINISH:Tr,Z_OK:Mr,Z_STREAM_END:Qr,Z_DEFAULT_COMPRESSION:Rr,Z_DEFAULT_STRATEGY:Hr,Z_DEFLATED:zr}=Nn;function Kr(e){this.options=kr({level:Rr,method:zr,chunkSize:16384,windowBits:15,memLevel:8,strategy:Hr},e||{});let t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Ur,this.strm.avail_out=0;let n=Cr.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==Mr)throw new Error(Cn[n]);if(t.header&&Cr.deflateSetHeader(this.strm,t.header),t.dictionary){let e;if(e="string"===typeof t.dictionary?Fr(t.dictionary):"[object ArrayBuffer]"===Or.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,n=Cr.deflateSetDictionary(this.strm,e),n!==Mr)throw new Error(Cn[n]);this._dict_set=!0}}function Wr(e,t){const n=new Kr(t);if(n.push(e,!0),n.err)throw n.msg||Cn[n.err];return n.result}Kr.prototype.push=function(e,t){const n=this.strm,r=this.options.chunkSize;let i,a;if(this.ended)return!1;for(a=t===~~t?t:!0===t?Tr:Pr,"string"===typeof e?n.input=Fr(e):"[object ArrayBuffer]"===Or.call(e)?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;)if(0===n.avail_out&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),(a===Lr||a===Dr)&&n.avail_out<=6)this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;else{if(i=Cr.deflate(n,a),i===Qr)return n.next_out>0&&this.onData(n.output.subarray(0,n.next_out)),i=Cr.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===Mr;if(0!==n.avail_out){if(a>0&&n.next_out>0)this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;else if(0===n.avail_in)break}else this.onData(n.output)}return!0},Kr.prototype.onData=function(e){this.chunks.push(e)},Kr.prototype.onEnd=function(e){e===Mr&&(this.result=_r(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var Vr={Deflate:Kr,deflate:Wr,deflateRaw:function(e,t){return(t=t||{}).raw=!0,Wr(e,t)},gzip:function(e,t){return(t=t||{}).gzip=!0,Wr(e,t)},constants:Nn};const Gr=16209;var qr=function(e,t){let n,r,i,a,o,s,l,c,u,A,d,h,f,p,g,m,v,y,b,w,x,B,C,N;const k=e.state;n=e.next_in,C=e.input,r=n+(e.avail_in-5),i=e.next_out,N=e.output,a=i-(t-e.avail_out),o=i+(e.avail_out-257),s=k.dmax,l=k.wsize,c=k.whave,u=k.wnext,A=k.window,d=k.hold,h=k.bits,f=k.lencode,p=k.distcode,g=(1<<k.lenbits)-1,m=(1<<k.distbits)-1;e:do{h<15&&(d+=C[n++]<<h,h+=8,d+=C[n++]<<h,h+=8),v=f[d&g];t:for(;;){if(y=v>>>24,d>>>=y,h-=y,y=v>>>16&255,0===y)N[i++]=65535&v;else{if(!(16&y)){if(0===(64&y)){v=f[(65535&v)+(d&(1<<y)-1)];continue t}if(32&y){k.mode=16191;break e}e.msg="invalid literal/length code",k.mode=Gr;break e}b=65535&v,y&=15,y&&(h<y&&(d+=C[n++]<<h,h+=8),b+=d&(1<<y)-1,d>>>=y,h-=y),h<15&&(d+=C[n++]<<h,h+=8,d+=C[n++]<<h,h+=8),v=p[d&m];n:for(;;){if(y=v>>>24,d>>>=y,h-=y,y=v>>>16&255,!(16&y)){if(0===(64&y)){v=p[(65535&v)+(d&(1<<y)-1)];continue n}e.msg="invalid distance code",k.mode=Gr;break e}if(w=65535&v,y&=15,h<y&&(d+=C[n++]<<h,h+=8,h<y&&(d+=C[n++]<<h,h+=8)),w+=d&(1<<y)-1,w>s){e.msg="invalid distance too far back",k.mode=Gr;break e}if(d>>>=y,h-=y,y=i-a,w>y){if(y=w-y,y>c&&k.sane){e.msg="invalid distance too far back",k.mode=Gr;break e}if(x=0,B=A,0===u){if(x+=l-y,y<b){b-=y;do{N[i++]=A[x++]}while(--y);x=i-w,B=N}}else if(u<y){if(x+=l+u-y,y-=u,y<b){b-=y;do{N[i++]=A[x++]}while(--y);if(x=0,u<b){y=u,b-=y;do{N[i++]=A[x++]}while(--y);x=i-w,B=N}}}else if(x+=u-y,y<b){b-=y;do{N[i++]=A[x++]}while(--y);x=i-w,B=N}for(;b>2;)N[i++]=B[x++],N[i++]=B[x++],N[i++]=B[x++],b-=3;b&&(N[i++]=B[x++],b>1&&(N[i++]=B[x++]))}else{x=i-w;do{N[i++]=N[x++],N[i++]=N[x++],N[i++]=N[x++],b-=3}while(b>2);b&&(N[i++]=N[x++],b>1&&(N[i++]=N[x++]))}break}}break}}while(n<r&&i<o);b=h>>3,n-=b,h-=b<<3,d&=(1<<h)-1,e.next_in=n,e.next_out=i,e.avail_in=n<r?r-n+5:5-(n-r),e.avail_out=i<o?o-i+257:257-(i-o),k.hold=d,k.bits=h};const Xr=15,Yr=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),Jr=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),Zr=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),$r=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var ei=(e,t,n,r,i,a,o,s)=>{const l=s.bits;let c,u,A,d,h,f,p=0,g=0,m=0,v=0,y=0,b=0,w=0,x=0,B=0,C=0,N=null;const k=new Uint16Array(16),_=new Uint16Array(16);let E,S,F,I=null;for(p=0;p<=Xr;p++)k[p]=0;for(g=0;g<r;g++)k[t[n+g]]++;for(y=l,v=Xr;v>=1&&0===k[v];v--);if(y>v&&(y=v),0===v)return i[a++]=20971520,i[a++]=20971520,s.bits=1,0;for(m=1;m<v&&0===k[m];m++);for(y<m&&(y=m),x=1,p=1;p<=Xr;p++)if(x<<=1,x-=k[p],x<0)return-1;if(x>0&&(0===e||1!==v))return-1;for(_[1]=0,p=1;p<Xr;p++)_[p+1]=_[p]+k[p];for(g=0;g<r;g++)0!==t[n+g]&&(o[_[t[n+g]]++]=g);if(0===e?(N=I=o,f=20):1===e?(N=Yr,I=Jr,f=257):(N=Zr,I=$r,f=0),C=0,g=0,p=m,h=a,b=y,w=0,A=-1,B=1<<y,d=B-1,1===e&&B>852||2===e&&B>592)return 1;for(;;){E=p-w,o[g]+1<f?(S=0,F=o[g]):o[g]>=f?(S=I[o[g]-f],F=N[o[g]-f]):(S=96,F=0),c=1<<p-w,u=1<<b,m=u;do{u-=c,i[h+(C>>w)+u]=E<<24|S<<16|F}while(0!==u);for(c=1<<p-1;C&c;)c>>=1;if(0!==c?(C&=c-1,C+=c):C=0,g++,0===--k[p]){if(p===v)break;p=t[n+o[g]]}if(p>y&&(C&d)!==A){for(0===w&&(w=y),h+=m,b=p-w,x=1<<b;b+w<v&&(x-=k[b+w],!(x<=0));)b++,x<<=1;if(B+=1<<b,1===e&&B>852||2===e&&B>592)return 1;A=C&d,i[A]=y<<24|b<<16|h-a}}return 0!==C&&(i[h+C]=p-w<<24|64<<16),s.bits=y,0};const{Z_FINISH:ti,Z_BLOCK:ni,Z_TREES:ri,Z_OK:ii,Z_STREAM_END:ai,Z_NEED_DICT:oi,Z_STREAM_ERROR:si,Z_DATA_ERROR:li,Z_MEM_ERROR:ci,Z_BUF_ERROR:ui,Z_DEFLATED:Ai}=Nn,di=16180,hi=16190,fi=16191,pi=16192,gi=16194,mi=16199,vi=16200,yi=16206,bi=16209,wi=e=>(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24);function xi(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Bi=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<di||t.mode>16211?1:0},Ci=e=>{if(Bi(e))return si;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=di,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(852),t.distcode=t.distdyn=new Int32Array(592),t.sane=1,t.back=-1,ii},Ni=e=>{if(Bi(e))return si;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,Ci(e)},ki=(e,t)=>{let n;if(Bi(e))return si;const r=e.state;return t<0?(n=0,t=-t):(n=5+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?si:(null!==r.window&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,Ni(e))},_i=(e,t)=>{if(!e)return si;const n=new xi;e.state=n,n.strm=e,n.window=null,n.mode=di;const r=ki(e,t);return r!==ii&&(e.state=null),r};let Ei,Si,Fi=!0;const Ii=e=>{if(Fi){Ei=new Int32Array(512),Si=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(ei(1,e.lens,0,288,Ei,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;ei(2,e.lens,0,32,Si,0,e.work,{bits:5}),Fi=!1}e.lencode=Ei,e.lenbits=9,e.distcode=Si,e.distbits=5},ji=(e,t,n,r)=>{let i;const a=e.state;return null===a.window&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new Uint8Array(a.wsize)),r>=a.wsize?(a.window.set(t.subarray(n-a.wsize,n),0),a.wnext=0,a.whave=a.wsize):(i=a.wsize-a.wnext,i>r&&(i=r),a.window.set(t.subarray(n-r,n-r+i),a.wnext),(r-=i)?(a.window.set(t.subarray(n-r,n),0),a.wnext=r,a.whave=a.wsize):(a.wnext+=i,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=i))),0};var Ui=(e,t)=>{let n,r,i,a,o,s,l,c,u,A,d,h,f,p,g,m,v,y,b,w,x,B,C=0;const N=new Uint8Array(4);let k,_;const E=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Bi(e)||!e.output||!e.input&&0!==e.avail_in)return si;n=e.state,n.mode===fi&&(n.mode=pi),o=e.next_out,i=e.output,l=e.avail_out,a=e.next_in,r=e.input,s=e.avail_in,c=n.hold,u=n.bits,A=s,d=l,B=ii;e:for(;;)switch(n.mode){case di:if(0===n.wrap){n.mode=pi;break}for(;u<16;){if(0===s)break e;s--,c+=r[a++]<<u,u+=8}if(2&n.wrap&&35615===c){0===n.wbits&&(n.wbits=15),n.check=0,N[0]=255&c,N[1]=c>>>8&255,n.check=Bn(n.check,N,2,0),c=0,u=0,n.mode=16181;break}if(n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&c)<<8)+(c>>8))%31){e.msg="incorrect header check",n.mode=bi;break}if((15&c)!==Ai){e.msg="unknown compression method",n.mode=bi;break}if(c>>>=4,u-=4,x=8+(15&c),0===n.wbits&&(n.wbits=x),x>15||x>n.wbits){e.msg="invalid window size",n.mode=bi;break}n.dmax=1<<n.wbits,n.flags=0,e.adler=n.check=1,n.mode=512&c?16189:fi,c=0,u=0;break;case 16181:for(;u<16;){if(0===s)break e;s--,c+=r[a++]<<u,u+=8}if(n.flags=c,(255&n.flags)!==Ai){e.msg="unknown compression method",n.mode=bi;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=bi;break}n.head&&(n.head.text=c>>8&1),512&n.flags&&4&n.wrap&&(N[0]=255&c,N[1]=c>>>8&255,n.check=Bn(n.check,N,2,0)),c=0,u=0,n.mode=16182;case 16182:for(;u<32;){if(0===s)break e;s--,c+=r[a++]<<u,u+=8}n.head&&(n.head.time=c),512&n.flags&&4&n.wrap&&(N[0]=255&c,N[1]=c>>>8&255,N[2]=c>>>16&255,N[3]=c>>>24&255,n.check=Bn(n.check,N,4,0)),c=0,u=0,n.mode=16183;case 16183:for(;u<16;){if(0===s)break e;s--,c+=r[a++]<<u,u+=8}n.head&&(n.head.xflags=255&c,n.head.os=c>>8),512&n.flags&&4&n.wrap&&(N[0]=255&c,N[1]=c>>>8&255,n.check=Bn(n.check,N,2,0)),c=0,u=0,n.mode=16184;case 16184:if(1024&n.flags){for(;u<16;){if(0===s)break e;s--,c+=r[a++]<<u,u+=8}n.length=c,n.head&&(n.head.extra_len=c),512&n.flags&&4&n.wrap&&(N[0]=255&c,N[1]=c>>>8&255,n.check=Bn(n.check,N,2,0)),c=0,u=0}else n.head&&(n.head.extra=null);n.mode=16185;case 16185:if(1024&n.flags&&(h=n.length,h>s&&(h=s),h&&(n.head&&(x=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(a,a+h),x)),512&n.flags&&4&n.wrap&&(n.check=Bn(n.check,r,h,a)),s-=h,a+=h,n.length-=h),n.length))break e;n.length=0,n.mode=16186;case 16186:if(2048&n.flags){if(0===s)break e;h=0;do{x=r[a+h++],n.head&&x&&n.length<65536&&(n.head.name+=String.fromCharCode(x))}while(x&&h<s);if(512&n.flags&&4&n.wrap&&(n.check=Bn(n.check,r,h,a)),s-=h,a+=h,x)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=16187;case 16187:if(4096&n.flags){if(0===s)break e;h=0;do{x=r[a+h++],n.head&&x&&n.length<65536&&(n.head.comment+=String.fromCharCode(x))}while(x&&h<s);if(512&n.flags&&4&n.wrap&&(n.check=Bn(n.check,r,h,a)),s-=h,a+=h,x)break e}else n.head&&(n.head.comment=null);n.mode=16188;case 16188:if(512&n.flags){for(;u<16;){if(0===s)break e;s--,c+=r[a++]<<u,u+=8}if(4&n.wrap&&c!==(65535&n.check)){e.msg="header crc mismatch",n.mode=bi;break}c=0,u=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=fi;break;case 16189:for(;u<32;){if(0===s)break e;s--,c+=r[a++]<<u,u+=8}e.adler=n.check=wi(c),c=0,u=0,n.mode=hi;case hi:if(0===n.havedict)return e.next_out=o,e.avail_out=l,e.next_in=a,e.avail_in=s,n.hold=c,n.bits=u,oi;e.adler=n.check=1,n.mode=fi;case fi:if(t===ni||t===ri)break e;case pi:if(n.last){c>>>=7&u,u-=7&u,n.mode=yi;break}for(;u<3;){if(0===s)break e;s--,c+=r[a++]<<u,u+=8}switch(n.last=1&c,c>>>=1,u-=1,3&c){case 0:n.mode=16193;break;case 1:if(Ii(n),n.mode=mi,t===ri){c>>>=2,u-=2;break e}break;case 2:n.mode=16196;break;case 3:e.msg="invalid block type",n.mode=bi}c>>>=2,u-=2;break;case 16193:for(c>>>=7&u,u-=7&u;u<32;){if(0===s)break e;s--,c+=r[a++]<<u,u+=8}if((65535&c)!==(c>>>16^65535)){e.msg="invalid stored block lengths",n.mode=bi;break}if(n.length=65535&c,c=0,u=0,n.mode=gi,t===ri)break e;case gi:n.mode=16195;case 16195:if(h=n.length,h){if(h>s&&(h=s),h>l&&(h=l),0===h)break e;i.set(r.subarray(a,a+h),o),s-=h,a+=h,l-=h,o+=h,n.length-=h;break}n.mode=fi;break;case 16196:for(;u<14;){if(0===s)break e;s--,c+=r[a++]<<u,u+=8}if(n.nlen=257+(31&c),c>>>=5,u-=5,n.ndist=1+(31&c),c>>>=5,u-=5,n.ncode=4+(15&c),c>>>=4,u-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=bi;break}n.have=0,n.mode=16197;case 16197:for(;n.have<n.ncode;){for(;u<3;){if(0===s)break e;s--,c+=r[a++]<<u,u+=8}n.lens[E[n.have++]]=7&c,c>>>=3,u-=3}for(;n.have<19;)n.lens[E[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,k={bits:n.lenbits},B=ei(0,n.lens,0,19,n.lencode,0,n.work,k),n.lenbits=k.bits,B){e.msg="invalid code lengths set",n.mode=bi;break}n.have=0,n.mode=16198;case 16198:for(;n.have<n.nlen+n.ndist;){for(;C=n.lencode[c&(1<<n.lenbits)-1],g=C>>>24,m=C>>>16&255,v=65535&C,!(g<=u);){if(0===s)break e;s--,c+=r[a++]<<u,u+=8}if(v<16)c>>>=g,u-=g,n.lens[n.have++]=v;else{if(16===v){for(_=g+2;u<_;){if(0===s)break e;s--,c+=r[a++]<<u,u+=8}if(c>>>=g,u-=g,0===n.have){e.msg="invalid bit length repeat",n.mode=bi;break}x=n.lens[n.have-1],h=3+(3&c),c>>>=2,u-=2}else if(17===v){for(_=g+3;u<_;){if(0===s)break e;s--,c+=r[a++]<<u,u+=8}c>>>=g,u-=g,x=0,h=3+(7&c),c>>>=3,u-=3}else{for(_=g+7;u<_;){if(0===s)break e;s--,c+=r[a++]<<u,u+=8}c>>>=g,u-=g,x=0,h=11+(127&c),c>>>=7,u-=7}if(n.have+h>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=bi;break}for(;h--;)n.lens[n.have++]=x}}if(n.mode===bi)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=bi;break}if(n.lenbits=9,k={bits:n.lenbits},B=ei(1,n.lens,0,n.nlen,n.lencode,0,n.work,k),n.lenbits=k.bits,B){e.msg="invalid literal/lengths set",n.mode=bi;break}if(n.distbits=6,n.distcode=n.distdyn,k={bits:n.distbits},B=ei(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,k),n.distbits=k.bits,B){e.msg="invalid distances set",n.mode=bi;break}if(n.mode=mi,t===ri)break e;case mi:n.mode=vi;case vi:if(s>=6&&l>=258){e.next_out=o,e.avail_out=l,e.next_in=a,e.avail_in=s,n.hold=c,n.bits=u,qr(e,d),o=e.next_out,i=e.output,l=e.avail_out,a=e.next_in,r=e.input,s=e.avail_in,c=n.hold,u=n.bits,n.mode===fi&&(n.back=-1);break}for(n.back=0;C=n.lencode[c&(1<<n.lenbits)-1],g=C>>>24,m=C>>>16&255,v=65535&C,!(g<=u);){if(0===s)break e;s--,c+=r[a++]<<u,u+=8}if(m&&0===(240&m)){for(y=g,b=m,w=v;C=n.lencode[w+((c&(1<<y+b)-1)>>y)],g=C>>>24,m=C>>>16&255,v=65535&C,!(y+g<=u);){if(0===s)break e;s--,c+=r[a++]<<u,u+=8}c>>>=y,u-=y,n.back+=y}if(c>>>=g,u-=g,n.back+=g,n.length=v,0===m){n.mode=16205;break}if(32&m){n.back=-1,n.mode=fi;break}if(64&m){e.msg="invalid literal/length code",n.mode=bi;break}n.extra=15&m,n.mode=16201;case 16201:if(n.extra){for(_=n.extra;u<_;){if(0===s)break e;s--,c+=r[a++]<<u,u+=8}n.length+=c&(1<<n.extra)-1,c>>>=n.extra,u-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=16202;case 16202:for(;C=n.distcode[c&(1<<n.distbits)-1],g=C>>>24,m=C>>>16&255,v=65535&C,!(g<=u);){if(0===s)break e;s--,c+=r[a++]<<u,u+=8}if(0===(240&m)){for(y=g,b=m,w=v;C=n.distcode[w+((c&(1<<y+b)-1)>>y)],g=C>>>24,m=C>>>16&255,v=65535&C,!(y+g<=u);){if(0===s)break e;s--,c+=r[a++]<<u,u+=8}c>>>=y,u-=y,n.back+=y}if(c>>>=g,u-=g,n.back+=g,64&m){e.msg="invalid distance code",n.mode=bi;break}n.offset=v,n.extra=15&m,n.mode=16203;case 16203:if(n.extra){for(_=n.extra;u<_;){if(0===s)break e;s--,c+=r[a++]<<u,u+=8}n.offset+=c&(1<<n.extra)-1,c>>>=n.extra,u-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=bi;break}n.mode=16204;case 16204:if(0===l)break e;if(h=d-l,n.offset>h){if(h=n.offset-h,h>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=bi;break}h>n.wnext?(h-=n.wnext,f=n.wsize-h):f=n.wnext-h,h>n.length&&(h=n.length),p=n.window}else p=i,f=o-n.offset,h=n.length;h>l&&(h=l),l-=h,n.length-=h;do{i[o++]=p[f++]}while(--h);0===n.length&&(n.mode=vi);break;case 16205:if(0===l)break e;i[o++]=n.length,l--,n.mode=vi;break;case yi:if(n.wrap){for(;u<32;){if(0===s)break e;s--,c|=r[a++]<<u,u+=8}if(d-=l,e.total_out+=d,n.total+=d,4&n.wrap&&d&&(e.adler=n.check=n.flags?Bn(n.check,i,d,o-d):wn(n.check,i,d,o-d)),d=l,4&n.wrap&&(n.flags?c:wi(c))!==n.check){e.msg="incorrect data check",n.mode=bi;break}c=0,u=0}n.mode=16207;case 16207:if(n.wrap&&n.flags){for(;u<32;){if(0===s)break e;s--,c+=r[a++]<<u,u+=8}if(4&n.wrap&&c!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=bi;break}c=0,u=0}n.mode=16208;case 16208:B=ai;break e;case bi:B=li;break e;case 16210:return ci;default:return si}return e.next_out=o,e.avail_out=l,e.next_in=a,e.avail_in=s,n.hold=c,n.bits=u,(n.wsize||d!==e.avail_out&&n.mode<bi&&(n.mode<yi||t!==ti))&&ji(e,e.output,e.next_out,d-e.avail_out),A-=e.avail_in,d-=e.avail_out,e.total_in+=A,e.total_out+=d,n.total+=d,4&n.wrap&&d&&(e.adler=n.check=n.flags?Bn(n.check,i,d,e.next_out-d):wn(n.check,i,d,e.next_out-d)),e.data_type=n.bits+(n.last?64:0)+(n.mode===fi?128:0)+(n.mode===mi||n.mode===gi?256:0),(0===A&&0===d||t===ti)&&B===ii&&(B=ui),B},Oi={inflateReset:Ni,inflateReset2:ki,inflateResetKeep:Ci,inflateInit:e=>_i(e,15),inflateInit2:_i,inflate:Ui,inflateEnd:e=>{if(Bi(e))return si;let t=e.state;return t.window&&(t.window=null),e.state=null,ii},inflateGetHeader:(e,t)=>{if(Bi(e))return si;const n=e.state;return 0===(2&n.wrap)?si:(n.head=t,t.done=!1,ii)},inflateSetDictionary:(e,t)=>{const n=t.length;let r,i,a;return Bi(e)?si:(r=e.state,0!==r.wrap&&r.mode!==hi?si:r.mode===hi&&(i=1,i=wn(i,t,n,0),i!==r.check)?li:(a=ji(e,t,n,n),a?(r.mode=16210,ci):(r.havedict=1,ii)))},inflateInfo:"pako inflate (from Nodeca project)"};var Pi=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1};const Li=Object.prototype.toString,{Z_NO_FLUSH:Di,Z_FINISH:Ti,Z_OK:Mi,Z_STREAM_END:Qi,Z_NEED_DICT:Ri,Z_STREAM_ERROR:Hi,Z_DATA_ERROR:zi,Z_MEM_ERROR:Ki}=Nn;function Wi(e){this.options=kr({chunkSize:65536,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0===(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Ur,this.strm.avail_out=0;let n=Oi.inflateInit2(this.strm,t.windowBits);if(n!==Mi)throw new Error(Cn[n]);if(this.header=new Pi,Oi.inflateGetHeader(this.strm,this.header),t.dictionary&&("string"===typeof t.dictionary?t.dictionary=Fr(t.dictionary):"[object ArrayBuffer]"===Li.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=Oi.inflateSetDictionary(this.strm,t.dictionary),n!==Mi)))throw new Error(Cn[n])}function Vi(e,t){const n=new Wi(t);if(n.push(e),n.err)throw n.msg||Cn[n.err];return n.result}Wi.prototype.push=function(e,t){const n=this.strm,r=this.options.chunkSize,i=this.options.dictionary;let a,o,s;if(this.ended)return!1;for(o=t===~~t?t:!0===t?Ti:Di,"[object ArrayBuffer]"===Li.call(e)?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;){for(0===n.avail_out&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),a=Oi.inflate(n,o),a===Ri&&i&&(a=Oi.inflateSetDictionary(n,i),a===Mi?a=Oi.inflate(n,o):a===zi&&(a=Ri));n.avail_in>0&&a===Qi&&n.state.wrap>0&&0!==e[n.next_in];)Oi.inflateReset(n),a=Oi.inflate(n,o);switch(a){case Hi:case zi:case Ri:case Ki:return this.onEnd(a),this.ended=!0,!1}if(s=n.avail_out,n.next_out&&(0===n.avail_out||a===Qi))if("string"===this.options.to){let e=jr(n.output,n.next_out),t=n.next_out-e,i=Ir(n.output,e);n.next_out=t,n.avail_out=r-t,t&&n.output.set(n.output.subarray(e,e+t),0),this.onData(i)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(a!==Mi||0!==s){if(a===Qi)return a=Oi.inflateEnd(this.strm),this.onEnd(a),this.ended=!0,!0;if(0===n.avail_in)break}}return!0},Wi.prototype.onData=function(e){this.chunks.push(e)},Wi.prototype.onEnd=function(e){e===Mi&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=_r(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var Gi={Inflate:Wi,inflate:Vi,inflateRaw:function(e,t){return(t=t||{}).raw=!0,Vi(e,t)},ungzip:Vi,constants:Nn};const{Deflate:qi,deflate:Xi,deflateRaw:Yi,gzip:Ji}=Vr,{Inflate:Zi,inflate:$i,inflateRaw:ea,ungzip:ta}=Gi;var na=Zi,ra=$i;const ia=[];for(let n=0;n<256;n++){let e=n;for(let t=0;t<8;t++)1&e?e=3988292384^e>>>1:e>>>=1;ia[n]=e}const aa=4294967295;function oa(e,t){return(function(e,t,n){let r=e;for(let i=0;i<n;i++)r=ia[255&(r^t[i])]^r>>>8;return r}(aa,e,t)^aa)>>>0}function sa(e,t,n){const r=e.readUint32(),i=oa(new Uint8Array(e.buffer,e.byteOffset+e.offset-t-4,t),t);if(i!==r)throw new Error("CRC mismatch for chunk ".concat(n,". Expected ").concat(r,", found ").concat(i))}function la(e,t,n){for(let r=0;r<n;r++)t[r]=e[r]}function ca(e,t,n,r){let i=0;for(;i<r;i++)t[i]=e[i];for(;i<n;i++)t[i]=e[i]+t[i-r]&255}function ua(e,t,n,r){let i=0;if(0===n.length)for(;i<r;i++)t[i]=e[i];else for(;i<r;i++)t[i]=e[i]+n[i]&255}function Aa(e,t,n,r,i){let a=0;if(0===n.length){for(;a<i;a++)t[a]=e[a];for(;a<r;a++)t[a]=e[a]+(t[a-i]>>1)&255}else{for(;a<i;a++)t[a]=e[a]+(n[a]>>1)&255;for(;a<r;a++)t[a]=e[a]+(t[a-i]+n[a]>>1)&255}}function da(e,t,n,r,i){let a=0;if(0===n.length){for(;a<i;a++)t[a]=e[a];for(;a<r;a++)t[a]=e[a]+t[a-i]&255}else{for(;a<i;a++)t[a]=e[a]+n[a]&255;for(;a<r;a++)t[a]=e[a]+ha(t[a-i],n[a],n[a-i])&255}}function ha(e,t,n){const r=e+t-n,i=Math.abs(r-e),a=Math.abs(r-t),o=Math.abs(r-n);return i<=a&&i<=o?e:a<=o?t:n}function fa(e,t,n,r,i,a){switch(e){case 0:la(t,n,i);break;case 1:ca(t,n,i,a);break;case 2:ua(t,n,r,i);break;case 3:Aa(t,n,r,i,a);break;case 4:da(t,n,r,i,a);break;default:throw new Error("Unsupported filter: ".concat(e))}}const pa=new Uint16Array([255]),ga=255===new Uint8Array(pa.buffer)[0];function ma(e){return(255&e)<<8|e>>8&255}const va=new Uint16Array([255]),ya=255===new Uint8Array(va.buffer)[0],ba=new Uint8Array(0);function wa(e){const{data:t,width:n,height:r,channels:i,depth:a}=e,o=Math.ceil(a/8)*i,s=Math.ceil(a/8*i*n),l=new Uint8Array(r*s);let c,u,A=ba,d=0;for(let h=0;h<r;h++){switch(c=t.subarray(d+1,d+1+s),u=l.subarray(h*s,(h+1)*s),t[d]){case 0:la(c,u,s);break;case 1:ca(c,u,s,o);break;case 2:ua(c,u,A,s);break;case 3:Aa(c,u,A,s,o);break;case 4:da(c,u,A,s,o);break;default:throw new Error("Unsupported filter: ".concat(t[d]))}A=u,d+=s+1}if(16===a){const e=new Uint16Array(l.buffer);if(ya)for(let t=0;t<e.length;t++)e[t]=xa(e[t]);return e}return l}function xa(e){return(255&e)<<8|e>>8&255}const Ba=Uint8Array.of(137,80,78,71,13,10,26,10);function Ca(e){if(!function(e){if(e.length<Ba.length)return!1;for(let t=0;t<Ba.length;t++)if(e[t]!==Ba[t])return!1;return!0}(e.readBytes(Ba.length)))throw new Error("wrong PNG signature")}const Na="tEXt",ka=new TextDecoder("latin1");function _a(e){if(Sa(e),0===e.length||e.length>79)throw new Error("keyword length must be between 1 and 79")}const Ea=/^[\u0000-\u00FF]*$/;function Sa(e){if(!Ea.test(e))throw new Error("invalid latin1 text")}function Fa(e,t,n){const r=Ia(t);e[r]=function(e,t){return ka.decode(e.readBytes(t))}(t,n-r.length-1)}function Ia(e){for(e.mark();0!==e.readByte(););const t=e.offset;e.reset();const n=ka.decode(e.readBytes(t-e.offset-1));return e.skip(1),_a(n),n}const ja=-1,Ua=0,Oa=2,Pa=3,La=4,Da=6,Ta=-1,Ma=0,Qa=-1,Ra=0,Ha=-1,za=0,Ka=1,Wa=0,Va=1,Ga=2,qa=0,Xa=1;class Ya extends jt{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(e),(0,De.A)(this,"_checkCrc",void 0),(0,De.A)(this,"_inflator",void 0),(0,De.A)(this,"_png",void 0),(0,De.A)(this,"_apng",void 0),(0,De.A)(this,"_end",void 0),(0,De.A)(this,"_hasPalette",void 0),(0,De.A)(this,"_palette",void 0),(0,De.A)(this,"_hasTransparency",void 0),(0,De.A)(this,"_transparency",void 0),(0,De.A)(this,"_compressionMethod",void 0),(0,De.A)(this,"_filterMethod",void 0),(0,De.A)(this,"_interlaceMethod",void 0),(0,De.A)(this,"_colorType",void 0),(0,De.A)(this,"_isAnimated",void 0),(0,De.A)(this,"_numberOfFrames",void 0),(0,De.A)(this,"_numberOfPlays",void 0),(0,De.A)(this,"_frames",void 0),(0,De.A)(this,"_writingDataChunks",void 0);const{checkCrc:n=!1}=t;this._checkCrc=n,this._inflator=new na,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=Ta,this._filterMethod=Qa,this._interlaceMethod=Ha,this._colorType=ja,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(Ca(this);!this._end;){const e=this.readUint32(),t=this.readChars(4);this.decodeChunk(e,t)}return this.decodeImage(),this._png}decodeApng(){for(Ca(this);!this._end;){const e=this.readUint32(),t=this.readChars(4);this.decodeApngChunk(e,t)}return this.decodeApngImage(),this._apng}decodeChunk(e,t){const n=this.offset;switch(t){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(e);break;case"IDAT":this.decodeIDAT(e);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(e);break;case"iCCP":this.decodeiCCP(e);break;case Na:Fa(this._png.text,this,e);break;case"pHYs":this.decodepHYs();break;default:this.skip(e)}if(this.offset-n!==e)throw new Error("Length mismatch while decoding chunk ".concat(t));this._checkCrc?sa(this,e+4,t):this.skip(4)}decodeApngChunk(e,t){const n=this.offset;switch("fdAT"!==t&&"IDAT"!==t&&this._writingDataChunks&&this.pushDataToFrame(),t){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(e);break;default:this.decodeChunk(e,t),this.offset=n+e}if(this.offset-n!==e)throw new Error("Length mismatch while decoding chunk ".concat(t));this._checkCrc?sa(this,e+4,t):this.skip(4)}decodeIHDR(){const e=this._png;e.width=this.readUint32(),e.height=this.readUint32(),e.depth=function(e){if(1!==e&&2!==e&&4!==e&&8!==e&&16!==e)throw new Error("invalid bit depth: ".concat(e));return e}(this.readUint8());const t=this.readUint8();let n;switch(this._colorType=t,t){case Ua:n=1;break;case Oa:n=3;break;case Pa:n=1;break;case La:n=2;break;case Da:n=4;break;default:throw new Error("Unknown color type: ".concat(t))}if(this._png.channels=n,this._compressionMethod=this.readUint8(),this._compressionMethod!==Ma)throw new Error("Unsupported compression method: ".concat(this._compressionMethod));this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const e={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(e)}decodePLTE(e){if(e%3!==0)throw new RangeError("PLTE field length must be a multiple of 3. Got ".concat(e));const t=e/3;this._hasPalette=!0;const n=[];this._palette=n;for(let r=0;r<t;r++)n.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(e){this._writingDataChunks=!0;const t=e,n=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,n,t)),this._inflator.err)throw new Error("Error while decompressing the data: ".concat(this._inflator.err));this.skip(e)}decodeFDAT(e){this._writingDataChunks=!0;let t=e,n=this.offset+this.byteOffset;if(n+=4,t-=4,this._inflator.push(new Uint8Array(this.buffer,n,t)),this._inflator.err)throw new Error("Error while decompressing the data: ".concat(this._inflator.err));this.skip(e)}decodetRNS(e){switch(this._colorType){case Ua:case Oa:if(e%2!==0)throw new RangeError("tRNS chunk length must be a multiple of 2. Got ".concat(e));if(e/2>this._png.width*this._png.height)throw new Error("tRNS chunk contains more alpha values than there are pixels (".concat(e/2," vs ").concat(this._png.width*this._png.height,")"));this._hasTransparency=!0,this._transparency=new Uint16Array(e/2);for(let t=0;t<e/2;t++)this._transparency[t]=this.readUint16();break;case Pa:{if(e>this._palette.length)throw new Error("tRNS chunk contains more alpha values than there are palette colors (".concat(e," vs ").concat(this._palette.length,")"));let t=0;for(;t<e;t++){const e=this.readByte();this._palette[t].push(e)}for(;t<this._palette.length;t++)this._palette[t].push(255);break}default:throw new Error("tRNS chunk is not supported for color type ".concat(this._colorType))}}decodeiCCP(e){const t=Ia(this),n=this.readUint8();if(n!==Ma)throw new Error("Unsupported iCCP compression method: ".concat(n));const r=this.readBytes(e-t.length-2);this._png.iccEmbeddedProfile={name:t,profile:ra(r)}}decodepHYs(){const e=this.readUint32(),t=this.readUint32(),n=this.readByte();this._png.resolution={x:e,y:t,unit:n}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let e=0;e<this._numberOfFrames;e++){const t={sequenceNumber:this._frames[e].sequenceNumber,delayNumber:this._frames[e].delayNumber,delayDenominator:this._frames[e].delayDenominator,data:8===this._apng.depth?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},n=this._frames.at(e);if(n){if(n.data=wa({data:n.data,width:n.width,height:n.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),0===e||0===n.xOffset&&0===n.yOffset&&n.width===this._png.width&&n.height===this._png.height)t.data=n.data;else{const r=this._apng.frames.at(e-1);this.disposeFrame(n,r,t),this.addFrameDataToCanvas(t,n)}this._apng.frames.push(t)}}return this._apng}disposeFrame(e,t,n){switch(e.disposeOp){case Wa:break;case Va:for(let t=0;t<this._png.height;t++)for(let r=0;r<this._png.width;r++){const i=(t*e.width+r)*this._png.channels;for(let e=0;e<this._png.channels;e++)n.data[i+e]=0}break;case Ga:n.data.set(t.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(e,t){const n=1<<this._png.depth,r=(e,n)=>({index:((e+t.yOffset)*this._png.width+t.xOffset+n)*this._png.channels,frameIndex:(e*t.width+n)*this._png.channels});switch(t.blendOp){case qa:for(let n=0;n<t.height;n++)for(let i=0;i<t.width;i++){const{index:a,frameIndex:o}=r(n,i);for(let n=0;n<this._png.channels;n++)e.data[a+n]=t.data[o+n]}break;case Xa:for(let i=0;i<t.height;i++)for(let a=0;a<t.width;a++){const{index:o,frameIndex:s}=r(i,a);for(let r=0;r<this._png.channels;r++){const i=t.data[s+this._png.channels-1]/n,a=r%(this._png.channels-1)===0?1:t.data[s+r],l=Math.floor(i*a+(1-i)*e.data[o+r]);e.data[o+r]+=l}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var e;if(this._inflator.err)throw new Error("Error while decompressing the data: ".concat(this._inflator.err));const t=this._isAnimated?(null===(e=this._frames)||void 0===e?void 0:e.at(0)).data:this._inflator.result;if(this._filterMethod!==Ra)throw new Error("Filter method ".concat(this._filterMethod," not supported"));if(this._interlaceMethod===za)this._png.data=wa({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else{if(this._interlaceMethod!==Ka)throw new Error("Interlace method ".concat(this._interlaceMethod," not supported"));this._png.data=function(e){const{data:t,width:n,height:r,channels:i,depth:a}=e,o=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],s=Math.ceil(a/8)*i,l=new Uint8Array(r*n*s);let c=0;for(let u=0;u<7;u++){const e=o[u],i=Math.ceil((n-e.x)/e.xStep),a=Math.ceil((r-e.y)/e.yStep);if(i<=0||a<=0)continue;const A=i*s,d=new Uint8Array(A);for(let o=0;o<a;o++){const a=t[c++],u=t.subarray(c,c+A);c+=A;const h=new Uint8Array(A);fa(a,u,h,d,A,s),d.set(h);for(let t=0;t<i;t++){const i=e.x+t*e.xStep,a=e.y+o*e.yStep;if(!(i>=n||a>=r))for(let e=0;e<s;e++)l[(a*n+i)*s+e]=h[t*s+e]}}}if(16===a){const e=new Uint16Array(l.buffer);if(ga)for(let t=0;t<e.length;t++)e[t]=ma(e[t]);return e}return l}({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth})}this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const e=this._inflator.result,t=this._frames.at(-1);t?t.data=e:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:Wa,blendOp:qa,data:e}),this._inflator=new na,this._writingDataChunks=!1}}var Ja;!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.METRE=1]="METRE"}(Ja||(Ja={}));var Za=function(){return"undefined"!=typeof window?window:"undefined"!=typeof n.g?n.g:"undefined"!=typeof self?self:this}();function $a(){Za.console&&"function"==typeof Za.console.log&&Za.console.log.apply(Za.console,arguments)}var eo={log:$a,warn:function(e){Za.console&&("function"==typeof Za.console.warn?Za.console.warn.apply(Za.console,arguments):$a.call(null,arguments))},error:function(e){Za.console&&("function"==typeof Za.console.error?Za.console.error.apply(Za.console,arguments):$a(e))}};function to(e,t,n){var r=new XMLHttpRequest;r.open("GET",e),r.responseType="blob",r.onload=function(){io(r.response,t,n)},r.onerror=function(){eo.error("could not download file")},r.send()}function no(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(KD){}return t.status>=200&&t.status<=299}function ro(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(KD){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var io=Za.saveAs||("object"!==("undefined"==typeof window?"undefined":(0,Qe.A)(window))||window!==Za?function(){}:"undefined"!=typeof HTMLAnchorElement&&"download"in HTMLAnchorElement.prototype?function(e,t,n){var r=Za.URL||Za.webkitURL,i=document.createElement("a");t=t||e.name||"download",i.download=t,i.rel="noopener","string"==typeof e?(i.href=e,i.origin!==location.origin?no(i.href)?to(e,t,n):ro(i,i.target="_blank"):ro(i)):(i.href=r.createObjectURL(e),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){ro(i)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,n){if(t=t||e.name||"download","string"==typeof e)if(no(e))to(e,t,n);else{var r=document.createElement("a");r.href=e,r.target="_blank",setTimeout(function(){ro(r)})}else navigator.msSaveOrOpenBlob(function(e,t){return void 0===t?t={autoBom:!1}:"object"!==(0,Qe.A)(t)&&(eo.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob([String.fromCharCode(65279),e],{type:e.type}):e}(e,n),t)}:function(e,t,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),"string"==typeof e)return to(e,t,n);var i="application/octet-stream"===e.type,a=/constructor/i.test(Za.HTMLElement)||Za.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||i&&a)&&"object"===("undefined"==typeof FileReader?"undefined":(0,Qe.A)(FileReader))){var s=new FileReader;s.onloadend=function(){var e=s.result;e=o?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=e:location=e,r=null},s.readAsDataURL(e)}else{var l=Za.URL||Za.webkitURL,c=l.createObjectURL(e);r?r.location=c:location.href=c,r=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});function ao(e){var t;e=e||"",this.ok=!1,"#"==e.charAt(0)&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(e){return[parseInt(e[1]),parseInt(e[2]),parseInt(e[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}}],r=0;r<n.length;r++){var i=n[r].re,a=n[r].process,o=i.exec(e);o&&(t=a(o),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var e=this.r.toString(16),t=this.g.toString(16),n=this.b.toString(16);return 1==e.length&&(e="0"+e),1==t.length&&(t="0"+t),1==n.length&&(n="0"+n),"#"+e+t+n}}var oo=Za.atob.bind(Za),so=Za.btoa.bind(Za);function lo(e,t){var n=e[0],r=e[1],i=e[2],a=e[3];n=uo(n,r,i,a,t[0],7,-680876936),a=uo(a,n,r,i,t[1],12,-389564586),i=uo(i,a,n,r,t[2],17,606105819),r=uo(r,i,a,n,t[3],22,-1044525330),n=uo(n,r,i,a,t[4],7,-176418897),a=uo(a,n,r,i,t[5],12,1200080426),i=uo(i,a,n,r,t[6],17,-1473231341),r=uo(r,i,a,n,t[7],22,-45705983),n=uo(n,r,i,a,t[8],7,1770035416),a=uo(a,n,r,i,t[9],12,-1958414417),i=uo(i,a,n,r,t[10],17,-42063),r=uo(r,i,a,n,t[11],22,-1990404162),n=uo(n,r,i,a,t[12],7,1804603682),a=uo(a,n,r,i,t[13],12,-40341101),i=uo(i,a,n,r,t[14],17,-1502002290),n=Ao(n,r=uo(r,i,a,n,t[15],22,1236535329),i,a,t[1],5,-165796510),a=Ao(a,n,r,i,t[6],9,-1069501632),i=Ao(i,a,n,r,t[11],14,643717713),r=Ao(r,i,a,n,t[0],20,-373897302),n=Ao(n,r,i,a,t[5],5,-701558691),a=Ao(a,n,r,i,t[10],9,38016083),i=Ao(i,a,n,r,t[15],14,-660478335),r=Ao(r,i,a,n,t[4],20,-405537848),n=Ao(n,r,i,a,t[9],5,568446438),a=Ao(a,n,r,i,t[14],9,-1019803690),i=Ao(i,a,n,r,t[3],14,-187363961),r=Ao(r,i,a,n,t[8],20,1163531501),n=Ao(n,r,i,a,t[13],5,-1444681467),a=Ao(a,n,r,i,t[2],9,-51403784),i=Ao(i,a,n,r,t[7],14,1735328473),n=ho(n,r=Ao(r,i,a,n,t[12],20,-1926607734),i,a,t[5],4,-378558),a=ho(a,n,r,i,t[8],11,-2022574463),i=ho(i,a,n,r,t[11],16,1839030562),r=ho(r,i,a,n,t[14],23,-35309556),n=ho(n,r,i,a,t[1],4,-1530992060),a=ho(a,n,r,i,t[4],11,1272893353),i=ho(i,a,n,r,t[7],16,-155497632),r=ho(r,i,a,n,t[10],23,-1094730640),n=ho(n,r,i,a,t[13],4,681279174),a=ho(a,n,r,i,t[0],11,-358537222),i=ho(i,a,n,r,t[3],16,-722521979),r=ho(r,i,a,n,t[6],23,76029189),n=ho(n,r,i,a,t[9],4,-640364487),a=ho(a,n,r,i,t[12],11,-421815835),i=ho(i,a,n,r,t[15],16,530742520),n=fo(n,r=ho(r,i,a,n,t[2],23,-995338651),i,a,t[0],6,-198630844),a=fo(a,n,r,i,t[7],10,1126891415),i=fo(i,a,n,r,t[14],15,-1416354905),r=fo(r,i,a,n,t[5],21,-57434055),n=fo(n,r,i,a,t[12],6,1700485571),a=fo(a,n,r,i,t[3],10,-1894986606),i=fo(i,a,n,r,t[10],15,-1051523),r=fo(r,i,a,n,t[1],21,-2054922799),n=fo(n,r,i,a,t[8],6,1873313359),a=fo(a,n,r,i,t[15],10,-30611744),i=fo(i,a,n,r,t[6],15,-1560198380),r=fo(r,i,a,n,t[13],21,1309151649),n=fo(n,r,i,a,t[4],6,-145523070),a=fo(a,n,r,i,t[11],10,-1120210379),i=fo(i,a,n,r,t[2],15,718787259),r=fo(r,i,a,n,t[9],21,-343485551),e[0]=xo(n,e[0]),e[1]=xo(r,e[1]),e[2]=xo(i,e[2]),e[3]=xo(a,e[3])}function co(e,t,n,r,i,a){return t=xo(xo(t,e),xo(r,a)),xo(t<<i|t>>>32-i,n)}function uo(e,t,n,r,i,a,o){return co(t&n|~t&r,e,t,i,a,o)}function Ao(e,t,n,r,i,a,o){return co(t&r|n&~r,e,t,i,a,o)}function ho(e,t,n,r,i,a,o){return co(t^n^r,e,t,i,a,o)}function fo(e,t,n,r,i,a,o){return co(n^(t|~r),e,t,i,a,o)}function po(e){var t,n=e.length,r=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)lo(r,go(e.substring(t-64,t)));e=e.substring(t-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)i[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(i[t>>2]|=128<<(t%4<<3),t>55)for(lo(r,i),t=0;t<16;t++)i[t]=0;return i[14]=8*n,lo(r,i),r}function go(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}var mo="0123456789abcdef".split("");function vo(e){for(var t="",n=0;n<4;n++)t+=mo[e>>8*n+4&15]+mo[e>>8*n&15];return t}function yo(e){return String.fromCharCode(255&e,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function bo(e){return po(e).map(yo).join("")}var wo="5d41402abc4b2a76b9719d911017c592"!=function(e){for(var t=0;t<e.length;t++)e[t]=vo(e[t]);return e.join("")}(po("hello"));function xo(e,t){if(wo){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}return e+t&4294967295}function Bo(e,t){var n,r,i,a;if(e!==n){for(var o=(i=e,a=1+(256/e.length|0),new Array(a+1).join(i)),s=[],l=0;l<256;l++)s[l]=l;var c=0;for(l=0;l<256;l++){var u=s[l];c=(c+u+o.charCodeAt(l))%256,s[l]=s[c],s[c]=u}n=e,r=s}else s=r;var A=t.length,d=0,h=0,f="";for(l=0;l<A;l++)h=(h+(u=s[d=(d+1)%256]))%256,s[d]=s[h],s[h]=u,o=s[(s[d]+s[h])%256],f+=String.fromCharCode(t.charCodeAt(l)^o);return f}var Co={print:4,modify:8,copy:16,"annot-forms":32};function No(e,t,n,r){this.v=1,this.r=2;var i=192;e.forEach(function(e){if(void 0!==Co.perm)throw new Error("Invalid permission: "+e);i+=Co[e]}),this.padding="(\xbfN^Nu\x8aAd\0NV\xff\xfa\x01\b..\0\xb6\xd0h>\x80/\f\xa9\xfedSiz";var a=(t+this.padding).substr(0,32),o=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(a,o),this.P=-(1+(255^i)),this.encryptionKey=bo(a+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=Bo(this.encryptionKey,this.padding)}function ko(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",n=e.length,r=0;r<n;r++){var i=e.charCodeAt(r);t+=i<33||35===i||37===i||40===i||41===i||47===i||60===i||62===i||91===i||93===i||123===i||125===i||i>126?"#"+("0"+i.toString(16)).slice(-2):e[r]}return t}function _o(e){if("object"!==(0,Qe.A)(e))throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(e,n,r){if(r=r||!1,"string"!=typeof e||"function"!=typeof n||"boolean"!=typeof r)throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(e)||(t[e]={});var i=Math.random().toString(35);return t[e][i]=[n,!!r],i},this.unsubscribe=function(e){for(var n in t)if(t[n][e])return delete t[n][e],0===Object.keys(t[n]).length&&delete t[n],!0;return!1},this.publish=function(n){if(t.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var a in t[n]){var o=t[n][a];try{o[0].apply(e,r)}catch(ro){Za.console&&eo.error("jsPDF PubSub Error",ro.message,ro)}o[1]&&i.push(a)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function Eo(e){if(!(this instanceof Eo))return new Eo(e);var t="opacity,stroke-opacity".split(",");for(var n in e)e.hasOwnProperty(n)&&t.indexOf(n)>=0&&(this[n]=e[n]);this.id="",this.objectNumber=-1}function So(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function Fo(e,t,n,r,i){if(!(this instanceof Fo))return new Fo(e,t,n,r,i);this.type="axial"===e?2:3,this.coords=t,this.colors=n,So.call(this,r,i)}function Io(e,t,n,r,i){if(!(this instanceof Io))return new Io(e,t,n,r,i);this.boundingBox=e,this.xStep=t,this.yStep=n,this.stream="",this.cloneIndex=0,So.call(this,r,i)}function jo(e){var t,n="string"==typeof arguments[0]?arguments[0]:"p",r=arguments[1],i=arguments[2],a=arguments[3],o=[],s=1,l=16,c="S",u=null;"object"===(0,Qe.A)(e=e||{})&&(n=e.orientation,r=e.unit||r,i=e.format||i,a=e.compress||e.compressPdf||a,null!==(u=e.encryption||null)&&(u.userPassword=u.userPassword||"",u.ownerPassword=u.ownerPassword||"",u.userPermissions=u.userPermissions||[]),s="number"==typeof e.userUnit?Math.abs(e.userUnit):1,void 0!==e.precision&&(t=e.precision),void 0!==e.floatPrecision&&(l=e.floatPrecision),c=e.defaultPathOperation||"S"),o=e.filters||(!0===a?["FlateEncode"]:o),r=r||"mm",n=(""+(n||"P")).toLowerCase();var A=e.putOnlyUsedFonts||!1,d={},h={internal:{},__private__:{}};h.__private__.PubSub=_o;var f="1.3",p=h.__private__.getPdfVersion=function(){return f};h.__private__.setPdfVersion=function(e){f=e};var g={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};h.__private__.getPageFormats=function(){return g};var m=h.__private__.getPageFormat=function(e){return g[e]};i=i||"a4";var v="compat",y="advanced",b=v;function w(){this.saveGraphicsState(),J(new Ie(de,0,0,-de,0,fn()*de).toString()+" cm"),this.setFontSize(this.getFontSize()/de),c="n",b=y}function x(){this.restoreGraphicsState(),c="S",b=v}var B=h.__private__.combineFontStyleAndFontWeight=function(e,t){if("bold"==e&&"normal"==t||"bold"==e&&400==t||"normal"==e&&"italic"==t||"bold"==e&&"italic"==t)throw new Error("Invalid Combination of fontweight and fontstyle");return t&&(e=400==t||"normal"===t?"italic"===e?"italic":"normal":700!=t&&"bold"!==t||"normal"!==e?(700==t?"bold":t)+""+e:"bold"),e};h.advancedAPI=function(e){var t=b===v;return t&&w.call(this),"function"!=typeof e||(e(this),t&&x.call(this)),this},h.compatAPI=function(e){var t=b===y;return t&&x.call(this),"function"!=typeof e||(e(this),t&&w.call(this)),this},h.isAdvancedAPI=function(){return b===y};var C,N=function(e){if(b!==y)throw new Error(e+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},k=h.roundToPrecision=h.__private__.roundToPrecision=function(e,n){var r=t||n;if(isNaN(e)||isNaN(r))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return e.toFixed(r).replace(/0+$/,"")};C=h.hpf=h.__private__.hpf="number"==typeof l?function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.hpf");return k(e,l)}:"smart"===l?function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.hpf");return k(e,e>-1&&e<1?16:5)}:function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.hpf");return k(e,16)};var _=h.f2=h.__private__.f2=function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.f2");return k(e,2)},E=h.__private__.f3=function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.f3");return k(e,3)},S=h.scale=h.__private__.scale=function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.scale");return b===v?e*de:b===y?e:void 0},F=function(e){return S(function(e){return b===v?fn()-e:b===y?e:void 0}(e))};h.__private__.setPrecision=h.setPrecision=function(e){"number"==typeof parseInt(e,10)&&(t=parseInt(e,10))};var I,j="00000000000000000000000000000000",U=h.__private__.getFileId=function(){return j},O=h.__private__.setFileId=function(e){return j=void 0!==e&&/^[a-fA-F0-9]{32}$/.test(e)?e.toUpperCase():j.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),null!==u&&(yt=new No(u.userPermissions,u.userPassword,u.ownerPassword,j)),j};h.setFileId=function(e){return O(e),this},h.getFileId=function(){return U()};var P=h.__private__.convertDateToPDFDate=function(e){var t=e.getTimezoneOffset(),n=t<0?"+":"-",r=Math.floor(Math.abs(t/60)),i=Math.abs(t%60),a=[n,Q(r),"'",Q(i),"'"].join("");return["D:",e.getFullYear(),Q(e.getMonth()+1),Q(e.getDate()),Q(e.getHours()),Q(e.getMinutes()),Q(e.getSeconds()),a].join("")},L=h.__private__.convertPDFDateToDate=function(e){var t=parseInt(e.substr(2,4),10),n=parseInt(e.substr(6,2),10)-1,r=parseInt(e.substr(8,2),10),i=parseInt(e.substr(10,2),10),a=parseInt(e.substr(12,2),10),o=parseInt(e.substr(14,2),10);return new Date(t,n,r,i,a,o,0)},D=h.__private__.setCreationDate=function(e){var t;if(void 0===e&&(e=new Date),e instanceof Date)t=P(e);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(e))throw new Error("Invalid argument passed to jsPDF.setCreationDate");t=e}return I=t},T=h.__private__.getCreationDate=function(e){var t=I;return"jsDate"===e&&(t=L(I)),t};h.setCreationDate=function(e){return D(e),this},h.getCreationDate=function(e){return T(e)};var M,Q=h.__private__.padd2=function(e){return("0"+parseInt(e)).slice(-2)},R=h.__private__.padd2Hex=function(e){return("00"+(e=e.toString())).substr(e.length)},H=0,z=[],K=[],W=0,V=[],G=[],q=!1,X=K;h.__private__.setCustomOutputDestination=function(e){q=!0,X=e};var Y=function(e){q||(X=e)};h.__private__.resetCustomOutputDestination=function(){q=!1,X=K};var J=h.__private__.out=function(e){return e=e.toString(),W+=e.length+1,X.push(e),X},Z=h.__private__.write=function(e){return J(1===arguments.length?e.toString():Array.prototype.join.call(arguments," "))},$=h.__private__.getArrayBuffer=function(e){for(var t=e.length,n=new ArrayBuffer(t),r=new Uint8Array(n);t--;)r[t]=e.charCodeAt(t);return n},ee=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];h.__private__.getStandardFonts=function(){return ee};var te=e.fontSize||16;h.__private__.setFontSize=h.setFontSize=function(e){return te=b===y?e/de:e,this};var ne,re=h.__private__.getFontSize=h.getFontSize=function(){return b===v?te:te*de},ie=e.R2L||!1;h.__private__.setR2L=h.setR2L=function(e){return ie=e,this},h.__private__.getR2L=h.getR2L=function(){return ie};var ae,oe=h.__private__.setZoomMode=function(e){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(e))ne=e;else if(isNaN(e)){if(-1===[void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(e))throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+e+'" is not recognized.');ne=e}else ne=parseInt(e,10)};h.__private__.getZoomMode=function(){return ne};var se,le=h.__private__.setPageMode=function(e){if(-1==[void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(e))throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+e+'" is not recognized.');ae=e};h.__private__.getPageMode=function(){return ae};var ce=h.__private__.setLayoutMode=function(e){if(-1==[void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(e))throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+e+'" is not recognized.');se=e};h.__private__.getLayoutMode=function(){return se},h.__private__.setDisplayMode=h.setDisplayMode=function(e,t,n){return oe(e),ce(t),le(n),this};var ue={title:"",subject:"",author:"",keywords:"",creator:""};h.__private__.getDocumentProperty=function(e){if(-1===Object.keys(ue).indexOf(e))throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return ue[e]},h.__private__.getDocumentProperties=function(){return ue},h.__private__.setDocumentProperties=h.setProperties=h.setDocumentProperties=function(e){for(var t in ue)ue.hasOwnProperty(t)&&e[t]&&(ue[t]=e[t]);return this},h.__private__.setDocumentProperty=function(e,t){if(-1===Object.keys(ue).indexOf(e))throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return ue[e]=t};var Ae,de,he,fe,pe,ge={},me={},ve=[],ye={},be={},we={},xe={},Be=null,Ce=0,Ne=[],ke=new _o(h),_e=e.hotfixes||[],Ee={},Se={},Fe=[],Ie=function e(t,n,r,i,a,o){if(!(this instanceof e))return new e(t,n,r,i,a,o);isNaN(t)&&(t=1),isNaN(n)&&(n=0),isNaN(r)&&(r=0),isNaN(i)&&(i=1),isNaN(a)&&(a=0),isNaN(o)&&(o=0),this._matrix=[t,n,r,i,a,o]};Object.defineProperty(Ie.prototype,"sx",{get:function(){return this._matrix[0]},set:function(e){this._matrix[0]=e}}),Object.defineProperty(Ie.prototype,"shy",{get:function(){return this._matrix[1]},set:function(e){this._matrix[1]=e}}),Object.defineProperty(Ie.prototype,"shx",{get:function(){return this._matrix[2]},set:function(e){this._matrix[2]=e}}),Object.defineProperty(Ie.prototype,"sy",{get:function(){return this._matrix[3]},set:function(e){this._matrix[3]=e}}),Object.defineProperty(Ie.prototype,"tx",{get:function(){return this._matrix[4]},set:function(e){this._matrix[4]=e}}),Object.defineProperty(Ie.prototype,"ty",{get:function(){return this._matrix[5]},set:function(e){this._matrix[5]=e}}),Object.defineProperty(Ie.prototype,"a",{get:function(){return this._matrix[0]},set:function(e){this._matrix[0]=e}}),Object.defineProperty(Ie.prototype,"b",{get:function(){return this._matrix[1]},set:function(e){this._matrix[1]=e}}),Object.defineProperty(Ie.prototype,"c",{get:function(){return this._matrix[2]},set:function(e){this._matrix[2]=e}}),Object.defineProperty(Ie.prototype,"d",{get:function(){return this._matrix[3]},set:function(e){this._matrix[3]=e}}),Object.defineProperty(Ie.prototype,"e",{get:function(){return this._matrix[4]},set:function(e){this._matrix[4]=e}}),Object.defineProperty(Ie.prototype,"f",{get:function(){return this._matrix[5]},set:function(e){this._matrix[5]=e}}),Object.defineProperty(Ie.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Ie.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Ie.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Ie.prototype,"isIdentity",{get:function(){return 1===this.sx&&0===this.shy&&0===this.shx&&1===this.sy&&0===this.tx&&0===this.ty}}),Ie.prototype.join=function(e){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(C).join(e)},Ie.prototype.multiply=function(e){var t=e.sx*this.sx+e.shy*this.shx,n=e.sx*this.shy+e.shy*this.sy,r=e.shx*this.sx+e.sy*this.shx,i=e.shx*this.shy+e.sy*this.sy,a=e.tx*this.sx+e.ty*this.shx+this.tx,o=e.tx*this.shy+e.ty*this.sy+this.ty;return new Ie(t,n,r,i,a,o)},Ie.prototype.decompose=function(){var e=this.sx,t=this.shy,n=this.shx,r=this.sy,i=this.tx,a=this.ty,o=Math.sqrt(e*e+t*t),s=(e/=o)*n+(t/=o)*r;n-=e*s,r-=t*s;var l=Math.sqrt(n*n+r*r);return s/=l,e*(r/=l)<t*(n/=l)&&(e=-e,t=-t,s=-s,o=-o),{scale:new Ie(o,0,0,l,0,0),translate:new Ie(1,0,0,1,i,a),rotate:new Ie(e,t,-t,e,0,0),skew:new Ie(1,0,s,1,0,0)}},Ie.prototype.toString=function(e){return this.join(" ")},Ie.prototype.inversed=function(){var e=this.sx,t=this.shy,n=this.shx,r=this.sy,i=this.tx,a=this.ty,o=1/(e*r-t*n),s=r*o,l=-t*o,c=-n*o,u=e*o;return new Ie(s,l,c,u,-s*i-c*a,-l*i-u*a)},Ie.prototype.applyToPoint=function(e){var t=e.x*this.sx+e.y*this.shx+this.tx,n=e.x*this.shy+e.y*this.sy+this.ty;return new nn(t,n)},Ie.prototype.applyToRectangle=function(e){var t=this.applyToPoint(e),n=this.applyToPoint(new nn(e.x+e.w,e.y+e.h));return new rn(t.x,t.y,n.x-t.x,n.y-t.y)},Ie.prototype.clone=function(){var e=this.sx,t=this.shy,n=this.shx,r=this.sy,i=this.tx,a=this.ty;return new Ie(e,t,n,r,i,a)},h.Matrix=Ie;var je=h.matrixMult=function(e,t){return t.multiply(e)},Ue=new Ie(1,0,0,1,0,0);h.unitMatrix=h.identityMatrix=Ue;var Oe=function(e,t){if(!be[e]){var n=(t instanceof Fo?"Sh":"P")+(Object.keys(ye).length+1).toString(10);t.id=n,be[e]=n,ye[n]=t,ke.publish("addPattern",t)}};h.ShadingPattern=Fo,h.TilingPattern=Io,h.addShadingPattern=function(e,t){return N("addShadingPattern()"),Oe(e,t),this},h.beginTilingPattern=function(e){N("beginTilingPattern()"),on(e.boundingBox[0],e.boundingBox[1],e.boundingBox[2]-e.boundingBox[0],e.boundingBox[3]-e.boundingBox[1],e.matrix)},h.endTilingPattern=function(e,t){N("endTilingPattern()"),t.stream=G[M].join("\n"),Oe(e,t),ke.publish("endTilingPattern",t),Fe.pop().restore()};var Pe,Le=h.__private__.newObject=function(){var e=De();return Te(e,!0),e},De=h.__private__.newObjectDeferred=function(){return H++,z[H]=function(){return W},H},Te=function(e,t){return t="boolean"==typeof t&&t,z[e]=W,t&&J(e+" 0 obj"),e},Me=h.__private__.newAdditionalObject=function(){var e={objId:De(),content:""};return V.push(e),e},Re=De(),He=De(),ze=h.__private__.decodeColorString=function(e){var t=e.split(" ");if(2!==t.length||"g"!==t[1]&&"G"!==t[1])5!==t.length||"k"!==t[4]&&"K"!==t[4]||(t=[(1-t[0])*(1-t[3]),(1-t[1])*(1-t[3]),(1-t[2])*(1-t[3]),"r"]);else{var n=parseFloat(t[0]);t=[n,n,n,"r"]}for(var r="#",i=0;i<3;i++)r+=("0"+Math.floor(255*parseFloat(t[i])).toString(16)).slice(-2);return r},Ke=h.__private__.encodeColorString=function(e){var t;"string"==typeof e&&(e={ch1:e});var n=e.ch1,r=e.ch2,i=e.ch3,a=e.ch4,o="draw"===e.pdfColorType?["G","RG","K"]:["g","rg","k"];if("string"==typeof n&&"#"!==n.charAt(0)){var s=new ao(n);if(s.ok)n=s.toHex();else if(!/^\d*\.?\d*$/.test(n))throw new Error('Invalid color "'+n+'" passed to jsPDF.encodeColorString.')}if("string"==typeof n&&/^#[0-9A-Fa-f]{3}$/.test(n)&&(n="#"+n[1]+n[1]+n[2]+n[2]+n[3]+n[3]),"string"==typeof n&&/^#[0-9A-Fa-f]{6}$/.test(n)){var l=parseInt(n.substr(1),16);n=l>>16&255,r=l>>8&255,i=255&l}if(void 0===r||void 0===a&&n===r&&r===i)t="string"==typeof n?n+" "+o[0]:2===e.precision?_(n/255)+" "+o[0]:E(n/255)+" "+o[0];else if(void 0===a||"object"===(0,Qe.A)(a)){if(a&&!isNaN(a.a)&&0===a.a)return["1.","1.","1.",o[1]].join(" ");t="string"==typeof n?[n,r,i,o[1]].join(" "):2===e.precision?[_(n/255),_(r/255),_(i/255),o[1]].join(" "):[E(n/255),E(r/255),E(i/255),o[1]].join(" ")}else t="string"==typeof n?[n,r,i,a,o[2]].join(" "):2===e.precision?[_(n),_(r),_(i),_(a),o[2]].join(" "):[E(n),E(r),E(i),E(a),o[2]].join(" ");return t},We=h.__private__.getFilters=function(){return o},Ve=h.__private__.putStream=function(e){var t=(e=e||{}).data||"",n=e.filters||We(),r=e.alreadyAppliedFilters||[],i=e.addLength1||!1,a=t.length,o=e.objectId,s=function(e){return e};if(null!==u&&void 0===o)throw new Error("ObjectId must be passed to putStream for file encryption");null!==u&&(s=yt.encryptor(o,0));var l={};!0===n&&(n=["FlateEncode"]);var c=e.additionalKeyValues||[],A=(l=void 0!==jo.API.processDataByFilters?jo.API.processDataByFilters(t,n):{data:t,reverseChain:[]}).reverseChain+(Array.isArray(r)?r.join(" "):r.toString());if(0!==l.data.length&&(c.push({key:"Length",value:l.data.length}),!0===i&&c.push({key:"Length1",value:a})),0!=A.length)if(A.split("/").length-1==1)c.push({key:"Filter",value:A});else{c.push({key:"Filter",value:"["+A+"]"});for(var d=0;d<c.length;d+=1)if("DecodeParms"===c[d].key){for(var h=[],f=0;f<l.reverseChain.split("/").length-1;f+=1)h.push("null");h.push(c[d].value),c[d].value="["+h.join(" ")+"]"}}J("<<");for(var p=0;p<c.length;p++)J("/"+c[p].key+" "+c[p].value);J(">>"),0!==l.data.length&&(J("stream"),J(s(l.data)),J("endstream"))},Ge=h.__private__.putPage=function(e){var t=e.number,n=e.data,r=e.objId,i=e.contentsObjId;Te(r,!0),J("<</Type /Page"),J("/Parent "+e.rootDictionaryObjId+" 0 R"),J("/Resources "+e.resourceDictionaryObjId+" 0 R"),J("/MediaBox ["+parseFloat(C(e.mediaBox.bottomLeftX))+" "+parseFloat(C(e.mediaBox.bottomLeftY))+" "+C(e.mediaBox.topRightX)+" "+C(e.mediaBox.topRightY)+"]"),null!==e.cropBox&&J("/CropBox ["+C(e.cropBox.bottomLeftX)+" "+C(e.cropBox.bottomLeftY)+" "+C(e.cropBox.topRightX)+" "+C(e.cropBox.topRightY)+"]"),null!==e.bleedBox&&J("/BleedBox ["+C(e.bleedBox.bottomLeftX)+" "+C(e.bleedBox.bottomLeftY)+" "+C(e.bleedBox.topRightX)+" "+C(e.bleedBox.topRightY)+"]"),null!==e.trimBox&&J("/TrimBox ["+C(e.trimBox.bottomLeftX)+" "+C(e.trimBox.bottomLeftY)+" "+C(e.trimBox.topRightX)+" "+C(e.trimBox.topRightY)+"]"),null!==e.artBox&&J("/ArtBox ["+C(e.artBox.bottomLeftX)+" "+C(e.artBox.bottomLeftY)+" "+C(e.artBox.topRightX)+" "+C(e.artBox.topRightY)+"]"),"number"==typeof e.userUnit&&1!==e.userUnit&&J("/UserUnit "+e.userUnit),ke.publish("putPage",{objId:r,pageContext:Ne[t],pageNumber:t,page:n}),J("/Contents "+i+" 0 R"),J(">>"),J("endobj");var a=n.join("\n");return b===y&&(a+="\nQ"),Te(i,!0),Ve({data:a,filters:We(),objectId:i}),J("endobj"),r},qe=h.__private__.putPages=function(){var e,t,n=[];for(e=1;e<=Ce;e++)Ne[e].objId=De(),Ne[e].contentsObjId=De();for(e=1;e<=Ce;e++)n.push(Ge({number:e,data:G[e],objId:Ne[e].objId,contentsObjId:Ne[e].contentsObjId,mediaBox:Ne[e].mediaBox,cropBox:Ne[e].cropBox,bleedBox:Ne[e].bleedBox,trimBox:Ne[e].trimBox,artBox:Ne[e].artBox,userUnit:Ne[e].userUnit,rootDictionaryObjId:Re,resourceDictionaryObjId:He}));Te(Re,!0),J("<</Type /Pages");var r="/Kids [";for(t=0;t<Ce;t++)r+=n[t]+" 0 R ";J(r+"]"),J("/Count "+Ce),J(">>"),J("endobj"),ke.publish("postPutPages")},Xe=function(e){ke.publish("putFont",{font:e,out:J,newObject:Le,putStream:Ve}),!0!==e.isAlreadyPutted&&(e.objectNumber=Le(),J("<<"),J("/Type /Font"),J("/BaseFont /"+ko(e.postScriptName)),J("/Subtype /Type1"),"string"==typeof e.encoding&&J("/Encoding /"+e.encoding),J("/FirstChar 32"),J("/LastChar 255"),J(">>"),J("endobj"))},Ye=function(e){e.objectNumber=Le();var t=[];t.push({key:"Type",value:"/XObject"}),t.push({key:"Subtype",value:"/Form"}),t.push({key:"BBox",value:"["+[C(e.x),C(e.y),C(e.x+e.width),C(e.y+e.height)].join(" ")+"]"}),t.push({key:"Matrix",value:"["+e.matrix.toString()+"]"});var n=e.pages[1].join("\n");Ve({data:n,additionalKeyValues:t,objectId:e.objectNumber}),J("endobj")},Je=function(e,t){t||(t=21);var n=Le(),r=function(e,t){var n,r=[],i=1/(t-1);for(n=0;n<1;n+=i)r.push(n);if(r.push(1),0!=e[0].offset){var a={offset:0,color:e[0].color};e.unshift(a)}if(1!=e[e.length-1].offset){var o={offset:1,color:e[e.length-1].color};e.push(o)}for(var s="",l=0,c=0;c<r.length;c++){for(n=r[c];n>e[l+1].offset;)l++;var u=e[l].offset,A=(n-u)/(e[l+1].offset-u),d=e[l].color,h=e[l+1].color;s+=R(Math.round((1-A)*d[0]+A*h[0]).toString(16))+R(Math.round((1-A)*d[1]+A*h[1]).toString(16))+R(Math.round((1-A)*d[2]+A*h[2]).toString(16))}return s.trim()}(e.colors,t),i=[];i.push({key:"FunctionType",value:"0"}),i.push({key:"Domain",value:"[0.0 1.0]"}),i.push({key:"Size",value:"["+t+"]"}),i.push({key:"BitsPerSample",value:"8"}),i.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),i.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ve({data:r,additionalKeyValues:i,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:n}),J("endobj"),e.objectNumber=Le(),J("<< /ShadingType "+e.type),J("/ColorSpace /DeviceRGB");var a="/Coords ["+C(parseFloat(e.coords[0]))+" "+C(parseFloat(e.coords[1]))+" ";2===e.type?a+=C(parseFloat(e.coords[2]))+" "+C(parseFloat(e.coords[3])):a+=C(parseFloat(e.coords[2]))+" "+C(parseFloat(e.coords[3]))+" "+C(parseFloat(e.coords[4]))+" "+C(parseFloat(e.coords[5])),J(a+="]"),e.matrix&&J("/Matrix ["+e.matrix.toString()+"]"),J("/Function "+n+" 0 R"),J("/Extend [true true]"),J(">>"),J("endobj")},Ze=function(e,t){var n=De(),r=Le();t.push({resourcesOid:n,objectOid:r}),e.objectNumber=r;var i=[];i.push({key:"Type",value:"/Pattern"}),i.push({key:"PatternType",value:"1"}),i.push({key:"PaintType",value:"1"}),i.push({key:"TilingType",value:"1"}),i.push({key:"BBox",value:"["+e.boundingBox.map(C).join(" ")+"]"}),i.push({key:"XStep",value:C(e.xStep)}),i.push({key:"YStep",value:C(e.yStep)}),i.push({key:"Resources",value:n+" 0 R"}),e.matrix&&i.push({key:"Matrix",value:"["+e.matrix.toString()+"]"}),Ve({data:e.stream,additionalKeyValues:i,objectId:e.objectNumber}),J("endobj")},$e=function(e){for(var t in e.objectNumber=Le(),J("<<"),e)switch(t){case"opacity":J("/ca "+_(e[t]));break;case"stroke-opacity":J("/CA "+_(e[t]))}J(">>"),J("endobj")},et=function(e){Te(e.resourcesOid,!0),J("<<"),J("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var e in J("/Font <<"),ge)ge.hasOwnProperty(e)&&(!1===A||!0===A&&d.hasOwnProperty(e))&&J("/"+e+" "+ge[e].objectNumber+" 0 R");J(">>")}(),function(){if(Object.keys(ye).length>0){for(var e in J("/Shading <<"),ye)ye.hasOwnProperty(e)&&ye[e]instanceof Fo&&ye[e].objectNumber>=0&&J("/"+e+" "+ye[e].objectNumber+" 0 R");ke.publish("putShadingPatternDict"),J(">>")}}(),function(e){if(Object.keys(ye).length>0){for(var t in J("/Pattern <<"),ye)ye.hasOwnProperty(t)&&ye[t]instanceof h.TilingPattern&&ye[t].objectNumber>=0&&ye[t].objectNumber<e&&J("/"+t+" "+ye[t].objectNumber+" 0 R");ke.publish("putTilingPatternDict"),J(">>")}}(e.objectOid),function(){if(Object.keys(we).length>0){var e;for(e in J("/ExtGState <<"),we)we.hasOwnProperty(e)&&we[e].objectNumber>=0&&J("/"+e+" "+we[e].objectNumber+" 0 R");ke.publish("putGStateDict"),J(">>")}}(),function(){for(var e in J("/XObject <<"),Ee)Ee.hasOwnProperty(e)&&Ee[e].objectNumber>=0&&J("/"+e+" "+Ee[e].objectNumber+" 0 R");ke.publish("putXobjectDict"),J(">>")}(),J(">>"),J("endobj")},tt=function(e){me[e.fontName]=me[e.fontName]||{},me[e.fontName][e.fontStyle]=e.id},nt=function(e,t,n,r,i){var a={id:"F"+(Object.keys(ge).length+1).toString(10),postScriptName:e,fontName:t,fontStyle:n,encoding:r,isStandardFont:i||!1,metadata:{}};return ke.publish("addFont",{font:a,instance:this}),ge[a.id]=a,tt(a),a.id},rt=h.__private__.pdfEscape=h.pdfEscape=function(e,t){return function(e,t){var n,r,i,a,o,s,l,c,u;if(i=(t=t||{}).sourceEncoding||"Unicode",o=t.outputEncoding,(t.autoencode||o)&&ge[Ae].metadata&&ge[Ae].metadata[i]&&ge[Ae].metadata[i].encoding&&(a=ge[Ae].metadata[i].encoding,!o&&ge[Ae].encoding&&(o=ge[Ae].encoding),!o&&a.codePages&&(o=a.codePages[0]),"string"==typeof o&&(o=a[o]),o)){for(l=!1,s=[],n=0,r=e.length;n<r;n++)(c=o[e.charCodeAt(n)])?s.push(String.fromCharCode(c)):s.push(e[n]),s[n].charCodeAt(0)>>8&&(l=!0);e=s.join("")}for(n=e.length;void 0===l&&0!==n;)e.charCodeAt(n-1)>>8&&(l=!0),n--;if(!l)return e;for(s=t.noBOM?[]:[254,255],n=0,r=e.length;n<r;n++){if((u=(c=e.charCodeAt(n))>>8)>>8)throw new Error("Character at position "+n+" of string '"+e+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");s.push(u),s.push(c-(u<<8))}return String.fromCharCode.apply(void 0,s)}(e,t).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},it=h.__private__.beginPage=function(e){G[++Ce]=[],Ne[Ce]={objId:0,contentsObjId:0,userUnit:Number(s),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(e[0]),topRightY:Number(e[1])}},st(Ce),Y(G[M])},at=function(e,t){var r,a,o;switch(n=t||n,"string"==typeof e&&(r=m(e.toLowerCase()),Array.isArray(r)&&(a=r[0],o=r[1])),Array.isArray(e)&&(a=e[0]*de,o=e[1]*de),isNaN(a)&&(a=i[0],o=i[1]),(a>14400||o>14400)&&(eo.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),a=Math.min(14400,a),o=Math.min(14400,o)),i=[a,o],n.substr(0,1)){case"l":o>a&&(i=[o,a]);break;case"p":a>o&&(i=[o,a])}it(i),Mt(Dt),J(Gt),0!==$t&&J($t+" J"),0!==en&&J(en+" j"),ke.publish("addPage",{pageNumber:Ce})},ot=function(e){e>0&&e<=Ce&&(G.splice(e,1),Ne.splice(e,1),Ce--,M>Ce&&(M=Ce),this.setPage(M))},st=function(e){e>0&&e<=Ce&&(M=e)},lt=h.__private__.getNumberOfPages=h.getNumberOfPages=function(){return G.length-1},ct=function(e,t,n){var r,i=void 0;return n=n||{},e=void 0!==e?e:ge[Ae].fontName,t=void 0!==t?t:ge[Ae].fontStyle,r=e.toLowerCase(),void 0!==me[r]&&void 0!==me[r][t]?i=me[r][t]:void 0!==me[e]&&void 0!==me[e][t]?i=me[e][t]:!1===n.disableWarning&&eo.warn("Unable to look up font label for font '"+e+"', '"+t+"'. Refer to getFontList() for available fonts."),i||n.noFallback||null==(i=me.times[t])&&(i=me.times.normal),i},ut=h.__private__.putInfo=function(){var e=Le(),t=function(e){return e};for(var n in null!==u&&(t=yt.encryptor(e,0)),J("<<"),J("/Producer ("+rt(t("jsPDF "+jo.version))+")"),ue)ue.hasOwnProperty(n)&&ue[n]&&J("/"+n.substr(0,1).toUpperCase()+n.substr(1)+" ("+rt(t(ue[n]))+")");J("/CreationDate ("+rt(t(I))+")"),J(">>"),J("endobj")},At=h.__private__.putCatalog=function(e){var t=(e=e||{}).rootDictionaryObjId||Re;switch(Le(),J("<<"),J("/Type /Catalog"),J("/Pages "+t+" 0 R"),ne||(ne="fullwidth"),ne){case"fullwidth":J("/OpenAction [3 0 R /FitH null]");break;case"fullheight":J("/OpenAction [3 0 R /FitV null]");break;case"fullpage":J("/OpenAction [3 0 R /Fit]");break;case"original":J("/OpenAction [3 0 R /XYZ null null 1]");break;default:var n=""+ne;"%"===n.substr(n.length-1)&&(ne=parseInt(ne)/100),"number"==typeof ne&&J("/OpenAction [3 0 R /XYZ null null "+_(ne)+"]")}switch(se||(se="continuous"),se){case"continuous":J("/PageLayout /OneColumn");break;case"single":J("/PageLayout /SinglePage");break;case"two":case"twoleft":J("/PageLayout /TwoColumnLeft");break;case"tworight":J("/PageLayout /TwoColumnRight")}ae&&J("/PageMode /"+ae),ke.publish("putCatalog"),J(">>"),J("endobj")},dt=h.__private__.putTrailer=function(){J("trailer"),J("<<"),J("/Size "+(H+1)),J("/Root "+H+" 0 R"),J("/Info "+(H-1)+" 0 R"),null!==u&&J("/Encrypt "+yt.oid+" 0 R"),J("/ID [ <"+j+"> <"+j+"> ]"),J(">>")},ht=h.__private__.putHeader=function(){J("%PDF-"+f),J("%\xba\xdf\xac\xe0")},ft=h.__private__.putXRef=function(){var e="0000000000";J("xref"),J("0 "+(H+1)),J("0000000000 65535 f ");for(var t=1;t<=H;t++)"function"==typeof z[t]?J((e+z[t]()).slice(-10)+" 00000 n "):void 0!==z[t]?J((e+z[t]).slice(-10)+" 00000 n "):J("0000000000 00000 n ")},pt=h.__private__.buildDocument=function(){var e;H=0,W=0,K=[],z=[],V=[],Re=De(),He=De(),Y(K),ke.publish("buildDocument"),ht(),qe(),function(){ke.publish("putAdditionalObjects");for(var e=0;e<V.length;e++){var t=V[e];Te(t.objId,!0),J(t.content),J("endobj")}ke.publish("postPutAdditionalObjects")}(),e=[],function(){for(var e in ge)ge.hasOwnProperty(e)&&(!1===A||!0===A&&d.hasOwnProperty(e))&&Xe(ge[e])}(),function(){var e;for(e in we)we.hasOwnProperty(e)&&$e(we[e])}(),function(){for(var e in Ee)Ee.hasOwnProperty(e)&&Ye(Ee[e])}(),function(e){var t;for(t in ye)ye.hasOwnProperty(t)&&(ye[t]instanceof Fo?Je(ye[t]):ye[t]instanceof Io&&Ze(ye[t],e))}(e),ke.publish("putResources"),e.forEach(et),et({resourcesOid:He,objectOid:Number.MAX_SAFE_INTEGER}),ke.publish("postPutResources"),null!==u&&(yt.oid=Le(),J("<<"),J("/Filter /Standard"),J("/V "+yt.v),J("/R "+yt.r),J("/U <"+yt.toHexString(yt.U)+">"),J("/O <"+yt.toHexString(yt.O)+">"),J("/P "+yt.P),J(">>"),J("endobj")),ut(),At();var t=W;return ft(),dt(),J("startxref"),J(""+t),J("%%EOF"),Y(G[M]),K.join("\n")},gt=h.__private__.getBlob=function(e){return new Blob([$(e)],{type:"application/pdf"})},mt=h.output=h.__private__.output=(Pe=function(e,t){switch("string"==typeof(t=t||{})?t={filename:t}:t.filename=t.filename||"generated.pdf",e){case void 0:return pt();case"save":h.save(t.filename);break;case"arraybuffer":return $(pt());case"blob":return gt(pt());case"bloburi":case"bloburl":if(void 0!==Za.URL&&"function"==typeof Za.URL.createObjectURL)return Za.URL&&Za.URL.createObjectURL(gt(pt()))||void 0;eo.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var n="",r=pt();try{n=so(r)}catch(u){n=so(unescape(encodeURIComponent(r)))}return"data:application/pdf;filename="+t.filename+";base64,"+n;case"pdfobjectnewwindow":if("[object Window]"===Object.prototype.toString.call(Za)){var i="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",a=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';t.pdfObjectUrl&&(i=t.pdfObjectUrl,a="");var o='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+i+'"'+a+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(t)+");<\/script></body></html>",s=Za.open();return null!==s&&s.document.write(o),s}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if("[object Window]"===Object.prototype.toString.call(Za)){var l='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(t.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+t.filename+'" width="500px" height="400px" /></body></html>',c=Za.open();if(null!==c){c.document.write(l);var A=this;c.document.documentElement.querySelector("#pdfViewer").onload=function(){c.document.title=t.filename,c.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(A.output("bloburl"))}}return c}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if("[object Window]"!==Object.prototype.toString.call(Za))throw new Error("The option dataurlnewwindow just works in a browser-environment.");var d='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",t)+'"></iframe></body></html>',f=Za.open();if(null!==f&&(f.document.write(d),f.document.title=t.filename),f||"undefined"==typeof safari)return f;break;case"datauri":case"dataurl":return Za.document.location.href=this.output("datauristring",t);default:return null}},Pe.foo=function(){try{return Pe.apply(this,arguments)}catch(t){var e=t.stack||"";~e.indexOf(" at ")&&(e=e.split(" at ")[1]);var n="Error in function "+e.split("\n")[0].split("<")[0]+": "+t.message;if(!Za.console)throw new Error(n);Za.console.error(n,t),Za.alert&&alert(n)}},Pe.foo.bar=Pe,Pe.foo),vt=function(e){return!0===Array.isArray(_e)&&_e.indexOf(e)>-1};switch(r){case"pt":de=1;break;case"mm":de=72/25.4;break;case"cm":de=72/2.54;break;case"in":de=72;break;case"px":de=1==vt("px_scaling")?.75:96/72;break;case"pc":case"em":de=12;break;case"ex":de=6;break;default:if("number"!=typeof r)throw new Error("Invalid unit: "+r);de=r}var yt=null;D(),O();var bt=h.__private__.getPageInfo=h.getPageInfo=function(e){if(isNaN(e)||e%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Ne[e].objId,pageNumber:e,pageContext:Ne[e]}},wt=h.__private__.getPageInfoByObjId=function(e){if(isNaN(e)||e%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var t in Ne)if(Ne[t].objId===e)break;return bt(t)},xt=h.__private__.getCurrentPageInfo=h.getCurrentPageInfo=function(){return{objId:Ne[M].objId,pageNumber:M,pageContext:Ne[M]}};h.addPage=function(){return at.apply(this,arguments),this},h.setPage=function(){return st.apply(this,arguments),Y.call(this,G[M]),this},h.insertPage=function(e){return this.addPage(),this.movePage(M,e),this},h.movePage=function(e,t){var n,r;if(e>t){n=G[e],r=Ne[e];for(var i=e;i>t;i--)G[i]=G[i-1],Ne[i]=Ne[i-1];G[t]=n,Ne[t]=r,this.setPage(t)}else if(e<t){n=G[e],r=Ne[e];for(var a=e;a<t;a++)G[a]=G[a+1],Ne[a]=Ne[a+1];G[t]=n,Ne[t]=r,this.setPage(t)}return this},h.deletePage=function(){return ot.apply(this,arguments),this},h.__private__.text=h.text=function(e,t,n,r,i){var a,o,s,l,c,u,A,h,f,p=(r=r||{}).scope||this;if("number"==typeof e&&"number"==typeof t&&("string"==typeof n||Array.isArray(n))){var g=n;n=t,t=e,e=g}if(arguments[3]instanceof Ie==0?(s=arguments[4],l=arguments[5],"object"===(0,Qe.A)(A=arguments[3])&&null!==A||("string"==typeof s&&(l=s,s=null),"string"==typeof A&&(l=A,A=null),"number"==typeof A&&(s=A,A=null),r={flags:A,angle:s,align:l})):(N("The transform parameter of text() with a Matrix value"),f=i),isNaN(t)||isNaN(n)||null==e)throw new Error("Invalid arguments passed to jsPDF.text");if(0===e.length)return p;var m,v="",w="number"==typeof r.lineHeightFactor?r.lineHeightFactor:Lt,x=p.internal.scaleFactor;function B(e){return e=e.split("\t").join(Array(r.TabLen||9).join(" ")),rt(e,A)}function k(e){for(var t,n=e.concat(),r=[],i=n.length;i--;)"string"==typeof(t=n.shift())?r.push(t):Array.isArray(e)&&(1===t.length||void 0===t[1]&&void 0===t[2])?r.push(t[0]):r.push([t[0],t[1],t[2]]);return r}function _(e,t){var n;if("string"==typeof e)n=t(e)[0];else if(Array.isArray(e)){for(var r,i,a=e.concat(),o=[],s=a.length;s--;)"string"==typeof(r=a.shift())?o.push(t(r)[0]):Array.isArray(r)&&"string"==typeof r[0]&&(i=t(r[0],r[1],r[2]),o.push([i[0],i[1],i[2]]));n=o}return n}var E=!1,F=!0;if("string"==typeof e)E=!0;else if(Array.isArray(e)){var I=e.concat();o=[];for(var j,U=I.length;U--;)("string"!=typeof(j=I.shift())||Array.isArray(j)&&"string"!=typeof j[0])&&(F=!1);E=F}if(!1===E)throw new Error('Type of text must be string or Array. "'+e+'" is not recognized.');"string"==typeof e&&(e=e.match(/[\r?\n]/)?e.split(/\r\n|\r|\n/g):[e]);var O=te/p.internal.scaleFactor,P=O*(w-1);switch(r.baseline){case"bottom":n-=P;break;case"top":n+=O-P;break;case"hanging":n+=O-2*P;break;case"middle":n+=O/2-P}if((u=r.maxWidth||0)>0&&("string"==typeof e?e=p.splitTextToSize(e,u):"[object Array]"===Object.prototype.toString.call(e)&&(e=e.reduce(function(e,t){return e.concat(p.splitTextToSize(t,u))},[]))),a={text:e,x:t,y:n,options:r,mutex:{pdfEscape:rt,activeFontKey:Ae,fonts:ge,activeFontSize:te}},ke.publish("preProcessText",a),e=a.text,s=(r=a.options).angle,f instanceof Ie==0&&s&&"number"==typeof s){s*=Math.PI/180,0===r.rotationDirection&&(s=-s),b===y&&(s=-s);var L=Math.cos(s),D=Math.sin(s);f=new Ie(L,D,-D,L,0,0)}else s&&s instanceof Ie&&(f=s);b!==y||f||(f=Ue),void 0!==(c=r.charSpace||Jt)&&(v+=C(S(c))+" Tc\n",this.setCharSpace(this.getCharSpace()||0)),void 0!==(h=r.horizontalScale)&&(v+=C(100*h)+" Tz\n"),r.lang;var T=-1,M=void 0!==r.renderingMode?r.renderingMode:r.stroke,Q=p.internal.getCurrentPageInfo().pageContext;switch(M){case 0:case!1:case"fill":T=0;break;case 1:case!0:case"stroke":T=1;break;case 2:case"fillThenStroke":T=2;break;case 3:case"invisible":T=3;break;case 4:case"fillAndAddForClipping":T=4;break;case 5:case"strokeAndAddPathForClipping":T=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":T=6;break;case 7:case"addToPathForClipping":T=7}var R=void 0!==Q.usedRenderingMode?Q.usedRenderingMode:-1;-1!==T?v+=T+" Tr\n":-1!==R&&(v+="0 Tr\n"),-1!==T&&(Q.usedRenderingMode=T),l=r.align||"left";var H,z=te*w,K=p.internal.pageSize.getWidth(),W=ge[Ae];c=r.charSpace||Jt,u=r.maxWidth||0,A=Object.assign({autoencode:!0,noBOM:!0},r.flags);var V=[],G=function(e){return p.getStringUnitWidth(e,{font:W,charSpace:c,fontSize:te,doKerning:!1})*te/x};if("[object Array]"===Object.prototype.toString.call(e)){var q;o=k(e),"left"!==l&&(H=o.map(G));var X,Y=0;if("right"===l){t-=H[0],e=[],U=o.length;for(var Z=0;Z<U;Z++)0===Z?(X=zt(t),q=Kt(n)):(X=S(Y-H[Z]),q=-z),e.push([o[Z],X,q]),Y=H[Z]}else if("center"===l){t-=H[0]/2,e=[],U=o.length;for(var $=0;$<U;$++)0===$?(X=zt(t),q=Kt(n)):(X=S((Y-H[$])/2),q=-z),e.push([o[$],X,q]),Y=H[$]}else if("left"===l){e=[],U=o.length;for(var ee=0;ee<U;ee++)e.push(o[ee])}else if("justify"===l&&"Identity-H"===W.encoding){e=[],U=o.length,u=0!==u?u:K;for(var ne=0,re=0;re<U;re++)if(q=0===re?Kt(n):-z,X=0===re?zt(t):ne,re<U-1){var ae=S((u-H[re])/(o[re].split(" ").length-1)),oe=o[re].split(" ");e.push([oe[0]+" ",X,q]),ne=0;for(var se=1;se<oe.length;se++){var le=(G(oe[se-1]+" "+oe[se])-G(oe[se]))*x+ae;se==oe.length-1?e.push([oe[se],le,0]):e.push([oe[se]+" ",le,0]),ne-=le}}else e.push([o[re],X,q]);e.push(["",ne,0])}else{if("justify"!==l)throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(e=[],U=o.length,u=0!==u?u:K,re=0;re<U;re++){q=0===re?Kt(n):-z,X=0===re?zt(t):0;var ce=o[re].split(" ").length-1,ue=ce>0?(u-H[re])/ce:0;re<U-1?V.push(C(S(ue))):V.push(0),e.push([o[re],X,q])}}}!0===("boolean"==typeof r.R2L?r.R2L:ie)&&(e=_(e,function(e,t,n){return[e.split("").reverse().join(""),t,n]})),a={text:e,x:t,y:n,options:r,mutex:{pdfEscape:rt,activeFontKey:Ae,fonts:ge,activeFontSize:te}},ke.publish("postProcessText",a),e=a.text,m=a.mutex.isHex||!1;var de=ge[Ae].encoding;"WinAnsiEncoding"!==de&&"StandardEncoding"!==de||(e=_(e,function(e,t,n){return[B(e),t,n]})),o=k(e),e=[];for(var he,fe,pe,me=Array.isArray(o[0])?1:0,ve="",ye=function(e,t,n){var i="";return n instanceof Ie?(n="number"==typeof r.angle?je(n,new Ie(1,0,0,1,e,t)):je(new Ie(1,0,0,1,e,t),n),b===y&&(n=je(new Ie(1,0,0,-1,0,0),n)),i=n.join(" ")+" Tm\n"):i=C(e)+" "+C(t)+" Td\n",i},be=0;be<o.length;be++){switch(ve="",me){case 1:pe=(m?"<":"(")+o[be][0]+(m?">":")"),he=parseFloat(o[be][1]),fe=parseFloat(o[be][2]);break;case 0:pe=(m?"<":"(")+o[be]+(m?">":")"),he=zt(t),fe=Kt(n)}void 0!==V&&void 0!==V[be]&&(ve=V[be]+" Tw\n"),0===be?e.push(ve+ye(he,fe,f)+pe):0===me?e.push(ve+pe):1===me&&e.push(ve+ye(he,fe,f)+pe)}e=0===me?e.join(" Tj\nT* "):e.join(" Tj\n"),e+=" Tj\n";var we="BT\n/";return we+=Ae+" "+te+" Tf\n",we+=C(te*w)+" TL\n",we+=Xt+"\n",we+=v,we+=e,J(we+="ET"),d[Ae]=!0,p};var Bt=h.__private__.clip=h.clip=function(e){return J("evenodd"===e?"W*":"W"),this};h.clipEvenOdd=function(){return Bt("evenodd")},h.__private__.discardPath=h.discardPath=function(){return J("n"),this};var Ct=h.__private__.isValidStyle=function(e){var t=!1;return-1!==[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(e)&&(t=!0),t};h.__private__.setDefaultPathOperation=h.setDefaultPathOperation=function(e){return Ct(e)&&(c=e),this};var Nt=h.__private__.getStyle=h.getStyle=function(e){var t=c;switch(e){case"D":case"S":t="S";break;case"F":t="f";break;case"FD":case"DF":t="B";break;case"f":case"f*":case"B":case"B*":t=e}return t},kt=h.close=function(){return J("h"),this};h.stroke=function(){return J("S"),this},h.fill=function(e){return _t("f",e),this},h.fillEvenOdd=function(e){return _t("f*",e),this},h.fillStroke=function(e){return _t("B",e),this},h.fillStrokeEvenOdd=function(e){return _t("B*",e),this};var _t=function(e,t){"object"===(0,Qe.A)(t)?Ft(t,e):J(e)},Et=function(e){null===e||b===y&&void 0===e||(e=Nt(e),J(e))};function St(e,t,n,r,i){var a=new Io(t||this.boundingBox,n||this.xStep,r||this.yStep,this.gState,i||this.matrix);a.stream=this.stream;var o=e+"$$"+this.cloneIndex+++"$$";return Oe(o,a),a}var Ft=function(e,t){var n=be[e.key],r=ye[n];if(r instanceof Fo)J("q"),J(It(t)),r.gState&&h.setGState(r.gState),J(e.matrix.toString()+" cm"),J("/"+n+" sh"),J("Q");else if(r instanceof Io){var i=new Ie(1,0,0,-1,0,fn());e.matrix&&(i=i.multiply(e.matrix||Ue),n=St.call(r,e.key,e.boundingBox,e.xStep,e.yStep,i).id),J("q"),J("/Pattern cs"),J("/"+n+" scn"),r.gState&&h.setGState(r.gState),J(t),J("Q")}},It=function(e){switch(e){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},jt=h.moveTo=function(e,t){return J(C(S(e))+" "+C(F(t))+" m"),this},Ut=h.lineTo=function(e,t){return J(C(S(e))+" "+C(F(t))+" l"),this},Ot=h.curveTo=function(e,t,n,r,i,a){return J([C(S(e)),C(F(t)),C(S(n)),C(F(r)),C(S(i)),C(F(a)),"c"].join(" ")),this};h.__private__.line=h.line=function(e,t,n,r,i){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||!Ct(i))throw new Error("Invalid arguments passed to jsPDF.line");return b===v?this.lines([[n-e,r-t]],e,t,[1,1],i||"S"):this.lines([[n-e,r-t]],e,t,[1,1]).stroke()},h.__private__.lines=h.lines=function(e,t,n,r,i,a){var o,s,l,c,u,A,d,h,f,p,g,m;if("number"==typeof e&&(m=n,n=t,t=e,e=m),r=r||[1,1],a=a||!1,isNaN(t)||isNaN(n)||!Array.isArray(e)||!Array.isArray(r)||!Ct(i)||"boolean"!=typeof a)throw new Error("Invalid arguments passed to jsPDF.lines");for(jt(t,n),o=r[0],s=r[1],c=e.length,p=t,g=n,l=0;l<c;l++)2===(u=e[l]).length?(p=u[0]*o+p,g=u[1]*s+g,Ut(p,g)):(A=u[0]*o+p,d=u[1]*s+g,h=u[2]*o+p,f=u[3]*s+g,p=u[4]*o+p,g=u[5]*s+g,Ot(A,d,h,f,p,g));return a&&kt(),Et(i),this},h.path=function(e){for(var t=0;t<e.length;t++){var n=e[t],r=n.c;switch(n.op){case"m":jt(r[0],r[1]);break;case"l":Ut(r[0],r[1]);break;case"c":Ot.apply(this,r);break;case"h":kt()}}return this},h.__private__.rect=h.rect=function(e,t,n,r,i){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||!Ct(i))throw new Error("Invalid arguments passed to jsPDF.rect");return b===v&&(r=-r),J([C(S(e)),C(F(t)),C(S(n)),C(S(r)),"re"].join(" ")),Et(i),this},h.__private__.triangle=h.triangle=function(e,t,n,r,i,a,o){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||isNaN(i)||isNaN(a)||!Ct(o))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[n-e,r-t],[i-n,a-r],[e-i,t-a]],e,t,[1,1],o,!0),this},h.__private__.roundedRect=h.roundedRect=function(e,t,n,r,i,a,o){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||isNaN(i)||isNaN(a)||!Ct(o))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var s=4/3*(Math.SQRT2-1);return i=Math.min(i,.5*n),a=Math.min(a,.5*r),this.lines([[n-2*i,0],[i*s,0,i,a-a*s,i,a],[0,r-2*a],[0,a*s,-i*s,a,-i,a],[2*i-n,0],[-i*s,0,-i,-a*s,-i,-a],[0,2*a-r],[0,-a*s,i*s,-a,i,-a]],e+i,t,[1,1],o,!0),this},h.__private__.ellipse=h.ellipse=function(e,t,n,r,i){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||!Ct(i))throw new Error("Invalid arguments passed to jsPDF.ellipse");var a=4/3*(Math.SQRT2-1)*n,o=4/3*(Math.SQRT2-1)*r;return jt(e+n,t),Ot(e+n,t-o,e+a,t-r,e,t-r),Ot(e-a,t-r,e-n,t-o,e-n,t),Ot(e-n,t+o,e-a,t+r,e,t+r),Ot(e+a,t+r,e+n,t+o,e+n,t),Et(i),this},h.__private__.circle=h.circle=function(e,t,n,r){if(isNaN(e)||isNaN(t)||isNaN(n)||!Ct(r))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(e,t,n,n,r)},h.setFont=function(e,t,n){return n&&(t=B(t,n)),Ae=ct(e,t,{disableWarning:!1}),this};var Pt=h.__private__.getFont=h.getFont=function(){return ge[ct.apply(h,arguments)]};h.__private__.getFontList=h.getFontList=function(){var e,t,n={};for(e in me)if(me.hasOwnProperty(e))for(t in n[e]=[],me[e])me[e].hasOwnProperty(t)&&n[e].push(t);return n},h.addFont=function(e,t,n,r,i){var a=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&-1!==a.indexOf(arguments[3])?i=arguments[3]:arguments[3]&&-1==a.indexOf(arguments[3])&&(n=B(n,r)),nt.call(this,e,t,n,i=i||"Identity-H")};var Lt,Dt=e.lineWidth||.200025,Tt=h.__private__.getLineWidth=h.getLineWidth=function(){return Dt},Mt=h.__private__.setLineWidth=h.setLineWidth=function(e){return Dt=e,J(C(S(e))+" w"),this};h.__private__.setLineDash=jo.API.setLineDash=jo.API.setLineDashPattern=function(e,t){if(e=e||[],t=t||0,isNaN(t)||!Array.isArray(e))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return e=e.map(function(e){return C(S(e))}).join(" "),t=C(S(t)),J("["+e+"] "+t+" d"),this};var Qt=h.__private__.getLineHeight=h.getLineHeight=function(){return te*Lt};h.__private__.getLineHeight=h.getLineHeight=function(){return te*Lt};var Rt=h.__private__.setLineHeightFactor=h.setLineHeightFactor=function(e){return"number"==typeof(e=e||1.15)&&(Lt=e),this},Ht=h.__private__.getLineHeightFactor=h.getLineHeightFactor=function(){return Lt};Rt(e.lineHeight);var zt=h.__private__.getHorizontalCoordinate=function(e){return S(e)},Kt=h.__private__.getVerticalCoordinate=function(e){return b===y?e:Ne[M].mediaBox.topRightY-Ne[M].mediaBox.bottomLeftY-S(e)},Wt=h.__private__.getHorizontalCoordinateString=h.getHorizontalCoordinateString=function(e){return C(zt(e))},Vt=h.__private__.getVerticalCoordinateString=h.getVerticalCoordinateString=function(e){return C(Kt(e))},Gt=e.strokeColor||"0 G";h.__private__.getStrokeColor=h.getDrawColor=function(){return ze(Gt)},h.__private__.setStrokeColor=h.setDrawColor=function(e,t,n,r){return Gt=Ke({ch1:e,ch2:t,ch3:n,ch4:r,pdfColorType:"draw",precision:2}),J(Gt),this};var qt=e.fillColor||"0 g";h.__private__.getFillColor=h.getFillColor=function(){return ze(qt)},h.__private__.setFillColor=h.setFillColor=function(e,t,n,r){return qt=Ke({ch1:e,ch2:t,ch3:n,ch4:r,pdfColorType:"fill",precision:2}),J(qt),this};var Xt=e.textColor||"0 g",Yt=h.__private__.getTextColor=h.getTextColor=function(){return ze(Xt)};h.__private__.setTextColor=h.setTextColor=function(e,t,n,r){return Xt=Ke({ch1:e,ch2:t,ch3:n,ch4:r,pdfColorType:"text",precision:3}),this};var Jt=e.charSpace,Zt=h.__private__.getCharSpace=h.getCharSpace=function(){return parseFloat(Jt||0)};h.__private__.setCharSpace=h.setCharSpace=function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Jt=e,this};var $t=0;h.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},h.__private__.setLineCap=h.setLineCap=function(e){var t=h.CapJoinStyles[e];if(void 0===t)throw new Error("Line cap style of '"+e+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return $t=t,J(t+" J"),this};var en=0;h.__private__.setLineJoin=h.setLineJoin=function(e){var t=h.CapJoinStyles[e];if(void 0===t)throw new Error("Line join style of '"+e+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return en=t,J(t+" j"),this},h.__private__.setLineMiterLimit=h.__private__.setMiterLimit=h.setLineMiterLimit=h.setMiterLimit=function(e){if(e=e||0,isNaN(e))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return J(C(S(e))+" M"),this},h.GState=Eo,h.setGState=function(e){(e="string"==typeof e?we[xe[e]]:tn(null,e)).equals(Be)||(J("/"+e.id+" gs"),Be=e)};var tn=function(e,t){if(!e||!xe[e]){var n=!1;for(var r in we)if(we.hasOwnProperty(r)&&we[r].equals(t)){n=!0;break}if(n)t=we[r];else{var i="GS"+(Object.keys(we).length+1).toString(10);we[i]=t,t.id=i}return e&&(xe[e]=t.id),ke.publish("addGState",t),t}};h.addGState=function(e,t){return tn(e,t),this},h.saveGraphicsState=function(){return J("q"),ve.push({key:Ae,size:te,color:Xt}),this},h.restoreGraphicsState=function(){J("Q");var e=ve.pop();return Ae=e.key,te=e.size,Xt=e.color,Be=null,this},h.setCurrentTransformationMatrix=function(e){return J(e.toString()+" cm"),this},h.comment=function(e){return J("#"+e),this};var nn=function(e,t){var n=e||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return n},set:function(e){isNaN(e)||(n=parseFloat(e))}});var r=t||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return r},set:function(e){isNaN(e)||(r=parseFloat(e))}});var i="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return i},set:function(e){i=e.toString()}}),this},rn=function(e,t,n,r){nn.call(this,e,t),this.type="rect";var i=n||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return i},set:function(e){isNaN(e)||(i=parseFloat(e))}});var a=r||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return a},set:function(e){isNaN(e)||(a=parseFloat(e))}}),this},an=function(){this.page=Ce,this.currentPage=M,this.pages=G.slice(0),this.pagesContext=Ne.slice(0),this.x=he,this.y=fe,this.matrix=pe,this.width=ln(M),this.height=un(M),this.outputDestination=X,this.id="",this.objectNumber=-1};an.prototype.restore=function(){Ce=this.page,M=this.currentPage,Ne=this.pagesContext,G=this.pages,he=this.x,fe=this.y,pe=this.matrix,cn(M,this.width),An(M,this.height),X=this.outputDestination};var on=function(e,t,n,r,i){Fe.push(new an),Ce=M=0,G=[],he=e,fe=t,pe=i,it([n,r])};for(var sn in h.beginFormObject=function(e,t,n,r,i){return on(e,t,n,r,i),this},h.endFormObject=function(e){return function(e){if(Se[e])Fe.pop().restore();else{var t=new an,n="Xo"+(Object.keys(Ee).length+1).toString(10);t.id=n,Se[e]=n,Ee[n]=t,ke.publish("addFormObject",t),Fe.pop().restore()}}(e),this},h.doFormObject=function(e,t){var n=Ee[Se[e]];return J("q"),J(t.toString()+" cm"),J("/"+n.id+" Do"),J("Q"),this},h.getFormObject=function(e){var t=Ee[Se[e]];return{x:t.x,y:t.y,width:t.width,height:t.height,matrix:t.matrix}},h.save=function(e,t){return e=e||"generated.pdf",(t=t||{}).returnPromise=t.returnPromise||!1,!1===t.returnPromise?(io(gt(pt()),e),"function"==typeof io.unload&&Za.setTimeout&&setTimeout(io.unload,911),this):new Promise(function(t,n){try{var i=io(gt(pt()),e);"function"==typeof io.unload&&Za.setTimeout&&setTimeout(io.unload,911),t(i)}catch(r){n(r.message)}})},jo.API)jo.API.hasOwnProperty(sn)&&("events"===sn&&jo.API.events.length?function(e,t){var n,r,i;for(i=t.length-1;-1!==i;i--)n=t[i][0],r=t[i][1],e.subscribe.apply(e,[n].concat("function"==typeof r?[r]:r))}(ke,jo.API.events):h[sn]=jo.API[sn]);function ln(e){return Ne[e].mediaBox.topRightX-Ne[e].mediaBox.bottomLeftX}function cn(e,t){Ne[e].mediaBox.topRightX=t+Ne[e].mediaBox.bottomLeftX}function un(e){return Ne[e].mediaBox.topRightY-Ne[e].mediaBox.bottomLeftY}function An(e,t){Ne[e].mediaBox.topRightY=t+Ne[e].mediaBox.bottomLeftY}var dn=h.getPageWidth=function(e){return ln(e=e||M)/de},hn=h.setPageWidth=function(e,t){cn(e,t*de)},fn=h.getPageHeight=function(e){return un(e=e||M)/de},pn=h.setPageHeight=function(e,t){An(e,t*de)};return h.internal={pdfEscape:rt,getStyle:Nt,getFont:Pt,getFontSize:re,getCharSpace:Zt,getTextColor:Yt,getLineHeight:Qt,getLineHeightFactor:Ht,getLineWidth:Tt,write:Z,getHorizontalCoordinate:zt,getVerticalCoordinate:Kt,getCoordinateString:Wt,getVerticalCoordinateString:Vt,collections:{},newObject:Le,newAdditionalObject:Me,newObjectDeferred:De,newObjectDeferredBegin:Te,getFilters:We,putStream:Ve,events:ke,scaleFactor:de,pageSize:{getWidth:function(){return dn(M)},setWidth:function(e){hn(M,e)},getHeight:function(){return fn(M)},setHeight:function(e){pn(M,e)}},encryptionOptions:u,encryption:yt,getEncryptor:function(e){return null!==u?yt.encryptor(e,0):function(e){return e}},output:mt,getNumberOfPages:lt,get pages(){return G},out:J,f2:_,f3:E,getPageInfo:bt,getPageInfoByObjId:wt,getCurrentPageInfo:xt,getPDFVersion:p,Point:nn,Rectangle:rn,Matrix:Ie,hasHotfix:vt},Object.defineProperty(h.internal.pageSize,"width",{get:function(){return dn(M)},set:function(e){hn(M,e)},enumerable:!0,configurable:!0}),Object.defineProperty(h.internal.pageSize,"height",{get:function(){return fn(M)},set:function(e){pn(M,e)},enumerable:!0,configurable:!0}),function(e){for(var t=0,n=ee.length;t<n;t++){var r=nt.call(this,e[t][0],e[t][1],e[t][2],ee[t][3],!0);!1===A&&(d[r]=!0);var i=e[t][0].split("-");tt({id:r,fontName:i[0],fontStyle:i[1]||""})}ke.publish("addFonts",{fonts:ge,dictionary:me})}.call(h,ee),Ae="F1",at(i,n),ke.publish("initialized"),h}No.prototype.lsbFirstWord=function(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)},No.prototype.toHexString=function(e){return e.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},No.prototype.hexToBytes=function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(String.fromCharCode(parseInt(e.substr(n,2),16)));return t.join("")},No.prototype.processOwnerPassword=function(e,t){return Bo(bo(t).substr(0,5),e)},No.prototype.encryptor=function(e,t){var n=bo(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(e){return Bo(n,e)}},Eo.prototype.equals=function(e){var t,n="id,objectNumber,equals";if(!e||(0,Qe.A)(e)!==(0,Qe.A)(this))return!1;var r=0;for(t in this)if(!(n.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t))return!1;if(this[t]!==e[t])return!1;r++}for(t in e)e.hasOwnProperty(t)&&n.indexOf(t)<0&&r--;return 0===r},jo.API={events:[]},jo.version="3.0.4";var Uo=jo.API,Oo=1,Po=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Lo=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Do=function(e){return e.toFixed(2)},To=function(e){return e.toFixed(5)};Uo.__acroform__={};var Mo=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},Qo=function(e){return e*Oo},Ro=function(e){var t=new rs,n=ms.internal.getHeight(e)||0,r=ms.internal.getWidth(e)||0;return t.BBox=[0,0,Number(Do(r)),Number(Do(n))],t},Ho=Uo.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|1<<t},zo=Uo.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&~(1<<t)},Ko=Uo.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},Wo=Uo.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Ko(e,t-1)},Vo=Uo.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return Ho(e,t-1)},Go=Uo.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return zo(e,t-1)},qo=Uo.__acroform__.calculateCoordinates=function(e,t){var n=t.internal.getHorizontalCoordinate,r=t.internal.getVerticalCoordinate,i=e[0],a=e[1],o=e[2],s=e[3],l={};return l.lowerLeft_X=n(i)||0,l.lowerLeft_Y=r(a+s)||0,l.upperRight_X=n(i+o)||0,l.upperRight_Y=r(a)||0,[Number(Do(l.lowerLeft_X)),Number(Do(l.lowerLeft_Y)),Number(Do(l.upperRight_X)),Number(Do(l.upperRight_Y))]},Xo=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],n=e._V||e.DV,r=Yo(e,n),i=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+i+" "+Do(r.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(r.text),t.push("ET"),t.push("Q"),t.push("EMC");var a=Ro(e);return a.scope=e.scope,a.stream=t.join("\n"),a}},Yo=function(e,t){var n=0===e.fontSize?e.maxFontSize:e.fontSize,r={text:"",fontSize:""},i=(t=")"==(t="("==t.substr(0,1)?t.substr(1):t).substr(t.length-1)?t.substr(0,t.length-1):t).split(" ");i=e.multiline?i.map(function(e){return e.split("\n")}):i.map(function(e){return[e]});var a=n,o=ms.internal.getHeight(e)||0;o=o<0?-o:o;var s=ms.internal.getWidth(e)||0;s=s<0?-s:s;var l=function(t,n,r){if(t+1<i.length){var a=n+" "+i[t+1][0];return Jo(a,e,r).width<=s-4}return!1};a++;e:for(;a>0;){t="",a--;var c,u,A=Jo("3",e,a).height,d=e.multiline?o-a:(o-A)/2,h=d+=2,f=0,p=0,g=0;if(a<=0){t="(...) Tj\n",t+="% Width of Text: "+Jo(t,e,a=12).width+", FieldWidth:"+s+"\n";break}for(var m="",v=0,y=0;y<i.length;y++)if(i.hasOwnProperty(y)){var b=!1;if(1!==i[y].length&&g!==i[y].length-1){if((A+2)*(v+2)+2>o)continue e;m+=i[y][g],b=!0,p=y,y--}else{m=" "==(m+=i[y][g]+" ").substr(m.length-1)?m.substr(0,m.length-1):m;var w=parseInt(y),x=l(w,m,a),B=y>=i.length-1;if(x&&!B){m+=" ",g=0;continue}if(x||B){if(B)p=w;else if(e.multiline&&(A+2)*(v+2)+2>o)continue e}else{if(!e.multiline)continue e;if((A+2)*(v+2)+2>o)continue e;p=w}}for(var C="",N=f;N<=p;N++){var k=i[N];if(e.multiline){if(N===p){C+=k[g]+" ",g=(g+1)%k.length;continue}if(N===f){C+=k[k.length-1]+" ";continue}}C+=k[0]+" "}switch(C=" "==C.substr(C.length-1)?C.substr(0,C.length-1):C,u=Jo(C,e,a).width,e.textAlign){case"right":c=s-u-2;break;case"center":c=(s-u)/2;break;default:c=2}t+=Do(c)+" "+Do(h)+" Td\n",t+="("+Po(C)+") Tj\n",t+=-Do(c)+" 0 Td\n",h=-(a+2),u=0,f=b?p:p+1,v++,m=""}break}return r.text=t,r.fontSize=a,r},Jo=function(e,t,n){var r=t.scope.internal.getFont(t.fontName,t.fontStyle),i=t.scope.getStringUnitWidth(e,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:t.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:i}},Zo={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},$o=function(e,t){var n={type:"reference",object:e};void 0===t.internal.getPageInfo(e.page).pageContext.annotations.find(function(e){return e.type===n.type&&e.object===n.object})&&t.internal.getPageInfo(e.page).pageContext.annotations.push(n)},es=Uo.__acroform__.arrayToPdfArray=function(e,t,n){var r=function(e){return e};if(Array.isArray(e)){for(var i="[",a=0;a<e.length;a++)switch(0!==a&&(i+=" "),(0,Qe.A)(e[a])){case"boolean":case"number":case"object":i+=e[a].toString();break;case"string":"/"!==e[a].substr(0,1)?(void 0!==t&&n&&(r=n.internal.getEncryptor(t)),i+="("+Po(r(e[a].toString()))+")"):i+=e[a].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},ts=function(e,t,n){var r=function(e){return e};return void 0!==t&&n&&(r=n.internal.getEncryptor(t)),(e=e||"").toString(),"("+Po(r(e))+")"},ns=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(void 0===this._objId){if(void 0===this.scope)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};ns.prototype.toString=function(){return this.objId+" 0 R"},ns.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},ns.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(e){return"content"!=e&&"appearanceStreamContent"!=e&&"scope"!=e&&"objId"!=e&&"_"!=e.substring(0,1)});for(var n in t)if(!1===Object.getOwnPropertyDescriptor(this,t[n]).configurable){var r=t[n],i=this[r];i&&(Array.isArray(i)?e.push({key:r,value:es(i,this.objId,this.scope)}):i instanceof ns?(i.scope=this.scope,e.push({key:r,value:i.objId+" 0 R"})):"function"!=typeof i&&e.push({key:r,value:i}))}return e};var rs=function(){ns.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){e=t.trim()},get:function(){return e||null}})};Mo(rs,ns);var is=function(){ns.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var t=function(e){return e};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+Po(t(e))+")"}},set:function(t){e=t}})};Mo(is,ns);var as=function e(){ns.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(e){if(isNaN(e))throw new Error('Invalid value "'+e+'" for attribute F supplied.');t=e}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return Boolean(Wo(t,3))},set:function(e){!0===Boolean(e)?this.F=Vo(t,3):this.F=Go(t,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(e){if(isNaN(e))throw new Error('Invalid value "'+e+'" for attribute Ff supplied.');n=e}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(0!==r.length)return r},set:function(e){r=void 0!==e?e:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(e){r[0]=e}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(e){r[1]=e}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(e){r[2]=e}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(e){r[3]=e}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(e){switch(e){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=e;break;default:throw new Error('Invalid value "'+e+'" for attribute FT supplied.')}}});var a=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!a||a.length<1){if(this instanceof hs)return;a="FieldObject"+e.FieldNum++}var t=function(e){return e};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+Po(t(a))+")"},set:function(e){a=e.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return a},set:function(e){a=e}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(e){o=e}});var s="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return s},set:function(e){s=e}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(e){l=e}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return void 0===c?50/Oo:c},set:function(e){c=e}});var u="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return u},set:function(e){u=e}});var A="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!A||this instanceof hs||this instanceof ps))return ts(A,this.objId,this.scope)},set:function(e){e=e.toString(),A=e}});var d=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(d)return this instanceof us==0?ts(d,this.objId,this.scope):d},set:function(e){e=e.toString(),d=this instanceof us==0?"("===e.substr(0,1)?Lo(e.substr(1,e.length-2)):Lo(e):e}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof us==1?Lo(d.substr(1,d.length-1)):d},set:function(e){e=e.toString(),d=this instanceof us==1?"/"+e:e}});var h=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(h)return h},set:function(e){this.V=e}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof us==0?ts(h,this.objId,this.scope):h},set:function(e){e=e.toString(),h=this instanceof us==0?"("===e.substr(0,1)?Lo(e.substr(1,e.length-2)):Lo(e):e}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof us==1?Lo(h.substr(1,h.length-1)):h},set:function(e){e=e.toString(),h=this instanceof us==1?"/"+e:e}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var f,p=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return p},set:function(e){e=Boolean(e),p=e}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(f)return f},set:function(e){f=e}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return Boolean(Wo(this.Ff,1))},set:function(e){!0===Boolean(e)?this.Ff=Vo(this.Ff,1):this.Ff=Go(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return Boolean(Wo(this.Ff,2))},set:function(e){!0===Boolean(e)?this.Ff=Vo(this.Ff,2):this.Ff=Go(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return Boolean(Wo(this.Ff,3))},set:function(e){!0===Boolean(e)?this.Ff=Vo(this.Ff,3):this.Ff=Go(this.Ff,3)}});var g=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(null!==g)return g},set:function(e){if(-1===[0,1,2].indexOf(e))throw new Error('Invalid value "'+e+'" for attribute Q supplied.');g=e}}),Object.defineProperty(this,"textAlign",{get:function(){var e;switch(g){case 0:default:e="left";break;case 1:e="center";break;case 2:e="right"}return e},configurable:!0,enumerable:!0,set:function(e){switch(e){case"right":case 2:g=2;break;case"center":case 1:g=1;break;default:g=0}}})};Mo(as,ns);var os=function(){as.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){e=t}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return es(t,this.objId,this.scope)},set:function(e){var n,r;r=[],"string"==typeof(n=e)&&(r=function(e,t,n){n||(n=1);for(var r,i=[];r=t.exec(e);)i.push(r[n]);return i}(n,/\((.*?)\)/g)),t=r}}),this.getOptions=function(){return t},this.setOptions=function(e){t=e,this.sort&&t.sort()},this.addOption=function(e){e=(e=e||"").toString(),t.push(e),this.sort&&t.sort()},this.removeOption=function(e,n){for(n=n||!1,e=(e=e||"").toString();-1!==t.indexOf(e)&&(t.splice(t.indexOf(e),1),!1!==n););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return Boolean(Wo(this.Ff,18))},set:function(e){!0===Boolean(e)?this.Ff=Vo(this.Ff,18):this.Ff=Go(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return Boolean(Wo(this.Ff,19))},set:function(e){!0===this.combo&&(!0===Boolean(e)?this.Ff=Vo(this.Ff,19):this.Ff=Go(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return Boolean(Wo(this.Ff,20))},set:function(e){!0===Boolean(e)?(this.Ff=Vo(this.Ff,20),t.sort()):this.Ff=Go(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(Wo(this.Ff,22))},set:function(e){!0===Boolean(e)?this.Ff=Vo(this.Ff,22):this.Ff=Go(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(Wo(this.Ff,23))},set:function(e){!0===Boolean(e)?this.Ff=Vo(this.Ff,23):this.Ff=Go(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return Boolean(Wo(this.Ff,27))},set:function(e){!0===Boolean(e)?this.Ff=Vo(this.Ff,27):this.Ff=Go(this.Ff,27)}}),this.hasAppearanceStream=!1};Mo(os,as);var ss=function(){os.call(this),this.fontName="helvetica",this.combo=!1};Mo(ss,os);var ls=function(){ss.call(this),this.combo=!0};Mo(ls,ss);var cs=function(){ls.call(this),this.edit=!0};Mo(cs,ls);var us=function(){as.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return Boolean(Wo(this.Ff,15))},set:function(e){!0===Boolean(e)?this.Ff=Vo(this.Ff,15):this.Ff=Go(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return Boolean(Wo(this.Ff,16))},set:function(e){!0===Boolean(e)?this.Ff=Vo(this.Ff,16):this.Ff=Go(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return Boolean(Wo(this.Ff,17))},set:function(e){!0===Boolean(e)?this.Ff=Vo(this.Ff,17):this.Ff=Go(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return Boolean(Wo(this.Ff,26))},set:function(e){!0===Boolean(e)?this.Ff=Vo(this.Ff,26):this.Ff=Go(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var e=function(e){return e};if(this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),0!==Object.keys(t).length){var n,r=[];for(n in r.push("<<"),t)r.push("/"+n+" ("+Po(e(t[n]))+")");return r.push(">>"),r.join("\n")}},set:function(e){"object"===(0,Qe.A)(e)&&(t=e)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(e){"string"==typeof e&&(t.CA=e)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(t){e="/"+t}})};Mo(us,as);var As=function(){us.call(this),this.pushButton=!0};Mo(As,us);var ds=function(){us.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=void 0!==t?t:[]}})};Mo(ds,us);var hs=function(){var e,t;as.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(e){t=e}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var e=function(e){return e};this.scope&&(e=this.scope.internal.getEncryptor(this.objId));var t,n=[];for(t in n.push("<<"),r)n.push("/"+t+" ("+Po(e(r[t]))+")");return n.push(">>"),n.join("\n")},set:function(e){"object"===(0,Qe.A)(e)&&(r=e)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(e){"string"==typeof e&&(r.CA=e)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(e){n="/"+e}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=ms.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Mo(hs,as),ds.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var n=this.Kids[t];n.appearanceStreamContent=e.createAppearanceStream(n.optionName),n.caption=e.getCA()}},ds.prototype.createOption=function(e){var t=new hs;return t.Parent=this,t.optionName=e,this.Kids.push(t),vs.call(this.scope,t),t};var fs=function(){us.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=ms.CheckBox.createAppearanceStream()};Mo(fs,us);var ps=function(){as.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return Boolean(Wo(this.Ff,13))},set:function(e){!0===Boolean(e)?this.Ff=Vo(this.Ff,13):this.Ff=Go(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(Wo(this.Ff,21))},set:function(e){!0===Boolean(e)?this.Ff=Vo(this.Ff,21):this.Ff=Go(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(Wo(this.Ff,23))},set:function(e){!0===Boolean(e)?this.Ff=Vo(this.Ff,23):this.Ff=Go(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return Boolean(Wo(this.Ff,24))},set:function(e){!0===Boolean(e)?this.Ff=Vo(this.Ff,24):this.Ff=Go(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return Boolean(Wo(this.Ff,25))},set:function(e){!0===Boolean(e)?this.Ff=Vo(this.Ff,25):this.Ff=Go(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return Boolean(Wo(this.Ff,26))},set:function(e){!0===Boolean(e)?this.Ff=Vo(this.Ff,26):this.Ff=Go(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Mo(ps,as);var gs=function(){ps.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return Boolean(Wo(this.Ff,14))},set:function(e){!0===Boolean(e)?this.Ff=Vo(this.Ff,14):this.Ff=Go(this.Ff,14)}}),this.password=!0};Mo(gs,ps);var ms={CheckBox:{createAppearanceStream:function(){return{N:{On:ms.CheckBox.YesNormal},D:{On:ms.CheckBox.YesPushDown,Off:ms.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=Ro(e);t.scope=e.scope;var n=[],r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,i=e.scope.__private__.encodeColorString(e.color),a=Yo(e,e.caption);return n.push("0.749023 g"),n.push("0 0 "+Do(ms.internal.getWidth(e))+" "+Do(ms.internal.getHeight(e))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+Do(a.fontSize)+" Tf "+i),n.push("BT"),n.push(a.text),n.push("ET"),n.push("Q"),n.push("EMC"),t.stream=n.join("\n"),t},YesNormal:function(e){var t=Ro(e);t.scope=e.scope;var n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color),i=[],a=ms.internal.getHeight(e),o=ms.internal.getWidth(e),s=Yo(e,e.caption);return i.push("1 g"),i.push("0 0 "+Do(o)+" "+Do(a)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+Do(o-1)+" "+Do(a-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+n+" "+Do(s.fontSize)+" Tf "+r),i.push(s.text),i.push("ET"),i.push("Q"),t.stream=i.join("\n"),t},OffPushDown:function(e){var t=Ro(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Do(ms.internal.getWidth(e))+" "+Do(ms.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join("\n"),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:ms.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=ms.RadioButton.Circle.YesNormal,t.D[e]=ms.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=Ro(e);t.scope=e.scope;var n=[],r=ms.internal.getWidth(e)<=ms.internal.getHeight(e)?ms.internal.getWidth(e)/4:ms.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=ms.internal.Bezier_C,a=Number((r*i).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+To(ms.internal.getWidth(e)/2)+" "+To(ms.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+a+" "+a+" "+r+" 0 "+r+" c"),n.push("-"+a+" "+r+" -"+r+" "+a+" -"+r+" 0 c"),n.push("-"+r+" -"+a+" -"+a+" -"+r+" 0 -"+r+" c"),n.push(a+" -"+r+" "+r+" -"+a+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join("\n"),t},YesPushDown:function(e){var t=Ro(e);t.scope=e.scope;var n=[],r=ms.internal.getWidth(e)<=ms.internal.getHeight(e)?ms.internal.getWidth(e)/4:ms.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),a=Number((i*ms.internal.Bezier_C).toFixed(5)),o=Number((r*ms.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+To(ms.internal.getWidth(e)/2)+" "+To(ms.internal.getHeight(e)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),n.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),n.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),n.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+To(ms.internal.getWidth(e)/2)+" "+To(ms.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),n.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),n.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),n.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join("\n"),t},OffPushDown:function(e){var t=Ro(e);t.scope=e.scope;var n=[],r=ms.internal.getWidth(e)<=ms.internal.getHeight(e)?ms.internal.getWidth(e)/4:ms.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),a=Number((i*ms.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+To(ms.internal.getWidth(e)/2)+" "+To(ms.internal.getHeight(e)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),n.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),n.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),n.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join("\n"),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:ms.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=ms.RadioButton.Cross.YesNormal,t.D[e]=ms.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=Ro(e);t.scope=e.scope;var n=[],r=ms.internal.calculateCross(e);return n.push("q"),n.push("1 1 "+Do(ms.internal.getWidth(e)-2)+" "+Do(ms.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(Do(r.x1.x)+" "+Do(r.x1.y)+" m"),n.push(Do(r.x2.x)+" "+Do(r.x2.y)+" l"),n.push(Do(r.x4.x)+" "+Do(r.x4.y)+" m"),n.push(Do(r.x3.x)+" "+Do(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join("\n"),t},YesPushDown:function(e){var t=Ro(e);t.scope=e.scope;var n=ms.internal.calculateCross(e),r=[];return r.push("0.749023 g"),r.push("0 0 "+Do(ms.internal.getWidth(e))+" "+Do(ms.internal.getHeight(e))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+Do(ms.internal.getWidth(e)-2)+" "+Do(ms.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(Do(n.x1.x)+" "+Do(n.x1.y)+" m"),r.push(Do(n.x2.x)+" "+Do(n.x2.y)+" l"),r.push(Do(n.x4.x)+" "+Do(n.x4.y)+" m"),r.push(Do(n.x3.x)+" "+Do(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join("\n"),t},OffPushDown:function(e){var t=Ro(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Do(ms.internal.getWidth(e))+" "+Do(ms.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join("\n"),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+n}};ms.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=ms.internal.getWidth(e),n=ms.internal.getHeight(e),r=Math.min(t,n);return{x1:{x:(t-r)/2,y:(n-r)/2+r},x2:{x:(t-r)/2+r,y:(n-r)/2},x3:{x:(t-r)/2,y:(n-r)/2},x4:{x:(t-r)/2+r,y:(n-r)/2+r}}}},ms.internal.getWidth=function(e){var t=0;return"object"===(0,Qe.A)(e)&&(t=Qo(e.Rect[2])),t},ms.internal.getHeight=function(e){var t=0;return"object"===(0,Qe.A)(e)&&(t=Qo(e.Rect[3])),t};var vs=Uo.addField=function(e){if(function(e,t){if(t.scope=e,void 0!==e.internal&&(void 0===e.internal.acroformPlugin||!1===e.internal.acroformPlugin.isInitialized)){if(as.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(Zo)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Oo=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new is,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){!function(e){e.internal.events.unsubscribe(e.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete e.internal.acroformPlugin.acroFormDictionaryRoot._eventID,e.internal.acroformPlugin.printedOut=!0}(e)}),e.internal.events.subscribe("buildDocument",function(){!function(e){e.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var t=e.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];r.objId=void 0,r.hasAnnotation&&$o(r,e)}}(e)}),e.internal.events.subscribe("putCatalog",function(){!function(e){if(void 0===e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("putCatalogCallback: Root missing.");e.internal.write("/AcroForm "+e.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")}(e)}),e.internal.events.subscribe("postPutPages",function(t){!function(e,t){var n=!e;for(var r in e||(t.internal.newObjectDeferredBegin(t.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),t.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),e=e||t.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(e.hasOwnProperty(r)){var i=e[r],a=[],o=i.Rect;if(i.Rect&&(i.Rect=qo(i.Rect,t)),t.internal.newObjectDeferredBegin(i.objId,!0),i.DA=ms.createDefaultAppearanceStream(i),"object"===(0,Qe.A)(i)&&"function"==typeof i.getKeyValueListForStream&&(a=i.getKeyValueListForStream()),i.Rect=o,i.hasAppearanceStream&&!i.appearanceStreamContent){var s=Xo(i);a.push({key:"AP",value:"<</N "+s+">>"}),t.internal.acroformPlugin.xForms.push(s)}if(i.appearanceStreamContent){var l="";for(var c in i.appearanceStreamContent)if(i.appearanceStreamContent.hasOwnProperty(c)){var u=i.appearanceStreamContent[c];if(l+="/"+c+" ",l+="<<",Object.keys(u).length>=1||Array.isArray(u)){for(var r in u)if(u.hasOwnProperty(r)){var A=u[r];"function"==typeof A&&(A=A.call(t,i)),l+="/"+r+" "+A+" ",t.internal.acroformPlugin.xForms.indexOf(A)>=0||t.internal.acroformPlugin.xForms.push(A)}}else"function"==typeof(A=u)&&(A=A.call(t,i)),l+="/"+r+" "+A,t.internal.acroformPlugin.xForms.indexOf(A)>=0||t.internal.acroformPlugin.xForms.push(A);l+=">>"}a.push({key:"AP",value:"<<\n"+l+">>"})}t.internal.putStream({additionalKeyValues:a,objectId:i.objId}),t.internal.out("endobj")}n&&function(e,t){for(var n in e)if(e.hasOwnProperty(n)){var r=n,i=e[n];t.internal.newObjectDeferredBegin(i.objId,!0),"object"===(0,Qe.A)(i)&&"function"==typeof i.putStream&&i.putStream(),delete e[r]}}(t.internal.acroformPlugin.xForms,t)}(t,e)}),e.internal.acroformPlugin.isInitialized=!0}}(this,e),!(e instanceof as))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};Uo.AcroFormChoiceField=os,Uo.AcroFormListBox=ss,Uo.AcroFormComboBox=ls,Uo.AcroFormEditBox=cs,Uo.AcroFormButton=us,Uo.AcroFormPushButton=As,Uo.AcroFormRadioButton=ds,Uo.AcroFormCheckBox=fs,Uo.AcroFormTextField=ps,Uo.AcroFormPasswordField=gs,Uo.AcroFormAppearance=ms,Uo.AcroForm={ChoiceField:os,ListBox:ss,ComboBox:ls,EditBox:cs,Button:us,PushButton:As,RadioButton:ds,CheckBox:fs,TextField:ps,PasswordField:gs,Appearance:ms},jo.AcroForm={ChoiceField:os,ListBox:ss,ComboBox:ls,EditBox:cs,Button:us,PushButton:As,RadioButton:ds,CheckBox:fs,TextField:ps,PasswordField:gs,Appearance:ms};jo.AcroForm;function ys(e){return e.reduce(function(e,t,n){return e[t]=n,e},{})}!function(e){var t="addImage_";e.__addimage__={};var n="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=e.__addimage__.getImageFileTypeByImageData=function(e,t){var i,a,o,s,l,c=n;if("RGBA"===(t=t||n)||void 0!==e.data&&e.data instanceof Uint8ClampedArray&&"height"in e&&"width"in e)return"RGBA";if(x(e))for(l in r)for(o=r[l],i=0;i<o.length;i+=1){for(s=!0,a=0;a<o[i].length;a+=1)if(void 0!==o[i][a]&&o[i][a]!==e[a]){s=!1;break}if(!0===s){c=l;break}}else for(l in r)for(o=r[l],i=0;i<o.length;i+=1){for(s=!0,a=0;a<o[i].length;a+=1)if(void 0!==o[i][a]&&o[i][a]!==e.charCodeAt(a)){s=!1;break}if(!0===s){c=l;break}}return c===n&&t!==n&&(c=t),c},a=function e(t){for(var n=this.internal.write,r=this.internal.putStream,i=(0,this.internal.getFilters)();-1!==i.indexOf("FlateEncode");)i.splice(i.indexOf("FlateEncode"),1);t.objectId=this.internal.newObject();var a=[];if(a.push({key:"Type",value:"/XObject"}),a.push({key:"Subtype",value:"/Image"}),a.push({key:"Width",value:t.width}),a.push({key:"Height",value:t.height}),t.colorSpace===m.INDEXED?a.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(t.palette.length/3-1)+" "+("sMask"in t&&void 0!==t.sMask?t.objectId+2:t.objectId+1)+" 0 R]"}):(a.push({key:"ColorSpace",value:"/"+t.colorSpace}),t.colorSpace===m.DEVICE_CMYK&&a.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),a.push({key:"BitsPerComponent",value:t.bitsPerComponent}),"decodeParameters"in t&&void 0!==t.decodeParameters&&a.push({key:"DecodeParms",value:"<<"+t.decodeParameters+">>"}),"transparency"in t&&Array.isArray(t.transparency)&&t.transparency.length>0){for(var o="",s=0,l=t.transparency.length;s<l;s++)o+=t.transparency[s]+" "+t.transparency[s]+" ";a.push({key:"Mask",value:"["+o+"]"})}void 0!==t.sMask&&a.push({key:"SMask",value:t.objectId+1+" 0 R"});var c=void 0!==t.filter?["/"+t.filter]:void 0;if(r({data:t.data,additionalKeyValues:a,alreadyAppliedFilters:c,objectId:t.objectId}),n("endobj"),"sMask"in t&&void 0!==t.sMask){var u,A=null!==(u=t.sMaskBitsPerComponent)&&void 0!==u?u:t.bitsPerComponent,d={width:t.width,height:t.height,colorSpace:"DeviceGray",bitsPerComponent:A,data:t.sMask};"filter"in t&&(d.decodeParameters="/Predictor ".concat(t.predictor," /Colors 1 /BitsPerComponent ").concat(A," /Columns ").concat(t.width),d.filter=t.filter),e.call(this,d)}if(t.colorSpace===m.INDEXED){var h=this.internal.newObject();r({data:C(new Uint8Array(t.palette)),objectId:h}),n("endobj")}},o=function(){var e=this.internal.collections[t+"images"];for(var n in e)a.call(this,e[n])},s=function(){var e,n=this.internal.collections[t+"images"],r=this.internal.write;for(var i in n)r("/I"+(e=n[i]).index,e.objectId,"0","R")},l=function(){this.internal.collections[t+"images"]||(this.internal.collections[t+"images"]={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",s))},c=function(){var e=this.internal.collections[t+"images"];return l.call(this),e},u=function(){return Object.keys(this.internal.collections[t+"images"]).length},A=function(t){return"function"==typeof e["process"+t.toUpperCase()]},d=function(e){return"object"===(0,Qe.A)(e)&&1===e.nodeType},h=function(t,n){if("IMG"===t.nodeName&&t.hasAttribute("src")){var r=""+t.getAttribute("src");if(0===r.indexOf("data:image/"))return oo(unescape(r).split("base64,").pop());var i=e.loadFile(r,!0);if(void 0!==i)return i}if("CANVAS"===t.nodeName){if(0===t.width||0===t.height)throw new Error("Given canvas must have data. Canvas width: "+t.width+", height: "+t.height);var a;switch(n){case"PNG":a="image/png";break;case"WEBP":a="image/webp";break;default:a="image/jpeg"}return oo(t.toDataURL(a,1).split("base64,").pop())}},f=function(e){var n=this.internal.collections[t+"images"];if(n)for(var r in n)if(e===n[r].alias)return n[r]},p=function(e,t,n){return e||t||(e=-96,t=-96),e<0&&(e=-1*n.width*72/e/this.internal.scaleFactor),t<0&&(t=-1*n.height*72/t/this.internal.scaleFactor),0===e&&(e=t*n.width/n.height),0===t&&(t=e*n.height/n.width),[e,t]},g=function(e,t,n,r,i,a){var o=p.call(this,n,r,i),s=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,u=c.call(this);if(n=o[0],r=o[1],u[i.index]=i,a){a*=Math.PI/180;var A=Math.cos(a),d=Math.sin(a),h=function(e){return e.toFixed(4)},f=[h(A),h(d),h(-1*d),h(A),0,0,"cm"]}this.internal.write("q"),a?(this.internal.write([1,"0","0",1,s(e),l(t+r),"cm"].join(" ")),this.internal.write(f.join(" ")),this.internal.write([s(n),"0","0",s(r),"0","0","cm"].join(" "))):this.internal.write([s(n),"0","0",s(r),s(e),l(t+r),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+i.index+" Do"),this.internal.write("Q")},m=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var v=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},y=e.__addimage__.sHashCode=function(e){var t,n,r=0;if("string"==typeof e)for(n=e.length,t=0;t<n;t++)r=(r<<5)-r+e.charCodeAt(t),r|=0;else if(x(e))for(n=e.byteLength/2,t=0;t<n;t++)r=(r<<5)-r+e[t],r|=0;return r},b=e.__addimage__.validateStringAsBase64=function(e){(e=e||"").toString().trim();var t=!0;return 0===e.length&&(t=!1),e.length%4!=0&&(t=!1),!1===/^[A-Za-z0-9+/]+$/.test(e.substr(0,e.length-2))&&(t=!1),!1===/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(e.substr(-2))&&(t=!1),t},w=e.__addimage__.extractImageFromDataUrl=function(e){if(null==e)return null;if(!(e=e.trim()).startsWith("data:"))return null;var t=e.indexOf(",");return t<0?null:e.substring(0,t).trim().endsWith("base64")?e.substring(t+1):null};e.__addimage__.isArrayBuffer=function(e){return e instanceof ArrayBuffer};var x=e.__addimage__.isArrayBufferView=function(e){return e instanceof Int8Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array},B=e.__addimage__.binaryStringToUint8Array=function(e){for(var t=e.length,n=new Uint8Array(t),r=0;r<t;r++)n[r]=e.charCodeAt(r);return n},C=e.__addimage__.arrayBufferToBinaryString=function(e){for(var t="",n=x(e)?e:new Uint8Array(e),r=0;r<n.length;r+=8192)t+=String.fromCharCode.apply(null,n.subarray(r,r+8192));return t};e.addImage=function(){var e,t,r,i,a,o,s,c,u;if("number"==typeof arguments[1]?(t=n,r=arguments[1],i=arguments[2],a=arguments[3],o=arguments[4],s=arguments[5],c=arguments[6],u=arguments[7]):(t=arguments[1],r=arguments[2],i=arguments[3],a=arguments[4],o=arguments[5],s=arguments[6],c=arguments[7],u=arguments[8]),"object"===(0,Qe.A)(e=arguments[0])&&!d(e)&&"imageData"in e){var A=e;e=A.imageData,t=A.format||t||n,r=A.x||r||0,i=A.y||i||0,a=A.w||A.width||a,o=A.h||A.height||o,s=A.alias||s,c=A.compression||c,u=A.rotation||A.angle||u}var h=this.internal.getFilters();if(void 0===c&&-1!==h.indexOf("FlateEncode")&&(c="SLOW"),isNaN(r)||isNaN(i))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var f=N.call(this,e,t,s,c);return g.call(this,r,i,a,o,f,u),this};var N=function(t,r,a,o){var s,l,c;if("string"==typeof t&&i(t)===n){t=unescape(t);var p=k(t,!1);(""!==p||void 0!==(p=e.loadFile(t,!0)))&&(t=p)}if(d(t)&&(t=h(t,r)),r=i(t,r),!A(r))throw new Error("addImage does not support files of type '"+r+"', please ensure that a plugin for '"+r+"' support is added.");if((null==(c=a)||0===c.length)&&(a=function(e){return"string"==typeof e||x(e)?y(e):x(e.data)?y(e.data):null}(t)),(s=f.call(this,a))||(t instanceof Uint8Array||"RGBA"===r||(l=t,t=B(t)),s=this["process"+r.toUpperCase()](t,u.call(this),a,function(t){return t&&"string"==typeof t&&(t=t.toUpperCase()),t in e.image_compression?t:v.NONE}(o),l)),!s)throw new Error("An unknown error occurred whilst processing the image.");return s},k=e.__addimage__.convertBase64ToBinaryString=function(e,t){t="boolean"!=typeof t||t;var n,r="";if("string"==typeof e){var a;n=null!==(a=w(e))&&void 0!==a?a:e;try{r=oo(n)}catch(i){if(t)throw b(n)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+i.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return r};e.getImageProperties=function(t){var r,a,o="";if(d(t)&&(t=h(t)),"string"==typeof t&&i(t)===n&&(""===(o=k(t,!1))&&(o=e.loadFile(t)||""),t=o),a=i(t),!A(a))throw new Error("addImage does not support files of type '"+a+"', please ensure that a plugin for '"+a+"' support is added.");if(t instanceof Uint8Array||(t=B(t)),!(r=this["process"+a.toUpperCase()](t)))throw new Error("An unknown error occurred whilst processing the image");return r.fileType=a,r}}(jo.API),function(e){var t=function(e){if(void 0!==e&&""!=e)return!0};jo.API.events.push(["addPage",function(e){this.internal.getPageInfo(e.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(e){for(var n,r,i,a=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,s=this.internal.getPageInfoByObjId(e.objId),l=e.pageContext.annotations,c=!1,u=0;u<l.length&&!c;u++)switch((n=l[u]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(c=!0);break;case"reference":case"text":case"freetext":c=!0}if(0!=c){this.internal.write("/Annots [");for(var A=0;A<l.length;A++){n=l[A];var d=this.internal.pdfEscape,h=this.internal.getEncryptor(e.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var f=this.internal.newAdditionalObject(),p=this.internal.newAdditionalObject(),g=this.internal.getEncryptor(f.objId),m=n.title||"Note";i="<</Type /Annot /Subtype /Text "+(r="/Rect ["+a(n.bounds.x)+" "+o(n.bounds.y+n.bounds.h)+" "+a(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y)+"] ")+"/Contents ("+d(g(n.contents))+")",i+=" /Popup "+p.objId+" 0 R",i+=" /P "+s.objId+" 0 R",i+=" /T ("+d(g(m))+") >>",f.content=i;var v=f.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(r="/Rect ["+a(n.bounds.x+30)+" "+o(n.bounds.y+n.bounds.h)+" "+a(n.bounds.x+n.bounds.w+30)+" "+o(n.bounds.y)+"] ")+" /Parent "+v,n.open&&(i+=" /Open true"),i+=" >>",p.content=i,this.internal.write(f.objId,"0 R",p.objId,"0 R");break;case"freetext":r="/Rect ["+a(n.bounds.x)+" "+o(n.bounds.y)+" "+a(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y+n.bounds.h)+"] ";var y=n.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+r+"/Contents ("+d(h(n.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+y+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(n.options.name){var b=this.annotations._nameMap[n.options.name];n.options.pageNumber=b.page,n.options.top=b.y}else n.options.top||(n.options.top=0);if(r="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",i="",n.options.url)i="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /A <</S /URI /URI ("+d(h(n.options.url))+") >>";else if(n.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,i+=" /FitV "+n.options.left+"]";break;default:var w=o(n.options.top);n.options.left=n.options.left||0,void 0===n.options.zoom&&(n.options.zoom=0),i+=" /XYZ "+n.options.left+" "+w+" "+n.options.zoom+"]"}""!=i&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),e.createAnnotation=function(e){var t=this.internal.getCurrentPageInfo();switch(e.type){case"link":this.link(e.bounds.x,e.bounds.y,e.bounds.w,e.bounds.h,e);break;case"text":case"freetext":t.pageContext.annotations.push(e)}},e.link=function(e,t,n,r,i){var a=this.internal.getCurrentPageInfo(),o=this.internal.getCoordinateString,s=this.internal.getVerticalCoordinateString;a.pageContext.annotations.push({finalBounds:{x:o(e),y:s(t),w:o(e+n),h:s(t+r)},options:i,type:"link"})},e.textWithLink=function(e,t,n,r){var i,a,o=this.getTextWidth(e),s=this.internal.getLineHeight()/this.internal.scaleFactor;if(void 0!==r.maxWidth){a=r.maxWidth;var l=this.splitTextToSize(e,a).length;i=Math.ceil(s*l)}else a=o,i=s;return this.text(e,t,n,r),n+=.2*s,"center"===r.align&&(t-=o/2),"right"===r.align&&(t-=o),this.link(t,n-s,a,i,r),o},e.getTextWidth=function(e){var t=this.internal.getFontSize();return this.getStringUnitWidth(e)*t/this.internal.scaleFactor}}(jo.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];e.__arabicParser__={};var a=e.__arabicParser__.isInArabicSubstitutionA=function(e){return void 0!==t[e.charCodeAt(0)]},o=e.__arabicParser__.isArabicLetter=function(e){return"string"==typeof e&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(e)},s=e.__arabicParser__.isArabicEndLetter=function(e){return o(e)&&a(e)&&t[e.charCodeAt(0)].length<=2},l=e.__arabicParser__.isArabicAlfLetter=function(e){return o(e)&&i.indexOf(e.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(e){return o(e)&&a(e)&&t[e.charCodeAt(0)].length>=1};var c=e.__arabicParser__.arabicLetterHasFinalForm=function(e){return o(e)&&a(e)&&t[e.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(e){return o(e)&&a(e)&&t[e.charCodeAt(0)].length>=3};var u=e.__arabicParser__.arabicLetterHasMedialForm=function(e){return o(e)&&a(e)&&4==t[e.charCodeAt(0)].length},A=e.__arabicParser__.resolveLigatures=function(e){var t=0,r=n,i="",a=0;for(t=0;t<e.length;t+=1)void 0!==r[e.charCodeAt(t)]?(a++,"number"==typeof(r=r[e.charCodeAt(t)])&&(i+=String.fromCharCode(r),r=n,a=0),t===e.length-1&&(r=n,i+=e.charAt(t-(a-1)),t-=a-1,a=0)):(r=n,i+=e.charAt(t-a),t-=a,a=0);return i};e.__arabicParser__.isArabicDiacritic=function(e){return void 0!==e&&void 0!==r[e.charCodeAt(0)]};var d=e.__arabicParser__.getCorrectForm=function(e,t,n){return o(e)?!1===a(e)?-1:!c(e)||!o(t)&&!o(n)||!o(n)&&s(t)||s(e)&&!o(t)||s(e)&&l(t)||s(e)&&s(t)?0:u(e)&&o(t)&&!s(t)&&o(n)&&c(n)?3:s(e)||!o(n)?1:2:-1},h=function(e){var n=0,r=0,i=0,a="",s="",l="",c=(e=e||"").split("\\s+"),u=[];for(n=0;n<c.length;n+=1){for(u.push(""),r=0;r<c[n].length;r+=1)a=c[n][r],s=c[n][r-1],l=c[n][r+1],o(a)?(i=d(a,s,l),u[n]+=-1!==i?String.fromCharCode(t[a.charCodeAt(0)][i]):a):u[n]+=a;u[n]=A(u[n])}return u.join(" ")},f=e.__arabicParser__.processArabic=e.processArabic=function(){var e,t="string"==typeof arguments[0]?arguments[0]:arguments[0].text,n=[];if(Array.isArray(t)){var r=0;for(n=[],r=0;r<t.length;r+=1)Array.isArray(t[r])?n.push([h(t[r][0]),t[r][1],t[r][2]]):n.push([h(t[r])]);e=n}else e=h(t);return"string"==typeof arguments[0]?e:(arguments[0].text=e,arguments[0])};e.events.push(["preProcessText",f])}(jo.API),jo.API.autoPrint=function(e){var t;return(e=e||{}).variant=e.variant||"non-conform","javascript"===e.variant?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})),this},function(e){var t=function(){var e=void 0;Object.defineProperty(this,"pdf",{get:function(){return e},set:function(t){e=t}});var t=150;Object.defineProperty(this,"width",{get:function(){return t},set:function(e){t=isNaN(e)||!1===Number.isInteger(e)||e<0?150:e,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=t+1)}});var n=300;Object.defineProperty(this,"height",{get:function(){return n},set:function(e){n=isNaN(e)||!1===Number.isInteger(e)||e<0?300:e,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=n+1)}});var r=[];Object.defineProperty(this,"childNodes",{get:function(){return r},set:function(e){r=e}});var i={};Object.defineProperty(this,"style",{get:function(){return i},set:function(e){i=e}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(e,t){var n;if("2d"!==(e=e||"2d"))return null;for(n in t)this.pdf.context2d.hasOwnProperty(n)&&(this.pdf.context2d[n]=t[n]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(jo.API),function(e){var t={left:0,top:0,bottom:0,right:0},n=!1,r=function(){void 0===this.internal.__cell__&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new a,this.internal.__cell__.pages=1},a=function(){var e=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return e},set:function(t){e=t}});var t=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return t},set:function(e){t=e}});var n=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return n},set:function(e){n=e}});var r=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return r},set:function(e){r=e}});var i=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return i},set:function(e){i=e}});var a=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return a},set:function(e){a=e}});var o=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return o},set:function(e){o=e}}),this};a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},a.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(e){return r.call(this),this.internal.__cell__.headerFunction="function"==typeof e?e:void 0,this},e.getTextDimensions=function(e,t){r.call(this);var n=(t=t||{}).fontSize||this.getFontSize(),i=t.font||this.getFont(),a=t.scaleFactor||this.internal.scaleFactor,o=0,s=0,l=0,c=this;if(!Array.isArray(e)&&"string"!=typeof e){if("number"!=typeof e)throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");e=String(e)}var u=t.maxWidth;u>0?"string"==typeof e?e=this.splitTextToSize(e,u):"[object Array]"===Object.prototype.toString.call(e)&&(e=e.reduce(function(e,t){return e.concat(c.splitTextToSize(t,u))},[])):e=Array.isArray(e)?e:[e];for(var A=0;A<e.length;A++)o<(l=this.getStringUnitWidth(e[A],{font:i})*n)&&(o=l);return 0!==o&&(s=e.length),{w:o/=a,h:Math.max((s*n*this.getLineHeightFactor()-n*(this.getLineHeightFactor()-1))/a,0)}},e.cellAddPage=function(){r.call(this),this.addPage();var e=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new a(e.left,e.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=e.cell=function(){var e;e=arguments[0]instanceof a?arguments[0]:new a(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),r.call(this);var i=this.internal.__cell__.lastCell,o=this.internal.__cell__.padding,s=this.internal.__cell__.margins||t,l=this.internal.__cell__.tableHeaderRow,c=this.internal.__cell__.printHeaders;return void 0!==i.lineNumber&&(i.lineNumber===e.lineNumber?(e.x=(i.x||0)+(i.width||0),e.y=i.y||0):i.y+i.height+e.height+s.bottom>this.getPageHeight()?(this.cellAddPage(),e.y=s.top,c&&l&&(this.printHeaderRow(e.lineNumber,!0),e.y+=l[0].height)):e.y=i.y+i.height||e.y),void 0!==e.text[0]&&(this.rect(e.x,e.y,e.width,e.height,!0===n?"FD":void 0),"right"===e.align?this.text(e.text,e.x+e.width-o,e.y+o,{align:"right",baseline:"top"}):"center"===e.align?this.text(e.text,e.x+e.width/2,e.y+o,{align:"center",baseline:"top",maxWidth:e.width-o-o}):this.text(e.text,e.x+o,e.y+o,{align:"left",baseline:"top",maxWidth:e.width-o-o})),this.internal.__cell__.lastCell=e,this};e.table=function(e,n,l,c,u){if(r.call(this),!l)throw new Error("No data for PDF table.");var A,d,h,f,p=[],g=[],m=[],v={},y={},b=[],w=[],x=(u=u||{}).autoSize||!1,B=!1!==u.printHeaders,C=u.css&&void 0!==u.css["font-size"]?16*u.css["font-size"]:u.fontSize||12,N=u.margins||Object.assign({width:this.getPageWidth()},t),k="number"==typeof u.padding?u.padding:3,_=u.headerBackgroundColor||"#c8c8c8",E=u.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=B,this.internal.__cell__.margins=N,this.internal.__cell__.table_font_size=C,this.internal.__cell__.padding=k,this.internal.__cell__.headerBackgroundColor=_,this.internal.__cell__.headerTextColor=E,this.setFontSize(C),null==c)g=p=Object.keys(l[0]),m=p.map(function(){return"left"});else if(Array.isArray(c)&&"object"===(0,Qe.A)(c[0]))for(p=c.map(function(e){return e.name}),g=c.map(function(e){return e.prompt||e.name||""}),m=c.map(function(e){return e.align||"left"}),A=0;A<c.length;A+=1)y[c[A].name]=.7499990551181103*c[A].width;else Array.isArray(c)&&"string"==typeof c[0]&&(g=p=c,m=p.map(function(){return"left"}));if(x||Array.isArray(c)&&"string"==typeof c[0])for(A=0;A<p.length;A+=1){for(v[f=p[A]]=l.map(function(e){return e[f]}),this.setFont(void 0,"bold"),b.push(this.getTextDimensions(g[A],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),d=v[f],this.setFont(void 0,"normal"),h=0;h<d.length;h+=1)b.push(this.getTextDimensions(d[h],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);y[f]=Math.max.apply(null,b)+k+k,b=[]}if(B){var S={};for(A=0;A<p.length;A+=1)S[p[A]]={},S[p[A]].text=g[A],S[p[A]].align=m[A];var F=s.call(this,S,y);w=p.map(function(t){return new a(e,n,y[t],F,S[t].text,void 0,S[t].align)}),this.setTableHeaderRow(w),this.printHeaderRow(1,!1)}var I=c.reduce(function(e,t){return e[t.name]=t.align,e},{});for(A=0;A<l.length;A+=1){"rowStart"in u&&u.rowStart instanceof Function&&u.rowStart({row:A,data:l[A]},this);var j=s.call(this,l[A],y);for(h=0;h<p.length;h+=1){var U=l[A][p[h]];"cellStart"in u&&u.cellStart instanceof Function&&u.cellStart({row:A,col:h,data:U},this),o.call(this,new a(e,n,y[p[h]],j,U,A+2,I[p[h]]))}}return this.internal.__cell__.table_x=e,this.internal.__cell__.table_y=n,this};var s=function(e,t){var n=this.internal.__cell__.padding,r=this.internal.__cell__.table_font_size,i=this.internal.scaleFactor;return Object.keys(e).map(function(r){var i=e[r];return this.splitTextToSize(i.hasOwnProperty("text")?i.text:i,t[r]-n-n)},this).map(function(e){return this.getLineHeightFactor()*e.length*r/i+n+n},this).reduce(function(e,t){return Math.max(e,t)},0)};e.setTableHeaderRow=function(e){r.call(this),this.internal.__cell__.tableHeaderRow=e},e.printHeaderRow=function(e,t){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var i;if(n=!0,"function"==typeof this.internal.__cell__.headerFunction){var s=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new a(s[0],s[1],s[2],s[3],void 0,-1)}this.setFont(void 0,"bold");for(var l=[],c=0;c<this.internal.__cell__.tableHeaderRow.length;c+=1){i=this.internal.__cell__.tableHeaderRow[c].clone(),t&&(i.y=this.internal.__cell__.margins.top||0,l.push(i)),i.lineNumber=e;var u=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,i),this.setTextColor(u)}l.length>0&&this.setTableHeaderRow(l),this.setFont(void 0,"normal"),n=!1}}(jo.API);var bs={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},ws=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],xs=ys(ws),Bs=[100,200,300,400,500,600,700,800,900],Cs=ys(Bs);function Ns(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),n=function(e){return bs[e=e||"normal"]?e:"normal"}(e.style),r=function(e){return e?"number"==typeof e?e>=100&&e<=900&&e%100==0?e:400:/^\d00$/.test(e)?parseInt(e):"bold"===e?700:400:400}(e.weight),i=function(e){return"number"==typeof xs[e=e||"normal"]?e:"normal"}(e.stretch);return{family:t,style:n,weight:r,stretch:i,src:e.src||[],ref:e.ref||{name:t,style:[i,n,r].join(" ")}}}function ks(e,t,n,r){var i;for(i=n;i>=0&&i<t.length;i+=r)if(e[t[i]])return e[t[i]];for(i=n;i>=0&&i<t.length;i-=r)if(e[t[i]])return e[t[i]]}var _s={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Es={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Ss(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function Fs(e){return e.trimLeft()}function Is(e,t){for(var n=0;n<e.length;){if(e.charAt(n)===t)return[e.substring(0,n),e.substring(n+1)];n+=1}return null}function js(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return null===t?null:[t[0],e.substring(t[0].length)]}var Us,Os,Ps,Ls,Ds,Ts,Ms,Qs,Rs=["times"];function Hs(e,t,n,r,i){var a=4,o=Ws;switch(i){case jo.API.image_compression.FAST:a=1,o=Ks;break;case jo.API.image_compression.MEDIUM:a=6,o=Vs;break;case jo.API.image_compression.SLOW:a=9,o=Gs}e=function(e,t,n,r){for(var i,a=e.length/t,o=new Uint8Array(e.length+a),s=[zs,Ks,Ws,Vs,Gs],l=0;l<a;l+=1){var c=l*t,u=e.subarray(c,c+t);if(r)o.set(r(u,n,i),c+l);else{for(var A=s.length,d=[],h=0;h<A;h+=1)d[h]=s[h](u,n,i);var f=Xs(d.concat());o.set(d[f],c+l)}i=u}return o}(e,t,Math.ceil(n*r/8),o);var s=Ct(e,{level:a});return jo.API.__addimage__.arrayBufferToBinaryString(s)}function zs(e){var t=Array.apply([],e);return t.unshift(0),t}function Ks(e,t){var n=e.length,r=[];r[0]=1;for(var i=0;i<n;i+=1){var a=e[i-t]||0;r[i+1]=e[i]-a+256&255}return r}function Ws(e,t,n){var r=e.length,i=[];i[0]=2;for(var a=0;a<r;a+=1){var o=n&&n[a]||0;i[a+1]=e[a]-o+256&255}return i}function Vs(e,t,n){var r=e.length,i=[];i[0]=3;for(var a=0;a<r;a+=1){var o=e[a-t]||0,s=n&&n[a]||0;i[a+1]=e[a]+256-(o+s>>>1)&255}return i}function Gs(e,t,n){var r=e.length,i=[];i[0]=4;for(var a=0;a<r;a+=1){var o=qs(e[a-t]||0,n&&n[a]||0,n&&n[a-t]||0);i[a+1]=e[a]-o+256&255}return i}function qs(e,t,n){if(e===t&&t===n)return e;var r=Math.abs(t-n),i=Math.abs(e-n),a=Math.abs(e+t-n-n);return r<=i&&r<=a?e:i<=a?t:n}function Xs(e){var t=e.map(function(e){return e.reduce(function(e,t){return e+Math.abs(t)},0)});return t.indexOf(Math.min.apply(null,t))}function Ys(e,t,n){var r=t*n,i=Math.floor(r/8),a=16-(r-8*i+n),o=(1<<n)-1;return Zs(e,i)>>a&o}function Js(e,t,n,r){var i=n*r,a=Math.floor(i/8),o=16-(i-8*a+r),s=(1<<r)-1,l=(t&s)<<o;!function(e,t,n){if(t+1<e.byteLength)e.setUint16(t,n,!1);else{var r=n>>8&255;e.setUint8(t,r)}}(e,a,Zs(e,a)&~(s<<o)&65535|l)}function Zs(e,t){return t+1<e.byteLength?e.getUint16(t,!1):e.getUint8(t)<<8}function $s(e){var t=0;if(71!==e[t++]||73!==e[t++]||70!==e[t++]||56!==e[t++]||56!=(e[t++]+1&253)||97!==e[t++])throw new Error("Invalid GIF 87a/89a header.");var n=e[t++]|e[t++]<<8,r=e[t++]|e[t++]<<8,i=e[t++],a=i>>7,o=1<<1+(7&i);e[t++],e[t++];var s=null,l=null;a&&(s=t,l=o,t+=3*o);var c=!0,u=[],A=0,d=null,h=0,f=null;for(this.width=n,this.height=r;c&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(11!==e[t]||78==e[t+1]&&69==e[t+2]&&84==e[t+3]&&83==e[t+4]&&67==e[t+5]&&65==e[t+6]&&80==e[t+7]&&69==e[t+8]&&50==e[t+9]&&46==e[t+10]&&48==e[t+11]&&3==e[t+12]&&1==e[t+13]&&0==e[t+16])t+=14,f=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((_=e[t++])>=0))throw Error("Invalid block size");if(0===_)break;t+=_}break;case 249:if(4!==e[t++]||0!==e[t+4])throw new Error("Invalid graphics extension block.");var p=e[t++];A=e[t++]|e[t++]<<8,d=e[t++],1&p||(d=null),h=p>>2&7,t++;break;case 254:for(;;){if(!((_=e[t++])>=0))throw Error("Invalid block size");if(0===_)break;t+=_}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var g=e[t++]|e[t++]<<8,m=e[t++]|e[t++]<<8,v=e[t++]|e[t++]<<8,y=e[t++]|e[t++]<<8,b=e[t++],w=b>>6&1,x=1<<1+(7&b),B=s,C=l,N=!1;b>>7&&(N=!0,B=t,C=x,t+=3*x);var k=t;for(t++;;){var _;if(!((_=e[t++])>=0))throw Error("Invalid block size");if(0===_)break;t+=_}u.push({x:g,y:m,width:v,height:y,has_local_palette:N,palette_offset:B,palette_size:C,data_offset:k,data_length:t-k,transparent_index:d,interlaced:!!w,delay:A,disposal:h});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return f},this.frameInfo=function(e){if(e<0||e>=u.length)throw new Error("Frame index out of range.");return u[e]},this.decodeAndBlitFrameBGRA=function(t,r){var i=this.frameInfo(t),a=i.width*i.height,o=new Uint8Array(a);el(e,i.data_offset,o,a);var s=i.palette_offset,l=i.transparent_index;null===l&&(l=256);var c=i.width,u=n-c,A=c,d=4*(i.y*n+i.x),h=4*((i.y+i.height)*n+i.x),f=d,p=4*u;!0===i.interlaced&&(p+=4*n*7);for(var g=8,m=0,v=o.length;m<v;++m){var y=o[m];if(0===A&&(A=c,(f+=p)>=h&&(p=4*u+4*n*(g-1),f=d+(c+u)*(g<<1),g>>=1)),y===l)f+=4;else{var b=e[s+3*y],w=e[s+3*y+1],x=e[s+3*y+2];r[f++]=x,r[f++]=w,r[f++]=b,r[f++]=255}--A}},this.decodeAndBlitFrameRGBA=function(t,r){var i=this.frameInfo(t),a=i.width*i.height,o=new Uint8Array(a);el(e,i.data_offset,o,a);var s=i.palette_offset,l=i.transparent_index;null===l&&(l=256);var c=i.width,u=n-c,A=c,d=4*(i.y*n+i.x),h=4*((i.y+i.height)*n+i.x),f=d,p=4*u;!0===i.interlaced&&(p+=4*n*7);for(var g=8,m=0,v=o.length;m<v;++m){var y=o[m];if(0===A&&(A=c,(f+=p)>=h&&(p=4*u+4*n*(g-1),f=d+(c+u)*(g<<1),g>>=1)),y===l)f+=4;else{var b=e[s+3*y],w=e[s+3*y+1],x=e[s+3*y+2];r[f++]=b,r[f++]=w,r[f++]=x,r[f++]=255}--A}}}function el(e,t,n,r){for(var i=e[t++],a=1<<i,o=a+1,s=o+1,l=i+1,c=(1<<l)-1,u=0,A=0,d=0,h=e[t++],f=new Int32Array(4096),p=null;;){for(;u<16&&0!==h;)A|=e[t++]<<u,u+=8,1===h?h=e[t++]:--h;if(u<l)break;var g=A&c;if(A>>=l,u-=l,g!==a){if(g===o)break;for(var m=g<s?g:p,v=0,y=m;y>a;)y=f[y]>>8,++v;var b=y;if(d+v+(m!==g?1:0)>r)return void eo.log("Warning, gif stream longer than expected.");n[d++]=b;var w=d+=v;for(m!==g&&(n[d++]=b),y=m;v--;)y=f[y],n[--w]=255&y,y>>=8;null!==p&&s<4096&&(f[s++]=p<<8|b,s>=c+1&&l<12&&(++l,c=c<<1|1)),p=g}else s=o+1,c=(1<<(l=i+1))-1,p=null}return d!==r&&eo.log("Warning, gif stream shorter than expected."),n}function tl(e){var t,n,r,i,a,o=Math.floor,s=new Array(64),l=new Array(64),c=new Array(64),u=new Array(64),A=new Array(65535),d=new Array(65535),h=new Array(64),f=new Array(64),p=[],g=0,m=7,v=new Array(64),y=new Array(64),b=new Array(64),w=new Array(256),x=new Array(2048),B=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],C=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],N=[0,1,2,3,4,5,6,7,8,9,10,11],k=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],_=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],E=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],S=[0,1,2,3,4,5,6,7,8,9,10,11],F=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],I=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function j(e,t){for(var n=0,r=0,i=new Array,a=1;a<=16;a++){for(var o=1;o<=e[a];o++)i[t[r]]=[],i[t[r]][0]=n,i[t[r]][1]=a,r++,n++;n*=2}return i}function U(e){for(var t=e[0],n=e[1]-1;n>=0;)t&1<<n&&(g|=1<<m),n--,--m<0&&(255==g?(O(255),O(0)):O(g),m=7,g=0)}function O(e){p.push(e)}function P(e){O(e>>8&255),O(255&e)}function L(e,t,n,r,i){for(var a,o=i[0],s=i[240],l=function(e,t){var n,r,i,a,o,s,l,c,u,A,d=0;for(u=0;u<8;++u){n=e[d],r=e[d+1],i=e[d+2],a=e[d+3],o=e[d+4],s=e[d+5],l=e[d+6];var f=n+(c=e[d+7]),p=n-c,g=r+l,m=r-l,v=i+s,y=i-s,b=a+o,w=a-o,x=f+b,B=f-b,C=g+v,N=g-v;e[d]=x+C,e[d+4]=x-C;var k=.707106781*(N+B);e[d+2]=B+k,e[d+6]=B-k;var _=.382683433*((x=w+y)-(N=m+p)),E=.5411961*x+_,S=1.306562965*N+_,F=.707106781*(C=y+m),I=p+F,j=p-F;e[d+5]=j+E,e[d+3]=j-E,e[d+1]=I+S,e[d+7]=I-S,d+=8}for(d=0,u=0;u<8;++u){n=e[d],r=e[d+8],i=e[d+16],a=e[d+24],o=e[d+32],s=e[d+40],l=e[d+48];var U=n+(c=e[d+56]),O=n-c,P=r+l,L=r-l,D=i+s,T=i-s,M=a+o,Q=a-o,R=U+M,H=U-M,z=P+D,K=P-D;e[d]=R+z,e[d+32]=R-z;var W=.707106781*(K+H);e[d+16]=H+W,e[d+48]=H-W;var V=.382683433*((R=Q+T)-(K=L+O)),G=.5411961*R+V,q=1.306562965*K+V,X=.707106781*(z=T+L),Y=O+X,J=O-X;e[d+40]=J+G,e[d+24]=J-G,e[d+8]=Y+q,e[d+56]=Y-q,d++}for(u=0;u<64;++u)A=e[u]*t[u],h[u]=A>0?A+.5|0:A-.5|0;return h}(e,t),c=0;c<64;++c)f[B[c]]=l[c];var u=f[0]-n;n=f[0],0==u?U(r[0]):(U(r[d[a=32767+u]]),U(A[a]));for(var p=63;p>0&&0==f[p];)p--;if(0==p)return U(o),n;for(var g,m=1;m<=p;){for(var v=m;0==f[m]&&m<=p;)++m;var y=m-v;if(y>=16){g=y>>4;for(var b=1;b<=g;++b)U(s);y&=15}a=32767+f[m],U(i[(y<<4)+d[a]]),U(A[a]),m++}return 63!=p&&U(o),n}function D(e){e=Math.min(Math.max(e,1),100),a!=e&&(function(e){for(var t=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],n=0;n<64;n++){var r=o((t[n]*e+50)/100);r=Math.min(Math.max(r,1),255),s[B[n]]=r}for(var i=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],a=0;a<64;a++){var A=o((i[a]*e+50)/100);A=Math.min(Math.max(A,1),255),l[B[a]]=A}for(var d=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],h=0,f=0;f<8;f++)for(var p=0;p<8;p++)c[h]=1/(s[B[h]]*d[f]*d[p]*8),u[h]=1/(l[B[h]]*d[f]*d[p]*8),h++}(e<50?Math.floor(5e3/e):Math.floor(200-2*e)),a=e)}this.encode=function(e,a){a&&D(a),p=new Array,g=0,m=7,P(65496),P(65504),P(16),O(74),O(70),O(73),O(70),O(0),O(1),O(1),O(0),P(1),P(1),O(0),O(0),function(){P(65499),P(132),O(0);for(var e=0;e<64;e++)O(s[e]);O(1);for(var t=0;t<64;t++)O(l[t])}(),function(e,t){P(65472),P(17),O(8),P(t),P(e),O(3),O(1),O(17),O(0),O(2),O(17),O(1),O(3),O(17),O(1)}(e.width,e.height),function(){P(65476),P(418),O(0);for(var e=0;e<16;e++)O(C[e+1]);for(var t=0;t<=11;t++)O(N[t]);O(16);for(var n=0;n<16;n++)O(k[n+1]);for(var r=0;r<=161;r++)O(_[r]);O(1);for(var i=0;i<16;i++)O(E[i+1]);for(var a=0;a<=11;a++)O(S[a]);O(17);for(var o=0;o<16;o++)O(F[o+1]);for(var s=0;s<=161;s++)O(I[s])}(),P(65498),P(12),O(3),O(1),O(0),O(2),O(17),O(3),O(17),O(0),O(63),O(0);var o=0,A=0,d=0;g=0,m=7,this.encode.displayName="_encode_";for(var h,f,w,B,j,T,M,Q,R,H=e.data,z=e.width,K=e.height,W=4*z,V=0;V<K;){for(h=0;h<W;){for(j=W*V+h,M=-1,Q=0,R=0;R<64;R++)T=j+(Q=R>>3)*W+(M=4*(7&R)),V+Q>=K&&(T-=W*(V+1+Q-K)),h+M>=W&&(T-=h+M-W+4),f=H[T++],w=H[T++],B=H[T++],v[R]=(x[f]+x[w+256|0]+x[B+512|0]>>16)-128,y[R]=(x[f+768|0]+x[w+1024|0]+x[B+1280|0]>>16)-128,b[R]=(x[f+1280|0]+x[w+1536|0]+x[B+1792|0]>>16)-128;o=L(v,c,o,t,r),A=L(y,u,A,n,i),d=L(b,u,d,n,i),h+=32}V+=8}if(m>=0){var G=[];G[1]=m+1,G[0]=(1<<m+1)-1,U(G)}return P(65497),new Uint8Array(p)},e=e||50,function(){for(var e=String.fromCharCode,t=0;t<256;t++)w[t]=e(t)}(),t=j(C,N),n=j(E,S),r=j(k,_),i=j(F,I),function(){for(var e=1,t=2,n=1;n<=15;n++){for(var r=e;r<t;r++)d[32767+r]=n,A[32767+r]=[],A[32767+r][1]=n,A[32767+r][0]=r;for(var i=-(t-1);i<=-e;i++)d[32767+i]=n,A[32767+i]=[],A[32767+i][1]=n,A[32767+i][0]=t-1+i;e<<=1,t<<=1}}(),function(){for(var e=0;e<256;e++)x[e]=19595*e,x[e+256|0]=38470*e,x[e+512|0]=7471*e+32768,x[e+768|0]=-11059*e,x[e+1024|0]=-21709*e,x[e+1280|0]=32768*e+8421375,x[e+1536|0]=-27439*e,x[e+1792|0]=-5329*e}(),D(e)}function nl(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,-1===["BM","BA","CI","CP","IC","PT"].indexOf(this.flag))throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function rl(e){function t(e){if(!e)throw Error("assert :P")}function n(e,t,n){for(var r=0;4>r;r++)if(e[t+r]!=n.charCodeAt(r))return!0;return!1}function r(e,t,n,r,i){for(var a=0;a<i;a++)e[t+a]=n[r+a]}function i(e,t,n,r){for(var i=0;i<r;i++)e[t+i]=n}function a(e){return new Int32Array(e)}function o(e,t){for(var n=[],r=0;r<e;r++)n.push(new t);return n}function s(e,t){var n=[];return function e(n,r,i){for(var a=i[r],o=0;o<a&&(n.push(i.length>r+1?[]:new t),!(i.length<r+1));o++)e(n[o],r+1,i)}(n,0,e),n}var l=function(){var e=this;function l(e,t){for(var n=1<<t-1>>>0;e&n;)n>>>=1;return n?(e&n-1)+n:e}function c(e,n,r,i,a){t(!(i%r));do{e[n+(i-=r)]=a}while(0<i)}function u(e,n,r,i,o){if(t(2328>=o),512>=o)var s=a(512);else if(null==(s=a(o)))return 0;return function(e,n,r,i,o,s){var u,d,h=n,f=1<<r,p=a(16),g=a(16);for(t(0!=o),t(null!=i),t(null!=e),t(0<r),d=0;d<o;++d){if(15<i[d])return 0;++p[i[d]]}if(p[0]==o)return 0;for(g[1]=0,u=1;15>u;++u){if(p[u]>1<<u)return 0;g[u+1]=g[u]+p[u]}for(d=0;d<o;++d)u=i[d],0<i[d]&&(s[g[u]++]=d);if(1==g[15])return(i=new A).g=0,i.value=s[0],c(e,h,1,f,i),f;var m,v=-1,y=f-1,b=0,w=1,x=1,B=1<<r;for(d=0,u=1,o=2;u<=r;++u,o<<=1){if(w+=x<<=1,0>(x-=p[u]))return 0;for(;0<p[u];--p[u])(i=new A).g=u,i.value=s[d++],c(e,h+b,o,B,i),b=l(b,u)}for(u=r+1,o=2;15>=u;++u,o<<=1){if(w+=x<<=1,0>(x-=p[u]))return 0;for(;0<p[u];--p[u]){if(i=new A,(b&y)!=v){for(h+=B,m=1<<(v=u)-r;15>v&&!(0>=(m-=p[v]));)++v,m<<=1;f+=B=1<<(m=v-r),e[n+(v=b&y)].g=m+r,e[n+v].value=h-n-v}i.g=u-r,i.value=s[d++],c(e,h+(b>>r),o,B,i),b=l(b,u)}}return w!=2*g[15]-1?0:f}(e,n,r,i,o,s)}function A(){this.value=this.g=0}function d(){this.value=this.g=0}function h(){this.G=o(5,A),this.H=a(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(Tn,d)}function f(e,n,r,i){t(null!=e),t(null!=n),t(2147483648>i),e.Ca=254,e.I=0,e.b=-8,e.Ka=0,e.oa=n,e.pa=r,e.Jd=n,e.Yc=r+i,e.Zc=4<=i?r+i-4+1:r,k(e)}function p(e,t){for(var n=0;0<t--;)n|=E(e,128)<<t;return n}function g(e,t){var n=p(e,t);return _(e)?-n:n}function m(e,n,r,i){var a,o=0;for(t(null!=e),t(null!=n),t(4294967288>i),e.Sb=i,e.Ra=0,e.u=0,e.h=0,4<i&&(i=4),a=0;a<i;++a)o+=n[r+a]<<8*a;e.Ra=o,e.bb=i,e.oa=n,e.pa=r}function v(e){for(;8<=e.u&&e.bb<e.Sb;)e.Ra>>>=8,e.Ra+=e.oa[e.pa+e.bb]<<Rn-8>>>0,++e.bb,e.u-=8;B(e)&&(e.h=1,e.u=0)}function y(e,n){if(t(0<=n),!e.h&&n<=Qn){var r=x(e)&Mn[n];return e.u+=n,v(e),r}return e.h=1,e.u=0}function b(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function w(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function x(e){return e.Ra>>>(e.u&Rn-1)>>>0}function B(e){return t(e.bb<=e.Sb),e.h||e.bb==e.Sb&&e.u>Rn}function C(e,t){e.u=t,e.h=B(e)}function N(e){e.u>=Hn&&(t(e.u>=Hn),v(e))}function k(e){t(null!=e&&null!=e.oa),e.pa<e.Zc?(e.I=(e.oa[e.pa++]|e.I<<8)>>>0,e.b+=8):(t(null!=e&&null!=e.oa),e.pa<e.Yc?(e.b+=8,e.I=e.oa[e.pa++]|e.I<<8):e.Ka?e.b=0:(e.I<<=8,e.b+=8,e.Ka=1))}function _(e){return p(e,1)}function E(e,t){var n=e.Ca;0>e.b&&k(e);var r=e.b,i=n*t>>>8,a=(e.I>>>r>i)+0;for(a?(n-=i,e.I-=i+1<<r>>>0):n=i+1,r=n,i=0;256<=r;)i+=8,r>>=8;return r=7^i+zn[r],e.b-=r,e.Ca=(n<<r)-1,a}function S(e,t,n){e[t+0]=n>>24&255,e[t+1]=n>>16&255,e[t+2]=n>>8&255,e[t+3]=255&n}function F(e,t){return e[t+0]|e[t+1]<<8}function I(e,t){return F(e,t)|e[t+2]<<16}function j(e,t){return F(e,t)|F(e,t+2)<<16}function U(e,n){var r=1<<n;return t(null!=e),t(0<n),e.X=a(r),null==e.X?0:(e.Mb=32-n,e.Xa=n,1)}function O(e,n){t(null!=e),t(null!=n),t(e.Xa==n.Xa),r(n.X,0,e.X,0,1<<n.Xa)}function P(){this.X=[],this.Xa=this.Mb=0}function L(e,n,r,i){t(null!=r),t(null!=i);var a=r[0],o=i[0];return 0==a&&(a=(e*o+n/2)/n),0==o&&(o=(n*a+e/2)/e),0>=a||0>=o?0:(r[0]=a,i[0]=o,1)}function D(e,t){return e+(1<<t)-1>>>t}function T(e,t){return((4278255360&e)+(4278255360&t)>>>0&4278255360)+((16711935&e)+(16711935&t)>>>0&16711935)>>>0}function M(t,n){e[n]=function(n,r,i,a,o,s,l){var c;for(c=0;c<o;++c){var u=e[t](s[l+c-1],i,a+c);s[l+c]=T(n[r+c],u)}}}function Q(){this.ud=this.hd=this.jd=0}function R(e,t){return((4278124286&(e^t))>>>1)+(e&t)>>>0}function H(e){return 0<=e&&256>e?e:0>e?0:255<e?255:void 0}function z(e,t){return H(e+(e-t+.5>>1))}function K(e,t,n){return Math.abs(t-n)-Math.abs(e-n)}function W(e,t,n,r,i,a,o){for(r=a[o-1],n=0;n<i;++n)a[o+n]=r=T(e[t+n],r)}function V(e,t,n,r,i){var a;for(a=0;a<n;++a){var o=e[t+a],s=o>>8&255,l=16711935&(l=(l=16711935&o)+((s<<16)+s));r[i+a]=(4278255360&o)+l>>>0}}function G(e,t){t.jd=255&e,t.hd=e>>8&255,t.ud=e>>16&255}function q(e,t,n,r,i,a){var o;for(o=0;o<r;++o){var s=t[n+o],l=s>>>8,c=s,u=255&(u=(u=s>>>16)+((e.jd<<24>>24)*(l<<24>>24)>>>5));c=255&(c=(c+=(e.hd<<24>>24)*(l<<24>>24)>>>5)+((e.ud<<24>>24)*(u<<24>>24)>>>5)),i[a+o]=(4278255360&s)+(u<<16)+c}}function X(t,n,r,i,a){e[n]=function(e,t,n,r,o,s,l,c,u){for(r=l;r<c;++r)for(l=0;l<u;++l)o[s++]=a(n[i(e[t++])])},e[t]=function(t,n,o,s,l,c,u){var A=8>>t.b,d=t.Ea,h=t.K[0],f=t.w;if(8>A)for(t=(1<<t.b)-1,f=(1<<A)-1;n<o;++n){var p,g=0;for(p=0;p<d;++p)p&t||(g=i(s[l++])),c[u++]=a(h[g&f]),g>>=A}else e["VP8LMapColor"+r](s,l,h,f,c,u,n,o,d)}}function Y(e,t,n,r,i){for(n=t+n;t<n;){var a=e[t++];r[i++]=a>>16&255,r[i++]=a>>8&255,r[i++]=255&a}}function J(e,t,n,r,i){for(n=t+n;t<n;){var a=e[t++];r[i++]=a>>16&255,r[i++]=a>>8&255,r[i++]=255&a,r[i++]=a>>24&255}}function Z(e,t,n,r,i){for(n=t+n;t<n;){var a=(o=e[t++])>>16&240|o>>12&15,o=240&o|o>>28&15;r[i++]=a,r[i++]=o}}function $(e,t,n,r,i){for(n=t+n;t<n;){var a=(o=e[t++])>>16&248|o>>13&7,o=o>>5&224|o>>3&31;r[i++]=a,r[i++]=o}}function ee(e,t,n,r,i){for(n=t+n;t<n;){var a=e[t++];r[i++]=255&a,r[i++]=a>>8&255,r[i++]=a>>16&255}}function te(e,t,n,i,a,o){if(0==o)for(n=t+n;t<n;)S(i,((o=e[t++])[0]>>24|o[1]>>8&65280|o[2]<<8&16711680|o[3]<<24)>>>0),a+=32;else r(i,a,e,t,n)}function ne(t,n){e[n][0]=e[t+"0"],e[n][1]=e[t+"1"],e[n][2]=e[t+"2"],e[n][3]=e[t+"3"],e[n][4]=e[t+"4"],e[n][5]=e[t+"5"],e[n][6]=e[t+"6"],e[n][7]=e[t+"7"],e[n][8]=e[t+"8"],e[n][9]=e[t+"9"],e[n][10]=e[t+"10"],e[n][11]=e[t+"11"],e[n][12]=e[t+"12"],e[n][13]=e[t+"13"],e[n][14]=e[t+"0"],e[n][15]=e[t+"0"]}function re(e){return e==Hr||e==zr||e==Kr||e==Wr}function ie(){this.eb=[],this.size=this.A=this.fb=0}function ae(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function oe(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new ie,this.f.kb=new ae,this.sd=null}function se(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function le(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function ce(e){return alert("todo:WebPSamplerProcessPlane"),e.T}function ue(e,t){var n=e.T,i=t.ba.f.RGBA,a=i.eb,o=i.fb+e.ka*i.A,s=gi[t.ba.S],l=e.y,c=e.O,u=e.f,A=e.N,d=e.ea,h=e.W,f=t.cc,p=t.dc,g=t.Mc,m=t.Nc,v=e.ka,y=e.ka+e.T,b=e.U,w=b+1>>1;for(0==v?s(l,c,null,null,u,A,d,h,u,A,d,h,a,o,null,null,b):(s(t.ec,t.fc,l,c,f,p,g,m,u,A,d,h,a,o-i.A,a,o,b),++n);v+2<y;v+=2)f=u,p=A,g=d,m=h,A+=e.Rc,h+=e.Rc,o+=2*i.A,s(l,(c+=2*e.fa)-e.fa,l,c,f,p,g,m,u,A,d,h,a,o-i.A,a,o,b);return c+=e.fa,e.j+y<e.o?(r(t.ec,t.fc,l,c,b),r(t.cc,t.dc,u,A,w),r(t.Mc,t.Nc,d,h,w),n--):1&y||s(l,c,null,null,u,A,d,h,u,A,d,h,a,o+i.A,null,null,b),n}function Ae(e,n,r){var i=e.F,a=[e.J];if(null!=i){var o=e.U,s=n.ba.S,l=s==Mr||s==Kr;n=n.ba.f.RGBA;var c=[0],u=e.ka;c[0]=e.T,e.Kb&&(0==u?--c[0]:(--u,a[0]-=e.width),e.j+e.ka+e.T==e.o&&(c[0]=e.o-e.j-u));var A=n.eb;u=n.fb+u*n.A,e=Cr(i,a[0],e.width,o,c,A,u+(l?0:3),n.A),t(r==c),e&&re(s)&&xr(A,u,l,o,c,n.A)}return 0}function de(e){var t=e.ma,n=t.ba.S,r=11>n,i=n==Lr||n==Tr||n==Mr||n==Qr||12==n||re(n);if(t.memory=null,t.Ib=null,t.Jb=null,t.Nd=null,!Pn(t.Oa,e,i?11:12))return 0;if(i&&re(n)&&vn(),e.da)alert("todo:use_scaling");else{if(r){if(t.Ib=ce,e.Kb){if(n=e.U+1>>1,t.memory=a(e.U+2*n),null==t.memory)return 0;t.ec=t.memory,t.fc=0,t.cc=t.ec,t.dc=t.fc+e.U,t.Mc=t.cc,t.Nc=t.dc+n,t.Ib=ue,vn()}}else alert("todo:EmitYUV");i&&(t.Jb=Ae,r&&gn())}if(r&&!Fi){for(e=0;256>e;++e)Ii[e]=89858*(e-128)+Ni>>Ci,Oi[e]=-22014*(e-128)+Ni,Ui[e]=-45773*(e-128),ji[e]=113618*(e-128)+Ni>>Ci;for(e=ki;e<_i;++e)t=76283*(e-16)+Ni>>Ci,Pi[e-ki]=We(t,255),Li[e-ki]=We(t+8>>4,15);Fi=1}return 1}function he(e){var n=e.ma,r=e.U,i=e.T;return t(!(1&e.ka)),0>=r||0>=i?0:(r=n.Ib(e,n),null!=n.Jb&&n.Jb(e,n,r),n.Dc+=r,1)}function fe(e){e.ma.memory=null}function pe(e,t,n,r){return 47!=y(e,8)?0:(t[0]=y(e,14)+1,n[0]=y(e,14)+1,r[0]=y(e,1),0!=y(e,3)?0:!e.h)}function ge(e,t){if(4>e)return e+1;var n=e-2>>1;return(2+(1&e)<<n)+y(t,n)+1}function me(e,t){return 120<t?t-120:1<=(n=((n=Jr[t-1])>>4)*e+(8-(15&n)))?n:1;var n}function ve(e,t,n){var r=x(n),i=e[t+=255&r].g-8;return 0<i&&(C(n,n.u+8),r=x(n),t+=e[t].value,t+=r&(1<<i)-1),C(n,n.u+e[t].g),e[t].value}function ye(e,n,r){return r.g+=e.g,r.value+=e.value<<n>>>0,t(8>=r.g),e.g}function be(e,n,r){var i=e.xc;return t((n=0==i?0:e.vc[e.md*(r>>i)+(n>>i)])<e.Wb),e.Ya[n]}function we(e,n,i,a){var o=e.ab,s=e.c*n,l=e.C;n=l+n;var c=i,u=a;for(a=e.Ta,i=e.Ua;0<o--;){var A=e.gc[o],d=l,h=n,f=c,p=u,g=(u=a,c=i,A.Ea);switch(t(d<h),t(h<=A.nc),A.hc){case 2:Vn(f,p,(h-d)*g,u,c);break;case 0:var m=d,v=h,y=u,b=c,w=(k=A).Ea;0==m&&(Kn(f,p,null,null,1,y,b),W(f,p+1,0,0,w-1,y,b+1),p+=w,b+=w,++m);for(var x=1<<k.b,B=x-1,C=D(w,k.b),N=k.K,k=k.w+(m>>k.b)*C;m<v;){var _=N,E=k,S=1;for(Wn(f,p,y,b-w,1,y,b);S<w;){var F=(S&~B)+x;F>w&&(F=w),(0,Jn[_[E++]>>8&15])(f,p+ +S,y,b+S-w,F-S,y,b+S),S=F}p+=w,b+=w,++m&B||(k+=C)}h!=A.nc&&r(u,c-g,u,c+(h-d-1)*g,g);break;case 1:for(g=f,v=p,w=(f=A.Ea)-(b=f&~(y=(p=1<<A.b)-1)),m=D(f,A.b),x=A.K,A=A.w+(d>>A.b)*m;d<h;){for(B=x,C=A,N=new Q,k=v+b,_=v+f;v<k;)G(B[C++],N),Zn(N,g,v,p,u,c),v+=p,c+=p;v<_&&(G(B[C++],N),Zn(N,g,v,w,u,c),v+=w,c+=w),++d&y||(A+=m)}break;case 3:if(f==u&&p==c&&0<A.b){for(v=u,f=g=c+(h-d)*g-(b=(h-d)*D(A.Ea,A.b)),p=u,y=c,m=[],b=(w=b)-1;0<=b;--b)m[b]=p[y+b];for(b=w-1;0<=b;--b)v[f+b]=m[b];Gn(A,d,h,u,g,u,c)}else Gn(A,d,h,f,p,u,c)}c=a,u=i}u!=i&&r(a,i,c,u,s)}function xe(e,n){var r=e.V,i=e.Ba+e.c*e.C,a=n-e.C;if(t(n<=e.l.o),t(16>=a),0<a){var o=e.l,s=e.Ta,l=e.Ua,c=o.width;if(we(e,a,r,i),a=l=[l],t((r=e.C)<(i=n)),t(o.v<o.va),i>o.o&&(i=o.o),r<o.j){var u=o.j-r;r=o.j,a[0]+=u*c}if(r>=i?r=0:(a[0]+=4*o.v,o.ka=r-o.j,o.U=o.va-o.v,o.T=i-r,r=1),r){if(l=l[0],11>(r=e.ca).S){var A=r.f.RGBA,d=(i=r.S,a=o.U,o=o.T,u=A.eb,A.A),h=o;for(A=A.fb+e.Ma*A.A;0<h--;){var f=s,p=l,g=a,m=u,v=A;switch(i){case Pr:$n(f,p,g,m,v);break;case Lr:er(f,p,g,m,v);break;case Hr:er(f,p,g,m,v),xr(m,v,0,g,1,0);break;case Dr:rr(f,p,g,m,v);break;case Tr:te(f,p,g,m,v,1);break;case zr:te(f,p,g,m,v,1),xr(m,v,0,g,1,0);break;case Mr:te(f,p,g,m,v,0);break;case Kr:te(f,p,g,m,v,0),xr(m,v,1,g,1,0);break;case Qr:tr(f,p,g,m,v);break;case Wr:tr(f,p,g,m,v),Br(m,v,g,1,0);break;case Rr:nr(f,p,g,m,v);break;default:t(0)}l+=c,A+=d}e.Ma+=o}else alert("todo:EmitRescaledRowsYUVA");t(e.Ma<=r.height)}}e.C=n,t(e.C<=e.i)}function Be(e){var t;if(0<e.ua)return 0;for(t=0;t<e.Wb;++t){var n=e.Ya[t].G,r=e.Ya[t].H;if(0<n[1][r[1]+0].g||0<n[2][r[2]+0].g||0<n[3][r[3]+0].g)return 0}return 1}function Ce(e,n,r,i,a,o){if(0!=e.Z){var s=e.qd,l=e.rd;for(t(null!=pi[e.Z]);n<r;++n)pi[e.Z](s,l,i,a,i,a,o),s=i,l=a,a+=o;e.qd=s,e.rd=l}}function Ne(e,n){var r=e.l.ma,i=0==r.Z||1==r.Z?e.l.j:e.C;if(i=e.C<i?i:e.C,t(n<=e.l.o),n>i){var a=e.l.width,o=r.ca,s=r.tb+a*i,l=e.V,c=e.Ba+e.c*i,u=e.gc;t(1==e.ab),t(3==u[0].hc),Xn(u[0],i,n,l,c,o,s),Ce(r,i,n,o,s,a)}e.C=e.Ma=n}function ke(e,n,r,i,a,o,s){var l=e.$/i,c=e.$%i,u=e.m,A=e.s,d=r+e.$,h=d;a=r+i*a;var f=r+i*o,p=280+A.ua,g=e.Pb?l:16777216,m=0<A.ua?A.Wa:null,v=A.wc,y=d<f?be(A,c,l):null;t(e.C<o),t(f<=a);var b=!1;e:for(;;){for(;b||d<f;){var w=0;if(l>=g){var k=d-r;t((g=e).Pb),g.wd=g.m,g.xd=k,0<g.s.ua&&O(g.s.Wa,g.s.vb),g=l+$r}if(c&v||(y=be(A,c,l)),t(null!=y),y.Qb&&(n[d]=y.qb,b=!0),!b)if(N(u),y.jc){w=u,k=n;var _=d,E=y.pd[x(w)&Tn-1];t(y.jc),256>E.g?(C(w,w.u+E.g),k[_]=E.value,w=0):(C(w,w.u+E.g-256),t(256<=E.value),w=E.value),0==w&&(b=!0)}else w=ve(y.G[0],y.H[0],u);if(u.h)break;if(b||256>w){if(!b)if(y.nd)n[d]=(y.qb|w<<8)>>>0;else{if(N(u),b=ve(y.G[1],y.H[1],u),N(u),k=ve(y.G[2],y.H[2],u),_=ve(y.G[3],y.H[3],u),u.h)break;n[d]=(_<<24|b<<16|w<<8|k)>>>0}if(b=!1,++d,++c>=i&&(c=0,++l,null!=s&&l<=o&&!(l%16)&&s(e,l),null!=m))for(;h<d;)w=n[h++],m.X[(506832829*w&4294967295)>>>m.Mb]=w}else if(280>w){if(w=ge(w-256,u),k=ve(y.G[4],y.H[4],u),N(u),k=me(i,k=ge(k,u)),u.h)break;if(d-r<k||a-d<w)break e;for(_=0;_<w;++_)n[d+_]=n[d+_-k];for(d+=w,c+=w;c>=i;)c-=i,++l,null!=s&&l<=o&&!(l%16)&&s(e,l);if(t(d<=a),c&v&&(y=be(A,c,l)),null!=m)for(;h<d;)w=n[h++],m.X[(506832829*w&4294967295)>>>m.Mb]=w}else{if(!(w<p))break e;for(b=w-280,t(null!=m);h<d;)w=n[h++],m.X[(506832829*w&4294967295)>>>m.Mb]=w;w=d,t(!(b>>>(k=m).Xa)),n[w]=k.X[b],b=!0}b||t(u.h==B(u))}if(e.Pb&&u.h&&d<a)t(e.m.h),e.a=5,e.m=e.wd,e.$=e.xd,0<e.s.ua&&O(e.s.vb,e.s.Wa);else{if(u.h)break e;null!=s&&s(e,l>o?o:l),e.a=0,e.$=d-r}return 1}return e.a=3,0}function _e(e){t(null!=e),e.vc=null,e.yc=null,e.Ya=null;var n=e.Wa;null!=n&&(n.X=null),e.vb=null,t(null!=e)}function Ee(){var t=new on;return null==t?null:(t.a=0,t.xb=fi,ne("Predictor","VP8LPredictors"),ne("Predictor","VP8LPredictors_C"),ne("PredictorAdd","VP8LPredictorsAdd"),ne("PredictorAdd","VP8LPredictorsAdd_C"),Vn=V,Zn=q,$n=Y,er=J,tr=Z,nr=$,rr=ee,e.VP8LMapColor32b=qn,e.VP8LMapColor8b=Yn,t)}function Se(e,n,r,s,l){var c=1,d=[e],f=[n],p=s.m,g=s.s,m=null,v=0;e:for(;;){if(r)for(;c&&y(p,1);){var b=d,w=f,B=s,k=1,_=B.m,E=B.gc[B.ab],S=y(_,2);if(B.Oc&1<<S)c=0;else{switch(B.Oc|=1<<S,E.hc=S,E.Ea=b[0],E.nc=w[0],E.K=[null],++B.ab,t(4>=B.ab),S){case 0:case 1:E.b=y(_,3)+2,k=Se(D(E.Ea,E.b),D(E.nc,E.b),0,B,E.K),E.K=E.K[0];break;case 3:var F,I=y(_,8)+1,j=16<I?0:4<I?1:2<I?2:3;if(b[0]=D(E.Ea,j),E.b=j,F=k=Se(I,1,0,B,E.K)){var O,P=I,L=E,M=1<<(8>>L.b),Q=a(M);if(null==Q)F=0;else{var R=L.K[0],H=L.w;for(Q[0]=L.K[0][0],O=1;O<1*P;++O)Q[O]=T(R[H+O],Q[O-1]);for(;O<4*M;++O)Q[O]=0;L.K[0]=null,L.K[0]=Q,F=1}}k=F;break;case 2:break;default:t(0)}c=k}}if(d=d[0],f=f[0],c&&y(p,1)&&!(c=1<=(v=y(p,4))&&11>=v)){s.a=3;break e}var z;if(z=c)t:{var K,W,V,G=s,q=d,X=f,Y=v,J=r,Z=G.m,$=G.s,ee=[null],te=1,ne=0,re=Zr[Y];n:for(;;){if(J&&y(Z,1)){var ie=y(Z,3)+2,ae=D(q,ie),oe=D(X,ie),se=ae*oe;if(!Se(ae,oe,0,G,ee))break n;for(ee=ee[0],$.xc=ie,K=0;K<se;++K){var le=ee[K]>>8&65535;ee[K]=le,le>=te&&(te=le+1)}}if(Z.h)break n;for(W=0;5>W;++W){var ce=qr[W];!W&&0<Y&&(ce+=1<<Y),ne<ce&&(ne=ce)}var ue=o(te*re,A),Ae=te,de=o(Ae,h);if(null==de)var he=null;else t(65536>=Ae),he=de;var fe=a(ne);if(null==he||null==fe||null==ue){G.a=1;break n}var pe=ue;for(K=V=0;K<te;++K){var ge=he[K],me=ge.G,ve=ge.H,be=0,we=1,xe=0;for(W=0;5>W;++W){ce=qr[W],me[W]=pe,ve[W]=V,!W&&0<Y&&(ce+=1<<Y);r:{var Be,Ce=ce,Ne=G,Ee=fe,Fe=pe,Ie=V,je=0,Ue=Ne.m,Oe=y(Ue,1);if(i(Ee,0,0,Ce),Oe){var Pe=y(Ue,1)+1,Le=y(Ue,1),De=y(Ue,0==Le?1:8);Ee[De]=1,2==Pe&&(Ee[De=y(Ue,8)]=1);var Te=1}else{var Me=a(19),Qe=y(Ue,4)+4;if(19<Qe){Ne.a=3;var Re=0;break r}for(Be=0;Be<Qe;++Be)Me[Yr[Be]]=y(Ue,3);var He=void 0,ze=void 0,Ke=Ne,We=Me,Ve=Ce,Ge=Ee,qe=0,Xe=Ke.m,Ye=8,Je=o(128,A);i:for(;u(Je,0,7,We,19);){if(y(Xe,1)){var Ze=2+2*y(Xe,3);if((He=2+y(Xe,Ze))>Ve)break i}else He=Ve;for(ze=0;ze<Ve&&He--;){N(Xe);var $e=Je[0+(127&x(Xe))];C(Xe,Xe.u+$e.g);var et=$e.value;if(16>et)Ge[ze++]=et,0!=et&&(Ye=et);else{var tt=16==et,nt=et-16,rt=Gr[nt],it=y(Xe,Vr[nt])+rt;if(ze+it>Ve)break i;for(var at=tt?Ye:0;0<it--;)Ge[ze++]=at}}qe=1;break i}qe||(Ke.a=3),Te=qe}(Te=Te&&!Ue.h)&&(je=u(Fe,Ie,8,Ee,Ce)),Te&&0!=je?Re=je:(Ne.a=3,Re=0)}if(0==Re)break n;if(we&&1==Xr[W]&&(we=0==pe[V].g),be+=pe[V].g,V+=Re,3>=W){var ot,st=fe[0];for(ot=1;ot<ce;++ot)fe[ot]>st&&(st=fe[ot]);xe+=st}}if(ge.nd=we,ge.Qb=0,we&&(ge.qb=(me[3][ve[3]+0].value<<24|me[1][ve[1]+0].value<<16|me[2][ve[2]+0].value)>>>0,0==be&&256>me[0][ve[0]+0].value&&(ge.Qb=1,ge.qb+=me[0][ve[0]+0].value<<8)),ge.jc=!ge.Qb&&6>xe,ge.jc){var lt,ct=ge;for(lt=0;lt<Tn;++lt){var ut=lt,At=ct.pd[ut],dt=ct.G[0][ct.H[0]+ut];256<=dt.value?(At.g=dt.g+256,At.value=dt.value):(At.g=0,At.value=0,ut>>=ye(dt,8,At),ut>>=ye(ct.G[1][ct.H[1]+ut],16,At),ut>>=ye(ct.G[2][ct.H[2]+ut],0,At),ye(ct.G[3][ct.H[3]+ut],24,At))}}}$.vc=ee,$.Wb=te,$.Ya=he,$.yc=ue,z=1;break t}z=0}if(!(c=z)){s.a=3;break e}if(0<v){if(g.ua=1<<v,!U(g.Wa,v)){s.a=1,c=0;break e}}else g.ua=0;var ht=s,ft=d,pt=f,gt=ht.s,mt=gt.xc;if(ht.c=ft,ht.i=pt,gt.md=D(ft,mt),gt.wc=0==mt?-1:(1<<mt)-1,r){s.xb=hi;break e}if(null==(m=a(d*f))){s.a=1,c=0;break e}c=(c=ke(s,m,0,d,f,f,null))&&!p.h;break e}return c?(null!=l?l[0]=m:(t(null==m),t(r)),s.$=0,r||_e(g)):_e(g),c}function Fe(e,n){var r=e.c*e.i,i=r+n+16*n;return t(e.c<=n),e.V=a(i),null==e.V?(e.Ta=null,e.Ua=0,e.a=1,0):(e.Ta=e.V,e.Ua=e.Ba+r+n,1)}function Ie(e,n){var r=e.C,i=n-r,a=e.V,o=e.Ba+e.c*r;for(t(n<=e.l.o);0<i;){var s=16<i?16:i,l=e.l.ma,c=e.l.width,u=c*s,A=l.ca,d=l.tb+c*r,h=e.Ta,f=e.Ua;we(e,s,a,o),Nr(h,f,A,d,u),Ce(l,r,r+s,A,d,c),i-=s,a+=s*e.c,r+=s}t(r==n),e.C=e.Ma=n}function je(){this.ub=this.yd=this.td=this.Rb=0}function Ue(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Oe(){this.Fb=this.Bb=this.Cb=0,this.Zb=a(4),this.Lb=a(4)}function Pe(){this.Yb=function(){var e=[];return function e(t,n,r){for(var i=r[n],a=0;a<i&&(t.push(r.length>n+1?[]:0),!(r.length<n+1));a++)e(t[a],n+1,r)}(e,0,[3,11]),e}()}function Le(){this.jb=a(3),this.Wc=s([4,8],Pe),this.Xc=s([4,17],Pe)}function De(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new a(4),this.od=new a(4)}function Te(){this.ld=this.La=this.dd=this.tc=0}function Me(){this.Na=this.la=0}function Qe(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Re(){this.ad=a(384),this.Za=0,this.Ob=a(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function He(){this.uc=this.M=this.Nb=0,this.wa=Array(new Te),this.Y=0,this.ya=Array(new Re),this.aa=0,this.l=new Ve}function ze(){this.y=a(16),this.f=a(8),this.ea=a(8)}function Ke(){this.cb=this.a=0,this.sc="",this.m=new b,this.Od=new je,this.Kc=new Ue,this.ed=new De,this.Qa=new Oe,this.Ic=this.$c=this.Aa=0,this.D=new He,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,b),this.ia=0,this.pb=o(4,Qe),this.Pa=new Le,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new ze),this.Hd=0,this.rb=Array(new Me),this.sb=0,this.wa=Array(new Te),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Re),this.L=this.aa=0,this.gd=s([4,2],Te),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function We(e,t){return 0>e?0:e>t?t:e}function Ve(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Ge(){var e=new Ke;return null!=e&&(e.a=0,e.sc="OK",e.cb=0,e.Xb=0,ni||(ni=Je)),e}function qe(e,t,n){return 0==e.a&&(e.a=t,e.sc=n,e.cb=0),0}function Xe(e,t,n){return 3<=n&&157==e[t+0]&&1==e[t+1]&&42==e[t+2]}function Ye(e,n){if(null==e)return 0;if(e.a=0,e.sc="OK",null==n)return qe(e,2,"null VP8Io passed to VP8GetHeaders()");var r=n.data,a=n.w,o=n.ha;if(4>o)return qe(e,7,"Truncated header.");var s=r[a+0]|r[a+1]<<8|r[a+2]<<16,l=e.Od;if(l.Rb=!(1&s),l.td=s>>1&7,l.yd=s>>4&1,l.ub=s>>5,3<l.td)return qe(e,3,"Incorrect keyframe parameters.");if(!l.yd)return qe(e,4,"Frame not displayable.");a+=3,o-=3;var c=e.Kc;if(l.Rb){if(7>o)return qe(e,7,"cannot parse picture header");if(!Xe(r,a,o))return qe(e,3,"Bad code word");c.c=16383&(r[a+4]<<8|r[a+3]),c.Td=r[a+4]>>6,c.i=16383&(r[a+6]<<8|r[a+5]),c.Ud=r[a+6]>>6,a+=7,o-=7,e.za=c.c+15>>4,e.Ub=c.i+15>>4,n.width=c.c,n.height=c.i,n.Da=0,n.j=0,n.v=0,n.va=n.width,n.o=n.height,n.da=0,n.ib=n.width,n.hb=n.height,n.U=n.width,n.T=n.height,i((s=e.Pa).jb,0,255,s.jb.length),t(null!=(s=e.Qa)),s.Cb=0,s.Bb=0,s.Fb=1,i(s.Zb,0,0,s.Zb.length),i(s.Lb,0,0,s.Lb)}if(l.ub>o)return qe(e,7,"bad partition length");f(s=e.m,r,a,l.ub),a+=l.ub,o-=l.ub,l.Rb&&(c.Ld=_(s),c.Kd=_(s)),c=e.Qa;var u,A=e.Pa;if(t(null!=s),t(null!=c),c.Cb=_(s),c.Cb){if(c.Bb=_(s),_(s)){for(c.Fb=_(s),u=0;4>u;++u)c.Zb[u]=_(s)?g(s,7):0;for(u=0;4>u;++u)c.Lb[u]=_(s)?g(s,6):0}if(c.Bb)for(u=0;3>u;++u)A.jb[u]=_(s)?p(s,8):255}else c.Bb=0;if(s.Ka)return qe(e,3,"cannot parse segment header");if((c=e.ed).zd=_(s),c.Tb=p(s,6),c.wb=p(s,3),c.Pc=_(s),c.Pc&&_(s)){for(A=0;4>A;++A)_(s)&&(c.vd[A]=g(s,6));for(A=0;4>A;++A)_(s)&&(c.od[A]=g(s,6))}if(e.L=0==c.Tb?0:c.zd?1:2,s.Ka)return qe(e,3,"cannot parse filter header");var d=o;if(o=u=a,a=u+d,c=d,e.Xb=(1<<p(e.m,2))-1,d<3*(A=e.Xb))r=7;else{for(u+=3*A,c-=3*A,d=0;d<A;++d){var h=r[o+0]|r[o+1]<<8|r[o+2]<<16;h>c&&(h=c),f(e.Jc[+d],r,u,h),u+=h,c-=h,o+=3}f(e.Jc[+A],r,u,c),r=u<a?0:5}if(0!=r)return qe(e,r,"cannot parse partitions");for(r=p(u=e.m,7),o=_(u)?g(u,4):0,a=_(u)?g(u,4):0,c=_(u)?g(u,4):0,A=_(u)?g(u,4):0,u=_(u)?g(u,4):0,d=e.Qa,h=0;4>h;++h){if(d.Cb){var m=d.Zb[h];d.Fb||(m+=r)}else{if(0<h){e.pb[h]=e.pb[0];continue}m=r}var v=e.pb[h];v.Sc[0]=ei[We(m+o,127)],v.Sc[1]=ti[We(m+0,127)],v.Eb[0]=2*ei[We(m+a,127)],v.Eb[1]=101581*ti[We(m+c,127)]>>16,8>v.Eb[1]&&(v.Eb[1]=8),v.Qc[0]=ei[We(m+A,117)],v.Qc[1]=ti[We(m+u,127)],v.lc=m+u}if(!l.Rb)return qe(e,4,"Not a key frame.");for(_(s),l=e.Pa,r=0;4>r;++r){for(o=0;8>o;++o)for(a=0;3>a;++a)for(c=0;11>c;++c)A=E(s,li[r][o][a][c])?p(s,8):oi[r][o][a][c],l.Wc[r][o].Yb[a][c]=A;for(o=0;17>o;++o)l.Xc[r][o]=l.Wc[r][ci[o]]}return e.kc=_(s),e.kc&&(e.Bd=p(s,8)),e.cb=1}function Je(e,t,n,r,i,a,o){var s=t[i].Yb[n];for(n=0;16>i;++i){if(!E(e,s[n+0]))return i;for(;!E(e,s[n+1]);)if(s=t[++i].Yb[0],n=0,16==i)return 16;var l=t[i+1].Yb;if(E(e,s[n+2])){var c=e,u=0;if(E(c,(d=s)[(A=n)+3]))if(E(c,d[A+6])){for(s=0,A=2*(u=E(c,d[A+8]))+(d=E(c,d[A+9+u])),u=0,d=ri[A];d[s];++s)u+=u+E(c,d[s]);u+=3+(8<<A)}else E(c,d[A+7])?(u=7+2*E(c,165),u+=E(c,145)):u=5+E(c,159);else u=E(c,d[A+4])?3+E(c,d[A+5]):2;s=l[2]}else u=1,s=l[1];l=o+ii[i],0>(c=e).b&&k(c);var A,d=c.b,h=(A=c.Ca>>1)-(c.I>>d)>>31;--c.b,c.Ca+=h,c.Ca|=1,c.I-=(A+1&h)<<d,a[l]=((u^h)-h)*r[(0<i)+0]}return 16}function Ze(e){var t=e.rb[e.sb-1];t.la=0,t.Na=0,i(e.zc,0,0,e.zc.length),e.ja=0}function $e(e,t,n,r,i){i=e[t+n+32*r]+(i>>3),e[t+n+32*r]=-256&i?0>i?0:255:i}function et(e,t,n,r,i,a){$e(e,t,0,n,r+i),$e(e,t,1,n,r+a),$e(e,t,2,n,r-a),$e(e,t,3,n,r-i)}function tt(e){return(20091*e>>16)+e}function nt(e,t,n,r){var i,o=0,s=a(16);for(i=0;4>i;++i){var l=e[t+0]+e[t+8],c=e[t+0]-e[t+8],u=(35468*e[t+4]>>16)-tt(e[t+12]),A=tt(e[t+4])+(35468*e[t+12]>>16);s[o+0]=l+A,s[o+1]=c+u,s[o+2]=c-u,s[o+3]=l-A,o+=4,t++}for(i=o=0;4>i;++i)l=(e=s[o+0]+4)+s[o+8],c=e-s[o+8],u=(35468*s[o+4]>>16)-tt(s[o+12]),$e(n,r,0,0,l+(A=tt(s[o+4])+(35468*s[o+12]>>16))),$e(n,r,1,0,c+u),$e(n,r,2,0,c-u),$e(n,r,3,0,l-A),o++,r+=32}function rt(e,t,n,r){var i=e[t+0]+4,a=35468*e[t+4]>>16,o=tt(e[t+4]),s=35468*e[t+1]>>16;et(n,r,0,i+o,e=tt(e[t+1]),s),et(n,r,1,i+a,e,s),et(n,r,2,i-a,e,s),et(n,r,3,i-o,e,s)}function it(e,t,n,r,i){nt(e,t,n,r),i&&nt(e,t+16,n,r+4)}function at(e,t,n,r){ar(e,t+0,n,r,1),ar(e,t+32,n,r+128,1)}function ot(e,t,n,r){var i;for(e=e[t+0]+4,i=0;4>i;++i)for(t=0;4>t;++t)$e(n,r,t,i,e)}function st(e,t,n,r){e[t+0]&&lr(e,t+0,n,r),e[t+16]&&lr(e,t+16,n,r+4),e[t+32]&&lr(e,t+32,n,r+128),e[t+48]&&lr(e,t+48,n,r+128+4)}function lt(e,t,n,r){var i,o=a(16);for(i=0;4>i;++i){var s=e[t+0+i]+e[t+12+i],l=e[t+4+i]+e[t+8+i],c=e[t+4+i]-e[t+8+i],u=e[t+0+i]-e[t+12+i];o[0+i]=s+l,o[8+i]=s-l,o[4+i]=u+c,o[12+i]=u-c}for(i=0;4>i;++i)s=(e=o[0+4*i]+3)+o[3+4*i],l=o[1+4*i]+o[2+4*i],c=o[1+4*i]-o[2+4*i],u=e-o[3+4*i],n[r+0]=s+l>>3,n[r+16]=u+c>>3,n[r+32]=s-l>>3,n[r+48]=u-c>>3,r+=64}function ct(e,t,n){var r,i=t-32,a=Ur,o=255-e[i-1];for(r=0;r<n;++r){var s,l=a,c=o+e[t-1];for(s=0;s<n;++s)e[t+s]=l[c+e[i+s]];t+=32}}function ut(e,t){ct(e,t,4)}function At(e,t){ct(e,t,8)}function dt(e,t){ct(e,t,16)}function ht(e,t){var n;for(n=0;16>n;++n)r(e,t+32*n,e,t-32,16)}function ft(e,t){var n;for(n=16;0<n;--n)i(e,t,e[t-1],16),t+=32}function pt(e,t,n){var r;for(r=0;16>r;++r)i(t,n+32*r,e,16)}function gt(e,t){var n,r=16;for(n=0;16>n;++n)r+=e[t-1+32*n]+e[t+n-32];pt(r>>5,e,t)}function mt(e,t){var n,r=8;for(n=0;16>n;++n)r+=e[t-1+32*n];pt(r>>4,e,t)}function vt(e,t){var n,r=8;for(n=0;16>n;++n)r+=e[t+n-32];pt(r>>4,e,t)}function yt(e,t){pt(128,e,t)}function bt(e,t,n){return e+2*t+n+2>>2}function wt(e,t){var n,i=t-32;for(i=new Uint8Array([bt(e[i-1],e[i+0],e[i+1]),bt(e[i+0],e[i+1],e[i+2]),bt(e[i+1],e[i+2],e[i+3]),bt(e[i+2],e[i+3],e[i+4])]),n=0;4>n;++n)r(e,t+32*n,i,0,i.length)}function xt(e,t){var n=e[t-1],r=e[t-1+32],i=e[t-1+64],a=e[t-1+96];S(e,t+0,16843009*bt(e[t-1-32],n,r)),S(e,t+32,16843009*bt(n,r,i)),S(e,t+64,16843009*bt(r,i,a)),S(e,t+96,16843009*bt(i,a,a))}function Bt(e,t){var n,r=4;for(n=0;4>n;++n)r+=e[t+n-32]+e[t-1+32*n];for(r>>=3,n=0;4>n;++n)i(e,t+32*n,r,4)}function Ct(e,t){var n=e[t-1+0],r=e[t-1+32],i=e[t-1+64],a=e[t-1-32],o=e[t+0-32],s=e[t+1-32],l=e[t+2-32],c=e[t+3-32];e[t+0+96]=bt(r,i,e[t-1+96]),e[t+1+96]=e[t+0+64]=bt(n,r,i),e[t+2+96]=e[t+1+64]=e[t+0+32]=bt(a,n,r),e[t+3+96]=e[t+2+64]=e[t+1+32]=e[t+0+0]=bt(o,a,n),e[t+3+64]=e[t+2+32]=e[t+1+0]=bt(s,o,a),e[t+3+32]=e[t+2+0]=bt(l,s,o),e[t+3+0]=bt(c,l,s)}function Nt(e,t){var n=e[t+1-32],r=e[t+2-32],i=e[t+3-32],a=e[t+4-32],o=e[t+5-32],s=e[t+6-32],l=e[t+7-32];e[t+0+0]=bt(e[t+0-32],n,r),e[t+1+0]=e[t+0+32]=bt(n,r,i),e[t+2+0]=e[t+1+32]=e[t+0+64]=bt(r,i,a),e[t+3+0]=e[t+2+32]=e[t+1+64]=e[t+0+96]=bt(i,a,o),e[t+3+32]=e[t+2+64]=e[t+1+96]=bt(a,o,s),e[t+3+64]=e[t+2+96]=bt(o,s,l),e[t+3+96]=bt(s,l,l)}function kt(e,t){var n=e[t-1+0],r=e[t-1+32],i=e[t-1+64],a=e[t-1-32],o=e[t+0-32],s=e[t+1-32],l=e[t+2-32],c=e[t+3-32];e[t+0+0]=e[t+1+64]=a+o+1>>1,e[t+1+0]=e[t+2+64]=o+s+1>>1,e[t+2+0]=e[t+3+64]=s+l+1>>1,e[t+3+0]=l+c+1>>1,e[t+0+96]=bt(i,r,n),e[t+0+64]=bt(r,n,a),e[t+0+32]=e[t+1+96]=bt(n,a,o),e[t+1+32]=e[t+2+96]=bt(a,o,s),e[t+2+32]=e[t+3+96]=bt(o,s,l),e[t+3+32]=bt(s,l,c)}function _t(e,t){var n=e[t+0-32],r=e[t+1-32],i=e[t+2-32],a=e[t+3-32],o=e[t+4-32],s=e[t+5-32],l=e[t+6-32],c=e[t+7-32];e[t+0+0]=n+r+1>>1,e[t+1+0]=e[t+0+64]=r+i+1>>1,e[t+2+0]=e[t+1+64]=i+a+1>>1,e[t+3+0]=e[t+2+64]=a+o+1>>1,e[t+0+32]=bt(n,r,i),e[t+1+32]=e[t+0+96]=bt(r,i,a),e[t+2+32]=e[t+1+96]=bt(i,a,o),e[t+3+32]=e[t+2+96]=bt(a,o,s),e[t+3+64]=bt(o,s,l),e[t+3+96]=bt(s,l,c)}function Et(e,t){var n=e[t-1+0],r=e[t-1+32],i=e[t-1+64],a=e[t-1+96];e[t+0+0]=n+r+1>>1,e[t+2+0]=e[t+0+32]=r+i+1>>1,e[t+2+32]=e[t+0+64]=i+a+1>>1,e[t+1+0]=bt(n,r,i),e[t+3+0]=e[t+1+32]=bt(r,i,a),e[t+3+32]=e[t+1+64]=bt(i,a,a),e[t+3+64]=e[t+2+64]=e[t+0+96]=e[t+1+96]=e[t+2+96]=e[t+3+96]=a}function St(e,t){var n=e[t-1+0],r=e[t-1+32],i=e[t-1+64],a=e[t-1+96],o=e[t-1-32],s=e[t+0-32],l=e[t+1-32],c=e[t+2-32];e[t+0+0]=e[t+2+32]=n+o+1>>1,e[t+0+32]=e[t+2+64]=r+n+1>>1,e[t+0+64]=e[t+2+96]=i+r+1>>1,e[t+0+96]=a+i+1>>1,e[t+3+0]=bt(s,l,c),e[t+2+0]=bt(o,s,l),e[t+1+0]=e[t+3+32]=bt(n,o,s),e[t+1+32]=e[t+3+64]=bt(r,n,o),e[t+1+64]=e[t+3+96]=bt(i,r,n),e[t+1+96]=bt(a,i,r)}function Ft(e,t){var n;for(n=0;8>n;++n)r(e,t+32*n,e,t-32,8)}function It(e,t){var n;for(n=0;8>n;++n)i(e,t,e[t-1],8),t+=32}function jt(e,t,n){var r;for(r=0;8>r;++r)i(t,n+32*r,e,8)}function Ut(e,t){var n,r=8;for(n=0;8>n;++n)r+=e[t+n-32]+e[t-1+32*n];jt(r>>4,e,t)}function Ot(e,t){var n,r=4;for(n=0;8>n;++n)r+=e[t+n-32];jt(r>>3,e,t)}function Pt(e,t){var n,r=4;for(n=0;8>n;++n)r+=e[t-1+32*n];jt(r>>3,e,t)}function Lt(e,t){jt(128,e,t)}function Dt(e,t,n){var r=e[t-n],i=e[t+0],a=3*(i-r)+Ir[1020+e[t-2*n]-e[t+n]],o=jr[112+(a+4>>3)];e[t-n]=Ur[255+r+jr[112+(a+3>>3)]],e[t+0]=Ur[255+i-o]}function Tt(e,t,n,r){var i=e[t+0],a=e[t+n];return Or[255+e[t-2*n]-e[t-n]]>r||Or[255+a-i]>r}function Mt(e,t,n,r){return 4*Or[255+e[t-n]-e[t+0]]+Or[255+e[t-2*n]-e[t+n]]<=r}function Qt(e,t,n,r,i){var a=e[t-3*n],o=e[t-2*n],s=e[t-n],l=e[t+0],c=e[t+n],u=e[t+2*n],A=e[t+3*n];return 4*Or[255+s-l]+Or[255+o-c]>r?0:Or[255+e[t-4*n]-a]<=i&&Or[255+a-o]<=i&&Or[255+o-s]<=i&&Or[255+A-u]<=i&&Or[255+u-c]<=i&&Or[255+c-l]<=i}function Rt(e,t,n,r){var i=2*r+1;for(r=0;16>r;++r)Mt(e,t+r,n,i)&&Dt(e,t+r,n)}function Ht(e,t,n,r){var i=2*r+1;for(r=0;16>r;++r)Mt(e,t+r*n,1,i)&&Dt(e,t+r*n,1)}function zt(e,t,n,r){var i;for(i=3;0<i;--i)Rt(e,t+=4*n,n,r)}function Kt(e,t,n,r){var i;for(i=3;0<i;--i)Ht(e,t+=4,n,r)}function Wt(e,t,n,r,i,a,o,s){for(a=2*a+1;0<i--;){if(Qt(e,t,n,a,o))if(Tt(e,t,n,s))Dt(e,t,n);else{var l=e,c=t,u=n,A=l[c-2*u],d=l[c-u],h=l[c+0],f=l[c+u],p=l[c+2*u],g=27*(v=Ir[1020+3*(h-d)+Ir[1020+A-f]])+63>>7,m=18*v+63>>7,v=9*v+63>>7;l[c-3*u]=Ur[255+l[c-3*u]+v],l[c-2*u]=Ur[255+A+m],l[c-u]=Ur[255+d+g],l[c+0]=Ur[255+h-g],l[c+u]=Ur[255+f-m],l[c+2*u]=Ur[255+p-v]}t+=r}}function Vt(e,t,n,r,i,a,o,s){for(a=2*a+1;0<i--;){if(Qt(e,t,n,a,o))if(Tt(e,t,n,s))Dt(e,t,n);else{var l=e,c=t,u=n,A=l[c-u],d=l[c+0],h=l[c+u],f=jr[112+(4+(p=3*(d-A))>>3)],p=jr[112+(p+3>>3)],g=f+1>>1;l[c-2*u]=Ur[255+l[c-2*u]+g],l[c-u]=Ur[255+A+p],l[c+0]=Ur[255+d-f],l[c+u]=Ur[255+h-g]}t+=r}}function Gt(e,t,n,r,i,a){Wt(e,t,n,1,16,r,i,a)}function qt(e,t,n,r,i,a){Wt(e,t,1,n,16,r,i,a)}function Xt(e,t,n,r,i,a){var o;for(o=3;0<o;--o)Vt(e,t+=4*n,n,1,16,r,i,a)}function Yt(e,t,n,r,i,a){var o;for(o=3;0<o;--o)Vt(e,t+=4,1,n,16,r,i,a)}function Jt(e,t,n,r,i,a,o,s){Wt(e,t,i,1,8,a,o,s),Wt(n,r,i,1,8,a,o,s)}function Zt(e,t,n,r,i,a,o,s){Wt(e,t,1,i,8,a,o,s),Wt(n,r,1,i,8,a,o,s)}function $t(e,t,n,r,i,a,o,s){Vt(e,t+4*i,i,1,8,a,o,s),Vt(n,r+4*i,i,1,8,a,o,s)}function en(e,t,n,r,i,a,o,s){Vt(e,t+4,1,i,8,a,o,s),Vt(n,r+4,1,i,8,a,o,s)}function tn(){this.ba=new oe,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new le,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function nn(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function rn(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function an(){this.ua=0,this.Wa=new P,this.vb=new P,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new h,this.yc=new A}function on(){this.xb=this.a=0,this.l=new Ve,this.ca=new oe,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new w,this.Pb=0,this.wd=new w,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new an,this.ab=0,this.gc=o(4,rn),this.Oc=0}function sn(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Ve,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function ln(e,t,n,r,i,a,o){for(e=null==e?0:e[t+0],t=0;t<o;++t)i[a+t]=e+n[r+t]&255,e=i[a+t]}function cn(e,t,n,r,i,a,o){var s;if(null==e)ln(null,null,n,r,i,a,o);else for(s=0;s<o;++s)i[a+s]=e[t+s]+n[r+s]&255}function un(e,t,n,r,i,a,o){if(null==e)ln(null,null,n,r,i,a,o);else{var s,l=e[t+0],c=l,u=l;for(s=0;s<o;++s)c=u+(l=e[t+s])-c,u=n[r+s]+(-256&c?0>c?0:255:c)&255,c=l,i[a+s]=u}}function An(e,n,i,o){var s=n.width,l=n.o;if(t(null!=e&&null!=n),0>i||0>=o||i+o>l)return null;if(!e.Cc){if(null==e.ga){var c;if(e.ga=new sn,(c=null==e.ga)||(c=n.width*n.o,t(0==e.Gb.length),e.Gb=a(c),e.Uc=0,null==e.Gb?c=0:(e.mb=e.Gb,e.nb=e.Uc,e.rc=null,c=1),c=!c),!c){c=e.ga;var u=e.Fa,A=e.P,d=e.qc,h=e.mb,f=e.nb,p=A+1,g=d-1,v=c.l;if(t(null!=u&&null!=h&&null!=n),pi[0]=null,pi[1]=ln,pi[2]=cn,pi[3]=un,c.ca=h,c.tb=f,c.c=n.width,c.i=n.height,t(0<c.c&&0<c.i),1>=d)n=0;else if(c.$a=3&u[A+0],c.Z=u[A+0]>>2&3,c.Lc=u[A+0]>>4&3,A=u[A+0]>>6&3,0>c.$a||1<c.$a||4<=c.Z||1<c.Lc||A)n=0;else if(v.put=he,v.ac=de,v.bc=fe,v.ma=c,v.width=n.width,v.height=n.height,v.Da=n.Da,v.v=n.v,v.va=n.va,v.j=n.j,v.o=n.o,c.$a)e:{t(1==c.$a),n=Ee();t:for(;;){if(null==n){n=0;break e}if(t(null!=c),c.mc=n,n.c=c.c,n.i=c.i,n.l=c.l,n.l.ma=c,n.l.width=c.c,n.l.height=c.i,n.a=0,m(n.m,u,p,g),!Se(c.c,c.i,1,n,null))break t;if(1==n.ab&&3==n.gc[0].hc&&Be(n.s)?(c.ic=1,u=n.c*n.i,n.Ta=null,n.Ua=0,n.V=a(u),n.Ba=0,null==n.V?(n.a=1,n=0):n=1):(c.ic=0,n=Fe(n,c.c)),!n)break t;n=1;break e}c.mc=null,n=0}else n=g>=c.c*c.i;c=!n}if(c)return null;1!=e.ga.Lc?e.Ga=0:o=l-i}t(null!=e.ga),t(i+o<=l);e:{if(n=(u=e.ga).c,l=u.l.o,0==u.$a){if(p=e.rc,g=e.Vc,v=e.Fa,A=e.P+1+i*n,d=e.mb,h=e.nb+i*n,t(A<=e.P+e.qc),0!=u.Z)for(t(null!=pi[u.Z]),c=0;c<o;++c)pi[u.Z](p,g,v,A,d,h,n),p=d,g=h,h+=n,A+=n;else for(c=0;c<o;++c)r(d,h,v,A,n),p=d,g=h,h+=n,A+=n;e.rc=p,e.Vc=g}else{if(t(null!=u.mc),n=i+o,t(null!=(c=u.mc)),t(n<=c.i),c.C>=n)n=1;else if(u.ic||gn(),u.ic){u=c.V,p=c.Ba,g=c.c;var y=c.i,b=(v=1,A=c.$/g,d=c.$%g,h=c.m,f=c.s,c.$),w=g*y,x=g*n,C=f.wc,k=b<x?be(f,d,A):null;t(b<=w),t(n<=y),t(Be(f));t:for(;;){for(;!h.h&&b<x;){if(d&C||(k=be(f,d,A)),t(null!=k),N(h),256>(y=ve(k.G[0],k.H[0],h)))u[p+b]=y,++b,++d>=g&&(d=0,++A<=n&&!(A%16)&&Ne(c,A));else{if(!(280>y)){v=0;break t}y=ge(y-256,h);var _,E=ve(k.G[4],k.H[4],h);if(N(h),!(b>=(E=me(g,E=ge(E,h)))&&w-b>=y)){v=0;break t}for(_=0;_<y;++_)u[p+b+_]=u[p+b+_-E];for(b+=y,d+=y;d>=g;)d-=g,++A<=n&&!(A%16)&&Ne(c,A);b<x&&d&C&&(k=be(f,d,A))}t(h.h==B(h))}Ne(c,A>n?n:A);break t}!v||h.h&&b<w?(v=0,c.a=h.h?5:3):c.$=b,n=v}else n=ke(c,c.V,c.Ba,c.c,c.i,n,Ie);if(!n){o=0;break e}}i+o>=l&&(e.Cc=1),o=1}if(!o)return null;if(e.Cc&&(null!=(o=e.ga)&&(o.mc=null),e.ga=null,0<e.Ga))return alert("todo:WebPDequantizeLevels"),null}return e.nb+i*s}function dn(e,t,n,r,i,a){for(;0<i--;){var o,s=e,l=t+(n?1:0),c=e,u=t+(n?0:3);for(o=0;o<r;++o){var A=c[u+4*o];255!=A&&(A*=32897,s[l+4*o+0]=s[l+4*o+0]*A>>23,s[l+4*o+1]=s[l+4*o+1]*A>>23,s[l+4*o+2]=s[l+4*o+2]*A>>23)}t+=a}}function hn(e,t,n,r,i){for(;0<r--;){var a;for(a=0;a<n;++a){var o=e[t+2*a+0],s=15&(c=e[t+2*a+1]),l=4369*s,c=(240&c|c>>4)*l>>16;e[t+2*a+0]=(240&o|o>>4)*l>>16&240|(15&o|o<<4)*l>>16>>4&15,e[t+2*a+1]=240&c|s}t+=i}}function fn(e,t,n,r,i,a,o,s){var l,c,u=255;for(c=0;c<i;++c){for(l=0;l<r;++l){var A=e[t+l];a[o+4*l]=A,u&=A}t+=n,o+=s}return 255!=u}function pn(e,t,n,r,i){var a;for(a=0;a<i;++a)n[r+a]=e[t+a]>>8}function gn(){xr=dn,Br=hn,Cr=fn,Nr=pn}function mn(n,r,i){e[n]=function(e,n,a,o,s,l,c,u,A,d,h,f,p,g,m,v,y){var b,w=y-1>>1,x=s[l+0]|c[u+0]<<16,B=A[d+0]|h[f+0]<<16;t(null!=e);var C=3*x+B+131074>>2;for(r(e[n+0],255&C,C>>16,p,g),null!=a&&(C=3*B+x+131074>>2,r(a[o+0],255&C,C>>16,m,v)),b=1;b<=w;++b){var N=s[l+b]|c[u+b]<<16,k=A[d+b]|h[f+b]<<16,_=x+N+B+k+524296,E=_+2*(N+B)>>3;C=E+x>>1,x=(_=_+2*(x+k)>>3)+N>>1,r(e[n+2*b-1],255&C,C>>16,p,g+(2*b-1)*i),r(e[n+2*b-0],255&x,x>>16,p,g+(2*b-0)*i),null!=a&&(C=_+B>>1,x=E+k>>1,r(a[o+2*b-1],255&C,C>>16,m,v+(2*b-1)*i),r(a[o+2*b+0],255&x,x>>16,m,v+(2*b+0)*i)),x=N,B=k}1&y||(C=3*x+B+131074>>2,r(e[n+y-1],255&C,C>>16,p,g+(y-1)*i),null!=a&&(C=3*B+x+131074>>2,r(a[o+y-1],255&C,C>>16,m,v+(y-1)*i)))}}function vn(){gi[Pr]=mi,gi[Lr]=yi,gi[Dr]=vi,gi[Tr]=bi,gi[Mr]=wi,gi[Qr]=xi,gi[Rr]=Bi,gi[Hr]=yi,gi[zr]=bi,gi[Kr]=wi,gi[Wr]=xi}function yn(e){return e&~Si?0>e?0:255:e>>Ei}function bn(e,t){return yn((19077*e>>8)+(26149*t>>8)-14234)}function wn(e,t,n){return yn((19077*e>>8)-(6419*t>>8)-(13320*n>>8)+8708)}function xn(e,t){return yn((19077*e>>8)+(33050*t>>8)-17685)}function Bn(e,t,n,r,i){r[i+0]=bn(e,n),r[i+1]=wn(e,t,n),r[i+2]=xn(e,t)}function Cn(e,t,n,r,i){r[i+0]=xn(e,t),r[i+1]=wn(e,t,n),r[i+2]=bn(e,n)}function Nn(e,t,n,r,i){var a=wn(e,t,n);t=a<<3&224|xn(e,t)>>3,r[i+0]=248&bn(e,n)|a>>5,r[i+1]=t}function kn(e,t,n,r,i){var a=240&xn(e,t)|15;r[i+0]=240&bn(e,n)|wn(e,t,n)>>4,r[i+1]=a}function _n(e,t,n,r,i){r[i+0]=255,Bn(e,t,n,r,i+1)}function En(e,t,n,r,i){Cn(e,t,n,r,i),r[i+3]=255}function Sn(e,t,n,r,i){Bn(e,t,n,r,i),r[i+3]=255}function Fn(t,n,r){e[t]=function(e,t,i,a,o,s,l,c,u){for(var A=c+(-2&u)*r;c!=A;)n(e[t+0],i[a+0],o[s+0],l,c),n(e[t+1],i[a+0],o[s+0],l,c+r),t+=2,++a,++s,c+=2*r;1&u&&n(e[t+0],i[a+0],o[s+0],l,c)}}function In(e,t,n){return 0==n?0==e?0==t?6:5:0==t?4:0:n}function jn(e,t,n,r,i){switch(e>>>30){case 3:ar(t,n,r,i,0);break;case 2:or(t,n,r,i);break;case 1:lr(t,n,r,i)}}function Un(e,t){var n,a,o=t.M,s=t.Nb,l=e.oc,c=e.pc+40,u=e.oc,A=e.pc+584,d=e.oc,h=e.pc+600;for(n=0;16>n;++n)l[c+32*n-1]=129;for(n=0;8>n;++n)u[A+32*n-1]=129,d[h+32*n-1]=129;for(0<o?l[c-1-32]=u[A-1-32]=d[h-1-32]=129:(i(l,c-32-1,127,21),i(u,A-32-1,127,9),i(d,h-32-1,127,9)),a=0;a<e.za;++a){var f=t.ya[t.aa+a];if(0<a){for(n=-1;16>n;++n)r(l,c+32*n-4,l,c+32*n+12,4);for(n=-1;8>n;++n)r(u,A+32*n-4,u,A+32*n+4,4),r(d,h+32*n-4,d,h+32*n+4,4)}var p=e.Gd,g=e.Hd+a,m=f.ad,v=f.Hc;if(0<o&&(r(l,c-32,p[g].y,0,16),r(u,A-32,p[g].f,0,8),r(d,h-32,p[g].ea,0,8)),f.Za){var y=l,b=c-32+16;for(0<o&&(a>=e.za-1?i(y,b,p[g].y[15],4):r(y,b,p[g+1].y,0,4)),n=0;4>n;n++)y[b+128+n]=y[b+256+n]=y[b+384+n]=y[b+0+n];for(n=0;16>n;++n,v<<=2)y=l,b=c+Di[n],Ai[f.Ob[n]](y,b),jn(v,m,16*+n,y,b)}else if(y=In(a,o,f.Ob[0]),ui[y](l,c),0!=v)for(n=0;16>n;++n,v<<=2)jn(v,m,16*+n,l,c+Di[n]);for(n=f.Gc,y=In(a,o,f.Dd),di[y](u,A),di[y](d,h),v=m,y=u,b=A,255&(f=0|n)&&(170&f?sr(v,256,y,b):cr(v,256,y,b)),f=d,v=h,255&(n>>=8)&&(170&n?sr(m,320,f,v):cr(m,320,f,v)),o<e.Ub-1&&(r(p[g].y,0,l,c+480,16),r(p[g].f,0,u,A+224,8),r(p[g].ea,0,d,h+224,8)),n=8*s*e.B,p=e.sa,g=e.ta+16*a+16*s*e.R,m=e.qa,f=e.ra+8*a+n,v=e.Ha,y=e.Ia+8*a+n,n=0;16>n;++n)r(p,g+n*e.R,l,c+32*n,16);for(n=0;8>n;++n)r(m,f+n*e.B,u,A+32*n,8),r(v,y+n*e.B,d,h+32*n,8)}}function On(e,r,i,a,o,s,l,c,u){var A=[0],d=[0],h=0,f=null!=u?u.kd:0,p=null!=u?u:new nn;if(null==e||12>i)return 7;p.data=e,p.w=r,p.ha=i,r=[r],i=[i],p.gb=[p.gb];e:{var g=r,v=i,y=p.gb;if(t(null!=e),t(null!=v),t(null!=y),y[0]=0,12<=v[0]&&!n(e,g[0],"RIFF")){if(n(e,g[0]+8,"WEBP")){y=3;break e}var b=j(e,g[0]+4);if(12>b||4294967286<b){y=3;break e}if(f&&b>v[0]-8){y=7;break e}y[0]=b,g[0]+=12,v[0]-=12}y=0}if(0!=y)return y;for(b=0<p.gb[0],i=i[0];;){e:{var x=e;v=r,y=i;var B=A,C=d,N=g=[0];if((E=h=[h])[0]=0,8>y[0])y=7;else{if(!n(x,v[0],"VP8X")){if(10!=j(x,v[0]+4)){y=3;break e}if(18>y[0]){y=7;break e}var k=j(x,v[0]+8),_=1+I(x,v[0]+12);if(2147483648<=_*(x=1+I(x,v[0]+15))){y=3;break e}null!=N&&(N[0]=k),null!=B&&(B[0]=_),null!=C&&(C[0]=x),v[0]+=18,y[0]-=18,E[0]=1}y=0}}if(h=h[0],g=g[0],0!=y)return y;if(v=!!(2&g),!b&&h)return 3;if(null!=s&&(s[0]=!!(16&g)),null!=l&&(l[0]=v),null!=c&&(c[0]=0),l=A[0],g=d[0],h&&v&&null==u){y=0;break}if(4>i){y=7;break}if(b&&h||!b&&!h&&!n(e,r[0],"ALPH")){i=[i],p.na=[p.na],p.P=[p.P],p.Sa=[p.Sa];e:{k=e,y=r,b=i;var E=p.gb;B=p.na,C=p.P,N=p.Sa,_=22,t(null!=k),t(null!=b),x=y[0];var S=b[0];for(t(null!=B),t(null!=N),B[0]=null,C[0]=null,N[0]=0;;){if(y[0]=x,b[0]=S,8>S){y=7;break e}var F=j(k,x+4);if(4294967286<F){y=3;break e}var U=8+F+1&-2;if(_+=U,0<E&&_>E){y=3;break e}if(!n(k,x,"VP8 ")||!n(k,x,"VP8L")){y=0;break e}if(S[0]<U){y=7;break e}n(k,x,"ALPH")||(B[0]=k,C[0]=x+8,N[0]=F),x+=U,S-=U}}if(i=i[0],p.na=p.na[0],p.P=p.P[0],p.Sa=p.Sa[0],0!=y)break}i=[i],p.Ja=[p.Ja],p.xa=[p.xa];e:if(E=e,y=r,b=i,B=p.gb[0],C=p.Ja,N=p.xa,k=y[0],x=!n(E,k,"VP8 "),_=!n(E,k,"VP8L"),t(null!=E),t(null!=b),t(null!=C),t(null!=N),8>b[0])y=7;else{if(x||_){if(E=j(E,k+4),12<=B&&E>B-12){y=3;break e}if(f&&E>b[0]-8){y=7;break e}C[0]=E,y[0]+=8,b[0]-=8,N[0]=_}else N[0]=5<=b[0]&&47==E[k+0]&&!(E[k+4]>>5),C[0]=b[0];y=0}if(i=i[0],p.Ja=p.Ja[0],p.xa=p.xa[0],r=r[0],0!=y)break;if(4294967286<p.Ja)return 3;if(null==c||v||(c[0]=p.xa?2:1),l=[l],g=[g],p.xa){if(5>i){y=7;break}c=l,f=g,v=s,null==e||5>i?e=0:5<=i&&47==e[r+0]&&!(e[r+4]>>5)?(b=[0],E=[0],B=[0],m(C=new w,e,r,i),pe(C,b,E,B)?(null!=c&&(c[0]=b[0]),null!=f&&(f[0]=E[0]),null!=v&&(v[0]=B[0]),e=1):e=0):e=0}else{if(10>i){y=7;break}c=g,null==e||10>i||!Xe(e,r+3,i-3)?e=0:(f=e[r+0]|e[r+1]<<8|e[r+2]<<16,v=16383&(e[r+7]<<8|e[r+6]),e=16383&(e[r+9]<<8|e[r+8]),1&f||3<(f>>1&7)||!(f>>4&1)||f>>5>=p.Ja||!v||!e?e=0:(l&&(l[0]=v),c&&(c[0]=e),e=1))}if(!e)return 3;if(l=l[0],g=g[0],h&&(A[0]!=l||d[0]!=g))return 3;null!=u&&(u[0]=p,u.offset=r-u.w,t(4294967286>r-u.w),t(u.offset==u.ha-i));break}return 0==y||7==y&&h&&null==u?(null!=s&&(s[0]|=null!=p.na&&0<p.na.length),null!=a&&(a[0]=l),null!=o&&(o[0]=g),0):y}function Pn(e,t,n){var r=t.width,i=t.height,a=0,o=0,s=r,l=i;if(t.Da=null!=e&&0<e.Da,t.Da&&(s=e.cd,l=e.bd,a=e.v,o=e.j,11>n||(a&=-2,o&=-2),0>a||0>o||0>=s||0>=l||a+s>r||o+l>i))return 0;if(t.v=a,t.j=o,t.va=a+s,t.o=o+l,t.U=s,t.T=l,t.da=null!=e&&0<e.da,t.da){if(!L(s,l,n=[e.ib],a=[e.hb]))return 0;t.ib=n[0],t.hb=a[0]}return t.ob=null!=e&&e.ob,t.Kb=null==e||!e.Sd,t.da&&(t.ob=t.ib<3*r/4&&t.hb<3*i/4,t.Kb=0),1}function Ln(e){if(null==e)return 2;if(11>e.S){var t=e.f.RGBA;t.fb+=(e.height-1)*t.A,t.A=-t.A}else t=e.f.kb,e=e.height,t.O+=(e-1)*t.fa,t.fa=-t.fa,t.N+=(e-1>>1)*t.Ab,t.Ab=-t.Ab,t.W+=(e-1>>1)*t.Db,t.Db=-t.Db,null!=t.F&&(t.J+=(e-1)*t.lb,t.lb=-t.lb);return 0}function Dn(e,t,n,r){if(null==r||0>=e||0>=t)return 2;if(null!=n){if(n.Da){var i=n.cd,o=n.bd,s=-2&n.v,l=-2&n.j;if(0>s||0>l||0>=i||0>=o||s+i>e||l+o>t)return 2;e=i,t=o}if(n.da){if(!L(e,t,i=[n.ib],o=[n.hb]))return 2;e=i[0],t=o[0]}}r.width=e,r.height=t;e:{var c=r.width,u=r.height;if(e=r.S,0>=c||0>=u||!(e>=Pr&&13>e))e=2;else{if(0>=r.Rd&&null==r.sd){s=o=i=t=0;var A=(l=c*Qi[e])*u;if(11>e||(o=(u+1)/2*(t=(c+1)/2),12==e&&(s=(i=c)*u)),null==(u=a(A+2*o+s))){e=1;break e}r.sd=u,11>e?((c=r.f.RGBA).eb=u,c.fb=0,c.A=l,c.size=A):((c=r.f.kb).y=u,c.O=0,c.fa=l,c.Fd=A,c.f=u,c.N=0+A,c.Ab=t,c.Cd=o,c.ea=u,c.W=0+A+o,c.Db=t,c.Ed=o,12==e&&(c.F=u,c.J=0+A+2*o),c.Tc=s,c.lb=i)}if(t=1,i=r.S,o=r.width,s=r.height,i>=Pr&&13>i)if(11>i)e=r.f.RGBA,t&=(l=Math.abs(e.A))*(s-1)+o<=e.size,t&=l>=o*Qi[i],t&=null!=e.eb;else{e=r.f.kb,l=(o+1)/2,A=(s+1)/2,c=Math.abs(e.fa),u=Math.abs(e.Ab);var d=Math.abs(e.Db),h=Math.abs(e.lb),f=h*(s-1)+o;t&=c*(s-1)+o<=e.Fd,t&=u*(A-1)+l<=e.Cd,t=(t&=d*(A-1)+l<=e.Ed)&c>=o&u>=l&d>=l,t&=null!=e.y,t&=null!=e.f,t&=null!=e.ea,12==i&&(t&=h>=o,t&=f<=e.Tc,t&=null!=e.F)}else t=0;e=t?0:2}}return 0!=e||null!=n&&n.fd&&(e=Ln(r)),e}var Tn=64,Mn=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Qn=24,Rn=32,Hn=8,zn=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];M("Predictor0","PredictorAdd0"),e.Predictor0=function(){return 4278190080},e.Predictor1=function(e){return e},e.Predictor2=function(e,t,n){return t[n+0]},e.Predictor3=function(e,t,n){return t[n+1]},e.Predictor4=function(e,t,n){return t[n-1]},e.Predictor5=function(e,t,n){return R(R(e,t[n+1]),t[n+0])},e.Predictor6=function(e,t,n){return R(e,t[n-1])},e.Predictor7=function(e,t,n){return R(e,t[n+0])},e.Predictor8=function(e,t,n){return R(t[n-1],t[n+0])},e.Predictor9=function(e,t,n){return R(t[n+0],t[n+1])},e.Predictor10=function(e,t,n){return R(R(e,t[n-1]),R(t[n+0],t[n+1]))},e.Predictor11=function(e,t,n){var r=t[n+0];return 0>=K(r>>24&255,e>>24&255,(t=t[n-1])>>24&255)+K(r>>16&255,e>>16&255,t>>16&255)+K(r>>8&255,e>>8&255,t>>8&255)+K(255&r,255&e,255&t)?r:e},e.Predictor12=function(e,t,n){var r=t[n+0];return(H((e>>24&255)+(r>>24&255)-((t=t[n-1])>>24&255))<<24|H((e>>16&255)+(r>>16&255)-(t>>16&255))<<16|H((e>>8&255)+(r>>8&255)-(t>>8&255))<<8|H((255&e)+(255&r)-(255&t)))>>>0},e.Predictor13=function(e,t,n){var r=t[n-1];return(z((e=R(e,t[n+0]))>>24&255,r>>24&255)<<24|z(e>>16&255,r>>16&255)<<16|z(e>>8&255,r>>8&255)<<8|z(255&e,255&r))>>>0};var Kn=e.PredictorAdd0;e.PredictorAdd1=W,M("Predictor2","PredictorAdd2"),M("Predictor3","PredictorAdd3"),M("Predictor4","PredictorAdd4"),M("Predictor5","PredictorAdd5"),M("Predictor6","PredictorAdd6"),M("Predictor7","PredictorAdd7"),M("Predictor8","PredictorAdd8"),M("Predictor9","PredictorAdd9"),M("Predictor10","PredictorAdd10"),M("Predictor11","PredictorAdd11"),M("Predictor12","PredictorAdd12"),M("Predictor13","PredictorAdd13");var Wn=e.PredictorAdd2;X("ColorIndexInverseTransform","MapARGB","32b",function(e){return e>>8&255},function(e){return e}),X("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(e){return e},function(e){return e>>8&255});var Vn,Gn=e.ColorIndexInverseTransform,qn=e.MapARGB,Xn=e.VP8LColorIndexInverseTransformAlpha,Yn=e.MapAlpha,Jn=e.VP8LPredictorsAdd=[];Jn.length=16,(e.VP8LPredictors=[]).length=16,(e.VP8LPredictorsAdd_C=[]).length=16,(e.VP8LPredictors_C=[]).length=16;var Zn,$n,er,tr,nr,rr,ir,ar,or,sr,lr,cr,ur,Ar,dr,hr,fr,pr,gr,mr,vr,yr,br,wr,xr,Br,Cr,Nr,kr=a(511),_r=a(2041),Er=a(225),Sr=a(767),Fr=0,Ir=_r,jr=Er,Ur=Sr,Or=kr,Pr=0,Lr=1,Dr=2,Tr=3,Mr=4,Qr=5,Rr=6,Hr=7,zr=8,Kr=9,Wr=10,Vr=[2,3,7],Gr=[3,3,11],qr=[280,256,256,256,40],Xr=[0,1,1,1,0],Yr=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Jr=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Zr=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],$r=8,ei=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],ti=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],ni=null,ri=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],ii=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],ai=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],oi=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],si=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],li=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],ci=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],ui=[],Ai=[],di=[],hi=1,fi=2,pi=[],gi=[];mn("UpsampleRgbLinePair",Bn,3),mn("UpsampleBgrLinePair",Cn,3),mn("UpsampleRgbaLinePair",Sn,4),mn("UpsampleBgraLinePair",En,4),mn("UpsampleArgbLinePair",_n,4),mn("UpsampleRgba4444LinePair",kn,2),mn("UpsampleRgb565LinePair",Nn,2);var mi=e.UpsampleRgbLinePair,vi=e.UpsampleBgrLinePair,yi=e.UpsampleRgbaLinePair,bi=e.UpsampleBgraLinePair,wi=e.UpsampleArgbLinePair,xi=e.UpsampleRgba4444LinePair,Bi=e.UpsampleRgb565LinePair,Ci=16,Ni=1<<Ci-1,ki=-227,_i=482,Ei=6,Si=(256<<Ei)-1,Fi=0,Ii=a(256),ji=a(256),Ui=a(256),Oi=a(256),Pi=a(_i-ki),Li=a(_i-ki);Fn("YuvToRgbRow",Bn,3),Fn("YuvToBgrRow",Cn,3),Fn("YuvToRgbaRow",Sn,4),Fn("YuvToBgraRow",En,4),Fn("YuvToArgbRow",_n,4),Fn("YuvToRgba4444Row",kn,2),Fn("YuvToRgb565Row",Nn,2);var Di=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Ti=[0,2,8],Mi=[8,7,6,4,4,2,2,2,1,1,1,1];this.WebPDecodeRGBA=function(e,n,s,l,c){var u=Lr,A=new tn,d=new oe;A.ba=d,d.S=u,d.width=[d.width],d.height=[d.height];var h=d.width,f=d.height,p=new se;if(null==p||null==e)var g=2;else t(null!=p),g=On(e,n,s,p.width,p.height,p.Pd,p.Qd,p.format,null);if(0!=g?h=0:(null!=h&&(h[0]=p.width[0]),null!=f&&(f[0]=p.height[0]),h=1),h){d.width=d.width[0],d.height=d.height[0],null!=l&&(l[0]=d.width),null!=c&&(c[0]=d.height);e:{if(l=new Ve,(c=new nn).data=e,c.w=n,c.ha=s,c.kd=1,n=[0],t(null!=c),(0==(e=On(c.data,c.w,c.ha,null,null,null,n,null,c))||7==e)&&n[0]&&(e=4),0==(n=e)){if(t(null!=A),l.data=c.data,l.w=c.w+c.offset,l.ha=c.ha-c.offset,l.put=he,l.ac=de,l.bc=fe,l.ma=A,c.xa){if(null==(e=Ee())){A=1;break e}if(function(e,n){var r=[0],i=[0],a=[0];t:for(;;){if(null==e)return 0;if(null==n)return e.a=2,0;if(e.l=n,e.a=0,m(e.m,n.data,n.w,n.ha),!pe(e.m,r,i,a)){e.a=3;break t}if(e.xb=fi,n.width=r[0],n.height=i[0],!Se(r[0],i[0],1,e,null))break t;return 1}return t(0!=e.a),0}(e,l)){if(l=0==(n=Dn(l.width,l.height,A.Oa,A.ba))){t:{l=e;n:for(;;){if(null==l){l=0;break t}if(t(null!=l.s.yc),t(null!=l.s.Ya),t(0<l.s.Wb),t(null!=(s=l.l)),t(null!=(c=s.ma)),0!=l.xb){if(l.ca=c.ba,l.tb=c.tb,t(null!=l.ca),!Pn(c.Oa,s,Tr)){l.a=2;break n}if(!Fe(l,s.width))break n;if(s.da)break n;if((s.da||re(l.ca.S))&&gn(),11>l.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),null!=l.ca.f.kb.F&&gn()),l.Pb&&0<l.s.ua&&null==l.s.vb.X&&!U(l.s.vb,l.s.Wa.Xa)){l.a=1;break n}l.xb=0}if(!ke(l,l.V,l.Ba,l.c,l.i,s.o,xe))break n;c.Dc=l.Ma,l=1;break t}t(0!=l.a),l=0}l=!l}l&&(n=e.a)}else n=e.a}else{if(null==(e=new Ge)){A=1;break e}if(e.Fa=c.na,e.P=c.P,e.qc=c.Sa,Ye(e,l)){if(0==(n=Dn(l.width,l.height,A.Oa,A.ba))){if(e.Aa=0,s=A.Oa,t(null!=(c=e)),null!=s){if(0<(h=0>(h=s.Md)?0:100<h?255:255*h/100)){for(f=p=0;4>f;++f)12>(g=c.pb[f]).lc&&(g.ia=h*Mi[0>g.lc?0:g.lc]>>3),p|=g.ia;p&&(alert("todo:VP8InitRandom"),c.ia=1)}c.Ga=s.Id,100<c.Ga?c.Ga=100:0>c.Ga&&(c.Ga=0)}(function(e,n){if(null==e)return 0;if(null==n)return qe(e,2,"NULL VP8Io parameter in VP8Decode().");if(!e.cb&&!Ye(e,n))return 0;if(t(e.cb),null==n.ac||n.ac(n)){n.ob&&(e.L=0);var s=Ti[e.L];if(2==e.L?(e.yb=0,e.zb=0):(e.yb=n.v-s>>4,e.zb=n.j-s>>4,0>e.yb&&(e.yb=0),0>e.zb&&(e.zb=0)),e.Va=n.o+15+s>>4,e.Hb=n.va+15+s>>4,e.Hb>e.za&&(e.Hb=e.za),e.Va>e.Ub&&(e.Va=e.Ub),0<e.L){var l=e.ed;for(s=0;4>s;++s){var c;if(e.Qa.Cb){var u=e.Qa.Lb[s];e.Qa.Fb||(u+=l.Tb)}else u=l.Tb;for(c=0;1>=c;++c){var A=e.gd[s][c],d=u;if(l.Pc&&(d+=l.vd[0],c&&(d+=l.od[0])),0<(d=0>d?0:63<d?63:d)){var h=d;0<l.wb&&(h=4<l.wb?h>>2:h>>1)>9-l.wb&&(h=9-l.wb),1>h&&(h=1),A.dd=h,A.tc=2*d+h,A.ld=40<=d?2:15<=d?1:0}else A.tc=0;A.La=c}}}s=0}else qe(e,6,"Frame setup failed"),s=e.a;if(s=0==s){if(s){e.$c=0,0<e.Aa||(e.Ic=1);t:{s=e.Ic,l=4*(h=e.za);var f=32*h,p=h+1,g=0<e.L?h*(0<e.Aa?2:1):0,m=(2==e.Aa?2:1)*h;if((A=l+832+(c=3*(16*s+Ti[e.L])/2*f)+(u=null!=e.Fa&&0<e.Fa.length?e.Kc.c*e.Kc.i:0))!=A)s=0;else{if(A>e.Vb){if(e.Vb=0,e.Ec=a(A),e.Fc=0,null==e.Ec){s=qe(e,1,"no memory during frame initialization.");break t}e.Vb=A}A=e.Ec,d=e.Fc,e.Ac=A,e.Bc=d,d+=l,e.Gd=o(f,ze),e.Hd=0,e.rb=o(p+1,Me),e.sb=1,e.wa=g?o(g,Te):null,e.Y=0,e.D.Nb=0,e.D.wa=e.wa,e.D.Y=e.Y,0<e.Aa&&(e.D.Y+=h),t(!0),e.oc=A,e.pc=d,d+=832,e.ya=o(m,Re),e.aa=0,e.D.ya=e.ya,e.D.aa=e.aa,2==e.Aa&&(e.D.aa+=h),e.R=16*h,e.B=8*h,h=(f=Ti[e.L])*e.R,f=f/2*e.B,e.sa=A,e.ta=d+h,e.qa=e.sa,e.ra=e.ta+16*s*e.R+f,e.Ha=e.qa,e.Ia=e.ra+8*s*e.B+f,e.$c=0,d+=c,e.mb=u?A:null,e.nb=u?d:null,t(d+u<=e.Fc+e.Vb),Ze(e),i(e.Ac,e.Bc,0,l),s=1}}if(s){if(n.ka=0,n.y=e.sa,n.O=e.ta,n.f=e.qa,n.N=e.ra,n.ea=e.Ha,n.Vd=e.Ia,n.fa=e.R,n.Rc=e.B,n.F=null,n.J=0,!Fr){for(s=-255;255>=s;++s)kr[255+s]=0>s?-s:s;for(s=-1020;1020>=s;++s)_r[1020+s]=-128>s?-128:127<s?127:s;for(s=-112;112>=s;++s)Er[112+s]=-16>s?-16:15<s?15:s;for(s=-255;510>=s;++s)Sr[255+s]=0>s?0:255<s?255:s;Fr=1}ir=lt,ar=it,sr=at,lr=ot,cr=st,or=rt,ur=Gt,Ar=qt,dr=Jt,hr=Zt,fr=Xt,pr=Yt,gr=$t,mr=en,vr=Rt,yr=Ht,br=zt,wr=Kt,Ai[0]=Bt,Ai[1]=ut,Ai[2]=wt,Ai[3]=xt,Ai[4]=Ct,Ai[5]=kt,Ai[6]=Nt,Ai[7]=_t,Ai[8]=St,Ai[9]=Et,ui[0]=gt,ui[1]=dt,ui[2]=ht,ui[3]=ft,ui[4]=mt,ui[5]=vt,ui[6]=yt,di[0]=Ut,di[1]=At,di[2]=Ft,di[3]=It,di[4]=Pt,di[5]=Ot,di[6]=Lt,s=1}else s=0}s&&(s=function(e,n){for(e.M=0;e.M<e.Va;++e.M){var o,s=e.Jc[e.M&e.Xb],l=e.m,c=e;for(o=0;o<c.za;++o){var u=l,A=c,d=A.Ac,h=A.Bc+4*o,f=A.zc,p=A.ya[A.aa+o];if(A.Qa.Bb?p.$b=E(u,A.Pa.jb[0])?2+E(u,A.Pa.jb[2]):E(u,A.Pa.jb[1]):p.$b=0,A.kc&&(p.Ad=E(u,A.Bd)),p.Za=!E(u,145)+0,p.Za){var g=p.Ob,m=0;for(A=0;4>A;++A){var v,y=f[0+A];for(v=0;4>v;++v){y=si[d[h+v]][y];for(var b=ai[E(u,y[0])];0<b;)b=ai[2*b+E(u,y[b])];y=-b,d[h+v]=y}r(g,m,d,h,4),m+=4,f[0+A]=y}}else y=E(u,156)?E(u,128)?1:3:E(u,163)?2:0,p.Ob[0]=y,i(d,h,y,4),i(f,0,y,4);p.Dd=E(u,142)?E(u,114)?E(u,183)?1:3:2:0}if(c.m.Ka)return qe(e,7,"Premature end-of-partition0 encountered.");for(;e.ja<e.za;++e.ja){if(c=s,u=(l=e).rb[l.sb-1],d=l.rb[l.sb+l.ja],o=l.ya[l.aa+l.ja],h=l.kc?o.Ad:0)u.la=d.la=0,o.Za||(u.Na=d.Na=0),o.Hc=0,o.Gc=0,o.ia=0;else{var w,x;if(u=d,d=c,h=l.Pa.Xc,f=l.ya[l.aa+l.ja],p=l.pb[f.$b],A=f.ad,g=0,m=l.rb[l.sb-1],y=v=0,i(A,g,0,384),f.Za)var B=0,C=h[3];else{b=a(16);var N=u.Na+m.Na;if(N=ni(d,h[1],N,p.Eb,0,b,0),u.Na=m.Na=(0<N)+0,1<N)ir(b,0,A,g);else{var k=b[0]+3>>3;for(b=0;256>b;b+=16)A[g+b]=k}B=1,C=h[0]}var _=15&u.la,S=15&m.la;for(b=0;4>b;++b){var F=1&S;for(k=x=0;4>k;++k)_=_>>1|(F=(N=ni(d,C,N=F+(1&_),p.Sc,B,A,g))>B)<<7,x=x<<2|(3<N?3:1<N?2:0!=A[g+0]),g+=16;_>>=4,S=S>>1|F<<7,v=(v<<8|x)>>>0}for(C=_,B=S>>4,w=0;4>w;w+=2){for(x=0,_=u.la>>4+w,S=m.la>>4+w,b=0;2>b;++b){for(F=1&S,k=0;2>k;++k)N=F+(1&_),_=_>>1|(F=0<(N=ni(d,h[2],N,p.Qc,0,A,g)))<<3,x=x<<2|(3<N?3:1<N?2:0!=A[g+0]),g+=16;_>>=2,S=S>>1|F<<5}y|=x<<4*w,C|=_<<4<<w,B|=(240&S)<<w}u.la=C,m.la=B,f.Hc=v,f.Gc=y,f.ia=43690&y?0:p.ia,h=!(v|y)}if(0<l.L&&(l.wa[l.Y+l.ja]=l.gd[o.$b][o.Za],l.wa[l.Y+l.ja].La|=!h),c.Ka)return qe(e,7,"Premature end-of-file encountered.")}if(Ze(e),l=n,c=1,o=(s=e).D,u=0<s.L&&s.M>=s.zb&&s.M<=s.Va,0==s.Aa)t:{if(o.M=s.M,o.uc=u,Un(s,o),c=1,o=(x=s.D).Nb,u=(y=Ti[s.L])*s.R,d=y/2*s.B,b=16*o*s.R,k=8*o*s.B,h=s.sa,f=s.ta-u+b,p=s.qa,A=s.ra-d+k,g=s.Ha,m=s.Ia-d+k,S=0==(_=x.M),v=_>=s.Va-1,2==s.Aa&&Un(s,x),x.uc)for(F=(N=s).D.M,t(N.D.uc),x=N.yb;x<N.Hb;++x){B=x,C=F;var I=(j=(R=N).D).Nb;w=R.R;var j=j.wa[j.Y+B],U=R.sa,O=R.ta+16*I*w+16*B,P=j.dd,L=j.tc;if(0!=L)if(t(3<=L),1==R.L)0<B&&yr(U,O,w,L+4),j.La&&wr(U,O,w,L),0<C&&vr(U,O,w,L+4),j.La&&br(U,O,w,L);else{var D=R.B,T=R.qa,M=R.ra+8*I*D+8*B,Q=R.Ha,R=R.Ia+8*I*D+8*B;I=j.ld,0<B&&(Ar(U,O,w,L+4,P,I),hr(T,M,Q,R,D,L+4,P,I)),j.La&&(pr(U,O,w,L,P,I),mr(T,M,Q,R,D,L,P,I)),0<C&&(ur(U,O,w,L+4,P,I),dr(T,M,Q,R,D,L+4,P,I)),j.La&&(fr(U,O,w,L,P,I),gr(T,M,Q,R,D,L,P,I))}}if(s.ia&&alert("todo:DitherRow"),null!=l.put){if(x=16*_,_=16*(_+1),S?(l.y=s.sa,l.O=s.ta+b,l.f=s.qa,l.N=s.ra+k,l.ea=s.Ha,l.W=s.Ia+k):(x-=y,l.y=h,l.O=f,l.f=p,l.N=A,l.ea=g,l.W=m),v||(_-=y),_>l.o&&(_=l.o),l.F=null,l.J=null,null!=s.Fa&&0<s.Fa.length&&x<_&&(l.J=An(s,l,x,_-x),l.F=s.mb,null==l.F&&0==l.F.length)){c=qe(s,3,"Could not decode alpha data.");break t}x<l.j&&(y=l.j-x,x=l.j,t(!(1&y)),l.O+=s.R*y,l.N+=s.B*(y>>1),l.W+=s.B*(y>>1),null!=l.F&&(l.J+=l.width*y)),x<_&&(l.O+=l.v,l.N+=l.v>>1,l.W+=l.v>>1,null!=l.F&&(l.J+=l.v),l.ka=x-l.j,l.U=l.va-l.v,l.T=_-x,c=l.put(l))}o+1!=s.Ic||v||(r(s.sa,s.ta-u,h,f+16*s.R,u),r(s.qa,s.ra-d,p,A+8*s.B,d),r(s.Ha,s.Ia-d,g,m+8*s.B,d))}if(!c)return qe(e,6,"Output aborted.")}return 1}(e,n)),null!=n.bc&&n.bc(n),s&=1}return s?(e.cb=0,s):0})(e,l)||(n=e.a)}}else n=e.a}0==n&&null!=A.Oa&&A.Oa.fd&&(n=Ln(A.ba))}A=n}u=0!=A?null:11>u?d.f.RGBA.eb:d.f.kb.y}else u=null;return u};var Qi=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(e,t){for(var n="",r=0;r<4;r++)n+=String.fromCharCode(e[t++]);return n}function u(e,t){return e[t+0]|e[t+1]<<8}function A(e,t){return(e[t+0]|e[t+1]<<8|e[t+2]<<16)>>>0}function d(e,t){return(e[t+0]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}new l;var h=[0],f=[0],p=[],g=new l,m=e,v=function(e,t){var n={},r=0,i=!1,a=0,o=0;if(n.frames=[],!function(e,t){for(var n=0;n<4;n++)if(e[t+n]!="RIFF".charCodeAt(n))return!0;return!1}(e,t)){for(d(e,t+=4),t+=8;t<e.length;){var s=c(e,t),l=d(e,t+=4);t+=4;var h=l+(1&l);switch(s){case"VP8 ":case"VP8L":void 0===n.frames[r]&&(n.frames[r]={}),(g=n.frames[r]).src_off=i?o:t-8,g.src_size=a+l+8,r++,i&&(i=!1,a=0,o=0);break;case"VP8X":(g=n.header={}).feature_flags=e[t];var f=t+4;g.canvas_width=1+A(e,f),f+=3,g.canvas_height=1+A(e,f),f+=3;break;case"ALPH":i=!0,a=h+8,o=t-8;break;case"ANIM":(g=n.header).bgcolor=d(e,t),f=t+4,g.loop_count=u(e,f),f+=2;break;case"ANMF":var p,g;(g=n.frames[r]={}).offset_x=2*A(e,t),t+=3,g.offset_y=2*A(e,t),t+=3,g.width=1+A(e,t),t+=3,g.height=1+A(e,t),t+=3,g.duration=A(e,t),t+=3,p=e[t++],g.dispose=1&p,g.blend=p>>1&1}"ANMF"!=s&&(t+=h)}return n}}(m,0);v.response=m,v.rgbaoutput=!0,v.dataurl=!1;var y=v.header?v.header:null,b=v.frames?v.frames:null;if(y){y.loop_counter=y.loop_count,h=[y.canvas_height],f=[y.canvas_width];for(var w=0;w<b.length&&0!=b[w].blend;w++);}var x=b[0],B=g.WebPDecodeRGBA(m,x.src_off,x.src_size,f,h);x.rgba=B,x.imgwidth=f[0],x.imgheight=h[0];for(var C=0;C<f[0]*h[0]*4;C++)p[C]=B[C];return this.width=f,this.height=h,this.data=p,this}!function(e){var t,n,r,i,a,o,s,l,c,u=function(e){return e=e||{},this.isStrokeTransparent=e.isStrokeTransparent||!1,this.strokeOpacity=e.strokeOpacity||1,this.strokeStyle=e.strokeStyle||"#000000",this.fillStyle=e.fillStyle||"#000000",this.isFillTransparent=e.isFillTransparent||!1,this.fillOpacity=e.fillOpacity||1,this.font=e.font||"10px sans-serif",this.textBaseline=e.textBaseline||"alphabetic",this.textAlign=e.textAlign||"left",this.lineWidth=e.lineWidth||1,this.lineJoin=e.lineJoin||"miter",this.lineCap=e.lineCap||"butt",this.path=e.path||[],this.transform=void 0!==e.transform?e.transform.clone():new l,this.globalCompositeOperation=e.globalCompositeOperation||"normal",this.globalAlpha=e.globalAlpha||1,this.clip_path=e.clip_path||[],this.currentPoint=e.currentPoint||new o,this.miterLimit=e.miterLimit||10,this.lastPoint=e.lastPoint||new o,this.lineDashOffset=e.lineDashOffset||0,this.lineDash=e.lineDash||[],this.margin=e.margin||[0,0,0,0],this.prevPageLastElemOffset=e.prevPageLastElemOffset||0,this.ignoreClearRect="boolean"!=typeof e.ignoreClearRect||e.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new A(this),t=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,a=this.internal.getVerticalCoordinate,o=this.internal.Point,s=this.internal.Rectangle,l=this.internal.Matrix,c=new u}]);var A=function(e){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var t=e;Object.defineProperty(this,"pdf",{get:function(){return t}});var n=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return n},set:function(e){n=Boolean(e)}});var r=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return r},set:function(e){r=Boolean(e)}});var i=0;Object.defineProperty(this,"posX",{get:function(){return i},set:function(e){isNaN(e)||(i=e)}});var a=0;Object.defineProperty(this,"posY",{get:function(){return a},set:function(e){isNaN(e)||(a=e)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(e){var t;"number"==typeof e?t=[e,e,e,e]:((t=new Array(4))[0]=e[0],t[1]=e.length>=2?e[1]:t[0],t[2]=e.length>=3?e[2]:t[0],t[3]=e.length>=4?e[3]:t[1]),c.margin=t}});var o=!1;Object.defineProperty(this,"autoPaging",{get:function(){return o},set:function(e){o=e}});var s=0;Object.defineProperty(this,"lastBreak",{get:function(){return s},set:function(e){s=e}});var l=[];Object.defineProperty(this,"pageBreaks",{get:function(){return l},set:function(e){l=e}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(e){e instanceof u&&(c=e)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(e){c.path=e}});var A=[];Object.defineProperty(this,"ctxStack",{get:function(){return A},set:function(e){A=e}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(e){var t;t=d(e),this.ctx.fillStyle=t.style,this.ctx.isFillTransparent=0===t.a,this.ctx.fillOpacity=t.a,this.pdf.setFillColor(t.r,t.g,t.b,{a:t.a}),this.pdf.setTextColor(t.r,t.g,t.b,{a:t.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(e){var t=d(e);this.ctx.strokeStyle=t.style,this.ctx.isStrokeTransparent=0===t.a,this.ctx.strokeOpacity=t.a,0===t.a?this.pdf.setDrawColor(255,255,255):(t.a,this.pdf.setDrawColor(t.r,t.g,t.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(e){-1!==["butt","round","square"].indexOf(e)&&(this.ctx.lineCap=e,this.pdf.setLineCap(e))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(e){isNaN(e)||(this.ctx.lineWidth=e,this.pdf.setLineWidth(e))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(e){-1!==["bevel","round","miter"].indexOf(e)&&(this.ctx.lineJoin=e,this.pdf.setLineJoin(e))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(e){isNaN(e)||(this.ctx.miterLimit=e,this.pdf.setMiterLimit(e))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(e){this.ctx.textBaseline=e}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(e){-1!==["right","end","center","left","start"].indexOf(e)&&(this.ctx.textAlign=e)}});var h=null,f=null,p=null;Object.defineProperty(this,"fontFaces",{get:function(){return p},set:function(e){h=null,f=null,p=e}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(e){var t;if(this.ctx.font=e,null!==(t=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(e))){var n=t[1];t[2];var r=t[3],i=t[4];t[5];var a=t[6],o=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(i)[2];i="px"===o?Math.floor(parseFloat(i)*this.pdf.internal.scaleFactor):"em"===o?Math.floor(parseFloat(i)*this.pdf.getFontSize()):Math.floor(parseFloat(i)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(i);var s=function(e){var t,n,r=[],i=e.trim();if(""===i)return Rs;if(i in Es)return[Es[i]];for(;""!==i;){switch(n=null,t=(i=Fs(i)).charAt(0)){case'"':case"'":n=Is(i.substring(1),t);break;default:n=js(i)}if(null===n)return Rs;if(r.push(n[0]),""!==(i=Fs(n[1]))&&","!==i.charAt(0))return Rs;i=i.replace(/^,/,"")}return r}(a);if(this.fontFaces){var l=function(e,t){var n=e.getFontList(),r=JSON.stringify(n);if(null===h||f!==r){var i=function(e){var t=[];return Object.keys(e).forEach(function(n){e[n].forEach(function(e){var r=null;switch(e){case"bold":r={family:n,weight:"bold"};break;case"italic":r={family:n,style:"italic"};break;case"bolditalic":r={family:n,weight:"bold",style:"italic"};break;case"":case"normal":r={family:n}}null!==r&&(r.ref={name:n,style:e},t.push(r))})}),t}(n);h=function(e){for(var t={},n=0;n<e.length;++n){var r=Ns(e[n]),i=r.family,a=r.stretch,o=r.style,s=r.weight;t[i]=t[i]||{},t[i][a]=t[i][a]||{},t[i][a][o]=t[i][a][o]||{},t[i][a][o][s]=r}return t}(i.concat(t)),f=r}return h}(this.pdf,this.fontFaces),c=s.map(function(e){return{family:e,stretch:"normal",weight:r,style:n}}),u=function(e,t,n){for(var r=(n=n||{}).defaultFontFamily||"times",i=Object.assign({},_s,n.genericFontFamilies||{}),a=null,o=null,s=0;s<t.length;++s)if(i[(a=Ns(t[s])).family]&&(a.family=i[a.family]),e.hasOwnProperty(a.family)){o=e[a.family];break}if(!(o=o||e[r]))throw new Error("Could not find a font-family for the rule '"+Ss(a)+"' and default family '"+r+"'.");if(o=function(e,t){if(t[e])return t[e];var n=xs[e],r=n<=xs.normal?-1:1,i=ks(t,ws,n,r);if(!i)throw new Error("Could not find a matching font-stretch value for "+e);return i}(a.stretch,o),o=function(e,t){if(t[e])return t[e];for(var n=bs[e],r=0;r<n.length;++r)if(t[n[r]])return t[n[r]];throw new Error("Could not find a matching font-style for "+e)}(a.style,o),!(o=function(e,t){if(t[e])return t[e];if(400===e&&t[500])return t[500];if(500===e&&t[400])return t[400];var n=Cs[e],r=ks(t,Bs,n,e<400?-1:1);if(!r)throw new Error("Could not find a matching font-weight for value "+e);return r}(a.weight,o)))throw new Error("Failed to resolve a font for the rule '"+Ss(a)+"'.");return o}(l,c);this.pdf.setFont(u.ref.name,u.ref.style)}else{var A="";("bold"===r||parseInt(r,10)>=700||"bold"===n)&&(A="bold"),"italic"===n&&(A+="italic"),0===A.length&&(A="normal");for(var d="",p={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},g=0;g<s.length;g++){if(void 0!==this.pdf.internal.getFont(s[g],A,{noFallback:!0,disableWarning:!0})){d=s[g];break}if("bolditalic"===A&&void 0!==this.pdf.internal.getFont(s[g],"bold",{noFallback:!0,disableWarning:!0}))d=s[g],A="bold";else if(void 0!==this.pdf.internal.getFont(s[g],"normal",{noFallback:!0,disableWarning:!0})){d=s[g],A="normal";break}}if(""===d)for(var m=0;m<s.length;m++)if(p[s[m]]){d=p[s[m]];break}d=""===d?"Times":d,this.pdf.setFont(d,A)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(e){this.ctx.globalCompositeOperation=e}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(e){this.ctx.globalAlpha=e}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(e){this.ctx.lineDashOffset=e,D.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(e){this.ctx.lineDash=e,D.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(e){this.ctx.ignoreClearRect=Boolean(e)}})};A.prototype.setLineDash=function(e){this.lineDash=e},A.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},A.prototype.fill=function(){b.call(this,"fill",!1)},A.prototype.stroke=function(){b.call(this,"stroke",!1)},A.prototype.beginPath=function(){this.path=[{type:"begin"}]},A.prototype.moveTo=function(e,t){if(isNaN(e)||isNaN(t))throw eo.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var n=this.ctx.transform.applyToPoint(new o(e,t));this.path.push({type:"mt",x:n.x,y:n.y}),this.ctx.lastPoint=new o(e,t)},A.prototype.closePath=function(){var e=new o(0,0),t=0;for(t=this.path.length-1;-1!==t;t--)if("begin"===this.path[t].type&&"object"===(0,Qe.A)(this.path[t+1])&&"number"==typeof this.path[t+1].x){e=new o(this.path[t+1].x,this.path[t+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(e.x,e.y)},A.prototype.lineTo=function(e,t){if(isNaN(e)||isNaN(t))throw eo.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var n=this.ctx.transform.applyToPoint(new o(e,t));this.path.push({type:"lt",x:n.x,y:n.y}),this.ctx.lastPoint=new o(n.x,n.y)},A.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),b.call(this,null,!0)},A.prototype.quadraticCurveTo=function(e,t,n,r){if(isNaN(n)||isNaN(r)||isNaN(e)||isNaN(t))throw eo.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var i=this.ctx.transform.applyToPoint(new o(n,r)),a=this.ctx.transform.applyToPoint(new o(e,t));this.path.push({type:"qct",x1:a.x,y1:a.y,x:i.x,y:i.y}),this.ctx.lastPoint=new o(i.x,i.y)},A.prototype.bezierCurveTo=function(e,t,n,r,i,a){if(isNaN(i)||isNaN(a)||isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r))throw eo.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var s=this.ctx.transform.applyToPoint(new o(i,a)),l=this.ctx.transform.applyToPoint(new o(e,t)),c=this.ctx.transform.applyToPoint(new o(n,r));this.path.push({type:"bct",x1:l.x,y1:l.y,x2:c.x,y2:c.y,x:s.x,y:s.y}),this.ctx.lastPoint=new o(s.x,s.y)},A.prototype.arc=function(e,t,n,r,i,a){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||isNaN(i))throw eo.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(a=Boolean(a),!this.ctx.transform.isIdentity){var s=this.ctx.transform.applyToPoint(new o(e,t));e=s.x,t=s.y;var l=this.ctx.transform.applyToPoint(new o(0,n)),c=this.ctx.transform.applyToPoint(new o(0,0));n=Math.sqrt(Math.pow(l.x-c.x,2)+Math.pow(l.y-c.y,2))}Math.abs(i-r)>=2*Math.PI&&(r=0,i=2*Math.PI),this.path.push({type:"arc",x:e,y:t,radius:n,startAngle:r,endAngle:i,counterclockwise:a})},A.prototype.arcTo=function(e,t,n,r,i){throw new Error("arcTo not implemented.")},A.prototype.rect=function(e,t,n,r){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r))throw eo.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(e,t),this.lineTo(e+n,t),this.lineTo(e+n,t+r),this.lineTo(e,t+r),this.lineTo(e,t),this.lineTo(e+n,t),this.lineTo(e,t)},A.prototype.fillRect=function(e,t,n,r){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r))throw eo.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!h.call(this)){var i={};"butt"!==this.lineCap&&(i.lineCap=this.lineCap,this.lineCap="butt"),"miter"!==this.lineJoin&&(i.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(e,t,n,r),this.fill(),i.hasOwnProperty("lineCap")&&(this.lineCap=i.lineCap),i.hasOwnProperty("lineJoin")&&(this.lineJoin=i.lineJoin)}},A.prototype.strokeRect=function(e,t,n,r){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r))throw eo.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");f.call(this)||(this.beginPath(),this.rect(e,t,n,r),this.stroke())},A.prototype.clearRect=function(e,t,n,r){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r))throw eo.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(e,t,n,r))},A.prototype.save=function(e){e="boolean"!=typeof e||e;for(var t=this.pdf.internal.getCurrentPageInfo().pageNumber,n=0;n<this.pdf.internal.getNumberOfPages();n++)this.pdf.setPage(n+1),this.pdf.internal.out("q");if(this.pdf.setPage(t),e){this.ctx.fontSize=this.pdf.internal.getFontSize();var r=new u(this.ctx);this.ctxStack.push(this.ctx),this.ctx=r}},A.prototype.restore=function(e){e="boolean"!=typeof e||e;for(var t=this.pdf.internal.getCurrentPageInfo().pageNumber,n=0;n<this.pdf.internal.getNumberOfPages();n++)this.pdf.setPage(n+1),this.pdf.internal.out("Q");this.pdf.setPage(t),e&&0!==this.ctxStack.length&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},A.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var d=function(e){var t,n,r,i;if(!0===e.isCanvasGradient&&(e=e.getColor()),!e)return{r:0,g:0,b:0,a:0,style:e};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(e))t=0,n=0,r=0,i=0;else{var a=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(e);if(null!==a)t=parseInt(a[1]),n=parseInt(a[2]),r=parseInt(a[3]),i=1;else if(null!==(a=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(e)))t=parseInt(a[1]),n=parseInt(a[2]),r=parseInt(a[3]),i=parseFloat(a[4]);else{if(i=1,"string"==typeof e&&"#"!==e.charAt(0)){var o=new ao(e);e=o.ok?o.toHex():"#000000"}4===e.length?(t=e.substring(1,2),t+=t,n=e.substring(2,3),n+=n,r=e.substring(3,4),r+=r):(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7)),t=parseInt(t,16),n=parseInt(n,16),r=parseInt(r,16)}}return{r:t,g:n,b:r,a:i,style:e}},h=function(){return this.ctx.isFillTransparent||0==this.globalAlpha},f=function(){return Boolean(this.ctx.isStrokeTransparent||0==this.globalAlpha)};A.prototype.fillText=function(e,t,n,r){if(isNaN(t)||isNaN(n)||"string"!=typeof e)throw eo.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(r=isNaN(r)?void 0:r,!h.call(this)){var i=O(this.ctx.transform.rotation),a=this.ctx.transform.scaleX;E.call(this,{text:e,x:t,y:n,scale:a,angle:i,align:this.textAlign,maxWidth:r})}},A.prototype.strokeText=function(e,t,n,r){if(isNaN(t)||isNaN(n)||"string"!=typeof e)throw eo.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!f.call(this)){r=isNaN(r)?void 0:r;var i=O(this.ctx.transform.rotation),a=this.ctx.transform.scaleX;E.call(this,{text:e,x:t,y:n,scale:a,renderingMode:"stroke",angle:i,align:this.textAlign,maxWidth:r})}},A.prototype.measureText=function(e){if("string"!=typeof e)throw eo.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var t=this.pdf,n=this.pdf.internal.scaleFactor,r=t.internal.getFontSize(),i=t.getStringUnitWidth(e)*r/t.internal.scaleFactor;return new function(e){var t=(e=e||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return t}}),this}({width:i*=Math.round(96*n/72*1e4)/1e4})},A.prototype.scale=function(e,t){if(isNaN(e)||isNaN(t))throw eo.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var n=new l(e,0,0,t,0,0);this.ctx.transform=this.ctx.transform.multiply(n)},A.prototype.rotate=function(e){if(isNaN(e))throw eo.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var t=new l(Math.cos(e),Math.sin(e),-Math.sin(e),Math.cos(e),0,0);this.ctx.transform=this.ctx.transform.multiply(t)},A.prototype.translate=function(e,t){if(isNaN(e)||isNaN(t))throw eo.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var n=new l(1,0,0,1,e,t);this.ctx.transform=this.ctx.transform.multiply(n)},A.prototype.transform=function(e,t,n,r,i,a){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||isNaN(i)||isNaN(a))throw eo.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var o=new l(e,t,n,r,i,a);this.ctx.transform=this.ctx.transform.multiply(o)},A.prototype.setTransform=function(e,t,n,r,i,a){e=isNaN(e)?1:e,t=isNaN(t)?0:t,n=isNaN(n)?0:n,r=isNaN(r)?1:r,i=isNaN(i)?0:i,a=isNaN(a)?0:a,this.ctx.transform=new l(e,t,n,r,i,a)};var p=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};A.prototype.drawImage=function(e,t,n,r,i,a,o,c,u){var A=this.pdf.getImageProperties(e),d=1,h=1,f=1,m=1;void 0!==r&&void 0!==c&&(f=c/r,m=u/i,d=A.width/r*c/r,h=A.height/i*u/i),void 0===a&&(a=t,o=n,t=0,n=0),void 0!==r&&void 0===c&&(c=r,u=i),void 0===r&&void 0===c&&(c=A.width,u=A.height);var b=this.ctx.transform.decompose(),x=O(b.rotate.shx),B=new l,C=(B=(B=(B=B.multiply(b.translate)).multiply(b.skew)).multiply(b.scale)).applyToRectangle(new s(a-t*f,o-n*m,r*d,i*h));if(this.autoPaging){for(var N,k=g.call(this,C),_=[],E=0;E<k.length;E+=1)-1===_.indexOf(k[E])&&_.push(k[E]);y(_);for(var S=_[0],F=_[_.length-1],I=S;I<F+1;I++){this.pdf.setPage(I);var j=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],U=1===I?this.posY+this.margin[0]:this.margin[0],P=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],L=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],D=1===I?0:P+(I-2)*L;if(0!==this.ctx.clip_path.length){var T=this.path;N=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=v(N,this.posX+this.margin[3],-D+U+this.ctx.prevPageLastElemOffset),w.call(this,"fill",!0),this.path=T}var M=JSON.parse(JSON.stringify(C));M=v([M],this.posX+this.margin[3],-D+U+this.ctx.prevPageLastElemOffset)[0];var Q=(I>S||I<F)&&p.call(this);Q&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],j,L,null).clip().discardPath()),this.pdf.addImage(e,"JPEG",M.x,M.y,M.w,M.h,null,null,x),Q&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(e,"JPEG",C.x,C.y,C.w,C.h,null,null,x)};var g=function(e,t,n){var r=[];t=t||this.pdf.internal.pageSize.width,n=n||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var i=this.posY+this.ctx.prevPageLastElemOffset;switch(e.type){default:case"mt":case"lt":r.push(Math.floor((e.y+i)/n)+1);break;case"arc":r.push(Math.floor((e.y+i-e.radius)/n)+1),r.push(Math.floor((e.y+i+e.radius)/n)+1);break;case"qct":var a=P(this.ctx.lastPoint.x,this.ctx.lastPoint.y,e.x1,e.y1,e.x,e.y);r.push(Math.floor((a.y+i)/n)+1),r.push(Math.floor((a.y+a.h+i)/n)+1);break;case"bct":var o=L(this.ctx.lastPoint.x,this.ctx.lastPoint.y,e.x1,e.y1,e.x2,e.y2,e.x,e.y);r.push(Math.floor((o.y+i)/n)+1),r.push(Math.floor((o.y+o.h+i)/n)+1);break;case"rect":r.push(Math.floor((e.y+i)/n)+1),r.push(Math.floor((e.y+e.h+i)/n)+1)}for(var s=0;s<r.length;s+=1)for(;this.pdf.internal.getNumberOfPages()<r[s];)m.call(this);return r},m=function(){var e=this.fillStyle,t=this.strokeStyle,n=this.font,r=this.lineCap,i=this.lineWidth,a=this.lineJoin;this.pdf.addPage(),this.fillStyle=e,this.strokeStyle=t,this.font=n,this.lineCap=r,this.lineWidth=i,this.lineJoin=a},v=function(e,t,n){for(var r=0;r<e.length;r++)switch(e[r].type){case"bct":e[r].x2+=t,e[r].y2+=n;case"qct":e[r].x1+=t,e[r].y1+=n;default:e[r].x+=t,e[r].y+=n}return e},y=function(e){return e.sort(function(e,t){return e-t})},b=function(e,t){var n=this.fillStyle,r=this.strokeStyle,i=this.lineCap,a=this.lineWidth,o=Math.abs(a*this.ctx.transform.scaleX),s=this.lineJoin;if(this.autoPaging){for(var l,c,u=JSON.parse(JSON.stringify(this.path)),A=JSON.parse(JSON.stringify(this.path)),d=[],h=0;h<A.length;h++)if(void 0!==A[h].x)for(var f=g.call(this,A[h]),b=0;b<f.length;b+=1)-1===d.indexOf(f[b])&&d.push(f[b]);for(var x=0;x<d.length;x++)for(;this.pdf.internal.getNumberOfPages()<d[x];)m.call(this);y(d);for(var B=d[0],C=d[d.length-1],N=B;N<C+1;N++){this.pdf.setPage(N),this.fillStyle=n,this.strokeStyle=r,this.lineCap=i,this.lineWidth=o,this.lineJoin=s;var k=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],_=1===N?this.posY+this.margin[0]:this.margin[0],E=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],S=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],F=1===N?0:E+(N-2)*S;if(0!==this.ctx.clip_path.length){var I=this.path;l=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=v(l,this.posX+this.margin[3],-F+_+this.ctx.prevPageLastElemOffset),w.call(this,e,!0),this.path=I}if(c=JSON.parse(JSON.stringify(u)),this.path=v(c,this.posX+this.margin[3],-F+_+this.ctx.prevPageLastElemOffset),!1===t||0===N){var j=(N>B||N<C)&&p.call(this);j&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],k,S,null).clip().discardPath()),w.call(this,e,t),j&&this.pdf.restoreGraphicsState()}this.lineWidth=a}this.path=u}else this.lineWidth=o,w.call(this,e,t),this.lineWidth=a},w=function(e,t){if(("stroke"!==e||t||!f.call(this))&&("stroke"===e||t||!h.call(this))){for(var n,r,i=[],a=this.path,o=0;o<a.length;o++){var s=a[o];switch(s.type){case"begin":i.push({begin:!0});break;case"close":i.push({close:!0});break;case"mt":i.push({start:s,deltas:[],abs:[]});break;case"lt":var l=i.length;if(a[o-1]&&!isNaN(a[o-1].x)&&(n=[s.x-a[o-1].x,s.y-a[o-1].y],l>0))for(;l>=0;l--)if(!0!==i[l-1].close&&!0!==i[l-1].begin){i[l-1].deltas.push(n),i[l-1].abs.push(s);break}break;case"bct":n=[s.x1-a[o-1].x,s.y1-a[o-1].y,s.x2-a[o-1].x,s.y2-a[o-1].y,s.x-a[o-1].x,s.y-a[o-1].y],i[i.length-1].deltas.push(n);break;case"qct":var c=a[o-1].x+2/3*(s.x1-a[o-1].x),u=a[o-1].y+2/3*(s.y1-a[o-1].y),A=s.x+2/3*(s.x1-s.x),d=s.y+2/3*(s.y1-s.y),p=s.x,g=s.y;n=[c-a[o-1].x,u-a[o-1].y,A-a[o-1].x,d-a[o-1].y,p-a[o-1].x,g-a[o-1].y],i[i.length-1].deltas.push(n);break;case"arc":i.push({deltas:[],abs:[],arc:!0}),Array.isArray(i[i.length-1].abs)&&i[i.length-1].abs.push(s)}}r=t?null:"stroke"===e?"stroke":"fill";for(var m=!1,v=0;v<i.length;v++)if(i[v].arc)for(var y=i[v].abs,b=0;b<y.length;b++){var w=y[b];"arc"===w.type?C.call(this,w.x,w.y,w.radius,w.startAngle,w.endAngle,w.counterclockwise,void 0,t,!m):S.call(this,w.x,w.y),m=!0}else if(!0===i[v].close)this.pdf.internal.out("h"),m=!1;else if(!0!==i[v].begin){var x=i[v].start.x,B=i[v].start.y;F.call(this,i[v].deltas,x,B),m=!0}r&&N.call(this,r),t&&k.call(this)}},x=function(e){var t=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,n=t*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return e-n;case"top":return e+t-n;case"hanging":return e+t-2*n;case"middle":return e+t/2-n;default:return e}},B=function(e){return e+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};A.prototype.createLinearGradient=function(){var e=function(){};return e.colorStops=[],e.addColorStop=function(e,t){this.colorStops.push([e,t])},e.getColor=function(){return 0===this.colorStops.length?"#000000":this.colorStops[0][1]},e.isCanvasGradient=!0,e},A.prototype.createPattern=function(){return this.createLinearGradient()},A.prototype.createRadialGradient=function(){return this.createLinearGradient()};var C=function(e,t,n,r,i,a,o,s,l){for(var c=j.call(this,n,r,i,a),u=0;u<c.length;u++){var A=c[u];0===u&&(l?_.call(this,A.x1+e,A.y1+t):S.call(this,A.x1+e,A.y1+t)),I.call(this,e,t,A.x2,A.y2,A.x3,A.y3,A.x4,A.y4)}s?k.call(this):N.call(this,o)},N=function(e){switch(e){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},k=function(){this.pdf.clip(),this.pdf.discardPath()},_=function(e,t){this.pdf.internal.out(n(e)+" "+r(t)+" m")},E=function(e){var t;switch(e.align){case"right":case"end":t="right";break;case"center":t="center";break;default:t="left"}var n,r,i,a=this.pdf.getTextDimensions(e.text),c=x.call(this,e.y),u=B.call(this,c)-a.h,A=this.ctx.transform.applyToPoint(new o(e.x,c));if(this.autoPaging){var d=this.ctx.transform.decompose(),h=new l;h=(h=(h=h.multiply(d.translate)).multiply(d.skew)).multiply(d.scale);for(var f=this.ctx.transform.applyToRectangle(new s(e.x,c,a.w,a.h)),m=h.applyToRectangle(new s(e.x,u,a.w,a.h)),b=g.call(this,m),C=[],N=0;N<b.length;N+=1)-1===C.indexOf(b[N])&&C.push(b[N]);y(C);for(var k=C[0],_=C[C.length-1],E=k;E<_+1;E++){this.pdf.setPage(E);var S=1===E?this.posY+this.margin[0]:this.margin[0],F=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],I=this.pdf.internal.pageSize.height-this.margin[2],j=I-this.margin[0],U=this.pdf.internal.pageSize.width-this.margin[1],O=U-this.margin[3],P=1===E?0:F+(E-2)*j;if(0!==this.ctx.clip_path.length){var L=this.path;n=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=v(n,this.posX+this.margin[3],-1*P+S),w.call(this,"fill",!0),this.path=L}var D=v([JSON.parse(JSON.stringify(m))],this.posX+this.margin[3],-P+S+this.ctx.prevPageLastElemOffset)[0];e.scale>=.01&&(r=this.pdf.internal.getFontSize(),this.pdf.setFontSize(r*e.scale),i=this.lineWidth,this.lineWidth=i*e.scale);var T="text"!==this.autoPaging;if(T||D.y+D.h<=I){if(T||D.y>=S&&D.x<=U){var M=T?e.text:this.pdf.splitTextToSize(e.text,e.maxWidth||U-D.x)[0],Q=v([JSON.parse(JSON.stringify(f))],this.posX+this.margin[3],-P+S+this.ctx.prevPageLastElemOffset)[0],R=T&&(E>k||E<_)&&p.call(this);R&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],O,j,null).clip().discardPath()),this.pdf.text(M,Q.x,Q.y,{angle:e.angle,align:t,renderingMode:e.renderingMode}),R&&this.pdf.restoreGraphicsState()}}else D.y<I&&(this.ctx.prevPageLastElemOffset+=I-D.y);e.scale>=.01&&(this.pdf.setFontSize(r),this.lineWidth=i)}}else e.scale>=.01&&(r=this.pdf.internal.getFontSize(),this.pdf.setFontSize(r*e.scale),i=this.lineWidth,this.lineWidth=i*e.scale),this.pdf.text(e.text,A.x+this.posX,A.y+this.posY,{angle:e.angle,align:t,renderingMode:e.renderingMode,maxWidth:e.maxWidth}),e.scale>=.01&&(this.pdf.setFontSize(r),this.lineWidth=i)},S=function(e,t,i,a){i=i||0,a=a||0,this.pdf.internal.out(n(e+i)+" "+r(t+a)+" l")},F=function(e,t,n){return this.pdf.lines(e,t,n,null,null)},I=function(e,n,r,o,s,l,c,u){this.pdf.internal.out([t(i(r+e)),t(a(o+n)),t(i(s+e)),t(a(l+n)),t(i(c+e)),t(a(u+n)),"c"].join(" "))},j=function(e,t,n,r){for(var i=2*Math.PI,a=Math.PI/2;t>n;)t-=i;var o=Math.abs(n-t);o<i&&r&&(o=i-o);for(var s=[],l=r?-1:1,c=t;o>1e-5;){var u=c+l*Math.min(o,a);s.push(U.call(this,e,c,u)),o-=Math.abs(u-c),c=u}return s},U=function(e,t,n){var r=(n-t)/2,i=e*Math.cos(r),a=e*Math.sin(r),o=i,s=-a,l=o*o+s*s,c=l+o*i+s*a,u=4/3*(Math.sqrt(2*l*c)-c)/(o*a-s*i),A=o-u*s,d=s+u*o,h=A,f=-d,p=r+t,g=Math.cos(p),m=Math.sin(p);return{x1:e*Math.cos(t),y1:e*Math.sin(t),x2:A*g-d*m,y2:A*m+d*g,x3:h*g-f*m,y3:h*m+f*g,x4:e*Math.cos(n),y4:e*Math.sin(n)}},O=function(e){return 180*e/Math.PI},P=function(e,t,n,r,i,a){var o=e+.5*(n-e),l=t+.5*(r-t),c=i+.5*(n-i),u=a+.5*(r-a),A=Math.min(e,i,o,c),d=Math.max(e,i,o,c),h=Math.min(t,a,l,u),f=Math.max(t,a,l,u);return new s(A,h,d-A,f-h)},L=function(e,t,n,r,i,a,o,l){var c,u,A,d,h,f,p,g,m,v,y,b,w,x,B=n-e,C=r-t,N=i-n,k=a-r,_=o-i,E=l-a;for(u=0;u<41;u++)m=(p=(A=e+(c=u/40)*B)+c*((h=n+c*N)-A))+c*(h+c*(i+c*_-h)-p),v=(g=(d=t+c*C)+c*((f=r+c*k)-d))+c*(f+c*(a+c*E-f)-g),0==u?(y=m,b=v,w=m,x=v):(y=Math.min(y,m),b=Math.min(b,v),w=Math.max(w,m),x=Math.max(x,v));return new s(Math.round(y),Math.round(b),Math.round(w-y),Math.round(x-b))},D=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var e,t,n=(e=this.ctx.lineDash,t=this.ctx.lineDashOffset,JSON.stringify({lineDash:e,lineDashOffset:t}));this.prevLineDash!==n&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=n)}}}(jo.API),function(e){var t=function(e){var t,n,r,i,a,o,s,l,c,u;for(/[^\x00-\xFF]/.test(e),n=[],r=0,i=(e+=t="\0\0\0\0".slice(e.length%4||4)).length;i>r;r+=4)0!==(a=(e.charCodeAt(r)<<24)+(e.charCodeAt(r+1)<<16)+(e.charCodeAt(r+2)<<8)+e.charCodeAt(r+3))?(o=(a=((a=((a=((a=(a-(u=a%85))/85)-(c=a%85))/85)-(l=a%85))/85)-(s=a%85))/85)%85,n.push(o+33,s+33,l+33,c+33,u+33)):n.push(122);return function(e,t){for(var n=t;n>0;n--)e.pop()}(n,t.length),String.fromCharCode.apply(String,n)+"~>"},n=function(e){var t,n,r,i,a,o=String,s="length",l=255,c="charCodeAt",u="slice",A="replace";for(e[u](-2),e=e[u](0,-2)[A](/\s/g,"")[A]("z","!!!!!"),r=[],i=0,a=(e+=t="uuuuu"[u](e[s]%5||5))[s];a>i;i+=5)n=52200625*(e[c](i)-33)+614125*(e[c](i+1)-33)+7225*(e[c](i+2)-33)+85*(e[c](i+3)-33)+(e[c](i+4)-33),r.push(l&n>>24,l&n>>16,l&n>>8,l&n);return function(e,t){for(var n=t;n>0;n--)e.pop()}(r,t[s]),o.fromCharCode.apply(o,r)},r=function(e){return e.split("").map(function(e){return("0"+e.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(e){var t=new RegExp(/^([0-9A-Fa-f]{2})+$/);if(-1!==(e=e.replace(/\s/g,"")).indexOf(">")&&(e=e.substr(0,e.indexOf(">"))),e.length%2&&(e+="0"),!1===t.test(e))return"";for(var n="",r=0;r<e.length;r+=2)n+=String.fromCharCode("0x"+(e[r]+e[r+1]));return n},a=function(e){for(var t=new Uint8Array(e.length),n=e.length;n--;)t[n]=e.charCodeAt(n);return(t=Ct(t)).reduce(function(e,t){return e+String.fromCharCode(t)},"")};e.processDataByFilters=function(e,o){var s=0,l=e||"",c=[];for("string"==typeof(o=o||[])&&(o=[o]),s=0;s<o.length;s+=1)switch(o[s]){case"ASCII85Decode":case"/ASCII85Decode":l=n(l),c.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":l=t(l),c.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":l=i(l),c.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":l=r(l),c.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":l=a(l),c.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[s]+'" is not implemented')}return{data:l,reverseChain:c.reverse().join(" ")}}}(jo.API),function(e){e.loadFile=function(e,t,n){return function(e,t,n){t=!1!==t,n="function"==typeof n?n:function(){};var r=void 0;try{r=function(e,t,n){var r=new XMLHttpRequest,i=0,a=function(e){var t=e.length,n=[],r=String.fromCharCode;for(i=0;i<t;i+=1)n.push(r(255&e.charCodeAt(i)));return n.join("")};if(r.open("GET",e,!t),r.overrideMimeType("text/plain; charset=x-user-defined"),!1===t&&(r.onload=function(){200===r.status?n(a(this.responseText)):n(void 0)}),r.send(null),t&&200===r.status)return a(r.responseText)}(e,t,n)}catch(et){}return r}(e,t,n)},e.loadImageFile=e.loadFile}(jo.API),function(e){function t(){return(Za.html2canvas?Promise.resolve(Za.html2canvas):Promise.resolve().then(n.t.bind(n,1052,23))).catch(function(e){return Promise.reject(new Error("Could not load html2canvas: "+e))}).then(function(e){return e.default?e.default:e})}function r(){return(Za.DOMPurify?Promise.resolve(Za.DOMPurify):n.e(82).then(n.bind(n,7082))).catch(function(e){return Promise.reject(new Error("Could not load dompurify: "+e))}).then(function(e){return e.default?e.default:e})}var i=function(e){var t=(0,Qe.A)(e);return"undefined"===t?"undefined":"string"===t||e instanceof String?"string":"number"===t||e instanceof Number?"number":"function"===t||e instanceof Function?"function":e&&e.constructor===Array?"array":e&&1===e.nodeType?"element":"object"===t?"object":"unknown"},a=function(e,t){var n=document.createElement(e);for(var r in t.className&&(n.className=t.className),t.innerHTML&&t.dompurify&&(n.innerHTML=t.dompurify.sanitize(t.innerHTML)),t.style)n.style[r]=t.style[r];return n},o=function e(t,n){for(var r=3===t.nodeType?document.createTextNode(t.nodeValue):t.cloneNode(!1),i=t.firstChild;i;i=i.nextSibling)!0!==n&&1===i.nodeType&&"SCRIPT"===i.nodeName||r.appendChild(e(i,n));return 1===t.nodeType&&("CANVAS"===t.nodeName?(r.width=t.width,r.height=t.height,r.getContext("2d").drawImage(t,0,0)):"TEXTAREA"!==t.nodeName&&"SELECT"!==t.nodeName||(r.value=t.value),r.addEventListener("load",function(){r.scrollTop=t.scrollTop,r.scrollLeft=t.scrollLeft},!0)),r},s=function e(t){var n=Object.assign(e.convert(Promise.resolve()),JSON.parse(JSON.stringify(e.template))),r=e.convert(Promise.resolve(),n);return(r=r.setProgress(1,e,1,[e])).set(t)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(e,t){return e.__proto__=t||s.prototype,e},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(e,t){return this.then(function(){switch(t=t||function(e){switch(i(e)){case"string":return"string";case"element":return"canvas"===e.nodeName.toLowerCase()?"canvas":"element";default:return"unknown"}}(e),t){case"string":return this.then(r).then(function(t){return this.set({src:a("div",{innerHTML:e,dompurify:t})})});case"element":return this.set({src:e});case"canvas":return this.set({canvas:e});case"img":return this.set({img:e});default:return this.error("Unknown source type.")}})},s.prototype.to=function(e){switch(e){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var e={position:"relative",display:"inline-block",width:("number"!=typeof this.opt.width||isNaN(this.opt.width)||"number"!=typeof this.opt.windowWidth||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},t=o(this.prop.src,this.opt.html2canvas.javascriptEnabled);"BODY"===t.tagName&&(e.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:e}),this.prop.container.appendChild(t),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var e=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(e).then(t).then(function(e){var t=Object.assign({},this.opt.html2canvas);return delete t.onrendered,e(this.prop.container,t)}).then(function(e){(this.opt.html2canvas.onrendered||function(){})(e),this.prop.canvas=e,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var e=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(e).then(t).then(function(e){var t=this.opt.jsPDF,n=this.opt.fontFaces,r="number"!=typeof this.opt.width||isNaN(this.opt.width)||"number"!=typeof this.opt.windowWidth||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,i=Object.assign({async:!0,allowTaint:!0,scale:r,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete i.onrendered,t.context2d.autoPaging=void 0===this.opt.autoPaging||this.opt.autoPaging,t.context2d.posX=this.opt.x,t.context2d.posY=this.opt.y,t.context2d.margin=this.opt.margin,t.context2d.fontFaces=n,n)for(var a=0;a<n.length;++a){var o=n[a],s=o.src.find(function(e){return"truetype"===e.format});s&&t.addFont(s.url,o.ref.name,o.ref.style)}return i.windowHeight=i.windowHeight||0,i.windowHeight=0==i.windowHeight?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):i.windowHeight,t.context2d.save(!0),e(this.prop.container,i)}).then(function(e){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(e),this.prop.canvas=e,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var e=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=e})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(e,t,n){return"img"===(n=n||"pdf").toLowerCase()||"image"===n.toLowerCase()?this.outputImg(e,t):this.outputPdf(e,t)},s.prototype.outputPdf=function(e,t){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(e,t)})},s.prototype.outputImg=function(e){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(e){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+e+'" is not supported.'}})},s.prototype.save=function(e){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(e?{filename:e}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(e){if("object"!==i(e))return this;var t=Object.keys(e||{}).map(function(t){if(t in s.template.prop)return function(){this.prop[t]=e[t]};switch(t){case"margin":return this.setMargin.bind(this,e.margin);case"jsPDF":return function(){return this.opt.jsPDF=e.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,e.pageSize);default:return function(){this.opt[t]=e[t]}}},this);return this.then(function(){return this.thenList(t)})},s.prototype.get=function(e,t){return this.then(function(){var n=e in s.template.prop?this.prop[e]:this.opt[e];return t?t(n):n})},s.prototype.setMargin=function(e){return this.then(function(){switch(i(e)){case"number":e=[e,e,e,e];case"array":if(2===e.length&&(e=[e[0],e[1],e[0],e[1]]),4===e.length)break;default:return this.error("Invalid margin array.")}this.opt.margin=e}).then(this.setPageSize)},s.prototype.setPageSize=function(e){function t(e,t){return Math.floor(e*t/72*96)}return this.then(function(){(e=e||jo.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(e.inner={width:e.width-this.opt.margin[1]-this.opt.margin[3],height:e.height-this.opt.margin[0]-this.opt.margin[2]},e.inner.px={width:t(e.inner.width,e.k),height:t(e.inner.height,e.k)},e.inner.ratio=e.inner.height/e.inner.width),this.prop.pageSize=e})},s.prototype.setProgress=function(e,t,n,r){return null!=e&&(this.progress.val=e),null!=t&&(this.progress.state=t),null!=n&&(this.progress.n=n),null!=r&&(this.progress.stack=r),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(e,t,n,r){return this.setProgress(e?this.progress.val+e:null,t||null,n?this.progress.n+n:null,r?this.progress.stack.concat(r):null)},s.prototype.then=function(e,t){var n=this;return this.thenCore(e,t,function(e,t){return n.updateProgress(null,null,1,[e]),Promise.prototype.then.call(this,function(t){return n.updateProgress(null,e),t}).then(e,t).then(function(e){return n.updateProgress(1),e})})},s.prototype.thenCore=function(e,t,n){n=n||Promise.prototype.then;var r=this;e&&(e=e.bind(r)),t&&(t=t.bind(r));var i=-1!==Promise.toString().indexOf("[native code]")&&"Promise"===Promise.name?r:s.convert(Object.assign({},r),Promise.prototype),a=n.call(i,e,t);return s.convert(a,r.__proto__)},s.prototype.thenExternal=function(e,t){return Promise.prototype.then.call(this,e,t)},s.prototype.thenList=function(e){var t=this;return e.forEach(function(e){t=t.thenCore(e)}),t},s.prototype.catch=function(e){e&&(e=e.bind(this));var t=Promise.prototype.catch.call(this,e);return s.convert(t,this)},s.prototype.catchExternal=function(e){return Promise.prototype.catch.call(this,e)},s.prototype.error=function(e){return this.then(function(){throw new Error(e)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,jo.getPageSize=function(e,t,n){if("object"===(0,Qe.A)(e)){var r=e;e=r.orientation,t=r.unit||t,n=r.format||n}t=t||"mm",n=n||"a4",e=(""+(e||"P")).toLowerCase();var i,a=(""+n).toLowerCase(),o={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(t){case"pt":i=1;break;case"mm":i=72/25.4;break;case"cm":i=72/2.54;break;case"in":i=72;break;case"px":i=.75;break;case"pc":case"em":i=12;break;case"ex":i=6;break;default:throw"Invalid unit: "+t}var s,l=0,c=0;if(o.hasOwnProperty(a))l=o[a][1]/i,c=o[a][0]/i;else try{l=n[1],c=n[0]}catch(ao){throw new Error("Invalid format: "+n)}if("p"===e||"portrait"===e)e="p",c>l&&(s=c,c=l,l=s);else{if("l"!==e&&"landscape"!==e)throw"Invalid orientation: "+e;e="l",l>c&&(s=c,c=l,l=s)}return{width:c,height:l,unit:t,k:i,orientation:e}},e.html=function(e,t){(t=t||{}).callback=t.callback||function(){},t.html2canvas=t.html2canvas||{},t.html2canvas.canvas=t.html2canvas.canvas||this.canvas,t.jsPDF=t.jsPDF||this,t.fontFaces=t.fontFaces?t.fontFaces.map(Ns):null;var n=new s(t);return t.worker?n:n.from(e).doCallback()}}(jo.API),jo.API.addJS=function(e){return Ps=e,this.internal.events.subscribe("postPutResources",function(){Us=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Us+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),Os=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+Ps+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){void 0!==Us&&void 0!==Os&&this.internal.out("/Names <</JavaScript "+Us+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var e=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var r=e.outline.render().split(/\r\n/),i=0;i<r.length;i++){var a=r[i],o=n.exec(a);if(null!=o){var s=o[1];e.internal.newObjectDeferredBegin(s,!1)}e.internal.write(a)}if(this.outline.createNamedDestinations){var l=this.internal.pages.length,c=[];for(i=0;i<l;i++){var u=e.internal.newObject();c.push(u);var A=e.internal.getPageInfo(i+1);e.internal.write("<< /D["+A.objId+" 0 R /XYZ null null null]>> endobj")}var d=e.internal.newObject();for(e.internal.write("<< /Names [ "),i=0;i<c.length;i++)e.internal.write("(page_"+(i+1)+")"+c[i]+" 0 R");e.internal.write(" ] >>","endobj"),t=e.internal.newObject(),e.internal.write("<< /Dests "+d+" 0 R"),e.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){var e=this;e.outline.root.children.length>0&&(e.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&e.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var e=this;e.outline={createNamedDestinations:!1,root:{children:[]}},e.outline.add=function(e,t,n){var r={title:t,options:n,children:[]};return null==e&&(e=this.root),e.children.push(r),r},e.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=e,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},e.outline.genIds_r=function(t){t.id=e.internal.newObjectDeferred();for(var n=0;n<t.children.length;n++)this.genIds_r(t.children[n])},e.outline.renderRoot=function(e){this.objStart(e),this.line("/Type /Outlines"),e.children.length>0&&(this.line("/First "+this.makeRef(e.children[0])),this.line("/Last "+this.makeRef(e.children[e.children.length-1]))),this.line("/Count "+this.count_r({count:0},e)),this.objEnd()},e.outline.renderItems=function(t){for(var n=this.ctx.pdf.internal.getVerticalCoordinateString,r=0;r<t.children.length;r++){var i=t.children[r];this.objStart(i),this.line("/Title "+this.makeString(i.title)),this.line("/Parent "+this.makeRef(t)),r>0&&this.line("/Prev "+this.makeRef(t.children[r-1])),r<t.children.length-1&&this.line("/Next "+this.makeRef(t.children[r+1])),i.children.length>0&&(this.line("/First "+this.makeRef(i.children[0])),this.line("/Last "+this.makeRef(i.children[i.children.length-1])));var a=this.count=this.count_r({count:0},i);if(a>0&&this.line("/Count "+a),i.options&&i.options.pageNumber){var o=e.internal.getPageInfo(i.options.pageNumber);this.line("/Dest ["+o.objId+" 0 R /XYZ 0 "+n(0)+" 0]")}this.objEnd()}for(var s=0;s<t.children.length;s++)this.renderItems(t.children[s])},e.outline.line=function(e){this.ctx.val+=e+"\r\n"},e.outline.makeRef=function(e){return e.id+" 0 R"},e.outline.makeString=function(t){return"("+e.internal.pdfEscape(t)+")"},e.outline.objStart=function(e){this.ctx.val+="\r\n"+e.id+" 0 obj\r\n<<\r\n"},e.outline.objEnd=function(){this.ctx.val+=">> \r\nendobj\r\n"},e.outline.count_r=function(e,t){for(var n=0;n<t.children.length;n++)e.count++,this.count_r(e,t.children[n]);return e.count}}])}(jo.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(e,n,r,i,a,o){var s,l=this.decode.DCT_DECODE,c=null;if("string"==typeof e||this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e)){switch(e=a||e,e=this.__addimage__.isArrayBuffer(e)?new Uint8Array(e):e,s=function(e){for(var n,r=256*e.charCodeAt(4)+e.charCodeAt(5),i=e.length,a={width:0,height:0,numcomponents:1},o=4;o<i;o+=2){if(o+=r,-1!==t.indexOf(e.charCodeAt(o+1))){n=256*e.charCodeAt(o+5)+e.charCodeAt(o+6),a={width:256*e.charCodeAt(o+7)+e.charCodeAt(o+8),height:n,numcomponents:e.charCodeAt(o+9)};break}r=256*e.charCodeAt(o+2)+e.charCodeAt(o+3)}return a}(e=this.__addimage__.isArrayBufferView(e)?this.__addimage__.arrayBufferToBinaryString(e):e),s.numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}c={data:e,width:s.width,height:s.height,colorSpace:o,bitsPerComponent:8,filter:l,index:n,alias:r}}return c}}(jo.API),jo.API.processPNG=function(e,t,n,r){if(this.__addimage__.isArrayBuffer(e)&&(e=new Uint8Array(e)),this.__addimage__.isArrayBufferView(e)){var i,a=function(e,t){return new Ya(e,t).decode()}(e,{checkCrc:!0}),o=a.width,s=a.height,l=a.channels,c=a.palette,u=a.depth;i=c&&1===l?function(e){for(var t=e.width,n=e.height,r=e.data,i=e.palette,a=e.depth,o=!1,s=[],l=[],c=void 0,u=!1,A=0,d=0;d<i.length;d++){var h=_t(i[d],4),f=h[0],p=h[1],g=h[2],m=h[3];s.push(f,p,g),null!=m&&(0===m?(A++,l.length<1&&l.push(d)):m<255&&(u=!0))}if(u||A>1){o=!0,l=void 0;var v=t*n;c=new Uint8Array(v);for(var y=new DataView(r.buffer),b=0;b<v;b++){var w=_t(i[Ys(y,b,a)],4)[3];c[b]=w}}else 0===A&&(l=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:o?8:void 0,colorBytes:r,alphaBytes:c,needSMask:o,palette:s,mask:l}}(a):2===l||4===l?function(e){for(var t=e.data,n=e.width,r=e.height,i=e.channels,a=e.depth,o=2===i?"DeviceGray":"DeviceRGB",s=i-1,l=n*r,c=s,u=l*c,A=1*l,d=Math.ceil(u*a/8),h=Math.ceil(A*a/8),f=new Uint8Array(d),p=new Uint8Array(h),g=new DataView(t.buffer),m=new DataView(f.buffer),v=new DataView(p.buffer),y=!1,b=0;b<l;b++){for(var w=b*i,x=0;x<c;x++)Js(m,Ys(g,w+x,a),b*c+x,a);var B=Ys(g,w+c,a);B<(1<<a)-1&&(y=!0),Js(v,B,1*b,a)}return{colorSpace:o,colorsPerPixel:s,sMaskBitsPerComponent:y?a:void 0,colorBytes:f,alphaBytes:p,needSMask:y}}(a):function(e){var t=e.data,n=1===e.channels?"DeviceGray":"DeviceRGB";return{colorSpace:n,colorsPerPixel:"DeviceGray"===n?1:3,colorBytes:t instanceof Uint16Array?function(e){for(var t=e.length,n=new Uint8Array(2*t),r=new DataView(n.buffer,n.byteOffset,n.byteLength),i=0;i<t;i++)r.setUint16(2*i,e[i],!1);return n}(t):t,needSMask:!1}}(a);var A,d,h,f=i,p=f.colorSpace,g=f.colorsPerPixel,m=f.sMaskBitsPerComponent,v=f.colorBytes,y=f.alphaBytes,b=f.needSMask,w=f.palette,x=f.mask,B=null;return r!==jo.API.image_compression.NONE?(B=function(e){var t;switch(e){case jo.API.image_compression.FAST:t=11;break;case jo.API.image_compression.MEDIUM:t=13;break;case jo.API.image_compression.SLOW:t=14;break;default:t=12}return t}(r),A=this.decode.FLATE_DECODE,d="/Predictor ".concat(B," /Colors ").concat(g," /BitsPerComponent ").concat(u," /Columns ").concat(o),e=Hs(v,Math.ceil(o*g*u/8),g,u,r),b&&(h=Hs(y,Math.ceil(o*m/8),1,m,r))):(A=void 0,d=void 0,e=v,b&&(h=y)),(this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e))&&(e=this.__addimage__.arrayBufferToBinaryString(e)),(h&&this.__addimage__.isArrayBuffer(h)||this.__addimage__.isArrayBufferView(h))&&(h=this.__addimage__.arrayBufferToBinaryString(h)),{alias:n,data:e,index:t,filter:A,decodeParameters:d,transparency:x,palette:w,sMask:h,predictor:B,width:o,height:s,bitsPerComponent:u,sMaskBitsPerComponent:m,colorSpace:p}}},function(e){e.processGIF89A=function(t,n,r,i){var a=new $s(t),o=a.width,s=a.height,l=[];a.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:o,height:s},u=new tl(100).encode(c,100);return e.processJPEG.call(this,u,n,r,i)},e.processGIF87A=e.processGIF89A}(jo.API),nl.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,16===this.bitPP&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=0===this.colors?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:i,green:r,blue:n,quad:a}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},nl.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(KD){eo.log("bit decode error:"+KD)}},nl.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),n=t%4;for(e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,i=0;i<t;i++)for(var a=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+8*i*4,s=0;s<8&&8*i+s<this.width;s++){var l=this.palette[a>>7-s&1];this.data[o+4*s]=l.blue,this.data[o+4*s+1]=l.green,this.data[o+4*s+2]=l.red,this.data[o+4*s+3]=255}0!==n&&(this.pos+=4-n)}},nl.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<e;i++){var a=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+2*i*4,s=a>>4,l=15&a,c=this.palette[s];if(this.data[o]=c.blue,this.data[o+1]=c.green,this.data[o+2]=c.red,this.data[o+3]=255,2*i+1>=this.width)break;c=this.palette[l],this.data[o+4]=c.blue,this.data[o+4+1]=c.green,this.data[o+4+2]=c.red,this.data[o+4+3]=255}0!==t&&(this.pos+=4-t)}},nl.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+4*r;if(i<this.palette.length){var o=this.palette[i];this.data[a]=o.red,this.data[a+1]=o.green,this.data[a+2]=o.blue,this.data[a+3]=255}else this.data[a]=255,this.data[a+1]=255,this.data[a+2]=255,this.data[a+3]=255}0!==e&&(this.pos+=4-e)}},nl.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(a&t)/t*255|0,s=(a>>5&t)/t*255|0,l=(a>>10&t)/t*255|0,c=a>>15?255:0,u=r*this.width*4+4*i;this.data[u]=l,this.data[u+1]=s,this.data[u+2]=o,this.data[u+3]=c}this.pos+=e}},nl.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(o&t)/t*255|0,l=(o>>5&n)/n*255|0,c=(o>>11)/t*255|0,u=i*this.width*4+4*a;this.data[u]=c,this.data[u+1]=l,this.data[u+2]=s,this.data[u+3]=255}this.pos+=e}},nl.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*n;this.data[o]=a,this.data[o+1]=i,this.data[o+2]=r,this.data[o+3]=255}this.pos+=this.width%4}},nl.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),s=t*this.width*4+4*n;this.data[s]=a,this.data[s+1]=i,this.data[s+2]=r,this.data[s+3]=o}},nl.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,n,r,i){var a=new nl(t,!1),o=a.width,s=a.height,l={data:a.getData(),width:o,height:s},c=new tl(100).encode(l,100);return e.processJPEG.call(this,c,n,r,i)}}(jo.API),rl.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,n,r,i){var a=new rl(t),o=a.width,s=a.height,l={data:a.getData(),width:o,height:s},c=new tl(100).encode(l,100);return e.processJPEG.call(this,c,n,r,i)}}(jo.API),jo.API.processRGBA=function(e,t,n){for(var r=e.data,i=r.length,a=new Uint8Array(i/4*3),o=new Uint8Array(i/4),s=0,l=0,c=0;c<i;c+=4){var u=r[c],A=r[c+1],d=r[c+2],h=r[c+3];a[s++]=u,a[s++]=A,a[s++]=d,o[l++]=h}var f=this.__addimage__.arrayBufferToBinaryString(a);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:f,index:t,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},jo.API.setLanguage=function(e){return void 0===this.internal.languageSettings&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),void 0!=={af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]&&(this.internal.languageSettings.languageCode=e,!1===this.internal.languageSettings.isSubscribed&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Ls=jo.API,Ds=Ls.getCharWidthsArray=function(e,t){var n,r,i=(t=t||{}).font||this.internal.getFont(),a=t.fontSize||this.internal.getFontSize(),o=t.charSpace||this.internal.getCharSpace(),s=t.widths?t.widths:i.metadata.Unicode.widths,l=s.fof?s.fof:1,c=t.kerning?t.kerning:i.metadata.Unicode.kerning,u=c.fof?c.fof:1,A=!1!==t.doKerning,d=0,h=e.length,f=0,p=s[0]||l,g=[];for(n=0;n<h;n++)r=e.charCodeAt(n),"function"==typeof i.metadata.widthOfString?g.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+o*(1e3/a)||0)/1e3):(d=A&&"object"===(0,Qe.A)(c[r])&&!isNaN(parseInt(c[r][f],10))?c[r][f]/u:0,g.push((s[r]||p)/l+d)),f=r;return g},Ts=Ls.getStringUnitWidth=function(e,t){var n=(t=t||{}).fontSize||this.internal.getFontSize(),r=t.font||this.internal.getFont(),i=t.charSpace||this.internal.getCharSpace();return Ls.processArabic&&(e=Ls.processArabic(e)),"function"==typeof r.metadata.widthOfString?r.metadata.widthOfString(e,n,i)/n:Ds.apply(this,arguments).reduce(function(e,t){return e+t},0)},Ms=function(e,t,n,r){for(var i=[],a=0,o=e.length,s=0;a!==o&&s+t[a]<n;)s+=t[a],a++;i.push(e.slice(0,a));var l=a;for(s=0;a!==o;)s+t[a]>r&&(i.push(e.slice(l,a)),s=0,l=a),s+=t[a],a++;return l!==a&&i.push(e.slice(l,a)),i},Qs=function(e,t,n){n||(n={});var r,i,a,o,s,l,c,u=[],A=[u],d=n.textIndent||0,h=0,f=0,p=e.split(" "),g=Ds.apply(this,[" ",n])[0];if(l=-1===n.lineIndent?p[0].length+2:n.lineIndent||0){var m=Array(l).join(" "),v=[];p.map(function(e){(e=e.split(/\s*\n/)).length>1?v=v.concat(e.map(function(e,t){return(t&&e.length?"\n":"")+e})):v.push(e[0])}),p=v,l=Ts.apply(this,[m,n])}for(a=0,o=p.length;a<o;a++){var y=0;if(r=p[a],l&&"\n"==r[0]&&(r=r.substr(1),y=1),d+h+(f=(i=Ds.apply(this,[r,n])).reduce(function(e,t){return e+t},0))>t||y){if(f>t){for(s=Ms.apply(this,[r,i,t-(d+h),t]),u.push(s.shift()),u=[s.pop()];s.length;)A.push([s.shift()]);f=i.slice(r.length-(u[0]?u[0].length:0)).reduce(function(e,t){return e+t},0)}else u=[r];A.push(u),d=f+l,h=g}else u.push(r),d+=h+f,h=g}return c=l?function(e,t){return(t?m:"")+e.join(" ")}:function(e){return e.join(" ")},A.map(c)},Ls.splitTextToSize=function(e,t,n){var r,i=(n=n||{}).fontSize||this.internal.getFontSize(),a=function(e){if(e.widths&&e.kerning)return{widths:e.widths,kerning:e.kerning};var t=this.internal.getFont(e.fontName,e.fontStyle),n="Unicode";return t.metadata[n]?{widths:t.metadata[n].widths||{0:1},kerning:t.metadata[n].kerning||{}}:{font:t.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}.call(this,n);r=Array.isArray(e)?e:String(e).split(/\r?\n/);var o=1*this.internal.scaleFactor*t/i;a.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,a.lineIndent=n.lineIndent;var s,l,c=[];for(s=0,l=r.length;s<l;s++)c=c.concat(Qs.apply(this,[r[s],o,a]));return c},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="0123456789abcdef",n="klmnopqrstuvwxyz",r={},i={},a=0;a<16;a++)r[n[a]]=t[a],i[t[a]]=n[a];var o=function(e){return"0x"+parseInt(e,10).toString(16)},s=e.__fontmetrics__.compress=function(e){var t,n,r,a,l=["{"];for(var c in e){if(t=e[c],isNaN(parseInt(c,10))?n="'"+c+"'":(c=parseInt(c,10),n=(n=o(c).slice(2)).slice(0,-1)+i[n.slice(-1)]),"number"==typeof t)t<0?(r=o(t).slice(3),a="-"):(r=o(t).slice(2),a=""),r=a+r.slice(0,-1)+i[r.slice(-1)];else{if("object"!==(0,Qe.A)(t))throw new Error("Don't know what to do with value type "+(0,Qe.A)(t)+".");r=s(t)}l.push(n+r)}return l.push("}"),l.join("")},l=e.__fontmetrics__.uncompress=function(e){if("string"!=typeof e)throw new Error("Invalid argument passed to uncompress.");for(var t,n,i,a,o={},s=1,l=o,c=[],u="",A="",d=e.length-1,h=1;h<d;h+=1)"'"==(a=e[h])?t?(i=t.join(""),t=void 0):t=[]:t?t.push(a):"{"==a?(c.push([l,i]),l={},i=void 0):"}"==a?((n=c.pop())[0][n[1]]=l,i=void 0,l=n[0]):"-"==a?s=-1:void 0===i?r.hasOwnProperty(a)?(u+=r[a],i=parseInt(u,16)*s,s=1,u=""):u+=a:r.hasOwnProperty(a)?(A+=r[a],l[i]=parseInt(A,16)*s,s=1,i=void 0,A=""):A+=a;return o},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},u={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},A={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(e){var t=e.font,n=A.Unicode[t.postScriptName];n&&(t.metadata.Unicode={},t.metadata.Unicode.widths=n.widths,t.metadata.Unicode.kerning=n.kerning);var r=u.Unicode[t.postScriptName];r&&(t.metadata.Unicode.encoding=r,t.encoding=r.codePages[0])}])}(jo.API),function(e){var t=function(e){for(var t=e.length,n=new Uint8Array(t),r=0;r<t;r++)n[r]=e.charCodeAt(r);return n};e.API.events.push(["addFont",function(n){var r=void 0,i=n.font,a=n.instance;if(!i.isStandardFont){if(void 0===a)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if("string"!=typeof(r=!1===a.existsFileInVFS(i.postScriptName)?a.loadFile(i.postScriptName):a.getFileFromVFS(i.postScriptName)))throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");!function(n,r){r=/^\x00\x01\x00\x00/.test(r)?t(r):t(oo(r)),n.metadata=e.API.TTFFont.open(r),n.metadata.Unicode=n.metadata.Unicode||{encoding:{},kerning:{},widths:[]},n.metadata.glyIdsUsed=[0]}(i,r)}}])}(jo),jo.API.addSvgAsImage=function(e,t,r,i,a,o,s,l){if(isNaN(t)||isNaN(r))throw eo.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(i)||isNaN(a))throw eo.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var c=document.createElement("canvas");c.width=i,c.height=a;var u=c.getContext("2d");u.fillStyle="#fff",u.fillRect(0,0,c.width,c.height);var A={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},d=this;return(Za.canvg?Promise.resolve(Za.canvg):n.e(239).then(n.bind(n,4620))).catch(function(e){return Promise.reject(new Error("Could not load canvg: "+e))}).then(function(e){return e.default?e.default:e}).then(function(t){return t.fromString(u,e,A)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(e){return e.render(A)}).then(function(){d.addImage(c.toDataURL("image/jpeg",1),t,r,i,a,s,l)})},jo.API.putTotalPages=function(e){var t,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),n=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(t,n);return this},jo.API.viewerPreferences=function(e,t){var n;e=e||{},t=t||!1;var r,i,a,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},s=Object.keys(o),l=[],c=0,u=0,A=0;function d(e,t){var n,r=!1;for(n=0;n<e.length;n+=1)e[n]===t&&(r=!0);return r}if(void 0===this.internal.viewerpreferences&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,"reset"===e||!0===t){var h=s.length;for(A=0;A<h;A+=1)n[s[A]].value=n[s[A]].defaultValue,n[s[A]].explicitSet=!1}if("object"===(0,Qe.A)(e))for(i in e)if(a=e[i],d(s,i)&&void 0!==a){if("boolean"===n[i].type&&"boolean"==typeof a)n[i].value=a;else if("name"===n[i].type&&d(n[i].valueSet,a))n[i].value=a;else if("integer"===n[i].type&&Number.isInteger(a))n[i].value=a;else if("array"===n[i].type){for(c=0;c<a.length;c+=1)if(r=!0,1===a[c].length&&"number"==typeof a[c][0])l.push(String(a[c]-1));else if(a[c].length>1){for(u=0;u<a[c].length;u+=1)"number"!=typeof a[c][u]&&(r=!1);!0===r&&l.push([a[c][0]-1,a[c][1]-1].join(" "))}n[i].value="["+l.join(" ")+"]"}else n[i].value=n[i].defaultValue;n[i].explicitSet=!0}return!1===this.internal.viewerpreferences.isSubscribed&&(this.internal.events.subscribe("putCatalog",function(){var e,t=[];for(e in n)!0===n[e].explicitSet&&("name"===n[e].type?t.push("/"+e+" /"+n[e].value):t.push("/"+e+" "+n[e].value));0!==t.length&&this.internal.write("/ViewerPreferences\n<<\n"+t.join("\n")+"\n>>")}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(e){var t=function(){var e='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',t=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),n=unescape(encodeURIComponent(e)),r=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),i=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),a=unescape(encodeURIComponent("</x:xmpmeta>")),o=n.length+r.length+i.length+t.length+a.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+o+" >>"),this.internal.write("stream"),this.internal.write(t+n+r+i+a),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(e,r){return void 0===this.internal.__metadata__&&(this.internal.__metadata__={metadata:e,namespaceuri:r||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",t)),this}}(jo.API),function(e){var t=e.API,n=t.pdfEscape16=function(e,t){for(var n,r=t.metadata.Unicode.widths,i=["","0","00","000","0000"],a=[""],o=0,s=e.length;o<s;++o){if(n=t.metadata.characterToGlyph(e.charCodeAt(o)),t.metadata.glyIdsUsed.push(n),t.metadata.toUnicode[n]=e.charCodeAt(o),-1==r.indexOf(n)&&(r.push(n),r.push([parseInt(t.metadata.widthOfGlyph(n),10)])),"0"==n)return a.join("");n=n.toString(16),a.push(i[4-n.length],n)}return a.join("")},r=function(e){var t,n,r,i,a,o,s;for(a="/CIDInit /ProcSet findresource begin\n12 dict begin\nbegincmap\n/CIDSystemInfo <<\n  /Registry (Adobe)\n  /Ordering (UCS)\n  /Supplement 0\n>> def\n/CMapName /Adobe-Identity-UCS def\n/CMapType 2 def\n1 begincodespacerange\n<0000><ffff>\nendcodespacerange",r=[],o=0,s=(n=Object.keys(e).sort(function(e,t){return e-t})).length;o<s;o++)t=n[o],r.length>=100&&(a+="\n"+r.length+" beginbfchar\n"+r.join("\n")+"\nendbfchar",r=[]),void 0!==e[t]&&null!==e[t]&&"function"==typeof e[t].toString&&(i=("0000"+e[t].toString(16)).slice(-4),t=("0000"+(+t).toString(16)).slice(-4),r.push("<"+t+"><"+i+">"));return r.length&&(a+="\n"+r.length+" beginbfchar\n"+r.join("\n")+"\nendbfchar\n"),a+"endcmap\nCMapName currentdict /CMap defineresource pop\nend\nend"};t.events.push(["putFont",function(t){!function(t){var n=t.font,i=t.out,a=t.newObject,o=t.putStream;if(n.metadata instanceof e.API.TTFFont&&"Identity-H"===n.encoding){for(var s=n.metadata.Unicode.widths,l=n.metadata.subset.encode(n.metadata.glyIdsUsed,1),c="",u=0;u<l.length;u++)c+=String.fromCharCode(l[u]);var A=a();o({data:c,addLength1:!0,objectId:A}),i("endobj");var d=a();o({data:r(n.metadata.toUnicode),addLength1:!0,objectId:d}),i("endobj");var h=a();i("<<"),i("/Type /FontDescriptor"),i("/FontName /"+ko(n.fontName)),i("/FontFile2 "+A+" 0 R"),i("/FontBBox "+e.API.PDFObject.convert(n.metadata.bbox)),i("/Flags "+n.metadata.flags),i("/StemV "+n.metadata.stemV),i("/ItalicAngle "+n.metadata.italicAngle),i("/Ascent "+n.metadata.ascender),i("/Descent "+n.metadata.decender),i("/CapHeight "+n.metadata.capHeight),i(">>"),i("endobj");var f=a();i("<<"),i("/Type /Font"),i("/BaseFont /"+ko(n.fontName)),i("/FontDescriptor "+h+" 0 R"),i("/W "+e.API.PDFObject.convert(s)),i("/CIDToGIDMap /Identity"),i("/DW 1000"),i("/Subtype /CIDFontType2"),i("/CIDSystemInfo"),i("<<"),i("/Supplement 0"),i("/Registry (Adobe)"),i("/Ordering ("+n.encoding+")"),i(">>"),i(">>"),i("endobj"),n.objectNumber=a(),i("<<"),i("/Type /Font"),i("/Subtype /Type0"),i("/ToUnicode "+d+" 0 R"),i("/BaseFont /"+ko(n.fontName)),i("/Encoding /"+n.encoding),i("/DescendantFonts ["+f+" 0 R]"),i(">>"),i("endobj"),n.isAlreadyPutted=!0}}(t)}]),t.events.push(["putFont",function(t){!function(t){var n=t.font,i=t.out,a=t.newObject,o=t.putStream;if(n.metadata instanceof e.API.TTFFont&&"WinAnsiEncoding"===n.encoding){for(var s=n.metadata.rawData,l="",c=0;c<s.length;c++)l+=String.fromCharCode(s[c]);var u=a();o({data:l,addLength1:!0,objectId:u}),i("endobj");var A=a();o({data:r(n.metadata.toUnicode),addLength1:!0,objectId:A}),i("endobj");var d=a();i("<<"),i("/Descent "+n.metadata.decender),i("/CapHeight "+n.metadata.capHeight),i("/StemV "+n.metadata.stemV),i("/Type /FontDescriptor"),i("/FontFile2 "+u+" 0 R"),i("/Flags 96"),i("/FontBBox "+e.API.PDFObject.convert(n.metadata.bbox)),i("/FontName /"+ko(n.fontName)),i("/ItalicAngle "+n.metadata.italicAngle),i("/Ascent "+n.metadata.ascender),i(">>"),i("endobj"),n.objectNumber=a();for(var h=0;h<n.metadata.hmtx.widths.length;h++)n.metadata.hmtx.widths[h]=parseInt(n.metadata.hmtx.widths[h]*(1e3/n.metadata.head.unitsPerEm));i("<</Subtype/TrueType/Type/Font/ToUnicode "+A+" 0 R/BaseFont/"+ko(n.fontName)+"/FontDescriptor "+d+" 0 R/Encoding/"+n.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(n.metadata.hmtx.widths)+">>"),i("endobj"),n.isAlreadyPutted=!0}}(t)}]);var i=function(e){var t,r=e.text||"",i=e.x,a=e.y,o=e.options||{},s=e.mutex||{},l=s.pdfEscape,c=s.activeFontKey,u=s.fonts,A=c,d="",h=0,f="",p=u[A].encoding;if("Identity-H"!==u[A].encoding)return{text:r,x:i,y:a,options:o,mutex:s};for(f=r,A=c,Array.isArray(r)&&(f=r[0]),h=0;h<f.length;h+=1)u[A].metadata.hasOwnProperty("cmap")&&(t=u[A].metadata.cmap.unicode.codeMap[f[h].charCodeAt(0)]),t||f[h].charCodeAt(0)<256&&u[A].metadata.hasOwnProperty("Unicode")?d+=f[h]:d+="";var g="";return parseInt(A.slice(1))<14||"WinAnsiEncoding"===p?g=l(d,A).split("").map(function(e){return e.charCodeAt(0).toString(16)}).join(""):"Identity-H"===p&&(g=n(d,u[A])),s.isHex=!0,{text:g,x:i,y:a,options:o,mutex:s}};t.events.push(["postProcessText",function(e){var t=e.text||"",n=[],r={text:t,x:e.x,y:e.y,options:e.options,mutex:e.mutex};if(Array.isArray(t)){var a=0;for(a=0;a<t.length;a+=1)Array.isArray(t[a])&&3===t[a].length?n.push([i(Object.assign({},r,{text:t[a][0]})).text,t[a][1],t[a][2]]):n.push(i(Object.assign({},r,{text:t[a]})).text);e.text=n}else e.text=i(Object.assign({},r,{text:t})).text}])}(jo),function(e){var t=function(){return void 0===this.internal.vFS&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(e){return t.call(this),void 0!==this.internal.vFS[e]},e.addFileToVFS=function(e,n){return t.call(this),this.internal.vFS[e]=n,this},e.getFileFromVFS=function(e){return t.call(this),void 0!==this.internal.vFS[e]?this.internal.vFS[e]:null}}(jo.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(e){var n,r,i,a,o,s,l,c=t,u=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],A=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],d={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},h={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},f=["(",")","(","<",">","<","[","]","[","{","}","{","\xab","\xbb","\xab","\u2039","\u203a","\u2039","\u2045","\u2046","\u2045","\u207d","\u207e","\u207d","\u208d","\u208e","\u208d","\u2264","\u2265","\u2264","\u2329","\u232a","\u2329","\ufe59","\ufe5a","\ufe59","\ufe5b","\ufe5c","\ufe5b","\ufe5d","\ufe5e","\ufe5d","\ufe64","\ufe65","\ufe64"],p=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),g=!1,m=0;this.__bidiEngine__={};var v=function(e){var t=e.charCodeAt(),n=t>>8,r=h[n];return void 0!==r?c[256*r+(255&t)]:252===n||253===n?"AL":p.test(n)?"L":8===n?"R":"N"},y=function(e){for(var t,n=0;n<e.length;n++){if("L"===(t=v(e.charAt(n))))return!1;if("R"===t)return!0}return!1},b=function(e,t,o,s){var l,c,u,A,d=t[s];switch(d){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":g=!1;break;case"N":case"AN":break;case"EN":g&&(d="AN");break;case"AL":g=!0,d="R";break;case"WS":case"BN":d="N";break;case"CS":s<1||s+1>=t.length||"EN"!==(l=o[s-1])&&"AN"!==l||"EN"!==(c=t[s+1])&&"AN"!==c?d="N":g&&(c="AN"),d=c===l?c:"N";break;case"ES":d="EN"===(l=s>0?o[s-1]:"B")&&s+1<t.length&&"EN"===t[s+1]?"EN":"N";break;case"ET":if(s>0&&"EN"===o[s-1]){d="EN";break}if(g){d="N";break}for(u=s+1,A=t.length;u<A&&"ET"===t[u];)u++;d=u<A&&"EN"===t[u]?"EN":"N";break;case"NSM":if(i&&!a){for(A=t.length,u=s+1;u<A&&"NSM"===t[u];)u++;if(u<A){var h=e[s],f=h>=1425&&h<=2303||64286===h;if(l=t[u],f&&("R"===l||"AL"===l)){d="R";break}}}d=s<1||"B"===(l=t[s-1])?"N":o[s-1];break;case"B":g=!1,n=!0,d=m;break;case"S":r=!0,d="N"}return d},w=function(e,t,n){var r=e.split("");return n&&x(r,n,{hiLevel:m}),r.reverse(),t&&t.reverse(),r.join("")},x=function(e,t,i){var a,o,s,l,c,h=-1,f=e.length,p=0,y=[],w=m?A:u,x=[];for(g=!1,n=!1,r=!1,o=0;o<f;o++)x[o]=v(e[o]);for(s=0;s<f;s++){if(c=p,y[s]=b(e,x,y,s),a=240&(p=w[c][d[y[s]]]),p&=15,t[s]=l=w[p][5],a>0)if(16===a){for(o=h;o<s;o++)t[o]=1;h=-1}else h=-1;if(w[p][6])-1===h&&(h=s);else if(h>-1){for(o=h;o<s;o++)t[o]=l;h=-1}"B"===x[s]&&(t[s]=0),i.hiLevel|=l}r&&function(e,t,n){for(var r=0;r<n;r++)if("S"===e[r]){t[r]=m;for(var i=r-1;i>=0&&"WS"===e[i];i--)t[i]=m}}(x,t,f)},B=function(e,t,r,i,a){if(!(a.hiLevel<e)){if(1===e&&1===m&&!n)return t.reverse(),void(r&&r.reverse());for(var o,s,l,c,u=t.length,A=0;A<u;){if(i[A]>=e){for(l=A+1;l<u&&i[l]>=e;)l++;for(c=A,s=l-1;c<s;c++,s--)o=t[c],t[c]=t[s],t[s]=o,r&&(o=r[c],r[c]=r[s],r[s]=o);A=l}A++}}},C=function(e,t,n){var r=e.split(""),i={hiLevel:m};return n||(n=[]),x(r,n,i),function(e,t,n){if(0!==n.hiLevel&&l)for(var r,i=0;i<e.length;i++)1===t[i]&&(r=f.indexOf(e[i]))>=0&&(e[i]=f[r+1])}(r,n,i),B(2,r,t,n,i),B(1,r,t,n,i),r.join("")};return this.__bidiEngine__.doBidiReorder=function(e,t,n){if(function(e,t){if(t)for(var n=0;n<e.length;n++)t[n]=n;void 0===a&&(a=y(e)),void 0===s&&(s=y(e))}(e,t),i||!o||s)if(i&&o&&a^s)m=a?1:0,e=w(e,t,n);else if(!i&&o&&s)m=a?1:0,e=C(e,t,n),e=w(e,t);else if(!i||a||o||s){if(i&&!o&&a^s)e=w(e,t),a?(m=0,e=C(e,t,n)):(m=1,e=C(e,t,n),e=w(e,t));else if(i&&a&&!o&&s)m=1,e=C(e,t,n),e=w(e,t);else if(!i&&!o&&a^s){var r=l;a?(m=1,e=C(e,t,n),m=0,l=!1,e=C(e,t,n),l=r):(m=0,e=C(e,t,n),e=w(e,t),m=1,l=!1,e=C(e,t,n),l=r,e=w(e,t))}}else m=0,e=C(e,t,n);else m=a?1:0,e=C(e,t,n);return e},this.__bidiEngine__.setOptions=function(e){e&&(i=e.isInputVisual,o=e.isOutputVisual,a=e.isInputRtl,s=e.isOutputRtl,l=e.isSymmetricSwapping)},this.__bidiEngine__.setOptions(e),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(e){var t=e.text;e.x,e.y;var r=e.options||{};e.mutex,r.lang;var i=[];if(r.isInputVisual="boolean"!=typeof r.isInputVisual||r.isInputVisual,n.setOptions(r),"[object Array]"===Object.prototype.toString.call(t)){var a=0;for(i=[],a=0;a<t.length;a+=1)"[object Array]"===Object.prototype.toString.call(t[a])?i.push([n.doBidiReorder(t[a][0]),t[a][1],t[a][2]]):i.push([n.doBidiReorder(t[a])]);e.text=i}else e.text=n.doBidiReorder(t);n.setOptions({isInputVisual:!0})}])}(jo),jo.API.TTFFont=function(){function e(e){var t;if(this.rawData=e,t=this.contents=new al(e),this.contents.pos=4,"ttcf"===t.readString(4))throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new Cl(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new ol(this.contents),this.head=new cl(this),this.name=new gl(this),this.cmap=new Al(this),this.toUnicode={},this.hhea=new dl(this),this.maxp=new ml(this),this.hmtx=new vl(this),this.post=new fl(this),this.os2=new hl(this),this.loca=new Bl(this),this.glyf=new bl(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var e,t,n,r,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=function(){var t,n,r,i;for(i=[],t=0,n=(r=this.bbox).length;t<n;t++)e=r[t],i.push(Math.round(e*this.scaleFactor));return i}.call(this),this.stemV=0,this.post.exists?(n=255&(r=this.post.italic_angle),32768&(t=r>>16)&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=1===(i=this.familyClass)||2===i||3===i||4===i||5===i||7===i,this.isScript=10===this.familyClass,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),0!==this.italicAngle&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(e){var t;return(null!=(t=this.cmap.unicode)?t.codeMap[e]:void 0)||0},e.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},e.prototype.widthOfString=function(e,t,n){var r,i,a,o;for(a=0,i=0,o=(e=""+e).length;0<=o?i<o:i>o;i=0<=o?++i:--i)r=e.charCodeAt(i),a+=this.widthOfGlyph(this.characterToGlyph(r))+n*(1e3/t)||0;return a*(t/1e3)},e.prototype.lineHeight=function(e,t){var n;return null==t&&(t=!1),n=t?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},e}();var il,al=function(){function e(e){this.data=null!=e?e:[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(e){return this.data[this.pos++]=e},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},e.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},e.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},e.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},e.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},e.prototype.readString=function(e){var t,n;for(n=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)n[t]=String.fromCharCode(this.readByte());return n.join("")},e.prototype.writeString=function(e){var t,n,r;for(r=[],t=0,n=e.length;0<=n?t<n:t>n;t=0<=n?++t:--t)r.push(this.writeByte(e.charCodeAt(t)));return r},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(e){return this.writeInt16(e)},e.prototype.readLongLong=function(){var e,t,n,r,i,a,o,s;return e=this.readByte(),t=this.readByte(),n=this.readByte(),r=this.readByte(),i=this.readByte(),a=this.readByte(),o=this.readByte(),s=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^n)+4294967296*(255^r)+16777216*(255^i)+65536*(255^a)+256*(255^o)+(255^s)+1):72057594037927940*e+281474976710656*t+1099511627776*n+4294967296*r+16777216*i+65536*a+256*o+s},e.prototype.writeLongLong=function(e){var t,n;return t=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(e){return this.writeInt32(e)},e.prototype.read=function(e){var t,n;for(t=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)t.push(this.readByte());return t},e.prototype.write=function(e){var t,n,r,i;for(i=[],n=0,r=e.length;n<r;n++)t=e[n],i.push(this.writeByte(t));return i},e}(),ol=function(){var e;function t(e){var t,n,r;for(this.scalarType=e.readInt(),this.tableCount=e.readShort(),this.searchRange=e.readShort(),this.entrySelector=e.readShort(),this.rangeShift=e.readShort(),this.tables={},n=0,r=this.tableCount;0<=r?n<r:n>r;n=0<=r?++n:--n)t={tag:e.readString(4),checksum:e.readInt(),offset:e.readInt(),length:e.readInt()},this.tables[t.tag]=t}return t.prototype.encode=function(t){var n,r,i,a,o,s,l,c,u,A,d,h,f;for(f in d=Object.keys(t).length,s=Math.log(2),u=16*Math.floor(Math.log(d)/s),a=Math.floor(u/s),c=16*d-u,(r=new al).writeInt(this.scalarType),r.writeShort(d),r.writeShort(u),r.writeShort(a),r.writeShort(c),i=16*d,l=r.pos+i,o=null,h=[],t)for(A=t[f],r.writeString(f),r.writeInt(e(A)),r.writeInt(l),r.writeInt(A.length),h=h.concat(A),"head"===f&&(o=l),l+=A.length;l%4;)h.push(0),l++;return r.write(h),n=2981146554-e(r.data),r.pos=o+8,r.writeUInt32(n),r.data},e=function(e){var t,n,r,i;for(e=yl.call(e);e.length%4;)e.push(0);for(r=new al(e),n=0,t=0,i=e.length;t<i;t=t+=4)n+=r.readUInt32();return 4294967295&n},t}(),sl={}.hasOwnProperty,ll=function(e,t){for(var n in t)sl.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};il=function(){function e(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var cl=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return ll(e,il),e.prototype.tag="head",e.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},e.prototype.encode=function(e){var t;return(t=new al).writeInt(this.version),t.writeInt(this.revision),t.writeInt(this.checkSumAdjustment),t.writeInt(this.magicNumber),t.writeShort(this.flags),t.writeShort(this.unitsPerEm),t.writeLongLong(this.created),t.writeLongLong(this.modified),t.writeShort(this.xMin),t.writeShort(this.yMin),t.writeShort(this.xMax),t.writeShort(this.yMax),t.writeShort(this.macStyle),t.writeShort(this.lowestRecPPEM),t.writeShort(this.fontDirectionHint),t.writeShort(e),t.writeShort(this.glyphDataFormat),t.data},e}(),ul=function(){function e(e,t){var n,r,i,a,o,s,l,c,u,A,d,h,f,p,g,m,v;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),u=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=3===this.platformID&&1===this.encodingID&&4===this.format||0===this.platformID&&4===this.format,this.codeMap={},this.format){case 0:for(s=0;s<256;++s)this.codeMap[s]=e.readByte();break;case 4:for(d=e.readUInt16(),A=d/2,e.pos+=6,i=function(){var t,n;for(n=[],s=t=0;0<=A?t<A:t>A;s=0<=A?++t:--t)n.push(e.readUInt16());return n}(),e.pos+=2,f=function(){var t,n;for(n=[],s=t=0;0<=A?t<A:t>A;s=0<=A?++t:--t)n.push(e.readUInt16());return n}(),l=function(){var t,n;for(n=[],s=t=0;0<=A?t<A:t>A;s=0<=A?++t:--t)n.push(e.readUInt16());return n}(),c=function(){var t,n;for(n=[],s=t=0;0<=A?t<A:t>A;s=0<=A?++t:--t)n.push(e.readUInt16());return n}(),r=(this.length-e.pos+this.offset)/2,o=function(){var t,n;for(n=[],s=t=0;0<=r?t<r:t>r;s=0<=r?++t:--t)n.push(e.readUInt16());return n}(),s=g=0,v=i.length;g<v;s=++g)for(p=i[s],n=m=h=f[s];h<=p?m<=p:m>=p;n=h<=p?++m:--m)0===c[s]?a=n+l[s]:0!==(a=o[c[s]/2+(n-h)-(A-s)]||0)&&(a+=l[s]),this.codeMap[n]=65535&a}e.pos=u}return e.encode=function(e,t){var n,r,i,a,o,s,l,c,u,A,d,h,f,p,g,m,v,y,b,w,x,B,C,N,k,_,E,S,F,I,j,U,O,P,L,D,T,M,Q,R,H,z,K,W,V,G;switch(S=new al,a=Object.keys(e).sort(function(e,t){return e-t}),t){case"macroman":for(f=0,p=function(){var e=[];for(h=0;h<256;++h)e.push(0);return e}(),m={0:0},i={},F=0,O=a.length;F<O;F++)null==m[K=e[r=a[F]]]&&(m[K]=++f),i[r]={old:e[r],new:m[e[r]]},p[r]=m[e[r]];return S.writeUInt16(1),S.writeUInt16(0),S.writeUInt32(12),S.writeUInt16(0),S.writeUInt16(262),S.writeUInt16(0),S.write(p),{charMap:i,subtable:S.data,maxGlyphID:f+1};case"unicode":for(_=[],u=[],v=0,m={},n={},g=l=null,I=0,P=a.length;I<P;I++)null==m[b=e[r=a[I]]]&&(m[b]=++v),n[r]={old:b,new:m[b]},o=m[b]-r,null!=g&&o===l||(g&&u.push(g),_.push(r),l=o),g=r;for(g&&u.push(g),u.push(65535),_.push(65535),N=2*(C=_.length),B=2*Math.pow(Math.log(C)/Math.LN2,2),A=Math.log(B/2)/Math.LN2,x=2*C-B,s=[],w=[],d=[],h=j=0,L=_.length;j<L;h=++j){if(k=_[h],c=u[h],65535===k){s.push(0),w.push(0);break}if(k-(E=n[k].new)>=32768)for(s.push(0),w.push(2*(d.length+C-h)),r=U=k;k<=c?U<=c:U>=c;r=k<=c?++U:--U)d.push(n[r].new);else s.push(E-k),w.push(0)}for(S.writeUInt16(3),S.writeUInt16(1),S.writeUInt32(12),S.writeUInt16(4),S.writeUInt16(16+8*C+2*d.length),S.writeUInt16(0),S.writeUInt16(N),S.writeUInt16(B),S.writeUInt16(A),S.writeUInt16(x),H=0,D=u.length;H<D;H++)r=u[H],S.writeUInt16(r);for(S.writeUInt16(0),z=0,T=_.length;z<T;z++)r=_[z],S.writeUInt16(r);for(W=0,M=s.length;W<M;W++)o=s[W],S.writeUInt16(o);for(V=0,Q=w.length;V<Q;V++)y=w[V],S.writeUInt16(y);for(G=0,R=d.length;G<R;G++)f=d[G],S.writeUInt16(f);return{charMap:n,subtable:S.data,maxGlyphID:v+1}}},e}(),Al=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return ll(e,il),e.prototype.tag="cmap",e.prototype.parse=function(e){var t,n,r;for(e.pos=this.offset,this.version=e.readUInt16(),r=e.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=r?n<r:n>r;n=0<=r?++n:--n)t=new ul(e,this.offset),this.tables.push(t),t.isUnicode&&null==this.unicode&&(this.unicode=t);return!0},e.encode=function(e,t){var n,r;return null==t&&(t="macroman"),n=ul.encode(e,t),(r=new al).writeUInt16(0),r.writeUInt16(1),n.table=r.data.concat(n.subtable),n},e}(),dl=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return ll(e,il),e.prototype.tag="hhea",e.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},e}(),hl=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return ll(e,il),e.prototype.tag="OS/2",e.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var t,n;for(n=[],t=0;t<10;++t)n.push(e.readByte());return n}(),this.charRange=function(){var t,n;for(n=[],t=0;t<4;++t)n.push(e.readInt());return n}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var t,n;for(n=[],t=0;t<2;t=++t)n.push(e.readInt());return n}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},e}(),fl=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return ll(e,il),e.prototype.tag="post",e.prototype.parse=function(e){var t,n,r;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var i;for(n=e.readUInt16(),this.glyphNameIndex=[],i=0;0<=n?i<n:i>n;i=0<=n?++i:--i)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],r=[];e.pos<this.offset+this.length;)t=e.readByte(),r.push(this.names.push(e.readString(t)));return r;case 151552:return n=e.readUInt16(),this.offsets=e.read(n);case 262144:return this.map=function(){var t,n,r;for(r=[],i=t=0,n=this.file.maxp.numGlyphs;0<=n?t<n:t>n;i=0<=n?++t:--t)r.push(e.readUInt32());return r}.call(this)}},e}(),pl=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},gl=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return ll(e,il),e.prototype.tag="name",e.prototype.parse=function(e){var t,n,r,i,a,o,s,l,c,u,A;for(e.pos=this.offset,e.readShort(),t=e.readShort(),o=e.readShort(),n=[],i=0;0<=t?i<t:i>t;i=0<=t?++i:--i)n.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+o+e.readShort()});for(s={},i=c=0,u=n.length;c<u;i=++c)r=n[i],e.pos=r.offset,l=e.readString(r.length),a=new pl(l,r),null==s[A=r.nameID]&&(s[A]=[]),s[r.nameID].push(a);this.strings=s,this.copyright=s[0],this.fontFamily=s[1],this.fontSubfamily=s[2],this.uniqueSubfamily=s[3],this.fontName=s[4],this.version=s[5];try{this.postscriptName=s[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch(oo){this.postscriptName=s[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=s[7],this.manufacturer=s[8],this.designer=s[9],this.description=s[10],this.vendorUrl=s[11],this.designerUrl=s[12],this.license=s[13],this.licenseUrl=s[14],this.preferredFamily=s[15],this.preferredSubfamily=s[17],this.compatibleFull=s[18],this.sampleText=s[19]},e}(),ml=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return ll(e,il),e.prototype.tag="maxp",e.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},e}(),vl=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return ll(e,il),e.prototype.tag="hmtx",e.prototype.parse=function(e){var t,n,r,i,a,o,s;for(e.pos=this.offset,this.metrics=[],t=0,o=this.file.hhea.numberOfMetrics;0<=o?t<o:t>o;t=0<=o?++t:--t)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(r=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var n,i;for(i=[],t=n=0;0<=r?n<r:n>r;t=0<=r?++n:--n)i.push(e.readInt16());return i}(),this.widths=function(){var e,t,n,r;for(r=[],e=0,t=(n=this.metrics).length;e<t;e++)i=n[e],r.push(i.advance);return r}.call(this),n=this.widths[this.widths.length-1],s=[],t=a=0;0<=r?a<r:a>r;t=0<=r?++a:--a)s.push(this.widths.push(n));return s},e.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},e}(),yl=[].slice,bl=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return ll(e,il),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(e){var t,n,r,i,a,o,s,l,c,u;return e in this.cache?this.cache[e]:(i=this.file.loca,t=this.file.contents,n=i.indexOf(e),0===(r=i.lengthOf(e))?this.cache[e]=null:(t.pos=this.offset+n,a=(o=new al(t.read(r))).readShort(),l=o.readShort(),u=o.readShort(),s=o.readShort(),c=o.readShort(),this.cache[e]=-1===a?new xl(o,l,u,s,c):new wl(o,a,l,u,s,c),this.cache[e]))},e.prototype.encode=function(e,t,n){var r,i,a,o,s;for(a=[],i=[],o=0,s=t.length;o<s;o++)r=e[t[o]],i.push(a.length),r&&(a=a.concat(r.encode(n)));return i.push(a.length),{table:a,offsets:i}},e}(),wl=function(){function e(e,t,n,r,i,a){this.raw=e,this.numberOfContours=t,this.xMin=n,this.yMin=r,this.xMax=i,this.yMax=a,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),xl=function(){function e(e,t,n,r,i){var a,o;for(this.raw=e,this.xMin=t,this.yMin=n,this.xMax=r,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],a=this.raw;o=a.readShort(),this.glyphOffsets.push(a.pos),this.glyphIDs.push(a.readUInt16()),32&o;)a.pos+=1&o?4:2,128&o?a.pos+=8:64&o?a.pos+=4:8&o&&(a.pos+=2)}return e.prototype.encode=function(){var e,t,n;for(t=new al(yl.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)t.pos=this.glyphOffsets[e];return t.data},e}(),Bl=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return ll(e,il),e.prototype.tag="loca",e.prototype.parse=function(e){var t,n;return e.pos=this.offset,t=this.file.head.indexToLocFormat,this.offsets=0===t?function(){var t,r;for(r=[],n=0,t=this.length;n<t;n+=2)r.push(2*e.readUInt16());return r}.call(this):function(){var t,r;for(r=[],n=0,t=this.length;n<t;n+=4)r.push(e.readUInt32());return r}.call(this)},e.prototype.indexOf=function(e){return this.offsets[e]},e.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},e.prototype.encode=function(e,t){for(var n=new Uint32Array(this.offsets.length),r=0,i=0,a=0;a<n.length;++a)if(n[a]=r,i<t.length&&t[i]==a){++i,n[a]=r;var o=this.offsets[a],s=this.offsets[a+1]-o;s>0&&(r+=s)}for(var l=new Array(4*n.length),c=0;c<n.length;++c)l[4*c+3]=255&n[c],l[4*c+2]=(65280&n[c])>>8,l[4*c+1]=(16711680&n[c])>>16,l[4*c]=(4278190080&n[c])>>24;return l},e}(),Cl=function(){function e(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var e,t,n,r,i;for(t in r=this.font.cmap.tables[0].codeMap,e={},i=this.subset)n=i[t],e[t]=r[n];return e},e.prototype.glyphsFor=function(e){var t,n,r,i,a,o,s;for(r={},a=0,o=e.length;a<o;a++)r[i=e[a]]=this.font.glyf.glyphFor(i);for(i in t=[],r)(null!=(n=r[i])?n.compound:void 0)&&t.push.apply(t,n.glyphIDs);if(t.length>0)for(i in s=this.glyphsFor(t))n=s[i],r[i]=n;return r},e.prototype.encode=function(e,t){var n,r,i,a,o,s,l,c,u,A,d,h,f,p,g;for(r in n=Al.encode(this.generateCmap(),"unicode"),a=this.glyphsFor(e),d={0:0},g=n.charMap)d[(s=g[r]).old]=s.new;for(h in A=n.maxGlyphID,a)h in d||(d[h]=A++);return c=function(e){var t,n;for(t in n={},e)n[e[t]]=t;return n}(d),u=Object.keys(c).sort(function(e,t){return e-t}),f=function(){var e,t,n;for(n=[],e=0,t=u.length;e<t;e++)o=u[e],n.push(c[o]);return n}(),i=this.font.glyf.encode(a,f,d),l=this.font.loca.encode(i.offsets,f),p={cmap:this.font.cmap.raw(),glyf:i.table,loca:l,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(p["OS/2"]=this.font.os2.raw()),this.font.directory.encode(p)},e}();jo.API.PDFObject=function(){var e;function t(){}return e=function(e,t){return(Array(t+1).join("0")+e).slice(-t)},t.convert=function(n){var r,i,a,o;if(Array.isArray(n))return"["+function(){var e,i,a;for(a=[],e=0,i=n.length;e<i;e++)r=n[e],a.push(t.convert(r));return a}().join(" ")+"]";if("string"==typeof n)return"/"+n;if(null!=n?n.isString:void 0)return"("+n+")";if(n instanceof Date)return"(D:"+e(n.getUTCFullYear(),4)+e(n.getUTCMonth(),2)+e(n.getUTCDate(),2)+e(n.getUTCHours(),2)+e(n.getUTCMinutes(),2)+e(n.getUTCSeconds(),2)+"Z)";if("[object Object]"==={}.toString.call(n)){for(i in a=["<<"],n)o=n[i],a.push("/"+i+" "+t.convert(o));return a.push(">>"),a.join("\n")}return""+n},t}();var Nl=n(1052),kl=n.n(Nl);function _l(e,t){return function(){return e.apply(t,arguments)}}const{toString:El}=Object.prototype,{getPrototypeOf:Sl}=Object,{iterator:Fl,toStringTag:Il}=Symbol,jl=(Ul=Object.create(null),e=>{const t=El.call(e);return Ul[t]||(Ul[t]=t.slice(8,-1).toLowerCase())});var Ul;const Ol=e=>(e=e.toLowerCase(),t=>jl(t)===e),Pl=e=>t=>typeof t===e,{isArray:Ll}=Array,Dl=Pl("undefined");function Tl(e){return null!==e&&!Dl(e)&&null!==e.constructor&&!Dl(e.constructor)&&Rl(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Ml=Ol("ArrayBuffer");const Ql=Pl("string"),Rl=Pl("function"),Hl=Pl("number"),zl=e=>null!==e&&"object"===typeof e,Kl=e=>{if("object"!==jl(e))return!1;const t=Sl(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Il in e)&&!(Fl in e)},Wl=Ol("Date"),Vl=Ol("File"),Gl=Ol("Blob"),ql=Ol("FileList"),Xl=Ol("URLSearchParams"),[Yl,Jl,Zl,$l]=["ReadableStream","Request","Response","Headers"].map(Ol);function ec(e,t){let n,r,{allOwnKeys:i=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),Ll(e))for(n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else{if(Tl(e))return;const r=i?Object.getOwnPropertyNames(e):Object.keys(e),a=r.length;let o;for(n=0;n<a;n++)o=r[n],t.call(null,e[o],o,e)}}function tc(e,t){if(Tl(e))return null;t=t.toLowerCase();const n=Object.keys(e);let r,i=n.length;for(;i-- >0;)if(r=n[i],t===r.toLowerCase())return r;return null}const nc="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:n.g,rc=e=>!Dl(e)&&e!==nc;const ic=(ac="undefined"!==typeof Uint8Array&&Sl(Uint8Array),e=>ac&&e instanceof ac);var ac;const oc=Ol("HTMLFormElement"),sc=(e=>{let{hasOwnProperty:t}=e;return(e,n)=>t.call(e,n)})(Object.prototype),lc=Ol("RegExp"),cc=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};ec(n,(n,i)=>{let a;!1!==(a=t(n,i,e))&&(r[i]=a||n)}),Object.defineProperties(e,r)};const uc=Ol("AsyncFunction"),Ac=((e,t)=>{return e?setImmediate:t?(n="axios@".concat(Math.random()),r=[],nc.addEventListener("message",e=>{let{source:t,data:i}=e;t===nc&&i===n&&r.length&&r.shift()()},!1),e=>{r.push(e),nc.postMessage(n,"*")}):e=>setTimeout(e);var n,r})("function"===typeof setImmediate,Rl(nc.postMessage)),dc="undefined"!==typeof queueMicrotask?queueMicrotask.bind(nc):"undefined"!==typeof process&&process.nextTick||Ac,hc={isArray:Ll,isArrayBuffer:Ml,isBuffer:Tl,isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||Rl(e.append)&&("formdata"===(t=jl(e))||"object"===t&&Rl(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&Ml(e.buffer),t},isString:Ql,isNumber:Hl,isBoolean:e=>!0===e||!1===e,isObject:zl,isPlainObject:Kl,isEmptyObject:e=>{if(!zl(e)||Tl(e))return!1;try{return 0===Object.keys(e).length&&Object.getPrototypeOf(e)===Object.prototype}catch(zD){return!1}},isReadableStream:Yl,isRequest:Jl,isResponse:Zl,isHeaders:$l,isUndefined:Dl,isDate:Wl,isFile:Vl,isBlob:Gl,isRegExp:lc,isFunction:Rl,isStream:e=>zl(e)&&Rl(e.pipe),isURLSearchParams:Xl,isTypedArray:ic,isFileList:ql,forEach:ec,merge:function e(){const{caseless:t,skipUndefined:n}=rc(this)&&this||{},r={},i=(i,a)=>{const o=t&&tc(r,a)||a;Kl(r[o])&&Kl(i)?r[o]=e(r[o],i):Kl(i)?r[o]=e({},i):Ll(i)?r[o]=i.slice():n&&Dl(i)||(r[o]=i)};for(let a=0,o=arguments.length;a<o;a++)arguments[a]&&ec(arguments[a],i);return r},extend:function(e,t,n){let{allOwnKeys:r}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return ec(t,(t,r)=>{n&&Rl(t)?e[r]=_l(t,n):e[r]=t},{allOwnKeys:r}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,r)=>{let i,a,o;const s={};if(t=t||{},null==e)return t;do{for(i=Object.getOwnPropertyNames(e),a=i.length;a-- >0;)o=i[a],r&&!r(o,e,t)||s[o]||(t[o]=e[o],s[o]=!0);e=!1!==n&&Sl(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:jl,kindOfTest:Ol,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return-1!==r&&r===n},toArray:e=>{if(!e)return null;if(Ll(e))return e;let t=e.length;if(!Hl(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[Fl]).call(e);let r;for(;(r=n.next())&&!r.done;){const n=r.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const r=[];for(;null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:oc,hasOwnProperty:sc,hasOwnProp:sc,reduceDescriptors:cc,freezeMethods:e=>{cc(e,(t,n)=>{if(Rl(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const r=e[n];Rl(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))})},toObjectSet:(e,t)=>{const n={},r=e=>{e.forEach(e=>{n[e]=!0})};return Ll(e)?r(e):r(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,t,n){return t.toUpperCase()+n}),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:tc,global:nc,isContextDefined:rc,isSpecCompliantForm:function(e){return!!(e&&Rl(e.append)&&"FormData"===e[Il]&&e[Fl])},toJSONObject:e=>{const t=new Array(10),n=(e,r)=>{if(zl(e)){if(t.indexOf(e)>=0)return;if(Tl(e))return e;if(!("toJSON"in e)){t[r]=e;const i=Ll(e)?[]:{};return ec(e,(e,t)=>{const a=n(e,r+1);!Dl(a)&&(i[t]=a)}),t[r]=void 0,i}}return e};return n(e,0)},isAsyncFn:uc,isThenable:e=>e&&(zl(e)||Rl(e))&&Rl(e.then)&&Rl(e.catch),setImmediate:Ac,asap:dc,isIterable:e=>null!=e&&Rl(e[Fl])};function fc(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}hc.inherits(fc,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:hc.toJSONObject(this.config),code:this.code,status:this.status}}});const pc=fc.prototype,gc={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{gc[e]={value:e}}),Object.defineProperties(fc,gc),Object.defineProperty(pc,"isAxiosError",{value:!0}),fc.from=(e,t,n,r,i,a)=>{const o=Object.create(pc);hc.toFlatObject(e,o,function(e){return e!==Error.prototype},e=>"isAxiosError"!==e);const s=e&&e.message?e.message:"Error",l=null==t&&e?e.code:t;return fc.call(o,s,l,n,r,i),e&&null==o.cause&&Object.defineProperty(o,"cause",{value:e,configurable:!0}),o.name=e&&e.name||"Error",a&&Object.assign(o,a),o};const mc=fc;function vc(e){return hc.isPlainObject(e)||hc.isArray(e)}function yc(e){return hc.endsWith(e,"[]")?e.slice(0,-2):e}function bc(e,t,n){return e?e.concat(t).map(function(e,t){return e=yc(e),!n&&t?"["+e+"]":e}).join(n?".":""):t}const wc=hc.toFlatObject(hc,{},null,function(e){return/^is[A-Z]/.test(e)});const xc=function(e,t,n){if(!hc.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const r=(n=hc.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(e,t){return!hc.isUndefined(t[e])})).metaTokens,i=n.visitor||c,a=n.dots,o=n.indexes,s=(n.Blob||"undefined"!==typeof Blob&&Blob)&&hc.isSpecCompliantForm(t);if(!hc.isFunction(i))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(hc.isDate(e))return e.toISOString();if(hc.isBoolean(e))return e.toString();if(!s&&hc.isBlob(e))throw new mc("Blob is not supported. Use a Buffer instead.");return hc.isArrayBuffer(e)||hc.isTypedArray(e)?s&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,n,i){let s=e;if(e&&!i&&"object"===typeof e)if(hc.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(hc.isArray(e)&&function(e){return hc.isArray(e)&&!e.some(vc)}(e)||(hc.isFileList(e)||hc.endsWith(n,"[]"))&&(s=hc.toArray(e)))return n=yc(n),s.forEach(function(e,r){!hc.isUndefined(e)&&null!==e&&t.append(!0===o?bc([n],r,a):null===o?n:n+"[]",l(e))}),!1;return!!vc(e)||(t.append(bc(i,n,a),l(e)),!1)}const u=[],A=Object.assign(wc,{defaultVisitor:c,convertValue:l,isVisitable:vc});if(!hc.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!hc.isUndefined(n)){if(-1!==u.indexOf(n))throw Error("Circular reference detected in "+r.join("."));u.push(n),hc.forEach(n,function(n,a){!0===(!(hc.isUndefined(n)||null===n)&&i.call(t,n,hc.isString(a)?a.trim():a,r,A))&&e(n,r?r.concat(a):[a])}),u.pop()}}(e),t};function Bc(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(e){return t[e]})}function Cc(e,t){this._pairs=[],e&&xc(e,this,t)}const Nc=Cc.prototype;Nc.append=function(e,t){this._pairs.push([e,t])},Nc.toString=function(e){const t=e?function(t){return e.call(this,t,Bc)}:Bc;return this._pairs.map(function(e){return t(e[0])+"="+t(e[1])},"").join("&")};const kc=Cc;function _c(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Ec(e,t,n){if(!t)return e;const r=n&&n.encode||_c;hc.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let a;if(a=i?i(t,n):hc.isURLSearchParams(t)?t.toString():new kc(t,n).toString(r),a){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+a}return e}const Sc=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){hc.forEach(this.handlers,function(t){null!==t&&e(t)})}},Fc={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Ic={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:kc,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},jc="undefined"!==typeof window&&"undefined"!==typeof document,Uc="object"===typeof navigator&&navigator||void 0,Oc=jc&&(!Uc||["ReactNative","NativeScript","NS"].indexOf(Uc.product)<0),Pc="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,Lc=jc&&window.location.href||"http://localhost",Dc=Me(Me({},e),Ic);const Tc=function(e){function t(e,n,r,i){let a=e[i++];if("__proto__"===a)return!0;const o=Number.isFinite(+a),s=i>=e.length;if(a=!a&&hc.isArray(r)?r.length:a,s)return hc.hasOwnProp(r,a)?r[a]=[r[a],n]:r[a]=n,!o;r[a]&&hc.isObject(r[a])||(r[a]=[]);return t(e,n,r[a],i)&&hc.isArray(r[a])&&(r[a]=function(e){const t={},n=Object.keys(e);let r;const i=n.length;let a;for(r=0;r<i;r++)a=n[r],t[a]=e[a];return t}(r[a])),!o}if(hc.isFormData(e)&&hc.isFunction(e.entries)){const n={};return hc.forEachEntry(e,(e,r)=>{t(function(e){return hc.matchAll(/\w+|\[(\w*)]/g,e).map(e=>"[]"===e[0]?"":e[1]||e[0])}(e),r,n,0)}),n}return null};const Mc={transitional:Fc,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",r=n.indexOf("application/json")>-1,i=hc.isObject(e);i&&hc.isHTMLForm(e)&&(e=new FormData(e));if(hc.isFormData(e))return r?JSON.stringify(Tc(e)):e;if(hc.isArrayBuffer(e)||hc.isBuffer(e)||hc.isStream(e)||hc.isFile(e)||hc.isBlob(e)||hc.isReadableStream(e))return e;if(hc.isArrayBufferView(e))return e.buffer;if(hc.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return xc(e,new Dc.classes.URLSearchParams,Me({visitor:function(e,t,n,r){return Dc.isNode&&hc.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((a=hc.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return xc(a?{"files[]":e}:e,t&&new t,this.formSerializer)}}return i||r?(t.setContentType("application/json",!1),function(e,t,n){if(hc.isString(e))try{return(t||JSON.parse)(e),hc.trim(e)}catch(zD){if("SyntaxError"!==zD.name)throw zD}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||Mc.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(hc.isResponse(e)||hc.isReadableStream(e))return e;if(e&&hc.isString(e)&&(n&&!this.responseType||r)){const n=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e,this.parseReviver)}catch(zD){if(n){if("SyntaxError"===zD.name)throw mc.from(zD,mc.ERR_BAD_RESPONSE,this,null,this.response);throw zD}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Dc.classes.FormData,Blob:Dc.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};hc.forEach(["delete","get","head","post","put","patch"],e=>{Mc.headers[e]={}});const Qc=Mc,Rc=hc.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Hc=Symbol("internals");function zc(e){return e&&String(e).trim().toLowerCase()}function Kc(e){return!1===e||null==e?e:hc.isArray(e)?e.map(Kc):String(e)}function Wc(e,t,n,r,i){return hc.isFunction(r)?r.call(this,t,n):(i&&(t=n),hc.isString(t)?hc.isString(r)?-1!==t.indexOf(r):hc.isRegExp(r)?r.test(t):void 0:void 0)}class Vc{constructor(e){e&&this.set(e)}set(e,t,n){const r=this;function i(e,t,n){const i=zc(t);if(!i)throw new Error("header name must be a non-empty string");const a=hc.findKey(r,i);(!a||void 0===r[a]||!0===n||void 0===n&&!1!==r[a])&&(r[a||t]=Kc(e))}const a=(e,t)=>hc.forEach(e,(e,n)=>i(e,n,t));if(hc.isPlainObject(e)||e instanceof this.constructor)a(e,t);else if(hc.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))a((e=>{const t={};let n,r,i;return e&&e.split("\n").forEach(function(e){i=e.indexOf(":"),n=e.substring(0,i).trim().toLowerCase(),r=e.substring(i+1).trim(),!n||t[n]&&Rc[n]||("set-cookie"===n?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t})(e),t);else if(hc.isObject(e)&&hc.isIterable(e)){let n,r,i={};for(const t of e){if(!hc.isArray(t))throw TypeError("Object iterator must return a key-value pair");i[r=t[0]]=(n=i[r])?hc.isArray(n)?[...n,t[1]]:[n,t[1]]:t[1]}a(i,t)}else null!=e&&i(t,e,n);return this}get(e,t){if(e=zc(e)){const n=hc.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}(e);if(hc.isFunction(t))return t.call(this,e,n);if(hc.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=zc(e)){const n=hc.findKey(this,e);return!(!n||void 0===this[n]||t&&!Wc(0,this[n],n,t))}return!1}delete(e,t){const n=this;let r=!1;function i(e){if(e=zc(e)){const i=hc.findKey(n,e);!i||t&&!Wc(0,n[i],i,t)||(delete n[i],r=!0)}}return hc.isArray(e)?e.forEach(i):i(e),r}clear(e){const t=Object.keys(this);let n=t.length,r=!1;for(;n--;){const i=t[n];e&&!Wc(0,this[i],i,e,!0)||(delete this[i],r=!0)}return r}normalize(e){const t=this,n={};return hc.forEach(this,(r,i)=>{const a=hc.findKey(n,i);if(a)return t[a]=Kc(r),void delete t[i];const o=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,n)=>t.toUpperCase()+n)}(i):String(i).trim();o!==i&&delete t[i],t[o]=Kc(r),n[o]=!0}),this}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return hc.forEach(this,(n,r)=>{null!=n&&!1!==n&&(t[r]=e&&hc.isArray(n)?n.join(", "):n)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(e=>{let[t,n]=e;return t+": "+n}).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.forEach(e=>t.set(e)),t}static accessor(e){const t=(this[Hc]=this[Hc]={accessors:{}}).accessors,n=this.prototype;function r(e){const r=zc(e);t[r]||(!function(e,t){const n=hc.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(e,n,i){return this[r].call(this,t,e,n,i)},configurable:!0})})}(n,e),t[r]=!0)}return hc.isArray(e)?e.forEach(r):r(e),this}}Vc.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),hc.reduceDescriptors(Vc.prototype,(e,t)=>{let{value:n}=e,r=t[0].toUpperCase()+t.slice(1);return{get:()=>n,set(e){this[r]=e}}}),hc.freezeMethods(Vc);const Gc=Vc;function qc(e,t){const n=this||Qc,r=t||n,i=Gc.from(r.headers);let a=r.data;return hc.forEach(e,function(e){a=e.call(n,a,i.normalize(),t?t.status:void 0)}),i.normalize(),a}function Xc(e){return!(!e||!e.__CANCEL__)}function Yc(e,t,n){mc.call(this,null==e?"canceled":e,mc.ERR_CANCELED,t,n),this.name="CanceledError"}hc.inherits(Yc,mc,{__CANCEL__:!0});const Jc=Yc;function Zc(e,t,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new mc("Request failed with status code "+n.status,[mc.ERR_BAD_REQUEST,mc.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}const $c=function(e,t){e=e||10;const n=new Array(e),r=new Array(e);let i,a=0,o=0;return t=void 0!==t?t:1e3,function(s){const l=Date.now(),c=r[o];i||(i=l),n[a]=s,r[a]=l;let u=o,A=0;for(;u!==a;)A+=n[u++],u%=e;if(a=(a+1)%e,a===o&&(o=(o+1)%e),l-i<t)return;const d=c&&l-c;return d?Math.round(1e3*A/d):void 0}};const eu=function(e,t){let n,r,i=0,a=1e3/t;const o=function(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();i=a,n=null,r&&(clearTimeout(r),r=null),e(...t)};return[function(){const e=Date.now(),t=e-i;for(var s=arguments.length,l=new Array(s),c=0;c<s;c++)l[c]=arguments[c];t>=a?o(l,e):(n=l,r||(r=setTimeout(()=>{r=null,o(n)},a-t)))},()=>n&&o(n)]},tu=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,r=0;const i=$c(50,250);return eu(n=>{const a=n.loaded,o=n.lengthComputable?n.total:void 0,s=a-r,l=i(s);r=a;e({loaded:a,total:o,progress:o?a/o:void 0,bytes:s,rate:l||void 0,estimated:l&&o&&a<=o?(o-a)/l:void 0,event:n,lengthComputable:null!=o,[t?"download":"upload"]:!0})},n)},nu=(e,t)=>{const n=null!=e;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},ru=e=>function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return hc.asap(()=>e(...n))},iu=Dc.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,Dc.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(Dc.origin),Dc.navigator&&/(msie|trident)/i.test(Dc.navigator.userAgent)):()=>!0,au=Dc.hasStandardBrowserEnv?{write(e,t,n,r,i,a,o){if("undefined"===typeof document)return;const s=["".concat(e,"=").concat(encodeURIComponent(t))];hc.isNumber(n)&&s.push("expires=".concat(new Date(n).toUTCString())),hc.isString(r)&&s.push("path=".concat(r)),hc.isString(i)&&s.push("domain=".concat(i)),!0===a&&s.push("secure"),hc.isString(o)&&s.push("SameSite=".concat(o)),document.cookie=s.join("; ")},read(e){if("undefined"===typeof document)return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read:()=>null,remove(){}};function ou(e,t,n){let r=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t);return e&&(r||0==n)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const su=e=>e instanceof Gc?Me({},e):e;function lu(e,t){t=t||{};const n={};function r(e,t,n,r){return hc.isPlainObject(e)&&hc.isPlainObject(t)?hc.merge.call({caseless:r},e,t):hc.isPlainObject(t)?hc.merge({},t):hc.isArray(t)?t.slice():t}function i(e,t,n,i){return hc.isUndefined(t)?hc.isUndefined(e)?void 0:r(void 0,e,0,i):r(e,t,0,i)}function a(e,t){if(!hc.isUndefined(t))return r(void 0,t)}function o(e,t){return hc.isUndefined(t)?hc.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function s(n,i,a){return a in t?r(n,i):a in e?r(void 0,n):void 0}const l={url:a,method:a,data:a,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:s,headers:(e,t,n)=>i(su(e),su(t),0,!0)};return hc.forEach(Object.keys(Me(Me({},e),t)),function(r){const a=l[r]||i,o=a(e[r],t[r],r);hc.isUndefined(o)&&a!==s||(n[r]=o)}),n}const cu=e=>{const t=lu({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:a,headers:o,auth:s}=t;if(t.headers=o=Gc.from(o),t.url=Ec(ou(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),s&&o.set("Authorization","Basic "+btoa((s.username||"")+":"+(s.password?unescape(encodeURIComponent(s.password)):""))),hc.isFormData(n))if(Dc.hasStandardBrowserEnv||Dc.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(hc.isFunction(n.getHeaders)){const e=n.getHeaders(),t=["content-type","content-length"];Object.entries(e).forEach(e=>{let[n,r]=e;t.includes(n.toLowerCase())&&o.set(n,r)})}if(Dc.hasStandardBrowserEnv&&(r&&hc.isFunction(r)&&(r=r(t)),r||!1!==r&&iu(t.url))){const e=i&&a&&au.read(a);e&&o.set(i,e)}return t},uu="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise(function(t,n){const r=cu(e);let i=r.data;const a=Gc.from(r.headers).normalize();let o,s,l,c,u,{responseType:A,onUploadProgress:d,onDownloadProgress:h}=r;function f(){c&&c(),u&&u(),r.cancelToken&&r.cancelToken.unsubscribe(o),r.signal&&r.signal.removeEventListener("abort",o)}let p=new XMLHttpRequest;function g(){if(!p)return;const r=Gc.from("getAllResponseHeaders"in p&&p.getAllResponseHeaders());Zc(function(e){t(e),f()},function(e){n(e),f()},{data:A&&"text"!==A&&"json"!==A?p.response:p.responseText,status:p.status,statusText:p.statusText,headers:r,config:e,request:p}),p=null}p.open(r.method.toUpperCase(),r.url,!0),p.timeout=r.timeout,"onloadend"in p?p.onloadend=g:p.onreadystatechange=function(){p&&4===p.readyState&&(0!==p.status||p.responseURL&&0===p.responseURL.indexOf("file:"))&&setTimeout(g)},p.onabort=function(){p&&(n(new mc("Request aborted",mc.ECONNABORTED,e,p)),p=null)},p.onerror=function(t){const r=t&&t.message?t.message:"Network Error",i=new mc(r,mc.ERR_NETWORK,e,p);i.event=t||null,n(i),p=null},p.ontimeout=function(){let t=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const i=r.transitional||Fc;r.timeoutErrorMessage&&(t=r.timeoutErrorMessage),n(new mc(t,i.clarifyTimeoutError?mc.ETIMEDOUT:mc.ECONNABORTED,e,p)),p=null},void 0===i&&a.setContentType(null),"setRequestHeader"in p&&hc.forEach(a.toJSON(),function(e,t){p.setRequestHeader(t,e)}),hc.isUndefined(r.withCredentials)||(p.withCredentials=!!r.withCredentials),A&&"json"!==A&&(p.responseType=r.responseType),h&&([l,u]=tu(h,!0),p.addEventListener("progress",l)),d&&p.upload&&([s,c]=tu(d),p.upload.addEventListener("progress",s),p.upload.addEventListener("loadend",c)),(r.cancelToken||r.signal)&&(o=t=>{p&&(n(!t||t.type?new Jc(null,e,p):t),p.abort(),p=null)},r.cancelToken&&r.cancelToken.subscribe(o),r.signal&&(r.signal.aborted?o():r.signal.addEventListener("abort",o)));const m=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(r.url);m&&-1===Dc.protocols.indexOf(m)?n(new mc("Unsupported protocol "+m+":",mc.ERR_BAD_REQUEST,e)):p.send(i||null)})},Au=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let n,r=new AbortController;const i=function(e){if(!n){n=!0,o();const t=e instanceof Error?e:this.reason;r.abort(t instanceof mc?t:new Jc(t instanceof Error?t.message:t))}};let a=t&&setTimeout(()=>{a=null,i(new mc("timeout ".concat(t," of ms exceeded"),mc.ETIMEDOUT))},t);const o=()=>{e&&(a&&clearTimeout(a),a=null,e.forEach(e=>{e.unsubscribe?e.unsubscribe(i):e.removeEventListener("abort",i)}),e=null)};e.forEach(e=>e.addEventListener("abort",i));const{signal:s}=r;return s.unsubscribe=()=>hc.asap(o),s}};function du(e,t){this.v=e,this.k=t}function hu(e){return function(){return new fu(e.apply(this,arguments))}}function fu(e){var t,n;function r(t,n){try{var a=e[t](n),o=a.value,s=o instanceof du;Promise.resolve(s?o.v:o).then(function(n){if(s){var l="return"===t?"return":"next";if(!o.k||n.done)return r(l,n);n=e[l](n).value}i(a.done?"return":"normal",n)},function(e){r("throw",e)})}catch(e){i("throw",e)}}function i(e,i){switch(e){case"return":t.resolve({value:i,done:!0});break;case"throw":t.reject(i);break;default:t.resolve({value:i,done:!1})}(t=t.next)?r(t.key,t.arg):n=null}this._invoke=function(e,i){return new Promise(function(a,o){var s={key:e,arg:i,resolve:a,reject:o,next:null};n?n=n.next=s:(t=n=s,r(e,i))})},"function"!=typeof e.return&&(this.return=void 0)}function pu(e){return new du(e,0)}function gu(e){var t={},n=!1;function r(t,r){return n=!0,r=new Promise(function(n){n(e[t](r))}),{done:!1,value:new du(r,1)}}return t["undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator"]=function(){return this},t.next=function(e){return n?(n=!1,e):r("next",e)},"function"==typeof e.throw&&(t.throw=function(e){if(n)throw n=!1,e;return r("throw",e)}),"function"==typeof e.return&&(t.return=function(e){return n?(n=!1,e):r("return",e)}),t}function mu(e){var t,n,r,i=2;for("undefined"!=typeof Symbol&&(n=Symbol.asyncIterator,r=Symbol.iterator);i--;){if(n&&null!=(t=e[n]))return t.call(e);if(r&&null!=(t=e[r]))return new vu(t.call(e));n="@@asyncIterator",r="@@iterator"}throw new TypeError("Object is not async iterable")}function vu(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then(function(e){return{value:e,done:t}})}return vu=function(e){this.s=e,this.n=e.next},vu.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var n=this.s.return;return void 0===n?Promise.resolve({value:e,done:!0}):t(n.apply(this.s,arguments))},throw:function(e){var n=this.s.return;return void 0===n?Promise.reject(e):t(n.apply(this.s,arguments))}},new vu(e)}fu.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},fu.prototype.next=function(e){return this._invoke("next",e)},fu.prototype.throw=function(e){return this._invoke("throw",e)},fu.prototype.return=function(e){return this._invoke("return",e)};const yu=function*(e,t){let n=e.byteLength;if(!t||n<t)return void(yield e);let r,i=0;for(;i<n;)r=i+t,yield e.slice(i,r),i=r},bu=function(){var e=hu(function*(e,t){var n,r=!1,i=!1;try{for(var a,o=mu(wu(e));r=!(a=yield pu(o.next())).done;r=!1){const e=a.value;yield*gu(mu(yu(e,t)))}}catch(s){i=!0,n=s}finally{try{r&&null!=o.return&&(yield pu(o.return()))}finally{if(i)throw n}}});return function(t,n){return e.apply(this,arguments)}}(),wu=function(){var e=hu(function*(e){if(e[Symbol.asyncIterator])return void(yield*gu(mu(e)));const t=e.getReader();try{for(;;){const{done:e,value:n}=yield pu(t.read());if(e)break;yield n}}finally{yield pu(t.cancel())}});return function(t){return e.apply(this,arguments)}}(),xu=(e,t,n,r)=>{const i=bu(e,t);let a,o=0,s=e=>{a||(a=!0,r&&r(e))};return new ReadableStream({async pull(e){try{const{done:t,value:r}=await i.next();if(t)return s(),void e.close();let a=r.byteLength;if(n){let e=o+=a;n(e)}e.enqueue(new Uint8Array(r))}catch(t){throw s(t),t}},cancel:e=>(s(e),i.return())},{highWaterMark:2})},{isFunction:Bu}=hc,Cu=(e=>{let{Request:t,Response:n}=e;return{Request:t,Response:n}})(hc.global),{ReadableStream:Nu,TextEncoder:ku}=hc.global,_u=function(e){try{for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return!!e(...n)}catch(zD){return!1}},Eu=e=>{e=hc.merge.call({skipUndefined:!0},Cu,e);const{fetch:t,Request:n,Response:r}=e,i=t?Bu(t):"function"===typeof fetch,a=Bu(n),o=Bu(r);if(!i)return!1;const s=i&&Bu(Nu),l=i&&("function"===typeof ku?(e=>t=>e.encode(t))(new ku):async e=>new Uint8Array(await new n(e).arrayBuffer())),c=a&&s&&_u(()=>{let e=!1;const t=new n(Dc.origin,{body:new Nu,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),u=o&&s&&_u(()=>hc.isReadableStream(new r("").body)),A={stream:u&&(e=>e.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!A[e]&&(A[e]=(t,n)=>{let r=t&&t[e];if(r)return r.call(t);throw new mc("Response type '".concat(e,"' is not supported"),mc.ERR_NOT_SUPPORT,n)})});const d=async(e,t)=>{const r=hc.toFiniteNumber(e.getContentLength());return null==r?(async e=>{if(null==e)return 0;if(hc.isBlob(e))return e.size;if(hc.isSpecCompliantForm(e)){const t=new n(Dc.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return hc.isArrayBufferView(e)||hc.isArrayBuffer(e)?e.byteLength:(hc.isURLSearchParams(e)&&(e+=""),hc.isString(e)?(await l(e)).byteLength:void 0)})(t):r};return async e=>{let{url:i,method:o,data:s,signal:l,cancelToken:h,timeout:f,onDownloadProgress:p,onUploadProgress:g,responseType:m,headers:v,withCredentials:y="same-origin",fetchOptions:b}=cu(e),w=t||fetch;m=m?(m+"").toLowerCase():"text";let x=Au([l,h&&h.toAbortSignal()],f),B=null;const C=x&&x.unsubscribe&&(()=>{x.unsubscribe()});let N;try{if(g&&c&&"get"!==o&&"head"!==o&&0!==(N=await d(v,s))){let e,t=new n(i,{method:"POST",body:s,duplex:"half"});if(hc.isFormData(s)&&(e=t.headers.get("content-type"))&&v.setContentType(e),t.body){const[e,n]=nu(N,tu(ru(g)));s=xu(t.body,65536,e,n)}}hc.isString(y)||(y=y?"include":"omit");const t=a&&"credentials"in n.prototype,l=Me(Me({},b),{},{signal:x,method:o.toUpperCase(),headers:v.normalize().toJSON(),body:s,duplex:"half",credentials:t?y:void 0});B=a&&new n(i,l);let h=await(a?w(B,b):w(i,l));const f=u&&("stream"===m||"response"===m);if(u&&(p||f&&C)){const e={};["status","statusText","headers"].forEach(t=>{e[t]=h[t]});const t=hc.toFiniteNumber(h.headers.get("content-length")),[n,i]=p&&nu(t,tu(ru(p),!0))||[];h=new r(xu(h.body,65536,n,()=>{i&&i(),C&&C()}),e)}m=m||"text";let k=await A[hc.findKey(A,m)||"text"](h,e);return!f&&C&&C(),await new Promise((t,n)=>{Zc(t,n,{data:k,headers:Gc.from(h.headers),status:h.status,statusText:h.statusText,config:e,request:B})})}catch(k){if(C&&C(),k&&"TypeError"===k.name&&/Load failed|fetch/i.test(k.message))throw Object.assign(new mc("Network Error",mc.ERR_NETWORK,e,B),{cause:k.cause||k});throw mc.from(k,k&&k.code,e,B)}}},Su=new Map,Fu=e=>{let t=e&&e.env||{};const{fetch:n,Request:r,Response:i}=t,a=[r,i,n];let o,s,l=a.length,c=Su;for(;l--;)o=a[l],s=c.get(o),void 0===s&&c.set(o,s=l?new Map:Eu(t)),c=s;return s},Iu=(Fu(),{http:null,xhr:uu,fetch:{get:Fu}});hc.forEach(Iu,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(zD){}Object.defineProperty(e,"adapterName",{value:t})}});const ju=e=>"- ".concat(e),Uu=e=>hc.isFunction(e)||null===e||!1===e;const Ou={getAdapter:function(e,t){e=hc.isArray(e)?e:[e];const{length:n}=e;let r,i;const a={};for(let o=0;o<n;o++){let n;if(r=e[o],i=r,!Uu(r)&&(i=Iu[(n=String(r)).toLowerCase()],void 0===i))throw new mc("Unknown adapter '".concat(n,"'"));if(i&&(hc.isFunction(i)||(i=i.get(t))))break;a[n||"#"+o]=i}if(!i){const e=Object.entries(a).map(e=>{let[t,n]=e;return"adapter ".concat(t," ")+(!1===n?"is not supported by the environment":"is not available in the build")});let t=n?e.length>1?"since :\n"+e.map(ju).join("\n"):" "+ju(e[0]):"as no adapter specified";throw new mc("There is no suitable adapter to dispatch the request "+t,"ERR_NOT_SUPPORT")}return i},adapters:Iu};function Pu(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Jc(null,e)}function Lu(e){Pu(e),e.headers=Gc.from(e.headers),e.data=qc.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return Ou.getAdapter(e.adapter||Qc.adapter,e)(e).then(function(t){return Pu(e),t.data=qc.call(e,e.transformResponse,t),t.headers=Gc.from(t.headers),t},function(t){return Xc(t)||(Pu(e),t&&t.response&&(t.response.data=qc.call(e,e.transformResponse,t.response),t.response.headers=Gc.from(t.response.headers))),Promise.reject(t)})}const Du="1.13.2",Tu={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Tu[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const Mu={};Tu.transitional=function(e,t,n){function r(e,t){return"[Axios v"+Du+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,i,a)=>{if(!1===e)throw new mc(r(i," has been removed"+(t?" in "+t:"")),mc.ERR_DEPRECATED);return t&&!Mu[i]&&(Mu[i]=!0,console.warn(r(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,i,a)}},Tu.spelling=function(e){return(t,n)=>(console.warn("".concat(n," is likely a misspelling of ").concat(e)),!0)};const Qu={assertOptions:function(e,t,n){if("object"!==typeof e)throw new mc("options must be an object",mc.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let i=r.length;for(;i-- >0;){const a=r[i],o=t[a];if(o){const t=e[a],n=void 0===t||o(t,a,e);if(!0!==n)throw new mc("option "+a+" must be "+n,mc.ERR_BAD_OPTION_VALUE);continue}if(!0!==n)throw new mc("Unknown option "+a,mc.ERR_BAD_OPTION)}},validators:Tu},Ru=Qu.validators;class Hu{constructor(e){this.defaults=e||{},this.interceptors={request:new Sc,response:new Sc}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{n.stack?t&&!String(n.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(n.stack+="\n"+t):n.stack=t}catch(zD){}}throw n}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=lu(this.defaults,t);const{transitional:n,paramsSerializer:r,headers:i}=t;void 0!==n&&Qu.assertOptions(n,{silentJSONParsing:Ru.transitional(Ru.boolean),forcedJSONParsing:Ru.transitional(Ru.boolean),clarifyTimeoutError:Ru.transitional(Ru.boolean)},!1),null!=r&&(hc.isFunction(r)?t.paramsSerializer={serialize:r}:Qu.assertOptions(r,{encode:Ru.function,serialize:Ru.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),Qu.assertOptions(t,{baseUrl:Ru.spelling("baseURL"),withXsrfToken:Ru.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let a=i&&hc.merge(i.common,i[t.method]);i&&hc.forEach(["delete","get","head","post","put","patch","common"],e=>{delete i[e]}),t.headers=Gc.concat(a,i);const o=[];let s=!0;this.interceptors.request.forEach(function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(s=s&&e.synchronous,o.unshift(e.fulfilled,e.rejected))});const l=[];let c;this.interceptors.response.forEach(function(e){l.push(e.fulfilled,e.rejected)});let u,A=0;if(!s){const e=[Lu.bind(this),void 0];for(e.unshift(...o),e.push(...l),u=e.length,c=Promise.resolve(t);A<u;)c=c.then(e[A++],e[A++]);return c}u=o.length;let d=t;for(;A<u;){const e=o[A++],t=o[A++];try{d=e(d)}catch(h){t.call(this,h);break}}try{c=Lu.call(this,d)}catch(h){return Promise.reject(h)}for(A=0,u=l.length;A<u;)c=c.then(l[A++],l[A++]);return c}getUri(e){return Ec(ou((e=lu(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}}hc.forEach(["delete","get","head","options"],function(e){Hu.prototype[e]=function(t,n){return this.request(lu(n||{},{method:e,url:t,data:(n||{}).data}))}}),hc.forEach(["post","put","patch"],function(e){function t(t){return function(n,r,i){return this.request(lu(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}Hu.prototype[e]=t(),Hu.prototype[e+"Form"]=t(!0)});const zu=Hu;class Ku{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(e){t=e});const n=this;this.promise.then(e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null}),this.promise.then=e=>{let t;const r=new Promise(e=>{n.subscribe(e),t=e}).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e(function(e,r,i){n.reason||(n.reason=new Jc(e,r,i),t(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;const t=new Ku(function(t){e=t});return{token:t,cancel:e}}}const Wu=Ku;const Vu={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Vu).forEach(e=>{let[t,n]=e;Vu[n]=t});const Gu=Vu;const qu=function e(t){const n=new zu(t),r=_l(zu.prototype.request,n);return hc.extend(r,zu.prototype,n,{allOwnKeys:!0}),hc.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(lu(t,n))},r}(Qc);qu.Axios=zu,qu.CanceledError=Jc,qu.CancelToken=Wu,qu.isCancel=Xc,qu.VERSION=Du,qu.toFormData=xc,qu.AxiosError=mc,qu.Cancel=qu.CanceledError,qu.all=function(e){return Promise.all(e)},qu.spread=function(e){return function(t){return e.apply(null,t)}},qu.isAxiosError=function(e){return hc.isObject(e)&&!0===e.isAxiosError},qu.mergeConfig=lu,qu.AxiosHeaders=Gc,qu.formToJSON=e=>Tc(hc.isHTMLForm(e)?new FormData(e):e),qu.getAdapter=Ou.getAdapter,qu.HttpStatusCode=Gu,qu.default=qu;const Xu=qu,Yu=Xu.create({baseURL:"http://localhost:5001/api",withCredentials:!0,headers:{"Content-Type":"application/json"}});Yu.interceptors.request.use(e=>{const t=localStorage.getItem("admin");if(t){const n=JSON.parse(t);n.token&&(e.headers.Authorization="Bearer ".concat(n.token))}return console.log("Making request to:",e.url,"with headers:",e.headers),e},e=>Promise.reject(e)),Yu.interceptors.response.use(e=>(console.log("Response received:",e),e),e=>(console.error("API Error:",e),e.response&&401===e.response.status&&(console.error("Unauthorized access"),window.location.href="/admin/login"),Promise.reject(e)));const Ju=Yu;const Zu=class{static async testConnection(){try{return(await Ju.get("/whatsapp/health")).data}catch(e){throw console.error("WhatsApp connection test failed:",e),e}}static async sendJobIntakeNotification(e){try{console.log("[WhatsApp] Sending intake notification for job: ".concat(e));const t=await Ju.post("/whatsapp/send-intake/".concat(e));return console.log("[WhatsApp] Response:",t.data),t.data}catch(r){var t,n;if(console.error("[WhatsApp] Error sending notification:",r),null!==(t=r.response)&&void 0!==t&&null!==(n=t.data)&&void 0!==n&&n.jobCreated)return{success:!1,message:r.response.data.message||"WhatsApp notification failed",jobCreated:!0};throw r}}static async sendJobIntakeWithMedia(e,t,n,r){try{console.log("[WhatsApp] Sending intake with media for job: ".concat(e));const i=new FormData;let a=!1;if(t&&t.size>0){const n=new File([t],"Bill_".concat(e,".pdf"),{type:"application/pdf"});i.append("pdf",n),a=!0,console.log("[WhatsApp] PDF added: ".concat((n.size/1024).toFixed(2),"KB"))}else console.log("[WhatsApp] No valid PDF blob provided");if(n&&"string"===typeof n&&n.length>100)try{const t=await this.dataURLtoBlob(n);if(t&&t.size>0){const n=new File([t],"Customer_".concat(e,".jpg"),{type:"image/jpeg"});i.append("photo",n),a=!0,console.log("[WhatsApp] Photo added: ".concat((n.size/1024).toFixed(2),"KB"))}else console.log("[WhatsApp] Photo blob conversion resulted in empty blob")}catch(l){console.error("[WhatsApp] Error converting photo:",l)}else console.log("[WhatsApp] No valid photo data URL provided");if(r)try{let t=r;if("string"===typeof r)if(r.startsWith("blob:")){console.log("[WhatsApp] Fetching video from blob URL...");const e=await fetch(r);t=await e.blob()}else r.startsWith("data:")&&(t=await this.dataURLtoBlob(r));if(t&&t.size>0)if(t.size>16777216)console.log("[WhatsApp] Video too large: ".concat((t.size/1024/1024).toFixed(2),"MB (max 16MB)"));else{const n=new File([t],"Device_".concat(e,".mp4"),{type:"video/mp4"});i.append("video",n),a=!0,console.log("[WhatsApp] Video added: ".concat((n.size/1024/1024).toFixed(2),"MB"))}}catch(c){console.error("[WhatsApp] Error processing video:",c)}else console.log("[WhatsApp] No video blob provided");if(!a)return console.log("[WhatsApp] No media to send, falling back to text-only notification"),await this.sendJobIntakeNotification(e);console.log("[WhatsApp] Sending form data to server...");const o=await Ju.post("/whatsapp/send-intake-with-media/".concat(e),i,{headers:{"Content-Type":"multipart/form-data"},timeout:9e4,onUploadProgress:e=>{const t=Math.round(100*e.loaded/e.total);console.log("[WhatsApp] Upload progress: ".concat(t,"%"))}});return console.log("[WhatsApp] Server response:",o.data),o.data}catch(u){var i,a,o,s;return console.error("[WhatsApp] Error sending with media:",u),{success:!1,message:(null===(i=u.response)||void 0===i||null===(a=i.data)||void 0===a?void 0:a.message)||u.message||"WhatsApp notification failed",jobCreated:!0,error:u.message,results:null===(o=u.response)||void 0===o||null===(s=o.data)||void 0===s?void 0:s.results}}}static async dataURLtoBlob(e){try{if(!e||"string"!==typeof e)throw new Error("Invalid data URL");if(!e.startsWith("data:"))throw new Error("Not a data URL");const t=e.split(",");if(t.length<2)throw new Error("Invalid data URL format");const n=t[0].match(/:(.*?);/),r=n?n[1]:"image/jpeg",i=atob(t[1]);let a=i.length;const o=new Uint8Array(a);for(;a--;)o[a]=i.charCodeAt(a);const s=new Blob([o],{type:r});return console.log("[WhatsApp] Converted data URL to blob: ".concat((s.size/1024).toFixed(2),"KB, type: ").concat(r)),s}catch(t){console.error("[WhatsApp] Error converting dataURL to blob:",t);try{console.log("[WhatsApp] Trying fetch method for data URL conversion...");const t=await fetch(e),n=await t.blob();return console.log("[WhatsApp] Fetch method succeeded: ".concat((n.size/1024).toFixed(2),"KB")),n}catch(n){throw console.error("[WhatsApp] Fetch method also failed:",n),t}}}static async sendJobCompletionNotification(e){try{return(await Ju.post("/whatsapp/send-completion/".concat(e))).data}catch(r){var t,n;if(console.error("Error sending job completion notification:",r),null!==(t=r.response)&&void 0!==t&&null!==(n=t.data)&&void 0!==n&&n.note)return{success:!1,message:r.response.data.message,note:r.response.data.note};throw r}}static async sendTextMessage(e,t){try{return(await Ju.post("/whatsapp/send-text",{phoneNumber:e,text:t})).data}catch(n){throw console.error("Error sending text message:",n),n}}static async testCredentials(){try{return(await Ju.get("/whatsapp/test-credentials")).data}catch(e){throw console.error("Error testing WhatsApp credentials:",e),e}}},$u=n.p+"static/media/logo.e6c7d871bbbd52805b67.png",eA=()=>{const[e,t]=(0,i.useState)([]),[n,r]=(0,i.useState)(!0),[a,o]=(0,i.useState)(""),[s,l]=(0,i.useState)(""),[c,u]=(0,i.useState)(!1),[A,d]=(0,i.useState)(""),h=re();(0,i.useEffect)(()=>{localStorage.getItem("admin")||h("/admin/login")},[h]);const[f,p]=(0,i.useState)({customerName:"",customerPhone:"",customerEmail:"",customerAddress:"",aadharNumber:"",device_brand:"",device_model:"",imei_number:"",serial_number:"",device_condition:"",reported_issue:"",repair_type:"hardware",urgency_level:"normal",estimated_delivery_date:"",service_charges:"",parts_cost:"",advance_payment:"",payment_method:"cash",total_amount:"",taken_by_worker_id:"",job_card_number:""});(0,i.useEffect)(()=>{(async()=>{try{const[e,n]=await Promise.all([Ju.get("/workers"),Ju.get("/jobs/next-bill-number")]);t(e.data),p(e=>Me(Me({},e),{},{job_card_number:n.data.nextBillNumber})),r(!1)}catch(e){console.error(e),o("Failed to fetch data"),r(!1)}})()},[]);const[g,m]=(0,i.useState)(null),[v,y]=(0,i.useState)(null),[b,w]=(0,i.useState)("user"),[x,B]=(0,i.useState)(!1),[C,N]=(0,i.useState)("photo"),[k,_]=(0,i.useState)(!1),[E,S]=(0,i.useState)(0),[F,I]=(0,i.useState)(null),j=(0,i.useRef)(null),U=(0,i.useRef)(null),O=(0,i.useRef)(null),P=(0,i.useCallback)(async()=>{try{const e=await navigator.mediaDevices.getUserMedia({video:{facingMode:b}});j.current&&(j.current.srcObject=e)}catch(e){console.error("Error accessing camera:",e),o("Could not access camera. Please ensure you have given permission.")}},[b]),L=()=>{F&&k&&(F.stop(),_(!1),O.current&&(clearInterval(O.current),O.current=null),S(0))};return(0,i.useEffect)(()=>{if(x){if(j.current&&j.current.srcObject){j.current.srcObject.getTracks().forEach(e=>e.stop())}P()}},[b,x,P]),(0,i.useEffect)(()=>{const e=j.current;return()=>{if(e&&e.srcObject){e.srcObject.getTracks().forEach(e=>e.stop())}}},[]),n?(0,Pe.jsx)("div",{className:"p-8 bg-gray-100 min-h-screen ml-64 flex items-center justify-center",children:(0,Pe.jsx)("div",{className:"text-xl",children:"Loading..."})}):(0,Pe.jsxs)("div",{className:"p-8 bg-gray-100 min-h-screen ml-64",children:[(0,Pe.jsx)("style",{children:"\n          .hide-spinners::-webkit-outer-spin-button,\n          .hide-spinners::-webkit-inner-spin-button {\n            -webkit-appearance: none;\n            margin: 0;\n          }\n          .hide-spinners {\n            -moz-appearance: textfield;\n          }\n        "}),(0,Pe.jsxs)("div",{className:"mb-8",children:[(0,Pe.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"New Job Intake"}),(0,Pe.jsx)("p",{className:"text-gray-600",children:"Create a new repair job"}),c&&(0,Pe.jsx)("div",{className:"mt-2 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:(0,Pe.jsxs)("div",{className:"flex items-center text-blue-600",children:[(0,Pe.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,Pe.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,Pe.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),(0,Pe.jsx)("span",{className:"font-medium",children:A||"Processing..."})]})})]}),a&&(0,Pe.jsx)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:a}),s&&(0,Pe.jsx)("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded mb-4",children:s}),(0,Pe.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,Pe.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),u(!0),o(""),l(""),d("Creating job...");const t=Date.now();try{var n,r,i,s;const e=Me(Me({},f),{},{service_charges:""===f.service_charges?0:parseFloat(f.service_charges),parts_cost:""===f.parts_cost?0:parseFloat(f.parts_cost),advance_payment:""===f.advance_payment?0:parseFloat(f.advance_payment),total_amount:""===f.total_amount?0:parseFloat(f.total_amount),customer_photo:g,device_video:v});console.log("=".repeat(50)),console.log("STEP 1: Creating job...");const o=(await Ju.post("/jobs",e)).data.job._id,u=f.job_card_number;console.log("Job created:",o,"(".concat(Date.now()-t,"ms)")),d("Job created. Generating PDF..."),console.log("STEP 2: Generating PDF for WhatsApp...");let j=null;try{j=await(async e=>{console.log("Generating PDF for WhatsApp...");try{const t=new Date,n=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],r="".concat(t.getDate(),"/").concat(n[t.getMonth()],"/").concat(t.getFullYear()),i=document.createElement("div");i.style.width="210mm",i.style.minHeight="297mm",i.style.padding="10mm",i.style.backgroundColor="#ffffff",i.style.boxSizing="border-box",i.style.position="absolute",i.style.left="-9999px",i.style.top="0",i.style.fontFamily="Arial, sans-serif",i.innerHTML='\n        <div style="border: 2px solid #000; padding: 15px; height: 100%;">\n          <div style="text-align: center; margin-bottom: 10px; border-bottom: 1px solid #000; padding-bottom: 10px;">\n            <h1 style="font-size: 16px; font-weight: bold; margin: 0;">Sri Ramanar Mobile & Laptop Service Center</h1>\n            <p style="font-size: 11px; margin: 5px 0;">\n              1E, Kattabomman Street, Near Vallaba Vinayagar, Tiruvannamalai - 606601\n            </p>\n            <p style="font-size: 12px; font-weight: bold; margin: 3px 0;">\n              Mobile: 94430 19097, 94438 11231\n            </p>\n          </div>\n\n          <div style="display: flex; justify-content: space-between; font-size: 11px; margin-bottom: 10px; padding: 5px; background: #f5f5f5;">\n            <div>\n              <strong>Bill No:</strong> '.concat(e,"<br/>\n              <strong>Date:</strong> ").concat(r,'\n            </div>\n            <div style="text-align: right;">\n              <strong>Working Hours:</strong> 9 AM - 9:30 PM<br/>\n              <strong>Holiday:</strong> Tuesday\n            </div>\n          </div>\n\n          <div style="border: 1px solid #000; padding: 10px; margin-bottom: 10px;">\n            <h3 style="margin: 0 0 8px 0; font-size: 12px; border-bottom: 1px solid #ccc; padding-bottom: 5px;">Customer Details</h3>\n            <table style="width: 100%; font-size: 11px;">\n              <tr>\n                <td style="width: 25%; padding: 3px;"><strong>Name:</strong></td>\n                <td style="width: 75%; padding: 3px;">').concat(f.customerName.toUpperCase(),'</td>\n              </tr>\n              <tr>\n                <td style="padding: 3px;"><strong>Phone:</strong></td>\n                <td style="padding: 3px;">').concat(f.customerPhone,'</td>\n              </tr>\n              <tr>\n                <td style="padding: 3px;"><strong>Address:</strong></td>\n                <td style="padding: 3px;">').concat(f.customerAddress||"T.V.MALAI","</td>\n              </tr>\n              ").concat(f.aadharNumber?'<tr>\n                <td style="padding: 3px;"><strong>Aadhar:</strong></td>\n                <td style="padding: 3px;">'.concat(f.aadharNumber,"</td>\n              </tr>"):"",'\n            </table>\n          </div>\n\n          <div style="border: 1px solid #000; padding: 10px; margin-bottom: 10px;">\n            <h3 style="margin: 0 0 8px 0; font-size: 12px; border-bottom: 1px solid #ccc; padding-bottom: 5px;">Device & Service Details</h3>\n            <table style="width: 100%; font-size: 11px;">\n              <tr>\n                <td style="width: 25%; padding: 3px;"><strong>Device:</strong></td>\n                <td style="width: 75%; padding: 3px;">').concat(f.device_brand?f.device_brand+" ":"").concat(f.device_model,'</td>\n              </tr>\n              <tr>\n                <td style="padding: 3px;"><strong>Issue:</strong></td>\n                <td style="padding: 3px;">').concat(f.reported_issue.toUpperCase(),"</td>\n              </tr>\n              ").concat(f.imei_number?'<tr>\n                <td style="padding: 3px;"><strong>IMEI:</strong></td>\n                <td style="padding: 3px;">'.concat(f.imei_number,"</td>\n              </tr>"):"",'\n            </table>\n          </div>\n\n          <div style="border: 1px solid #000; padding: 10px; margin-bottom: 10px; background: #f9f9f9;">\n            <h3 style="margin: 0 0 8px 0; font-size: 12px; border-bottom: 1px solid #ccc; padding-bottom: 5px;">Payment Summary</h3>\n            <table style="width: 100%; font-size: 12px;">\n              <tr>\n                <td style="padding: 5px;"><strong>Total Amount:</strong></td>\n                <td style="padding: 5px; text-align: right; font-weight: bold;">\u20b9').concat((""===f.total_amount?0:parseFloat(f.total_amount)).toFixed(2),'</td>\n              </tr>\n              <tr>\n                <td style="padding: 5px;"><strong>Advance Paid:</strong></td>\n                <td style="padding: 5px; text-align: right;">\u20b9').concat((""===f.advance_payment?0:parseFloat(f.advance_payment)).toFixed(2),'</td>\n              </tr>\n              <tr style="border-top: 1px solid #000;">\n                <td style="padding: 5px;"><strong>Balance Due:</strong></td>\n                <td style="padding: 5px; text-align: right; font-weight: bold; font-size: 14px;">\u20b9').concat(((""===f.total_amount?0:parseFloat(f.total_amount))-(""===f.advance_payment?0:parseFloat(f.advance_payment))).toFixed(2),'</td>\n              </tr>\n            </table>\n          </div>\n\n          <div style="text-align: center; font-size: 10px; margin-top: 15px; padding-top: 10px; border-top: 1px dashed #000;">\n            <p style="margin: 5px 0;">Thank you for choosing our service!</p>\n            <p style="margin: 5px 0; font-style: italic;">*Computer Generated Receipt*</p>\n          </div>\n        </div>\n      '),document.body.appendChild(i),await new Promise(e=>setTimeout(e,100)),console.log("Rendering PDF canvas...");const a=await kl()(i,{scale:1.5,useCORS:!0,logging:!1,backgroundColor:"#ffffff",imageTimeout:5e3,removeContainer:!1});console.log("Canvas created:",a.width,"x",a.height);const o=a.toDataURL("image/jpeg",.75),s=new jo("p","mm","a4"),l=s.internal.pageSize.getWidth(),c=s.internal.pageSize.getHeight();s.addImage(o,"JPEG",0,0,l,c);const u=s.output("blob");return document.body.removeChild(i),console.log("PDF generated for WhatsApp:",(u.size/1024).toFixed(2),"KB"),u}catch(t){return console.error("Error generating PDF for WhatsApp:",t),null}})(u),j?console.log("PDF for WhatsApp generated:",(j.size/1024).toFixed(2),"KB","(".concat(Date.now()-t,"ms)")):console.warn("PDF generation returned null")}catch(O){console.error("PDF generation error:",O)}console.log("STEP 3: Starting parallel operations..."),d("Downloading PDF & sending WhatsApp...");const U=(async e=>{console.log("Generating local PDF for download...");try{const t=new Date,n=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],r="".concat(t.getDate(),"/").concat(n[t.getMonth()],"/").concat(t.getFullYear()),i=document.createElement("div");i.style.width="210mm",i.style.minHeight="297mm",i.style.padding="10mm",i.style.backgroundColor="#ffffff",i.style.boxSizing="border-box",i.style.position="absolute",i.style.left="-9999px",i.style.fontFamily="'Nirmala UI', 'Arial Unicode MS', 'Arial', sans-serif",i.innerHTML='\n        <div style="border: 1px solid #000; padding: 10px; height: 100%; position: relative;">\n          <div style="text-align: center; margin-bottom: 5px; position: relative;">\n            <div style="position: absolute; top: 0; left: 10px;">\n               <img src="'.concat($u,'" style="width: 70px; height: 70px; border-radius: 50%; object-fit: cover;" onerror="this.style.display=\'none\'" />\n            </div>\n            \n            ').concat(g?'<div style="position: absolute; top: 0; right: 10px;">\n               <img src="'.concat(g,'" style="width: 70px; height: 70px; border-radius: 50%; object-fit: cover;" />\n            </div>'):"",'\n            \n            <h1 style="font-size: 20px; font-weight: bold; margin: 0; padding-top: 5px;">\u0bb8\u0bcd\u0bb0\u0bc0 \u0bb0\u0bae\u0ba3\u0bb0\u0bcd \u0bae\u0bca\u0baa\u0bc8\u0bb2\u0bcd & \u0bb2\u0bc7\u0baa\u0bcd\u0b9f\u0bbe\u0baa\u0bcd \u0b9a\u0bb0\u0bcd\u0bb5\u0bc0\u0bb8\u0bcd \u0b9a\u0bc6\u0ba9\u0bcd\u0b9f\u0bb0\u0bcd</h1>\n            \n            <p style="font-size: 12px; margin: 4px 0;">\n              1E, \u0b95\u0b9f\u0bcd\u0b9f\u0baa\u0bca\u0bae\u0bcd\u0bae\u0ba9\u0bcd \u0ba4\u0bc6\u0bb0\u0bc1, \u0bb5\u0bb2\u0bcd\u0bb2\u0baa \u0bb5\u0bbf\u0ba8\u0bbe\u0baf\u0b95\u0bb0\u0bcd \u0b85\u0bb0\u0bc1\u0b95\u0bbf\u0bb2\u0bcd,<br/>\n              \u0ba4\u0bbf\u0bb0\u0bc1\u0bb5\u0ba3\u0bcd\u0ba3\u0bbe\u0bae\u0bb2\u0bc8 - 606601.\n            </p>\n            <p style="font-size: 13px; font-weight: bold; margin: 4px 0;">\n              Mobile : 94430 19097, 94438 11231.\n            </p>\n            <p style="font-size: 11px; margin: 5px 0;">\n              \u0b85\u0ba9\u0bc8\u0ba4\u0bcd\u0ba4\u0bc1 \u0bb5\u0bbf\u0ba4\u0bae\u0bbe\u0ba9 \u0b9a\u0bc6\u0bb2\u0bcd\u0baa\u0bcb\u0ba9\u0bcd \u0bae\u0bb1\u0bcd\u0bb1\u0bc1\u0bae\u0bcd \u0bb2\u0bc7\u0baa\u0bcd\u0b9f\u0bbe\u0baa\u0bcd \u0b9a\u0bbe\u0ba4\u0ba9\u0b99\u0bcd\u0b95\u0bb3\u0bc1\u0bae\u0bcd \u0b9a\u0bbf\u0bb1\u0ba8\u0bcd\u0ba4<br/>\n              \u0bae\u0bc1\u0bb1\u0bc8\u0baf\u0bbf\u0bb2\u0bcd \u0baa\u0bb4\u0bc1\u0ba4\u0bc1 \u0ba8\u0bc0\u0b95\u0bcd\u0b95\u0bbf \u0ba4\u0bb0\u0baa\u0bcd\u0baa\u0b9f\u0bc1\u0bae\u0bcd\n            </p>\n          </div>\n\n          <div style="display: flex; justify-content: space-between; font-size: 12px; font-weight: bold; margin-bottom: 10px;">\n            <div style="width: 40%;">\n              <div>\u0bb5\u0bc7\u0bb2\u0bc8 \u0ba8\u0bc7\u0bb0\u0bae\u0bcd</div>\n              <div>9.00 a.m. to 9.30 p.m.</div>\n              <div style="margin-top: 5px;">\u0b9a\u0bc6\u0bb5\u0bcd\u0bb5\u0bbe\u0baf\u0bcd \u0bb5\u0bbf\u0b9f\u0bc1\u0bae\u0bc1\u0bb1\u0bc8</div>\n            </div>\n            <div style="width: 40%; text-align: right;">\n              <div>\u0b89\u0ba3\u0bb5\u0bc1 \u0b87\u0b9f\u0bc8\u0bb5\u0bc7\u0bb3\u0bc8</div>\n              <div>1.00 p.m. to 2.30 p.m.</div>\n              <div style="margin-top: 5px;">\n                <span style="margin-right: 15px;">Bill No.: ').concat(e.job_card_number||e._id.slice(-4),"</span>\n                <span>Date: ").concat(r,'</span>\n              </div>\n            </div>\n          </div>\n\n          <hr style="border-top: 1px solid #000; margin: 0;" />\n\n          <div style="display: flex; justify-content: space-between; padding: 10px 0; font-size: 13px;">\n            <div style="width: 60%;">\n              <table style="width: 100%; border: none;">\n                <tr>\n                  <td style="width: 60px; font-weight: bold;">\u0baa\u0bc6\u0baf\u0bb0\u0bcd</td>\n                  <td style="font-weight: bold;">: ').concat(f.customerName.toUpperCase(),'</td>\n                </tr>\n                <tr>\n                  <td style="vertical-align: top; font-weight: bold;">\u0bae\u0bc1\u0b95\u0bb5\u0bb0\u0bbf</td>\n                  <td style="font-weight: bold;">: ').concat(f.customerAddress||"T.V.MALAI","</td>\n                </tr>\n                ").concat(f.aadharNumber?'<tr>\n                  <td style="font-weight: bold;">\u0b86\u0ba4\u0bbe\u0bb0\u0bcd</td>\n                  <td style="font-weight: bold;">: '.concat(f.aadharNumber,"</td>\n                </tr>"):"",'\n              </table>\n            </div>\n            <div style="width: 35%;">\n               <table style="width: 100%; border: none;">\n                <tr>\n                  <td style="width: 60px; font-weight: bold;">\u0b9a\u0bc6\u0bb2\u0bcd</td>\n                  <td style="font-weight: bold;">: ').concat(f.customerPhone,'</td>\n                </tr>\n                <tr>\n                  <td style="font-weight: bold;">\u0b87.\u0bae\u0bc6\u0baf\u0bbf\u0bb2\u0bcd</td>\n                  <td>: ').concat(f.customerEmail||"",'</td>\n                </tr>\n              </table>\n            </div>\n          </div>\n\n          <div style="margin-bottom: 0;">\n            <table style="width: 100%; border-collapse: collapse; border: 1px solid #000; font-size: 13px;">\n              <thead>\n                <tr style="height: 40px;">\n                  <th style="border: 1px solid #000; text-align: left; padding: 5px; width: 40%;">Brand & Model</th>\n                  <th style="border: 1px solid #000; text-align: left; padding: 5px; width: 40%;">Fault</th>\n                  <th style="border: 1px solid #000; text-align: right; padding: 5px; width: 20%;">Amount</th>\n                </tr>\n              </thead>\n              <tbody>\n                <tr style="height: 50px; vertical-align: top;">\n                  <td style="border: 1px solid #000; padding: 10px; font-weight: bold;">\n                    ').concat(f.device_brand?f.device_brand+" ":"").concat(f.device_model,'\n                  </td>\n                  <td style="border: 1px solid #000; padding: 10px; font-weight: bold;">\n                    ').concat(f.reported_issue.toUpperCase(),'\n                  </td>\n                  <td style="border: 1px solid #000; padding: 10px; text-align: right; font-weight: bold;">\n                    ').concat((""===f.total_amount?0:parseFloat(f.total_amount)).toFixed(2),'\n                  </td>\n                </tr>\n              </tbody>\n            </table>\n          </div>\n\n          <div style="border-bottom: 1px solid #000; padding: 10px 5px; font-size: 13px; font-weight: bold;">\n            <span style="margin-right: 30px;">Battery : No</span>\n            <span style="margin-right: 30px;">MMC : No</span>\n            <span>Sim : No</span>\n            <div style="margin-top: 5px;">\n              \u0baa\u0bb4\u0bc1\u0ba4\u0bc1 \u0ba8\u0bc0\u0b95\u0bcd\u0b95\u0bb5\u0bc7\u0ba3\u0bcd\u0b9f\u0bbf\u0baf \u0baa\u0bca\u0bb0\u0bc1\u0bb3\u0bcd \u0baf\u0bbe\u0bb0\u0bbe\u0bb2\u0bcd \u0b95\u0bca\u0ba3\u0bcd\u0b9f\u0bc1\u0bb5\u0bb0\u0baa\u0bcd\u0baa\u0b9f\u0bcd\u0b9f\u0ba4\u0bc1 : <span style="font-weight:normal">').concat(f.customerName,'</span>\n            </div>\n          </div>\n\n          <div style="padding: 10px 0; font-size: 11px; line-height: 1.4;">\n            <div style="font-weight: bold; margin-bottom: 5px;">\n              \u0b95\u0bc0\u0bb4\u0bcd\u0b95\u0ba3\u0bcd\u0b9f \u0b95\u0b9f\u0bcd\u0b9f\u0bc1\u0baa\u0bcd\u0baa\u0bbe\u0b9f\u0bc1\u0b95\u0bb3\u0bcd \u0bae\u0bb1\u0bcd\u0bb1\u0bc1\u0bae\u0bcd \u0bb5\u0bbf\u0ba4\u0bbf\u0bae\u0bc1\u0bb1\u0bc8\u0b95\u0bb3\u0bc1\u0b95\u0bcd\u0b95\u0bc1 \u0b89\u0b9f\u0bcd\u0baa\u0b9f\u0bcd\u0b9f\u0bc1 \u0ba4\u0b99\u0bcd\u0b95\u0bb3\u0bc1\u0b9f\u0bc8\u0baf \u0baa\u0bca\u0bb0\u0bc1\u0b9f\u0bcd\u0b95\u0bb3\u0bcd \u0baa\u0bb4\u0bc1\u0ba4\u0bc1 \u0baa\u0bbe\u0bb0\u0bcd\u0ba4\u0bcd\u0ba4\u0bb2\u0bc1\u0b95\u0bcd\u0b95\u0bc1 \u0b8e\u0b9f\u0bc1\u0ba4\u0bcd\u0ba4\u0bc1\u0b95\u0bcd\u0b95\u0bca\u0bb3\u0bcd\u0bb3\u0baa\u0bcd\u0baa\u0b9f\u0bc1\u0bae\u0bcd:\n            </div>\n            \n            <div style="display: flex; margin-bottom: 5px;">\n              <span style="width: 15px; flex-shrink: 0; font-weight: bold;">1.</span>\n              <span>Job Card\u0bb2\u0bcd \u0b95\u0bc1\u0bb1\u0bbf\u0b95\u0bcd\u0b95\u0baa\u0bcd\u0baa\u0b9f\u0bbe\u0ba4 \u0b89\u0ba4\u0bbf\u0bb0\u0bbf \u0baa\u0bbe\u0b95\u0b99\u0bcd\u0b95\u0bb3\u0bc1\u0b95\u0bcd\u0b95\u0bc1 \u0b95\u0b9f\u0bc8 \u0b89\u0bb0\u0bbf\u0bae\u0bc8\u0baf\u0bbe\u0bb3\u0bb0\u0bcd \u0baa\u0bca\u0bb1\u0bc1\u0baa\u0bcd\u0baa\u0bb2\u0bcd\u0bb2</span>\n            </div>\n\n            <div style="display: flex; margin-bottom: 5px;">\n              <span style="width: 15px; flex-shrink: 0; font-weight: bold;">2.</span>\n              <span>\u0baa\u0bb4\u0bc1\u0ba4\u0bbe\u0ba9 \u0b89\u0ba4\u0bbf\u0bb0\u0bbf \u0baa\u0bbe\u0b95\u0b99\u0bcd\u0b95\u0bb3\u0bcd (\u0baa\u0bc7\u0b9f\u0bcd\u0b9f\u0bb0\u0bbf \u0b89\u0b9f\u0bcd\u0baa\u0b9f) \u0ba4\u0bbf\u0bb0\u0bc1\u0baa\u0bcd\u0baa\u0bbf \u0b95\u0bca\u0b9f\u0bc1\u0b95\u0bcd\u0b95\u0baa\u0bcd\u0baa\u0b9f\u0bae\u0bbe\u0b9f\u0bcd\u0b9f\u0bbe\u0ba4\u0bc1</span>\n            </div>\n\n            <div style="display: flex; margin-bottom: 5px;">\n              <span style="width: 15px; flex-shrink: 0; font-weight: bold;">3.</span>\n              <span>\u0baa\u0bb4\u0bc1\u0ba4\u0bbf\u0ba9\u0bcd \u0b95\u0b9f\u0bbf\u0ba9\u0ba4\u0bcd\u0ba4\u0bc8\u0baa\u0bcd \u0baa\u0bca\u0bb1\u0bc1\u0ba4\u0bcd\u0ba4\u0bc1\u0bae\u0bcd \u0b89\u0ba4\u0bbf\u0bb0\u0bbf\u0baa\u0bbe\u0b95\u0b99\u0bcd\u0b95\u0bb3\u0bcd \u0b95\u0bbf\u0b9f\u0bc8\u0baa\u0bcd\u0baa\u0ba4\u0bc8\u0baa\u0bcd \u0baa\u0bca\u0bb1\u0bc1\u0ba4\u0bcd\u0ba4\u0bc1\u0bae\u0bcd \u0ba4\u0bbf\u0bb0\u0bc1\u0bae\u0bcd\u0baa\u0b95\u0bcd\u0b95\u0bca\u0b9f\u0bc1\u0b95\u0bcd\u0b95\u0bc1\u0bae\u0bcd \u0ba4\u0bc7\u0ba4\u0bbf \u0bae\u0bbe\u0bb1\u0bc1\u0baa\u0b9f\u0bc1\u0bae\u0bcd.</span>\n            </div>\n\n            <div style="display: flex; margin-bottom: 5px;">\n              <span style="width: 15px; flex-shrink: 0; font-weight: bold;">4.</span>\n              <span>\u0baa\u0bb4\u0bc1\u0ba4\u0bbf\u0ba9\u0bcd \u0b9a\u0bc6\u0bb2\u0bb5\u0bbf\u0ba9\u0b99\u0bcd\u0b95\u0bb3\u0bc8 \u0b95\u0ba3\u0b95\u0bcd\u0b95\u0bbf\u0b9f\u0bcd\u0b9f\u0bc1 \u0b9a\u0bca\u0bb2\u0bcd\u0bb5\u0ba4\u0bb1\u0bcd\u0b95\u0bc1 \u0b95\u0bc1\u0bb1\u0bc8\u0ba8\u0bcd\u0ba4\u0ba4\u0bc1 \u0b87\u0bb0\u0ba3\u0bcd\u0b9f\u0bc1 \u0ba8\u0bbe\u0b9f\u0bcd\u0b95\u0bb3\u0bcd \u0ba4\u0bb0\u0baa\u0bcd\u0baa\u0b9f\u0bb5\u0bc7\u0ba3\u0bcd\u0b9f\u0bc1\u0bae\u0bcd.</span>\n            </div>\n\n            <div style="display: flex; margin-bottom: 5px;">\n              <span style="width: 15px; flex-shrink: 0; font-weight: bold;">5.</span>\n              <span>\u0baa\u0bb4\u0bc1\u0ba4\u0bc1 \u0baa\u0bbe\u0bb0\u0bcd\u0b95\u0bcd\u0b95\u0bc1\u0bae\u0bcd \u0baa\u0bcb\u0ba4\u0bc1 \u0b8f\u0bb1\u0bcd\u0b95\u0ba9\u0bb5\u0bc7 \u0baa\u0bb4\u0bc1\u0ba4\u0bbe\u0ba9 \u0baa\u0bbe\u0b95\u0b99\u0bcd\u0b95\u0bb3\u0bcd \u0bae\u0bc7\u0bb2\u0bc1\u0bae\u0bcd \u0baa\u0bb4\u0bc1\u0ba4\u0bc1 \u0b85\u0b9f\u0bc8\u0ba8\u0bcd\u0ba4\u0bbe\u0bb2\u0bcd \u0b95\u0b9f\u0bc8 \u0b89\u0bb0\u0bbf\u0bae\u0bc8\u0baf\u0bbe\u0bb3\u0bb0\u0bcd\u0b95\u0bb3\u0bcd \u0baa\u0bca\u0bb1\u0bc1\u0baa\u0bcd\u0baa\u0bb2\u0bcd\u0bb2</span>\n            </div>\n\n            <div style="display: flex; margin-bottom: 5px;">\n              <span style="width: 15px; flex-shrink: 0; font-weight: bold;">6.</span>\n              <span>\u0baa\u0bb4\u0bc1\u0ba4\u0bc1\u0baa\u0bbe\u0bb0\u0bcd\u0ba4\u0bcd\u0ba4\u0bb2\u0bc1\u0b95\u0bcd\u0b95\u0bc1 \u0ba4\u0bb0\u0baa\u0bcd\u0baa\u0b9f\u0bcd\u0b9f \u0baa\u0bca\u0bb0\u0bc1\u0b9f\u0bcd\u0b95\u0bb3\u0bcd \u0ba4\u0bca\u0b9f\u0bb0\u0bcd\u0baa\u0bbe\u0ba9 \u0ba4\u0bb8\u0bcd\u0ba4\u0bbe\u0bb5\u0bc7\u0b9c\u0bbf\u0b95\u0bb3\u0bbf\u0bb2\u0bcd \u0b8f\u0ba4\u0bbe\u0bb5\u0ba4\u0bc1 \u0ba4\u0bb5\u0bb1\u0bc1 \u0b87\u0bb0\u0bc1\u0ba8\u0bcd\u0ba4\u0bbe\u0bb2\u0bcd \u0b85\u0ba4\u0bb1\u0bcd\u0b95\u0bc1 \u0b95\u0b9f\u0bc8 \u0b89\u0bb0\u0bbf\u0bae\u0bc8\u0baf\u0bbe\u0bb3\u0bb0\u0bcd \u0baa\u0bca\u0bb1\u0bc1\u0baa\u0bcd\u0baa\u0bb2\u0bcd\u0bb2.</span>\n            </div>\n\n            <div style="display: flex; margin-bottom: 5px;">\n              <span style="width: 15px; flex-shrink: 0; font-weight: bold;">7.</span>\n              <span>\u0b85\u0bb1\u0bbf\u0bb5\u0bbf\u0baa\u0bcd\u0baa\u0bc1 \u0ba4\u0bc7\u0ba4\u0bbf\u0baf\u0bbf\u0bb2\u0bcd \u0b87\u0bb0\u0bc1\u0ba8\u0bcd\u0ba4\u0bc1 \u0b95\u0bc1\u0bb1\u0bc8\u0ba8\u0bcd\u0ba4\u0ba4\u0bc1 \u0b87\u0bb0\u0ba3\u0bcd\u0b9f\u0bc1 \u0bb5\u0bbe\u0bb0\u0b99\u0bcd\u0b95\u0bb3\u0bc1\u0b95\u0bcd\u0b95\u0bc1\u0bb3\u0bcd \u0bb5\u0bbe\u0b9f\u0bbf\u0b95\u0bcd\u0b95\u0bc8\u0baf\u0bbe\u0bb3\u0bb0\u0bcd \u0ba4\u0bae\u0ba4\u0bc1 \u0baa\u0bca\u0bb0\u0bc1\u0bb3\u0bc8 \u0baa\u0bc6\u0bb1\u0bcd\u0bb1\u0bc1\u0b95\u0bcd \u0b95\u0bca\u0bb3\u0bcd\u0bb3\u0bbe\u0bb5\u0bbf\u0b9f\u0bcd\u0b9f\u0bbe\u0bb2\u0bcd \u0b8e\u0ba8\u0bcd\u0ba4\u0bb5\u0bbf\u0ba4\u0bae\u0bbe\u0ba9 \u0b89\u0bb0\u0bbf\u0bae\u0bc8 \u0b95\u0bca\u0ba3\u0bcd\u0b9f\u0bbe\u0b9f\u0bc1\u0bb5\u0ba4\u0bb1\u0bcd\u0b95\u0bc1\u0bae\u0bcd \u0b95\u0b9f\u0bc8 \u0b89\u0bb0\u0bbf\u0bae\u0bc8\u0baf\u0bbe\u0bb3\u0bb0\u0bcd \u0baa\u0bca\u0bb1\u0bc1\u0baa\u0bcd\u0baa\u0bb2\u0bcd\u0bb2.</span>\n            </div>\n\n            <div style="display: flex; margin-bottom: 5px;">\n              <span style="width: 15px; flex-shrink: 0; font-weight: bold;">8.</span>\n              <span>\u0ba4\u0ba3\u0bcd\u0ba3\u0bc0\u0bb0\u0bbf\u0bb2\u0bcd \u0bb5\u0bbf\u0bb4\u0bc1\u0ba8\u0bcd\u0ba4 \u0b85\u0ba9\u0bc8\u0ba4\u0bcd\u0ba4\u0bc1\u0bb5\u0bbf\u0ba4\u0bae\u0bbe\u0ba9 \u0b9a\u0bc6\u0bb2\u0bcd\u0baa\u0bcb\u0ba9\u0bcd\u0b95\u0bb3\u0bc1\u0b95\u0bcd\u0b95\u0bc1\u0bae\u0bcd \u0b95\u0bc1\u0bb1\u0bc8\u0ba8\u0bcd\u0ba4\u0baa\u0b9f\u0bcd\u0b9a \u0baa\u0bb4\u0bc1\u0ba4\u0bc1 \u0b95\u0b9f\u0bcd\u0b9f\u0ba3\u0bae\u0bbe\u0b95 \u0bb0\u0bc2 150 \u0b95\u0ba3\u0bcd\u0b9f\u0bbf\u0baa\u0bcd\u0baa\u0bbe\u0b95 \u0bb5\u0b9a\u0bc2\u0bb2\u0bbf\u0b95\u0bcd\u0b95\u0baa\u0bcd\u0baa\u0b9f\u0bc1\u0bae\u0bcd.</span>\n            </div>\n          </div>\n\n          <div style="border-top: 1px solid #000; border-bottom: 1px solid #000; padding: 10px 5px; font-size: 13px; font-weight: bold; display: flex; justify-content: space-between;">\n            <div>Total Amount: ').concat((""===f.total_amount?0:parseFloat(f.total_amount)).toFixed(2),"</div>\n            <div>Advance: ").concat((""===f.advance_payment?0:parseFloat(f.advance_payment)).toFixed(2),"</div>\n            <div>Net Amount: ").concat(((""===f.total_amount?0:parseFloat(f.total_amount))-(""===f.advance_payment?0:parseFloat(f.advance_payment))).toFixed(2),'</div>\n          </div>\n\n          <div style="padding: 20px 5px; font-size: 13px; margin-top: 10px;">\n             <div style="font-weight: bold; margin-bottom: 30px;">\n               \u0ba8\u0bbe\u0ba9\u0bcd \u0b8e\u0ba9\u0ba4\u0bc1 \u0baa\u0bca\u0bb0\u0bc1\u0bb3\u0bc8 Job Card \u0bb2\u0bcd \u0b95\u0bc2\u0bb1\u0baa\u0bcd\u0baa\u0b9f\u0bcd\u0b9f\u0bc1\u0bb3\u0bcd\u0bb3\u0ba4\u0bc1 \u0baa\u0bcb\u0bb2\u0bcd \u0ba8\u0bb2\u0bcd\u0bb2 \u0bae\u0bc1\u0bb1\u0bc8\u0baf\u0bbf\u0bb2\u0bcd \u0baa\u0bc6\u0bb1\u0bcd\u0bb1\u0bc1\u0b95\u0bcd\u0b95\u0bca\u0ba3\u0bcd\u0b9f\u0bc7\u0ba9\u0bcd\n             </div>\n             \n             <div style="display: flex; justify-content: flex-end;">\n               <div style="text-align: center;">\n                 <div style="margin-bottom: 5px;">\u0b95\u0bc8\u0baf\u0bca\u0baa\u0bcd\u0baa\u0bae\u0bcd</div>\n                 <div>\u0baa\u0bca\u0bb0\u0bc1\u0bb3\u0bbf\u0ba9\u0bcd \u0b89\u0bb0\u0bbf\u0bae\u0bc8\u0baf\u0bbe\u0bb3\u0bb0\u0bcd \u0b85\u0bb2\u0bcd\u0bb2\u0ba4\u0bc1 \u0bae\u0bc1\u0b95\u0bb5\u0bb0\u0bcd</div>\n               </div>\n             </div>\n          </div>\n\n          <div style="text-align: center; font-size: 11px; font-weight: bold; margin-top: 10px;">\n            *Computer Generated Receipt*\n          </div>\n        </div>\n      '),document.body.appendChild(i);const a=(await kl()(i,{scale:2,useCORS:!0,logging:!1,backgroundColor:"#ffffff"})).toDataURL("image/png"),o=new jo("p","mm","a4"),s=o.internal.pageSize.getWidth(),l=o.internal.pageSize.getHeight();o.addImage(a,"PNG",0,0,s,l);const c="Bill_".concat(e.job_card_number||e._id,"_").concat(f.customerName,".pdf");o.save(c),document.body.removeChild(i),console.log("Local PDF downloaded:",c)}catch(t){throw console.error("Error generating local PDF:",t),t}})({job_card_number:u,_id:o}).then(()=>{console.log("Local PDF downloaded","(".concat(Date.now()-t,"ms)"))}).catch(e=>{console.error("PDF download error:",e)});let L=null;v&&(console.log("Getting video blob..."),L=await(async e=>{if(!e)return null;try{const t=await fetch(e),n=await t.blob();return console.log("Video blob retrieved:",(n.size/1024/1024).toFixed(2),"MB"),n}catch(a){return console.error("Error fetching video blob:",a),null}})(v)),console.log("STEP 4: Sending WhatsApp with media..."),console.log("Media status:",{pdf:j?"".concat((j.size/1024).toFixed(2),"KB"):"None",photo:g?"Yes":"None",video:L?"".concat((L.size/1024/1024).toFixed(2),"MB"):"None"});let D={success:!1,message:"Not attempted"};try{j||g||L?(console.log("Calling sendJobIntakeWithMedia..."),D=await Zu.sendJobIntakeWithMedia(o,j,g,L)):(console.log("No media available, calling sendJobIntakeNotification..."),D=await Zu.sendJobIntakeNotification(o)),console.log("WhatsApp result:",D,"(".concat(Date.now()-t,"ms)"))}catch(P){console.error("WhatsApp error:",P),D={success:!1,message:P.message||"WhatsApp notification failed"}}await U;const T=Date.now()-t;console.log("=".repeat(50)),console.log("COMPLETED in ".concat(T,"ms")),console.log("=".repeat(50));let M="\u2705 Job #".concat(u," created! PDF downloaded.");if(null!==(n=D)&&void 0!==n&&n.success){var c,A,h,b,w,x,B,C;const e=[];null!==(c=D.results)&&void 0!==c&&null!==(A=c.pdf)&&void 0!==A&&A.sent&&e.push("PDF"),null!==(h=D.results)&&void 0!==h&&null!==(b=h.photo)&&void 0!==b&&b.sent&&e.push("Photo"),null!==(w=D.results)&&void 0!==w&&null!==(x=w.video)&&void 0!==x&&x.sent&&e.push("Video"),e.length>0?M+=" WhatsApp sent with: ".concat(e.join(", ")," \u2713"):null!==(B=D.results)&&void 0!==B&&null!==(C=B.template)&&void 0!==C&&C.sent&&(M+=" WhatsApp template sent \u2713")}else if(null!==(r=D)&&void 0!==r&&null!==(i=r.results)&&void 0!==i&&null!==(s=i.template)&&void 0!==s&&s.sent){var N,k,_,E,S,F;M+=" WhatsApp template sent \u2713";const e=[];null!==(N=D.results)&&void 0!==N&&null!==(k=N.pdf)&&void 0!==k&&k.error&&e.push("PDF"),null!==(_=D.results)&&void 0!==_&&null!==(E=_.photo)&&void 0!==E&&E.error&&e.push("Photo"),null!==(S=D.results)&&void 0!==S&&null!==(F=S.video)&&void 0!==F&&F.error&&e.push("Video"),e.length>0&&(M+=" (".concat(e.join(", ")," failed)"))}else{var I;M+=" (WhatsApp: ".concat((null===(I=D)||void 0===I?void 0:I.message)||"failed",")")}M+=" [".concat((T/1e3).toFixed(1),"s]"),l(M),d(""),await(async()=>{p({customerName:"",customerPhone:"",customerEmail:"",customerAddress:"",aadharNumber:"",device_brand:"",device_model:"",imei_number:"",serial_number:"",device_condition:"",reported_issue:"",repair_type:"hardware",urgency_level:"normal",estimated_delivery_date:"",service_charges:"",parts_cost:"",advance_payment:"",payment_method:"cash",total_amount:"",taken_by_worker_id:"",job_card_number:""}),m(null),y(null);try{const e=await Ju.get("/jobs/next-bill-number");p(t=>Me(Me({},t),{},{job_card_number:e.data.nextBillNumber}))}catch(e){console.error("Error fetching next bill number:",e)}})()}catch(L){var j,U;console.error("Job creation error:",L),o((null===(j=L.response)||void 0===j||null===(U=j.data)||void 0===U?void 0:U.error)||L.message||"Failed to create job. Please try again."),d("")}finally{u(!1)}},children:[(0,Pe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Pe.jsxs)("div",{children:[(0,Pe.jsx)("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Customer Information"}),(0,Pe.jsxs)("div",{className:"mb-4",children:[(0,Pe.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"customerName",children:"Customer Name *"}),(0,Pe.jsx)("input",{type:"text",id:"customerName",value:f.customerName,onChange:e=>p(Me(Me({},f),{},{customerName:e.target.value})),className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",required:!0})]}),(0,Pe.jsxs)("div",{className:"mb-4",children:[(0,Pe.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"customerPhone",children:"Phone Number *"}),(0,Pe.jsx)("input",{type:"tel",id:"customerPhone",value:f.customerPhone,onChange:e=>p(Me(Me({},f),{},{customerPhone:e.target.value})),className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",required:!0})]}),(0,Pe.jsxs)("div",{className:"mb-4",children:[(0,Pe.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"customerEmail",children:"Email"}),(0,Pe.jsx)("input",{type:"email",id:"customerEmail",value:f.customerEmail,onChange:e=>p(Me(Me({},f),{},{customerEmail:e.target.value})),className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"})]}),(0,Pe.jsxs)("div",{className:"mb-4",children:[(0,Pe.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"customerAddress",children:"Address (City)"}),(0,Pe.jsx)("input",{type:"text",id:"customerAddress",value:f.customerAddress,onChange:e=>p(Me(Me({},f),{},{customerAddress:e.target.value})),className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",placeholder:"e.g. T.V.MALAI"})]}),(0,Pe.jsxs)("div",{className:"mb-4",children:[(0,Pe.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"aadharNumber",children:"Aadhar Number"}),(0,Pe.jsx)("input",{type:"text",id:"aadharNumber",value:f.aadharNumber,onChange:e=>{const t=e.target.value.replace(/[^0-9]/g,"").slice(0,12);p(Me(Me({},f),{},{aadharNumber:t}))},className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",placeholder:"12-digit Aadhar number"}),f.aadharNumber&&f.aadharNumber.length<12&&(0,Pe.jsx)("p",{className:"text-red-500 text-xs italic mt-1",children:"Aadhar number must be 12 digits"})]}),(0,Pe.jsxs)("div",{className:"mb-4",children:[(0,Pe.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Customer Photo"}),g?(0,Pe.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Pe.jsx)("img",{src:g,alt:"Customer",className:"w-24 h-24 object-cover rounded border"}),(0,Pe.jsx)("div",{className:"flex space-x-2",children:(0,Pe.jsx)("button",{type:"button",onClick:()=>{m(null)},className:"px-3 py-1 bg-red-500 text-white rounded hover:bg-red-600",children:"Remove"})})]}):(0,Pe.jsx)("button",{type:"button",onClick:()=>{N("photo"),B(!0)},className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:"\ud83d\udcf7 Take Customer Photo"})]}),(0,Pe.jsxs)("div",{className:"mb-4",children:[(0,Pe.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Device Video"}),v?(0,Pe.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Pe.jsx)("video",{src:v,className:"w-24 h-24 object-cover rounded border",controls:!0}),(0,Pe.jsx)("div",{className:"flex space-x-2",children:(0,Pe.jsx)("button",{type:"button",onClick:()=>{y(null)},className:"px-3 py-1 bg-red-500 text-white rounded hover:bg-red-600",children:"Remove"})})]}):(0,Pe.jsx)("button",{type:"button",onClick:()=>{N("video"),B(!0)},className:"px-4 py-2 bg-red-500 text-white rounded hover:bg-red-600",children:"\ud83c\udfa5 Record Device Video"})]}),x&&(0,Pe.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Pe.jsxs)("div",{className:"bg-white rounded-lg w-full max-w-md max-h-[90vh] overflow-hidden",children:[(0,Pe.jsx)("div",{className:"p-4 border-b",children:(0,Pe.jsx)("h3",{className:"text-lg font-semibold",children:"photo"===C?"\ud83d\udcf7 Take Customer Photo":"\ud83c\udfa5 Record Device Video"})}),(0,Pe.jsxs)("div",{className:"p-4",children:[(0,Pe.jsxs)("div",{className:"relative mb-4",children:[(0,Pe.jsx)("video",{ref:j,autoPlay:!0,playsInline:!0,muted:k,className:"w-full h-auto max-h-[50vh] object-contain rounded border bg-black"}),(0,Pe.jsx)("canvas",{ref:U,className:"hidden"}),k&&(0,Pe.jsxs)("div",{className:"absolute top-2 left-2 bg-red-500 text-white px-2 py-1 rounded flex items-center",children:[(0,Pe.jsx)("div",{className:"w-3 h-3 bg-white rounded-full mr-2 animate-pulse"}),"REC ",E,"s"]})]}),(0,Pe.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between gap-2",children:[(0,Pe.jsxs)("button",{type:"button",onClick:()=>{w(e=>"user"===e?"environment":"user")},className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 flex-1",children:["\ud83d\udd04 ","user"===b?"Back":"Front"," Camera"]}),k?(0,Pe.jsxs)("button",{type:"button",onClick:L,className:"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 flex-1",children:["\u23f9\ufe0f Stop (",E,"s)"]}):"photo"===C?(0,Pe.jsx)("button",{type:"button",onClick:()=>{if(j.current&&U.current){const e=j.current,t=U.current;t.width=e.videoWidth,t.height=e.videoHeight;t.getContext("2d").drawImage(e,0,0,t.width,t.height);const n=t.toDataURL("image/jpeg",.8);if(console.log("Photo captured, size:",(n.length/1024).toFixed(2),"KB"),m(n),B(!1),N("photo"),e.srcObject){e.srcObject.getTracks().forEach(e=>e.stop())}}},className:"px-4 py-2 bg-green-500 text-white rounded hover:bg-green-600 flex-1",children:"\ud83d\udcf7 Capture"}):(0,Pe.jsx)("button",{type:"button",onClick:async()=>{if(j.current&&j.current.srcObject)try{const e=j.current.srcObject,t=new MediaRecorder(e,{mimeType:"video/webm;codecs=vp8"}),n=[];t.ondataavailable=e=>{e.data.size>0&&n.push(e.data)},t.onstop=()=>{const e=new Blob(n,{type:"video/webm"}),t=URL.createObjectURL(e);console.log("Video recorded, size:",(e.size/1024/1024).toFixed(2),"MB"),y(t),N("video"),O.current&&(clearInterval(O.current),O.current=null),S(0)},t.start(),I(t),_(!0),S(0),O.current=setInterval(()=>{S(e=>e+1)},1e3)}catch(e){console.error("Error starting recording:",e),o("Could not start recording")}},className:"px-4 py-2 bg-red-500 text-white rounded hover:bg-red-600 flex-1",children:"\u23fa\ufe0f Start Recording"}),(0,Pe.jsx)("button",{type:"button",onClick:()=>{(()=>{k&&L(),B(!1),j.current&&j.current.srcObject&&j.current.srcObject.getTracks().forEach(e=>e.stop());O.current&&(clearInterval(O.current),O.current=null),S(0)})()},className:"px-4 py-2 bg-gray-500 text-white rounded hover:bg-gray-600 flex-1",children:"\u2715 Cancel"})]})]})]})})]}),(0,Pe.jsxs)("div",{children:[(0,Pe.jsx)("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Device Information"}),(0,Pe.jsxs)("div",{className:"mb-4",children:[(0,Pe.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"device_brand",children:"Device Brand"}),(0,Pe.jsx)("input",{type:"text",id:"device_brand",value:f.device_brand,onChange:e=>p(Me(Me({},f),{},{device_brand:e.target.value})),className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",placeholder:"e.g. 1+"})]}),(0,Pe.jsxs)("div",{className:"mb-4",children:[(0,Pe.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"device_model",children:"Device Model *"}),(0,Pe.jsx)("input",{type:"text",id:"device_model",value:f.device_model,onChange:e=>p(Me(Me({},f),{},{device_model:e.target.value})),className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",required:!0,placeholder:"e.g. NORD CE2"})]}),(0,Pe.jsxs)("div",{className:"mb-4",children:[(0,Pe.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"imei_number",children:"IMEI Number"}),(0,Pe.jsx)("input",{type:"text",id:"imei_number",value:f.imei_number,onChange:e=>p(Me(Me({},f),{},{imei_number:e.target.value})),className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"})]}),(0,Pe.jsxs)("div",{className:"mb-4",children:[(0,Pe.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"serial_number",children:"Serial Number"}),(0,Pe.jsx)("input",{type:"text",id:"serial_number",value:f.serial_number,onChange:e=>p(Me(Me({},f),{},{serial_number:e.target.value})),className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"})]}),(0,Pe.jsxs)("div",{className:"mb-4",children:[(0,Pe.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"device_condition",children:"Device Condition"}),(0,Pe.jsx)("textarea",{id:"device_condition",value:f.device_condition,onChange:e=>p(Me(Me({},f),{},{device_condition:e.target.value})),className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",rows:"2",placeholder:"Cosmetic damage, screen cracks, etc."})]})]})]}),(0,Pe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-6",children:[(0,Pe.jsxs)("div",{children:[(0,Pe.jsx)("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Service Details"}),(0,Pe.jsxs)("div",{className:"mb-4",children:[(0,Pe.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"reported_issue",children:"Fault / Issue *"}),(0,Pe.jsx)("textarea",{id:"reported_issue",value:f.reported_issue,onChange:e=>p(Me(Me({},f),{},{reported_issue:e.target.value})),className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",rows:"3",required:!0,placeholder:"e.g. DEAD"})]}),(0,Pe.jsxs)("div",{className:"mb-4",children:[(0,Pe.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"repair_type",children:"Repair Type"}),(0,Pe.jsxs)("select",{id:"repair_type",value:f.repair_type,onChange:e=>p(Me(Me({},f),{},{repair_type:e.target.value})),className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",children:[(0,Pe.jsx)("option",{value:"hardware",children:"Hardware"}),(0,Pe.jsx)("option",{value:"software",children:"Software"}),(0,Pe.jsx)("option",{value:"diagnostics",children:"Diagnostics"})]})]}),(0,Pe.jsxs)("div",{className:"mb-4",children:[(0,Pe.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"urgency_level",children:"Urgency Level"}),(0,Pe.jsxs)("select",{id:"urgency_level",value:f.urgency_level,onChange:e=>p(Me(Me({},f),{},{urgency_level:e.target.value})),className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",children:[(0,Pe.jsx)("option",{value:"normal",children:"Normal"}),(0,Pe.jsx)("option",{value:"express",children:"Express"}),(0,Pe.jsx)("option",{value:"urgent",children:"Urgent"})]})]}),(0,Pe.jsxs)("div",{className:"mb-4",children:[(0,Pe.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"estimated_delivery_date",children:"Estimated Delivery Date"}),(0,Pe.jsx)("input",{type:"date",id:"estimated_delivery_date",value:f.estimated_delivery_date,onChange:e=>p(Me(Me({},f),{},{estimated_delivery_date:e.target.value})),className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"})]})]}),(0,Pe.jsxs)("div",{children:[(0,Pe.jsx)("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Financial Details"}),(0,Pe.jsxs)("div",{className:"mb-4",children:[(0,Pe.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"total_amount",children:"Total Amount (Rs) *"}),(0,Pe.jsx)("input",{type:"number",id:"total_amount",value:f.total_amount,onChange:e=>p(Me(Me({},f),{},{total_amount:""===e.target.value?"":parseFloat(e.target.value)||0})),className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline hide-spinners",min:"0",step:"0.01",onWheel:e=>e.target.blur()})]}),(0,Pe.jsxs)("div",{className:"mb-4",children:[(0,Pe.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"advance_payment",children:"Advance Payment (Rs)"}),(0,Pe.jsx)("input",{type:"number",id:"advance_payment",value:f.advance_payment,onChange:e=>p(Me(Me({},f),{},{advance_payment:""===e.target.value?"":parseFloat(e.target.value)||0})),className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline hide-spinners",min:"0",step:"0.01",onWheel:e=>e.target.blur()})]}),(0,Pe.jsxs)("div",{className:"mb-4",children:[(0,Pe.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"payment_method",children:"Payment Method"}),(0,Pe.jsxs)("select",{id:"payment_method",value:f.payment_method,onChange:e=>p(Me(Me({},f),{},{payment_method:e.target.value})),className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",children:[(0,Pe.jsx)("option",{value:"cash",children:"Cash"}),(0,Pe.jsx)("option",{value:"card",children:"Card"}),(0,Pe.jsx)("option",{value:"upi",children:"UPI"}),(0,Pe.jsx)("option",{value:"bank_transfer",children:"Bank Transfer"})]})]})]})]}),(0,Pe.jsxs)("div",{className:"mb-4 mt-6",children:[(0,Pe.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"taken_by_worker_id",children:"Taken By (Worker)"}),(0,Pe.jsxs)("select",{id:"taken_by_worker_id",value:f.taken_by_worker_id,onChange:e=>p(Me(Me({},f),{},{taken_by_worker_id:e.target.value})),className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",children:[(0,Pe.jsx)("option",{value:"",children:"Select Worker (Optional)"}),e.map(e=>(0,Pe.jsx)("option",{value:e._id,children:e.name},e._id))]})]}),(0,Pe.jsxs)("div",{className:"mb-4",children:[(0,Pe.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"job_card_number",children:"Job Card Number (Bill No)"}),(0,Pe.jsx)("input",{type:"text",id:"job_card_number",value:f.job_card_number,onChange:e=>p(Me(Me({},f),{},{job_card_number:e.target.value})),className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"})]}),(0,Pe.jsx)("div",{className:"flex items-center justify-between mt-8",children:(0,Pe.jsx)("button",{type:"submit",disabled:c,className:"bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-6 rounded focus:outline-none focus:shadow-outline disabled:opacity-50 disabled:cursor-not-allowed flex items-center",children:c?(0,Pe.jsxs)(Pe.Fragment,{children:[(0,Pe.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,Pe.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,Pe.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Processing..."]}):(0,Pe.jsx)(Pe.Fragment,{children:"\ud83d\udcc4 Create Job, Download PDF & Send WhatsApp"})})})]})})]})},tA=()=>{const[e,t]=(0,i.useState)([]),[n,r]=(0,i.useState)(!0),[a,o]=(0,i.useState)(""),s=re();(0,i.useEffect)(()=>{localStorage.getItem("admin")||s("/admin/login")},[s]),(0,i.useEffect)(()=>{Ju.get("/jobs/active").then(e=>{t(e.data),r(!1)}).catch(e=>{console.error(e),o("Failed to fetch jobs"),r(!1)})},[]);const l=e=>{switch(e){case"Intake":return"bg-gray-200 text-gray-800";case"In Progress":return"bg-blue-100 text-blue-800";case"Done":return"bg-green-100 text-green-800";default:return"bg-yellow-100 text-yellow-800"}};return n?(0,Pe.jsx)("div",{className:"p-8 bg-gray-100 min-h-screen ml-64 flex items-center justify-center",children:(0,Pe.jsx)("div",{className:"text-xl",children:"Loading jobs..."})}):a?(0,Pe.jsx)("div",{className:"p-8 bg-gray-100 min-h-screen ml-64",children:(0,Pe.jsx)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:a})}):(0,Pe.jsxs)("div",{className:"p-8 bg-gray-100 min-h-screen ml-64",children:[(0,Pe.jsxs)("div",{className:"mb-8",children:[(0,Pe.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Active Jobs"}),(0,Pe.jsx)("p",{className:"text-gray-600",children:"Manage ongoing repair jobs"})]}),(0,Pe.jsxs)("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[(0,Pe.jsx)("div",{className:"border-b border-gray-200 p-6",children:(0,Pe.jsxs)("h2",{className:"text-xl font-semibold text-gray-800",children:["Job List (",e.length,")"]})}),0===e.length?(0,Pe.jsx)("div",{className:"p-8 text-center text-gray-500",children:"No active jobs found."}):(0,Pe.jsx)("div",{className:"overflow-x-auto",children:(0,Pe.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Pe.jsx)("thead",{className:"bg-gray-50",children:(0,Pe.jsxs)("tr",{children:[(0,Pe.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Job ID"}),(0,Pe.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customer"}),(0,Pe.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Device"}),(0,Pe.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Issue"}),(0,Pe.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,Pe.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,Pe.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(e=>{var t,n,r;return(0,Pe.jsxs)("tr",{children:[(0,Pe.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:["...",e._id.slice(-6)]}),(0,Pe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:(null===(t=e.customer)||void 0===t?void 0:t.name)||"N/A"}),(0,Pe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.device_model||"N/A"}),(0,Pe.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[(null===(n=e.reported_issue)||void 0===n?void 0:n.substring(0,30))||"N/A",(null===(r=e.reported_issue)||void 0===r?void 0:r.length)>30?"...":""]}),(0,Pe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Pe.jsx)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full ".concat(l(e.status)),children:e.status||"N/A"})}),(0,Pe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:(0,Pe.jsx)(je,{to:"/jobs/".concat(e._id),className:"text-blue-600 hover:text-blue-900",children:"View Details"})})]},e._id)})})]})})]})]})},nA=()=>{const[e,t]=(0,i.useState)([]),[n,r]=(0,i.useState)(!0),[a,o]=(0,i.useState)(""),[s,l]=(0,i.useState)(""),c=re();(0,i.useEffect)(()=>{localStorage.getItem("admin")||c("/admin/login")},[c]);const[u,A]=(0,i.useState)(!1),[d,h]=(0,i.useState)(""),[f,p]=(0,i.useState)(null);(0,i.useEffect)(()=>{g()},[]);const g=async()=>{try{const e=await Xu.get("http://localhost:5001/api/departments");t(e.data),r(!1)}catch(e){console.error(e),o("Failed to fetch departments"),r(!1)}};return n?(0,Pe.jsx)("div",{className:"p-8 bg-gray-100 min-h-screen ml-64 flex items-center justify-center",children:(0,Pe.jsx)("div",{className:"text-xl",children:"Loading departments..."})}):(0,Pe.jsxs)("div",{className:"p-8 bg-gray-100 min-h-screen ml-64",children:[(0,Pe.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,Pe.jsxs)("div",{children:[(0,Pe.jsx)("h2",{className:"text-2xl font-bold",children:"Departments Management"}),(0,Pe.jsx)("p",{className:"text-gray-600",children:"Manage your repair shop departments"})]}),(0,Pe.jsx)("button",{onClick:()=>A(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg font-semibold hover:bg-blue-700 transition",children:"Add New Department"})]}),a&&!u&&(0,Pe.jsx)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:a}),s&&!u&&(0,Pe.jsx)("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded mb-4",children:s}),u&&(0,Pe.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Pe.jsxs)("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md",children:[(0,Pe.jsx)("div",{className:"border-b border-gray-200 px-6 py-4",children:(0,Pe.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:f?"Edit Department":"Add New Department"})}),(0,Pe.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{f?(await Xu.put("http://localhost:5001/api/departments/".concat(f._id),{name:d}),l("Department updated successfully")):(await Xu.post("http://localhost:5001/api/departments",{name:d}),l("Department created successfully")),h(""),A(!1),p(null),g()}catch(r){var t,n;console.error(r),o((null===(t=r.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.error)||"Failed to ".concat(f?"update":"create"," department"))}},children:[(0,Pe.jsx)("div",{className:"px-6 py-4",children:(0,Pe.jsxs)("div",{className:"mb-4",children:[(0,Pe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Department Name"}),(0,Pe.jsx)("input",{type:"text",value:d,onChange:e=>h(e.target.value),className:"w-full border border-gray-300 p-3 rounded focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"e.g. Screen Repair",required:!0})]})}),(0,Pe.jsxs)("div",{className:"border-t border-gray-200 px-6 py-4 bg-gray-50 rounded-b-lg flex justify-end space-x-3",children:[(0,Pe.jsx)("button",{type:"button",onClick:()=>{A(!1),p(null),h(""),o(""),l("")},className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-100",children:"Cancel"}),(0,Pe.jsx)("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 transition",children:f?"Update":"Create"})]})]})]})}),(0,Pe.jsxs)("div",{className:"bg-white rounded shadow overflow-hidden",children:[(0,Pe.jsx)("div",{className:"border-b border-gray-200",children:(0,Pe.jsxs)("h3",{className:"p-4 text-lg font-semibold",children:["Departments List (",e.length,")"]})}),0===e.length?(0,Pe.jsx)("div",{className:"p-8 text-center text-gray-500",children:'No departments found. Click "Add New Department" to add one.'}):(0,Pe.jsx)("div",{className:"overflow-x-auto",children:(0,Pe.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Pe.jsx)("thead",{className:"bg-gray-50",children:(0,Pe.jsxs)("tr",{children:[(0,Pe.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),(0,Pe.jsx)("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,Pe.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(e=>(0,Pe.jsxs)("tr",{children:[(0,Pe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Pe.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.name})}),(0,Pe.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[(0,Pe.jsx)("button",{onClick:()=>(e=>{p(e),h(e.name),A(!0)})(e),className:"text-blue-600 hover:text-blue-900 mr-4",children:"Edit"}),(0,Pe.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this department?"))try{await Xu.delete("http://localhost:5001/api/departments/".concat(e)),g(),l("Department deleted successfully")}catch(t){console.error(t),o("Failed to delete department")}})(e._id),className:"text-red-600 hover:text-red-900",children:"Delete"})]})]},e._id))})]})})]})]})},rA=()=>{const[e,t]=(0,i.useState)([]),[n,r]=(0,i.useState)([]),[a,o]=(0,i.useState)([]),[s,l]=(0,i.useState)(!0),[c,u]=(0,i.useState)(""),[A,d]=(0,i.useState)(""),h=re(),[f,p]=(0,i.useState)(!1),[g,m]=(0,i.useState)(!1),[v,y]=(0,i.useState)(!1),[b,w]=(0,i.useState)(null),[x,B]=(0,i.useState)({name:"",sku:"",category:"",stock:0,min_stock_alert:5,cost_price:0,selling_price:0,location:"",supplier:""}),[C,N]=(0,i.useState)("");(0,i.useEffect)(()=>{localStorage.getItem("admin")||h("/admin/login")},[h]);const k=async()=>{try{const e=await Ju.get("/inventory");t(e.data),l(!1)}catch(e){console.error(e),u("Failed to fetch inventory"),l(!1)}},_=(0,i.useCallback)(async()=>{try{const e=await Ju.get("/categories");r(e.data),e.data.length>0&&!x.category&&B(t=>Me(Me({},t),{},{category:e.data[0]._id}))}catch(e){console.error(e),u("Failed to fetch categories")}},[x.category]),E=e=>{const{name:t,value:n,type:r,checked:i}=e.target;B(Me(Me({},x),{},{[t]:"checkbox"===r?i:n}))};return(0,i.useEffect)(()=>{k(),_(),(async()=>{try{const e=await Ju.get("/suppliers");o(e.data)}catch(e){console.error(e)}})()},[_]),s?(0,Pe.jsx)("div",{className:"p-8 bg-gray-100 min-h-screen ml-64 flex items-center justify-center",children:(0,Pe.jsx)("div",{className:"text-xl",children:"Loading inventory..."})}):(0,Pe.jsxs)("div",{className:"p-8 bg-gray-100 min-h-screen ml-64",children:[(0,Pe.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,Pe.jsxs)("div",{children:[(0,Pe.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Inventory Management"}),(0,Pe.jsx)("p",{className:"text-gray-600",children:"Manage your repair shop parts inventory"})]}),(0,Pe.jsx)("button",{onClick:()=>p(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg font-semibold hover:bg-blue-700 transition",children:"Add New Product"})]}),c&&!f&&(0,Pe.jsx)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:c}),A&&!f&&(0,Pe.jsx)("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded mb-4",children:A}),f&&(0,Pe.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Pe.jsxs)("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,Pe.jsx)("div",{className:"border-b border-gray-200 px-6 py-4",children:(0,Pe.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:v?"Edit Product":"Add New Product"})}),(0,Pe.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),x.name&&x.name.trim())if(x.sku&&x.sku.trim())if(x.category)if("string"===typeof x.category&&0!==x.category.length)try{const e=Me(Me({},x),{},{name:x.name.trim(),sku:x.sku.trim(),stock:Number(x.stock)||0,min_stock_alert:Number(x.min_stock_alert)||0,cost_price:Number(x.cost_price)||0,selling_price:Number(x.selling_price)||0});e.category||delete e.category,v?(await Ju.put("/inventory/".concat(b),e),d("Part updated successfully")):(await Ju.post("/inventory",e),d("Part added successfully")),p(!1),B({name:"",sku:"",category:n.length>0?n[0]._id:"",stock:0,min_stock_alert:5,cost_price:0,selling_price:0,location:"",supplier:""}),y(!1),w(null),k()}catch(s){var t,r,i,a,o;console.error(s),null!==(t=s.response)&&void 0!==t&&null!==(r=t.data)&&void 0!==r&&r.error?u(s.response.data.error):400===(null===(i=s.response)||void 0===i?void 0:i.status)?u("Invalid data provided. Please check all fields."):404===(null===(a=s.response)||void 0===a?void 0:a.status)?u("Part not found. It may have been deleted."):500===(null===(o=s.response)||void 0===o?void 0:o.status)?u("Server error. Please try again or contact support."):u("Failed to ".concat(v?"update":"add"," part. Please try again."))}else u("Please select a valid category");else u("Category is required");else u("SKU is required");else u("Part name is required")},children:[(0,Pe.jsxs)("div",{className:"px-6 py-4",children:[(0,Pe.jsxs)("div",{className:"mb-4 text-sm text-gray-600",children:[(0,Pe.jsx)("span",{className:"text-red-500",children:"*"})," Required fields"]}),(0,Pe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Pe.jsxs)("div",{children:[(0,Pe.jsxs)("div",{className:"mb-4",children:[(0,Pe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Part Name *"}),(0,Pe.jsx)("input",{type:"text",name:"name",value:x.name,onChange:E,className:"w-full border border-gray-300 p-3 rounded focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"e.g. iPhone 12 Screen",required:!0})]}),(0,Pe.jsxs)("div",{className:"mb-4",children:[(0,Pe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"SKU *"}),(0,Pe.jsx)("input",{type:"text",name:"sku",value:x.sku,onChange:E,className:"w-full border border-gray-300 p-3 rounded focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"e.g. SCR-IP12-BLK",required:!0})]}),(0,Pe.jsxs)("div",{className:"mb-4",children:[(0,Pe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category *"}),(0,Pe.jsxs)("div",{className:"flex space-x-2",children:[(0,Pe.jsxs)("select",{name:"category",value:x.category,onChange:e=>{const t=e.target.value;"other"===t?m(!0):B(Me(Me({},x),{},{category:t}))},className:"flex-1 border border-gray-300 p-3 rounded focus:ring-2 focus:ring-blue-500 outline-none bg-white",required:!0,children:[(0,Pe.jsx)("option",{value:"",children:"Select a category"}),n.map(e=>(0,Pe.jsx)("option",{value:e._id,children:e.name},e._id))]}),(0,Pe.jsx)("button",{type:"button",onClick:()=>m(!0),className:"bg-gray-200 hover:bg-gray-300 text-gray-800 font-bold py-2 px-4 rounded",children:"+"})]})]}),(0,Pe.jsxs)("div",{className:"mb-4",children:[(0,Pe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Location"}),(0,Pe.jsx)("input",{type:"text",name:"location",value:x.location,onChange:E,className:"w-full border border-gray-300 p-3 rounded focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"e.g. Shelf A, Bin 5"})]}),(0,Pe.jsxs)("div",{className:"mb-4",children:[(0,Pe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Supplier"}),(0,Pe.jsxs)("select",{name:"supplier",value:x.supplier,onChange:E,className:"w-full border border-gray-300 p-3 rounded focus:ring-2 focus:ring-blue-500 outline-none bg-white",children:[(0,Pe.jsx)("option",{value:"",children:"Select a supplier"}),a.map(e=>(0,Pe.jsx)("option",{value:e._id,children:e.name},e._id))]})]})]}),(0,Pe.jsxs)("div",{children:[(0,Pe.jsxs)("div",{className:"mb-4",children:[(0,Pe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Stock Quantity"}),(0,Pe.jsx)("input",{type:"number",name:"stock",value:x.stock,onChange:E,className:"w-full border border-gray-300 p-3 rounded focus:ring-2 focus:ring-blue-500 outline-none",min:"0"})]}),(0,Pe.jsxs)("div",{className:"mb-4",children:[(0,Pe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Minimum Stock Alert"}),(0,Pe.jsx)("input",{type:"number",name:"min_stock_alert",value:x.min_stock_alert,onChange:E,className:"w-full border border-gray-300 p-3 rounded focus:ring-2 focus:ring-blue-500 outline-none",min:"0"})]}),(0,Pe.jsxs)("div",{className:"mb-4",children:[(0,Pe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cost Price (Rs)"}),(0,Pe.jsx)("input",{type:"number",name:"cost_price",value:x.cost_price,onChange:E,className:"w-full border border-gray-300 p-3 rounded focus:ring-2 focus:ring-blue-500 outline-none",step:"0.01",min:"0"})]}),(0,Pe.jsxs)("div",{className:"mb-4",children:[(0,Pe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Selling Price (Rs)"}),(0,Pe.jsx)("input",{type:"number",name:"selling_price",value:x.selling_price,onChange:E,className:"w-full border border-gray-300 p-3 rounded focus:ring-2 focus:ring-blue-500 outline-none",step:"0.01",min:"0"})]})]})]})]}),(0,Pe.jsxs)("div",{className:"border-t border-gray-200 px-6 py-4 bg-gray-50 rounded-b-lg flex justify-end space-x-3",children:[(0,Pe.jsx)("button",{type:"button",onClick:()=>{p(!1),y(!1),w(null),B({name:"",sku:"",category:n.length>0?n[0]._id:"",stock:0,min_stock_alert:5,cost_price:0,selling_price:0,location:"",supplier:""}),u(""),d("")},className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-100",children:"Cancel"}),(0,Pe.jsx)("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 transition",disabled:!x.name||!x.sku||!x.category,children:v?"Update Product":"Add Product"})]})]})]})}),g&&(0,Pe.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-[100] p-4",children:(0,Pe.jsxs)("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md",children:[(0,Pe.jsx)("div",{className:"border-b border-gray-200 px-6 py-4",children:(0,Pe.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Create New Category"})}),(0,Pe.jsx)("div",{className:"px-6 py-4",children:(0,Pe.jsxs)("div",{className:"mb-4",children:[(0,Pe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category Name *"}),(0,Pe.jsx)("input",{type:"text",value:C,onChange:e=>N(e.target.value),className:"w-full border border-gray-300 p-3 rounded focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"Enter category name",required:!0,autoFocus:!0})]})}),(0,Pe.jsxs)("div",{className:"border-t border-gray-200 px-6 py-4 bg-gray-50 rounded-b-lg flex justify-end space-x-3",children:[(0,Pe.jsx)("button",{type:"button",onClick:()=>{m(!1),N("")},className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-100",children:"Cancel"}),(0,Pe.jsx)("button",{type:"button",onClick:async()=>{if(C.trim())try{const e=await Ju.post("/categories",{name:C.trim()});r(t=>[...t,e.data]),B(Me(Me({},x),{},{category:e.data._id})),m(!1),N(""),d("Category created successfully")}catch(n){var e,t;console.error(n),u((null===(e=n.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.error)||"Failed to create category")}},className:"px-4 py-2 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 transition",disabled:!C.trim(),children:"Create Category"})]})]})}),(0,Pe.jsxs)("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[(0,Pe.jsx)("div",{className:"border-b border-gray-200 p-6",children:(0,Pe.jsxs)("h2",{className:"text-xl font-semibold text-gray-800",children:["Parts Inventory (",e.length,")"]})}),0===e.length?(0,Pe.jsx)("div",{className:"p-8 text-center text-gray-500",children:"No parts found in inventory."}):(0,Pe.jsx)("div",{className:"overflow-x-auto",children:(0,Pe.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Pe.jsx)("thead",{className:"bg-gray-50",children:(0,Pe.jsxs)("tr",{children:[(0,Pe.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Part Name"}),(0,Pe.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"SKU"}),(0,Pe.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category"}),(0,Pe.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Stock"}),(0,Pe.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Supplier"}),(0,Pe.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Price"}),(0,Pe.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,Pe.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(e=>{var t,r,i;return(0,Pe.jsxs)("tr",{className:e.stock<=e.min_stock_alert?"bg-red-50":"",children:[(0,Pe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Pe.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.name})}),(0,Pe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.sku}),(0,Pe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:(null===(t=e.category)||void 0===t?void 0:t.name)||"N/A"}),(0,Pe.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[(0,Pe.jsx)("span",{className:e.stock<=e.min_stock_alert?"text-red-600 font-bold":"",children:e.stock}),e.stock<=e.min_stock_alert&&(0,Pe.jsx)("span",{className:"ml-2 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:"Low Stock"})]}),(0,Pe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:(null===(r=e.supplier)||void 0===r?void 0:r.name)||"N/A"}),(0,Pe.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:["Rs ",(null===(i=e.selling_price)||void 0===i?void 0:i.toFixed(2))||"0.00"]}),(0,Pe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:(0,Pe.jsx)("button",{onClick:()=>(e=>{var t,r;B({name:e.name,sku:e.sku,category:(null===(t=e.category)||void 0===t?void 0:t._id)||(n.length>0?n[0]._id:""),stock:e.stock,min_stock_alert:e.min_stock_alert,cost_price:e.cost_price,selling_price:e.selling_price,location:e.location||"",supplier:(null===(r=e.supplier)||void 0===r?void 0:r._id)||""}),y(!0),w(e._id),p(!0)})(e),className:"text-blue-600 hover:text-blue-900 mr-4",children:"Edit"})})]},e._id)})})]})})]})]})},iA=async()=>{try{return(await Ju.get("/batches")).data}catch(e){return console.error("Error fetching batches:",e),[]}},aA=()=>{const[e,t]=(0,i.useState)([]),[n,r]=(0,i.useState)([]),[a,o]=(0,i.useState)(!1),[s,l]=(0,i.useState)(!0),[c,u]=(0,i.useState)(""),[A,d]=(0,i.useState)(""),[h,f]=(0,i.useState)(""),[p,g]=(0,i.useState)([]),m=re();(0,i.useEffect)(()=>{localStorage.getItem("admin")||m("/admin/login")},[m]);const[v,y]=(0,i.useState)({name:"",email:"",password:"",department:"",salary:"",rfid:"",batch:""}),[b,w]=(0,i.useState)(!1),[x,B]=(0,i.useState)(null),[C,N]=(0,i.useState)(!1),[k,_]=(0,i.useState)([]),[E,S]=(0,i.useState)(!1),[F,I]=(0,i.useState)(!1),j=(0,i.useRef)(null),U=(0,i.useRef)(null),[O,P]=(0,i.useState)(!1),[L,D]=(0,i.useState)(null),[T,M]=(0,i.useState)([]),[Q,R]=(0,i.useState)(!1),[H,z]=(0,i.useState)(""),[K,W]=(0,i.useState)(!1),V=(0,i.useCallback)(e=>{if(console.log("setVideoRef called with element:",e),e){if(console.log("Video element attached to ref:",e),j.current=e,C&&!F&&!E){console.log("Video element attached and face capture is active, attempting to access camera...");const e={video:{facingMode:"user",width:{ideal:640},height:{ideal:480}}};navigator.mediaDevices.getUserMedia(e).then(e=>{console.log("Camera access granted via ref callback, setting stream to video element..."),j.current&&(j.current.srcObject=e,S(!0),console.log("Camera stream successfully set to video element via ref callback"))}).catch(e=>{console.error("Error accessing camera via ref callback:",e);navigator.mediaDevices.getUserMedia({video:{facingMode:"user"}}).then(e=>{console.log("Camera access granted with fallback via ref callback..."),j.current&&(j.current.srcObject=e,S(!0),console.log("Camera stream successfully set to video element with fallback via ref callback"))}).catch(e=>{console.error("Error accessing camera with fallback via ref callback:",e);let t="Could not access camera. ";"NotAllowedError"===e.name?t+="Please grant camera permission in your browser settings.":t+="Please ensure you have given permission and that your camera is not in use.",u(t),S(!1)})})}}else console.log("Video element ref cleared"),j.current=null},[C,F,E]);(0,i.useEffect)(()=>()=>{(()=>{try{if(j.current&&j.current.srcObject){j.current.srcObject.getTracks().forEach(e=>{console.log("Cleaning up track on unmount:",e),e.stop()}),j.current.srcObject=null}}catch(e){console.error("Error cleaning up video stream:",e)}})()},[]),(0,i.useEffect)(()=>{if(C&&!F&&!E){if(!navigator.mediaDevices)return console.error("Browser does not support media devices"),void u("Your browser does not support camera access. Please try a different browser.");console.log("Face capture modal shown, will attempt camera access when video element is ready")}},[C,F,E]),(0,i.useEffect)(()=>{if(C&&!F&&!E)return console.log("Face capture is active, watching for video element..."),window.faceCaptureInterval&&clearInterval(window.faceCaptureInterval),window.faceCaptureTimeout&&clearTimeout(window.faceCaptureTimeout),window.faceCaptureInterval=setInterval(()=>{const e=document.getElementById("face-capture-video");if(e&&!j.current){console.log("Found video element in DOM, setting ref:",e),j.current=e;const t={video:{facingMode:"user"}};navigator.mediaDevices.getUserMedia(t).then(t=>{console.log("Camera access granted via DOM query, setting stream to video element..."),e.srcObject=t,S(!0),window.faceCaptureInterval&&(clearInterval(window.faceCaptureInterval),window.faceCaptureInterval=null)}).catch(e=>{console.error("Error accessing camera via DOM query:",e)})}},500),window.faceCaptureTimeout=setTimeout(()=>{window.faceCaptureInterval&&(clearInterval(window.faceCaptureInterval),window.faceCaptureInterval=null)},1e4),()=>{window.faceCaptureInterval&&(clearInterval(window.faceCaptureInterval),window.faceCaptureInterval=null),window.faceCaptureTimeout&&(clearTimeout(window.faceCaptureTimeout),window.faceCaptureTimeout=null)}},[C,F,E]),(0,i.useEffect)(()=>{q(),X()},[]);const G=async()=>{try{const e=await iA();g(e)}catch(c){console.error("Error loading batches:",c)}};(0,i.useEffect)(()=>{G()},[]);const q=async()=>{try{const e=await Ju.get("/workers");t(e.data),l(!1)}catch(e){console.error(e),u("Failed to fetch workers"),l(!1)}},X=async()=>{try{const e=await Ju.get("/departments");r(e.data)}catch(e){console.error(e),u("Failed to fetch departments")}},Y=e=>{const{name:t,value:n,type:r,checked:i}=e.target;"salary"===t?(""===n||/^\d*\.?\d*$/.test(n))&&y(Me(Me({},v),{},{[t]:n})):y(Me(Me({},v),{},{[t]:"checkbox"===r?i:n}))},J=()=>{N(!1),S(!1),I(!1),_([]);try{if(j.current&&j.current.srcObject){const e=j.current.srcObject;e.getTracks().forEach(e=>{console.log("Stopping track:",e),e.stop()}),j.current.srcObject=null}}catch(e){console.error("Error stopping video stream:",e)}window.faceCaptureInterval&&(clearInterval(window.faceCaptureInterval),window.faceCaptureInterval=null),window.faceCaptureTimeout&&(clearTimeout(window.faceCaptureTimeout),window.faceCaptureTimeout=null)},Z=()=>{P(!1),D(null),M([]);try{if(j.current&&j.current.srcObject){const e=j.current.srcObject;e.getTracks().forEach(e=>{console.log("Stopping track on review close:",e),e.stop()}),j.current.srcObject=null}}catch(e){console.error("Error stopping video stream:",e)}},$=()=>{if(P(!1),_(T),N(!0),S(!1),I(!1),j.current&&j.current.srcObject)try{j.current.srcObject.getTracks().forEach(e=>e.stop())}catch(e){console.log("No existing stream to stop or error stopping tracks:",e)}},ee=()=>{const e="ABCDEFGHIJKLMNOPQRSTUVWXYZ",t=e.charAt(Math.floor(26*Math.random())),n=e.charAt(Math.floor(26*Math.random())),r=Math.floor(1e3+9e3*Math.random());return"".concat(t).concat(n).concat(r)},te=()=>{R(!1),W(!1),z("")},ne=async e=>{try{W(!1);const t=await Xu.post("http://localhost:5001/api/workers/attendance",{rfid:e,method:"checkIn"});d("Attendance recorded for ".concat(t.data.attendanceRecord.workerName||"worker")),te(),q()}catch(t){console.error(t),u("Failed to record attendance"),W(!1)}};return s?(0,Pe.jsx)("div",{className:"p-8 bg-gray-100 min-h-screen ml-64 flex items-center justify-center",children:(0,Pe.jsx)("div",{className:"text-xl",children:"Loading workers..."})}):(0,Pe.jsxs)("div",{className:"p-8 bg-gray-100 min-h-screen ml-64",children:[(0,Pe.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,Pe.jsxs)("div",{children:[(0,Pe.jsx)("h2",{className:"text-2xl font-bold",children:"Workers Management"}),(0,Pe.jsx)("p",{className:"text-gray-600",children:"Manage your repair shop workers"})]}),(0,Pe.jsx)("button",{onClick:()=>{G(),y({name:"",email:"",password:"",department:"",salary:"",rfid:ee(),batch:""}),_([]),w(!1),B(null),o(!0),f("")},className:"bg-blue-600 text-white px-4 py-2 rounded-lg font-semibold hover:bg-blue-700 transition",children:"Add New Worker"})]}),c&&!a&&!C&&!O&&(0,Pe.jsx)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:c}),A&&!a&&!C&&!O&&(0,Pe.jsx)("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded mb-4",children:A}),Q&&(0,Pe.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Pe.jsxs)("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md",children:[(0,Pe.jsxs)("div",{className:"border-b border-gray-200 px-6 py-4 flex justify-between items-center",children:[(0,Pe.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"RFID Attendance"}),(0,Pe.jsx)("button",{onClick:te,className:"text-gray-500 hover:text-gray-700",children:(0,Pe.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),(0,Pe.jsx)("div",{className:"px-6 py-4",children:K?(0,Pe.jsxs)("div",{className:"text-center",children:[(0,Pe.jsx)("div",{className:"mx-auto bg-gray-200 rounded-full p-4 w-24 h-24 flex items-center justify-center mb-4",children:(0,Pe.jsx)("svg",{className:"w-12 h-12 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M7 20l4-16m2 16l4-16M6 9h14M4 15h14"})})}),(0,Pe.jsx)("p",{className:"text-gray-600 mb-4",children:"Scan your RFID card or enter RFID manually"}),(0,Pe.jsx)("input",{type:"text",value:H,onChange:e=>z(e.target.value),onKeyPress:e=>{z(e.target.value),"Enter"===e.key&&e.target.value&&ne(e.target.value)},placeholder:"Enter RFID",className:"w-full border border-gray-300 p-3 rounded focus:ring-2 focus:ring-blue-500 outline-none mb-4",autoFocus:!0}),(0,Pe.jsx)("button",{onClick:()=>{H&&ne(H)},disabled:!H,className:"w-full px-4 py-2 bg-green-600 text-white rounded-lg font-semibold hover:bg-green-700 transition disabled:opacity-50",children:"Submit RFID"})]}):(0,Pe.jsxs)("div",{className:"text-center py-8",children:[(0,Pe.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600 mx-auto mb-4"}),(0,Pe.jsx)("p",{className:"text-gray-600",children:"Recording attendance..."})]})})]})}),a&&(0,Pe.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Pe.jsxs)("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-screen overflow-y-auto",children:[(0,Pe.jsxs)("div",{className:"border-b border-gray-200 px-6 py-4 flex justify-between items-center",children:[(0,Pe.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:b?"Edit Worker":"Add New Worker"}),(0,Pe.jsx)("button",{onClick:()=>o(!1),className:"text-gray-500 hover:text-gray-700",children:(0,Pe.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),(0,Pe.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),v.name&&v.email)if(b||v.password)try{const e={name:v.name,email:v.email,department:v.department||null,salary:""!==v.salary?Number(v.salary):null,rfid:v.rfid||null,batch:h||null};if(v.password&&(e.password=v.password),k.length>0&&(e.faceData=k),b)await Ju.put("/workers/".concat(x),e),d("Worker updated successfully");else{if(!v.password)throw new Error("Password is required for new workers");e.password=v.password,await Ju.post("/workers",e),d("Worker created successfully")}y({name:"",email:"",password:"",department:"",salary:"",rfid:"",batch:""}),w(!1),B(null),o(!1),_([]),q()}catch(r){var t,n;console.error(r),u((null===(t=r.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.error)||"Failed to ".concat(b?"update":"create"," worker"))}else u("Password is required for new workers");else u("Name and Email are required")},className:"px-6 py-4",children:[(0,Pe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Pe.jsxs)("div",{className:"mb-4",children:[(0,Pe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name *"}),(0,Pe.jsx)("input",{type:"text",name:"name",value:v.name,onChange:Y,className:"w-full border border-gray-300 p-3 rounded focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"e.g. John Doe",required:!0})]}),(0,Pe.jsxs)("div",{className:"mb-4",children:[(0,Pe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email *"}),(0,Pe.jsx)("input",{type:"email",name:"email",value:v.email,onChange:Y,className:"w-full border border-gray-300 p-3 rounded focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"e.g. john@example.com",required:!0})]}),(0,Pe.jsxs)("div",{className:"mb-4",children:[(0,Pe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:b?"New Password (optional)":"Password *"}),(0,Pe.jsx)("input",{type:"password",name:"password",value:v.password,onChange:Y,className:"w-full border border-gray-300 p-3 rounded focus:ring-2 focus:ring-blue-500 outline-none",placeholder:b?"Leave blank to keep current password":"Enter password",required:!b})]}),(0,Pe.jsxs)("div",{className:"mb-4",children:[(0,Pe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Department"}),(0,Pe.jsxs)("select",{name:"department",value:v.department,onChange:Y,className:"w-full border border-gray-300 p-3 rounded focus:ring-2 focus:ring-blue-500 outline-none bg-white",children:[(0,Pe.jsx)("option",{value:"",children:"Select Department"}),n.map(e=>(0,Pe.jsx)("option",{value:e._id,children:e.name},e._id))]})]}),(0,Pe.jsxs)("div",{className:"mb-4",children:[(0,Pe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Salary (\u20b9)"}),(0,Pe.jsx)("input",{type:"number",name:"salary",value:v.salary,onChange:Y,className:"w-full border border-gray-300 p-3 rounded focus:ring-2 focus:ring-blue-500 outline-none hide-spinner",placeholder:"Enter salary",onWheel:e=>e.target.blur(),min:"0"}),(0,Pe.jsx)("style",{children:"\n                      .hide-spinner::-webkit-outer-spin-button,\n                      .hide-spinner::-webkit-inner-spin-button {\n                        -webkit-appearance: none;\n                        margin: 0;\n                      }\n                      .hide-spinner {\n                        -moz-appearance: textfield;\n                      }\n                    "})]}),(0,Pe.jsxs)("div",{className:"md:col-span-2",children:[(0,Pe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"RFID"}),(0,Pe.jsxs)("div",{className:"flex",children:[(0,Pe.jsx)("input",{type:"text",name:"rfid",value:v.rfid,onChange:e=>{const{name:t,value:n,type:r,checked:i}=e.target;y(e=>Me(Me({},e),{},{[t]:"checkbox"===r?i:n}))},className:"flex-1 border border-gray-300 px-3 py-2 rounded-l-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none bg-gray-100",placeholder:"RFID",readOnly:b}),!b&&(0,Pe.jsx)("button",{type:"button",onClick:()=>y(Me(Me({},v),{},{rfid:ee()})),className:"bg-gray-200 hover:bg-gray-300 px-4 py-2 rounded-r-lg text-gray-700 font-medium transition",children:"Generate"})]}),(0,Pe.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"Unique RFID in format: 2 letters + 4 digits (e.g., AB1234)"})]}),(0,Pe.jsxs)("div",{className:"md:col-span-2 mb-4",children:[(0,Pe.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Pe.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Select Batch"}),(0,Pe.jsx)("span",{className:"text-xs text-gray-500 italic",children:b?"Current worker's batch":"Assign batch to worker"})]}),(0,Pe.jsxs)("select",{value:h,onChange:e=>{const t=e.target.value;f(t),y(Me(Me({},v),{},{batch:t}))},className:"w-full border border-gray-300 p-3 rounded focus:ring-2 focus:ring-blue-500 outline-none bg-white",children:[(0,Pe.jsx)("option",{value:"",children:"Select a Batch"}),p.map(e=>(0,Pe.jsxs)("option",{value:e._id,children:[e.name," (",e.workingTime.from," - ",e.workingTime.to,")"]},e._id))]}),h&&((e,t)=>{const n=p.find(e=>e._id===h);return n?(0,Pe.jsxs)("div",{className:"mt-2 p-3 bg-blue-50 rounded-lg",children:[(0,Pe.jsxs)("div",{className:"text-sm font-medium text-blue-800",children:["Selected Batch: ",n.name]}),(0,Pe.jsxs)("div",{className:"text-xs text-blue-600 mt-1",children:[(0,Pe.jsxs)("div",{children:["Working Hours: ",n.workingTime.from," - ",n.workingTime.to]}),(null===(e=n.lunchTime)||void 0===e?void 0:e.enabled)&&(0,Pe.jsxs)("div",{children:["Lunch: ",n.lunchTime.from," - ",n.lunchTime.to]}),(null===(t=n.breakTime)||void 0===t?void 0:t.enabled)&&(0,Pe.jsxs)("div",{children:["Break: ",n.breakTime.from," - ",n.breakTime.to]})]})]}):null})()]}),(0,Pe.jsxs)("div",{className:"mb-4",children:[(0,Pe.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Face Enrollment (",k.length,"/4 images)"]}),k.length>0&&(0,Pe.jsx)("div",{className:"mb-4",children:(0,Pe.jsx)("div",{className:"grid grid-cols-2 gap-2",children:k.map((e,t)=>(0,Pe.jsxs)("div",{className:"relative",children:[(0,Pe.jsx)("img",{src:e,alt:"Face ".concat(t+1),className:"w-full h-24 object-cover rounded border"}),(0,Pe.jsx)("button",{type:"button",onClick:()=>(e=>{_(t=>t.filter((t,n)=>n!==e))})(t),className:"absolute top-1 right-1 bg-red-500 text-white rounded-full w-5 h-5 flex items-center justify-center text-xs",children:"\xd7"})]},t))})}),k.length<4?(0,Pe.jsxs)("button",{type:"button",onClick:()=>{if(N(!0),S(!0),I(!1),_([]),j.current&&j.current.srcObject)try{j.current.srcObject.getTracks().forEach(e=>e.stop())}catch(e){console.log("No existing stream to stop or error stopping tracks:",e)}setTimeout(()=>{if(j.current){const e={video:{facingMode:"user",width:{ideal:640},height:{ideal:480}}};navigator.mediaDevices.getUserMedia(e).then(e=>{j.current&&(j.current.srcObject=e,S(!0))}).catch(e=>{console.error("Error accessing camera:",e);navigator.mediaDevices.getUserMedia({video:{facingMode:"user"}}).then(e=>{j.current&&(j.current.srcObject=e,S(!0))}).catch(e=>{console.error("Error accessing camera with fallback:",e);let t="Could not access camera. ";"NotAllowedError"===e.name?t+="Please grant camera permission in your browser settings.":t+="Please ensure you have given permission and that your camera is not in use.",u(t),S(!1)})})}},100)},className:"w-full flex flex-col items-center justify-center border-2 border-dashed border-gray-300 rounded-lg p-6 hover:border-blue-400 transition",children:[(0,Pe.jsxs)("svg",{className:"w-12 h-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,Pe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"}),(0,Pe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z"})]}),(0,Pe.jsxs)("span",{className:"mt-2 text-sm text-gray-600",children:["Click to capture face (",4-k.length," remaining)"]})]}):(0,Pe.jsx)("div",{className:"text-center py-2 text-green-600 font-medium",children:"Maximum of 4 face images captured"})]})]}),(0,Pe.jsxs)("div",{className:"border-t border-gray-200 px-6 py-4 bg-gray-50 rounded-b-lg flex justify-end space-x-3",children:[(0,Pe.jsx)("button",{type:"button",onClick:()=>{o(!1),w(!1),B(null),y({name:"",email:"",password:"",department:"",salary:"",rfid:"",batch:""}),u(""),d(""),_([]),f("")},className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-100",children:"Cancel"}),(0,Pe.jsx)("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 transition",children:b?"Update Worker":"Create Worker"})]})]})]})}),C&&(0,Pe.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-[100]",children:(0,Pe.jsxs)("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md",children:[(0,Pe.jsxs)("div",{className:"border-b border-gray-200 px-6 py-4 flex justify-between items-center",children:[(0,Pe.jsxs)("h3",{className:"text-lg font-semibold text-gray-900",children:["Capture Face (",k.length,"/4)"]}),(0,Pe.jsx)("button",{onClick:J,className:"text-gray-500 hover:text-gray-700",children:(0,Pe.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),(0,Pe.jsx)("div",{className:"p-6",children:F?(0,Pe.jsxs)("div",{className:"text-center",children:[(0,Pe.jsx)("h4",{className:"text-lg font-medium mb-4",children:"Confirm Face Images"}),(0,Pe.jsx)("p",{className:"mb-4 text-gray-600",children:"Review the captured images below:"}),(0,Pe.jsx)("div",{className:"grid grid-cols-2 gap-3 mb-6",children:k.map((e,t)=>(0,Pe.jsxs)("div",{className:"relative",children:[(0,Pe.jsx)("img",{src:e,alt:"Captured Face ".concat(t+1),className:"w-full h-24 object-cover rounded border"}),(0,Pe.jsx)("div",{className:"absolute bottom-1 left-1 bg-black bg-opacity-50 text-white text-xs px-1 rounded",children:t+1})]},t))}),(0,Pe.jsxs)("div",{className:"flex justify-center space-x-3",children:[(0,Pe.jsx)("button",{onClick:J,className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-100",children:"Retake All"}),(0,Pe.jsx)("button",{onClick:()=>{N(!1),I(!1);try{if(j.current&&j.current.srcObject){const e=j.current.srcObject;e.getTracks().forEach(e=>e.stop())}}catch(e){console.error("Error stopping video stream:",e)}},className:"px-4 py-2 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 transition",children:"Confirm Images"})]})]}):E?(0,Pe.jsxs)("div",{className:"text-center",children:[(0,Pe.jsxs)("div",{className:"relative mx-auto mb-4",children:[(0,Pe.jsx)("video",{ref:V,autoPlay:!0,playsInline:!0,className:"w-full rounded-lg border-2 border-gray-300 max-h-64",style:{display:"block",minWidth:"300px",minHeight:"200px"},onLoadedData:()=>{console.log("Video element loaded data")},id:"face-capture-video"}),(0,Pe.jsx)("canvas",{ref:U,className:"hidden"})]}),(0,Pe.jsxs)("button",{onClick:()=>{if(!j.current||!U.current)return void console.error("Video or canvas element not available");const e=j.current;if(!e.srcObject)return void console.error("Video stream not available");const t=U.current,n=t.getContext("2d");t.width=e.videoWidth,t.height=e.videoHeight,n.drawImage(e,0,0,t.width,t.height);const r=t.toDataURL("image/jpeg");if(_(e=>{const t=[...e,r];return t.length>=4&&(S(!1),I(!0)),t}),k.length<3)setTimeout(()=>{j.current&&j.current.srcObject&&S(!0)},500);else try{const t=e.srcObject;if(t){t.getTracks().forEach(e=>e.stop())}}catch(i){console.error("Error stopping video stream:",i)}},disabled:!E,className:"px-4 py-2 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 transition disabled:opacity-50",children:["Capture Face ",k.length+1,"/4"]}),(0,Pe.jsxs)("p",{className:"mt-2 text-sm text-gray-600",children:["Captured: ",k.length," of 4 images"]})]}):(0,Pe.jsxs)("div",{className:"text-center",children:[(0,Pe.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),(0,Pe.jsx)("p",{className:"text-gray-600",children:"Preparing camera..."}),(0,Pe.jsx)("button",{onClick:()=>{console.log("Manual camera access requested. Current videoRef:",j.current);let e=j.current;if(e||(console.log("Video ref not available, trying to find in DOM..."),e=document.getElementById("face-capture-video"),e&&(console.log("Found video element in DOM:",e),j.current=e)),!e)return console.error("Video element not available for manual access"),void u("Camera element not available. Please wait a moment and try again.");navigator.mediaDevices.getUserMedia({video:{facingMode:"user"}}).then(t=>{e.srcObject=t,S(!0)}).catch(e=>{console.error("Manual camera access failed:",e);let t="Could not access camera. ";"NotAllowedError"===e.name?t+="Please grant camera permission when prompted.":t+="Please ensure you have given permission and that your camera is not in use.",u(t)})},className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 transition",children:"Request Camera Access"}),(0,Pe.jsx)("button",{onClick:J,className:"mt-4 px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-100 text-sm",children:"Cancel"})]})})]})}),O&&(0,Pe.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-[100]",children:(0,Pe.jsxs)("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md",children:[(0,Pe.jsxs)("div",{className:"border-b border-gray-200 px-6 py-4 flex justify-between items-center",children:[(0,Pe.jsxs)("h3",{className:"text-lg font-semibold text-gray-900",children:["Face Enrollment for ",null===L||void 0===L?void 0:L.name]}),(0,Pe.jsx)("button",{onClick:Z,className:"text-gray-500 hover:text-gray-700",children:(0,Pe.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),(0,Pe.jsxs)("div",{className:"p-6",children:[T.length>0?(0,Pe.jsxs)("div",{children:[(0,Pe.jsx)("p",{className:"mb-4 text-gray-600",children:"Review the enrolled face images below:"}),(0,Pe.jsx)("div",{className:"grid grid-cols-2 gap-3 mb-6",children:T.map((e,t)=>(0,Pe.jsxs)("div",{className:"relative",children:[(0,Pe.jsx)("img",{src:e,alt:"Enrolled Face ".concat(t+1),className:"w-full h-24 object-cover rounded border"}),(0,Pe.jsx)("button",{type:"button",onClick:()=>(e=>{M(t=>t.filter((t,n)=>n!==e))})(t),className:"absolute top-1 right-1 bg-red-500 text-white rounded-full w-5 h-5 flex items-center justify-center text-xs",children:"\xd7"})]},t))}),T.length<4&&(0,Pe.jsxs)("button",{onClick:$,className:"w-full flex items-center justify-center border-2 border-dashed border-gray-300 rounded-lg p-4 hover:border-blue-400 transition mb-6",children:[(0,Pe.jsx)("svg",{className:"w-6 h-6 text-gray-400 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),(0,Pe.jsxs)("span",{className:"text-gray-600",children:["Add More Images (",4-T.length," remaining)"]})]})]}):(0,Pe.jsxs)("div",{className:"text-center py-8",children:[(0,Pe.jsxs)("svg",{className:"w-16 h-16 text-gray-400 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,Pe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"}),(0,Pe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z"})]}),(0,Pe.jsx)("p",{className:"text-gray-600 mb-4",children:"No face images enrolled for this worker"}),(0,Pe.jsx)("button",{onClick:$,className:"px-4 py-2 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 transition",children:"Enroll Face Images"})]}),(0,Pe.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,Pe.jsx)("button",{onClick:Z,className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-100",children:"Cancel"}),T.length>0&&(0,Pe.jsx)("button",{onClick:async()=>{try{u("Compressing images...");const e=await Promise.all(T.map(e=>function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.7;return new Promise(n=>{const r=new Image;r.onload=()=>{const e=document.createElement("canvas"),i=e.getContext("2d");let a=r.width,o=r.height;a>o?a>300&&(o*=300/a,a=300):o>300&&(a*=300/o,o=300),e.width=a,e.height=o,i.drawImage(r,0,0,a,o);const s=e.toDataURL("image/jpeg",t);n(s)},r.src=e})}(e,.7)));await Ju.put("/workers/".concat(L._id),Me(Me({},L),{},{faceData:e})),u(""),d("Face images updated successfully"),Z(),q()}catch(e){console.error(e),u("Failed to update face images")}},className:"px-4 py-2 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 transition",children:"Save Changes"})]})]})]})}),(0,Pe.jsxs)("div",{className:"bg-white rounded shadow overflow-hidden",children:[(0,Pe.jsx)("div",{className:"border-b border-gray-200",children:(0,Pe.jsxs)("h3",{className:"p-4 text-lg font-semibold",children:["Workers List (",e.length,")"]})}),0===e.length?(0,Pe.jsx)("div",{className:"p-8 text-center text-gray-500",children:'No workers found. Click "Add New Worker" to add one.'}):(0,Pe.jsx)("div",{className:"overflow-x-auto",children:(0,Pe.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Pe.jsx)("thead",{className:"bg-gray-50",children:(0,Pe.jsxs)("tr",{children:[(0,Pe.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),(0,Pe.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),(0,Pe.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Salary (\u20b9)"}),(0,Pe.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Department"}),(0,Pe.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"RFID"}),(0,Pe.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,Pe.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(e=>(0,Pe.jsxs)("tr",{children:[(0,Pe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Pe.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.name})}),(0,Pe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.email}),(0,Pe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.salary&&!isNaN(e.salary)?"\u20b9".concat(e.salary):"-"}),(0,Pe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.department?e.department.name:"-"}),(0,Pe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.rfid||"Not assigned"}),(0,Pe.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium flex items-center",children:[(0,Pe.jsx)("button",{onClick:()=>(e=>{D(e),M(e.faceData||[]),P(!0)})(e),className:"mr-3 text-gray-500 hover:text-gray-700",children:e.faceData&&e.faceData.length>0?(0,Pe.jsxs)("div",{className:"relative",children:[(0,Pe.jsxs)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,Pe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"}),(0,Pe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z"})]}),(0,Pe.jsx)("svg",{className:"w-3 h-3 text-green-500 absolute -bottom-1 -right-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",d:"M5 13l4 4L19 7"})})]}):(0,Pe.jsxs)("div",{className:"relative",children:[(0,Pe.jsxs)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,Pe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"}),(0,Pe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z"})]}),(0,Pe.jsx)("svg",{className:"w-3 h-3 text-red-500 absolute -bottom-1 -right-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",d:"M6 18L18 6M6 6l12 12"})})]})}),(0,Pe.jsx)("button",{onClick:()=>(e=>{var t,n,r;G(),y({name:e.name,email:e.email,password:"",department:(null===(t=e.department)||void 0===t?void 0:t._id)||"",salary:void 0!==e.salary&&null!==e.salary?e.salary.toString():"",rfid:e.rfid||"",batch:(null===(n=e.batch)||void 0===n?void 0:n._id)||""}),e.faceData&&Array.isArray(e.faceData)?_(e.faceData):e.faceData?_([e.faceData]):_([]),w(!0),B(e._id),o(!0),f((null===(r=e.batch)||void 0===r?void 0:r._id)||"")})(e),className:"text-blue-600 hover:text-blue-900 mr-4",children:"Edit"}),(0,Pe.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this worker?"))try{await Xu.delete("http://localhost:5001/api/workers/".concat(e)),q(),d("Worker deleted successfully")}catch(t){console.error(t),u("Failed to delete worker")}})(e._id),className:"text-red-600 hover:text-red-900",children:"Delete"})]})]},e._id))})]})})]})]})},oA=()=>{var e,t,n,r,a,o,s,l,c,u,A;const{id:d}=ie(),[h,f]=(0,i.useState)(null),[p,g]=(0,i.useState)(!0),[m,v]=(0,i.useState)(""),[y,b]=(0,i.useState)(""),[w,x]=(0,i.useState)(!1),[B,C]=(0,i.useState)(!1),[N,k]=(0,i.useState)([]),[_,E]=(0,i.useState)(!1),[S,F]=(0,i.useState)({part:"",quantity:1,price_type:"Internal"}),[I,j]=(0,i.useState)({}),[U,O]=(0,i.useState)(!1),P=(0,i.useRef)(null),L=re();(0,i.useEffect)(()=>{localStorage.getItem("admin")||L("/admin/login")},[L]),(0,i.useEffect)(()=>{(async()=>{try{const e=await Ju.get("/inventory");k(e.data)}catch(e){console.error("Failed to fetch parts:",e)}})()},[]);const D=(0,i.useCallback)(async()=>{try{const e=await Ju.get("/jobs/".concat(d));f(e.data),g(!1)}catch(e){console.error(e),v("Failed to fetch job details"),g(!1)}},[d]);(0,i.useEffect)(()=>{D()},[D]),(0,i.useEffect)(()=>{y&&window.scrollTo({top:0,behavior:"smooth"})},[y]);const T=async()=>{var e;if(!h||null===(e=h.customer)||void 0===e||!e.phone)return console.error("No customer phone number available"),!1;try{var t;O(!0);null===(t=h.customer)||void 0===t||t.name,h.job_card_number||h._id.slice(-6),h.device_brand,h.device_model;const e=await Zu.sendJobCompletionNotification(d);return console.log("WhatsApp completion notification sent:",e),!0}catch(m){return console.error("Error sending WhatsApp completion notification:",m),!1}finally{O(!1)}},M=async()=>{try{C(!0);const e=await Ju.put("/jobs/".concat(d,"/update"),{status:"Done",repair_done_time:new Date});if(e.data.success){const t=await T();b(t?"Job marked as completed successfully! WhatsApp notification sent to customer.":"Job marked as completed successfully! (WhatsApp notification failed to send)"),f(e.data.job),setTimeout(()=>b(""),5e3)}}catch(e){console.error(e),v("Failed to mark job as completed")}finally{C(!1)}},Q=()=>h.parts_used&&0!==h.parts_used.length?h.parts_used.reduce((e,t,n)=>{const r=t.part;let i=0;if(r&&"object"===typeof r&&void 0!==r.cost_price&&(i=r.cost_price),N&&r&&r._id){const e=N.find(e=>e._id===r._id);e&&void 0!==e.cost_price&&(i=e.cost_price)}return e+(void 0!==I[n]?I[n]:i)*(t.quantity||0)},0):0;return p?(0,Pe.jsx)("div",{className:"p-8 bg-gray-100 min-h-screen ml-64 flex items-center justify-center",children:(0,Pe.jsx)("div",{className:"text-xl",children:"Loading job details..."})}):m?(0,Pe.jsx)("div",{className:"p-8 bg-gray-100 min-h-screen ml-64",children:(0,Pe.jsx)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:m})}):h?(0,Pe.jsxs)("div",{className:"p-8 bg-gray-100 min-h-screen ml-64",children:[y&&(0,Pe.jsx)("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded mb-6",children:y}),(0,Pe.jsxs)("div",{className:"mb-6",children:[(0,Pe.jsxs)("button",{onClick:()=>L("/jobs"),className:"flex items-center text-blue-600 hover:text-blue-800 mb-4",children:[(0,Pe.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,Pe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back to Jobs"]}),(0,Pe.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Job Details"}),(0,Pe.jsxs)("p",{className:"text-gray-600",children:["Job ID: ",h._id]}),(0,Pe.jsxs)("p",{className:"text-gray-600",children:["Customer Phone: ",(null===(e=h.customer)||void 0===e?void 0:e.phone)||"Not available"]})]}),h.customer_photo&&(0,Pe.jsxs)("div",{className:"bg-white rounded-lg shadow mb-6 p-6 flex flex-col items-center",children:[(0,Pe.jsx)("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Customer Photo"}),(0,Pe.jsx)("img",{src:h.customer_photo,alt:"Customer",className:"w-32 h-32 object-cover rounded-full border-4 border-gray-200"})]}),(0,Pe.jsxs)("div",{className:"bg-white rounded-lg shadow mb-6 p-6",children:[(0,Pe.jsxs)("div",{className:"flex flex-wrap gap-4",children:[(0,Pe.jsxs)("button",{onClick:async()=>{if(h)try{var e,t,n,r,i,a,o,s;const l=new Date(h.repair_job_taken_time||Date.now()),c=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],u="".concat(l.getDate(),"/").concat(c[l.getMonth()],"/").concat(l.getFullYear()),A=document.createElement("div");A.style.width="210mm",A.style.minHeight="297mm",A.style.padding="10mm",A.style.backgroundColor="#ffffff",A.style.boxSizing="border-box",A.style.position="absolute",A.style.left="-9999px",A.style.fontFamily="'Nirmala UI', 'Arial Unicode MS', 'Arial', sans-serif",A.innerHTML='\n        <div style="border: 1px solid #000; padding: 10px; height: 100%; position: relative;">\n          \n          \x3c!-- Header Section --\x3e\n          <div style="text-align: center; margin-bottom: 5px; position: relative;">\n            <div style="position: absolute; top: 0; left: 10px;">\n               <img src="'.concat($u,'" style="width: 70px; height: 70px; border-radius: 50%; object-fit: cover;" onerror="this.style.display=\'none\'" />\n            </div>\n            \n            ').concat(h.customer_photo?'<div style="position: absolute; top: 0; right: 10px;">\n               <img src="'.concat(h.customer_photo,'" style="width: 70px; height: 70px; border-radius: 50%; object-fit: cover;" />\n            </div>'):"",'\n            \n            <h1 style="font-size: 20px; font-weight: bold; margin: 0; padding-top: 5px;">\u0bb8\u0bcd\u0bb0\u0bc0 \u0bb0\u0bae\u0ba3\u0bb0\u0bcd \u0bae\u0bca\u0baa\u0bc8\u0bb2\u0bcd & \u0bb2\u0bc7\u0baa\u0bcd\u0b9f\u0bbe\u0baa\u0bcd \u0b9a\u0bb0\u0bcd\u0bb5\u0bc0\u0bb8\u0bcd \u0b9a\u0bc6\u0ba9\u0bcd\u0b9f\u0bb0\u0bcd</h1>\n            \n            <p style="font-size: 12px; margin: 4px 0;">\n              1E, \u0b95\u0b9f\u0bcd\u0b9f\u0baa\u0bca\u0bae\u0bcd\u0bae\u0ba9\u0bcd \u0ba4\u0bc6\u0bb0\u0bc1, \u0bb5\u0bb2\u0bcd\u0bb2\u0baa \u0bb5\u0bbf\u0ba8\u0bbe\u0baf\u0b95\u0bb0\u0bcd \u0b85\u0bb0\u0bc1\u0b95\u0bbf\u0bb2\u0bcd,<br/>\n              \u0ba4\u0bbf\u0bb0\u0bc1\u0bb5\u0ba3\u0bcd\u0ba3\u0bbe\u0bae\u0bb2\u0bc8 - 606601.\n            </p>\n            <p style="font-size: 13px; font-weight: bold; margin: 4px 0;">\n              Mobile : 94430 19097, 94438 11231.\n            </p>\n            <p style="font-size: 11px; margin: 5px 0;">\n              \u0b85\u0ba9\u0bc8\u0ba4\u0bcd\u0ba4\u0bc1 \u0bb5\u0bbf\u0ba4\u0bae\u0bbe\u0ba9 \u0b9a\u0bc6\u0bb2\u0bcd\u0baa\u0bcb\u0ba9\u0bcd \u0bae\u0bb1\u0bcd\u0bb1\u0bc1\u0bae\u0bcd \u0bb2\u0bc7\u0baa\u0bcd\u0b9f\u0bbe\u0baa\u0bcd \u0b9a\u0bbe\u0ba4\u0ba9\u0b99\u0bcd\u0b95\u0bb3\u0bc1\u0bae\u0bcd \u0b9a\u0bbf\u0bb1\u0ba8\u0bcd\u0ba4<br/>\n              \u0bae\u0bc1\u0bb1\u0bc8\u0baf\u0bbf\u0bb2\u0bcd \u0baa\u0bb4\u0bc1\u0ba4\u0bc1 \u0ba8\u0bc0\u0b95\u0bcd\u0b95\u0bbf \u0ba4\u0bb0\u0baa\u0bcd\u0baa\u0b9f\u0bc1\u0bae\u0bcd\n            </p>\n          </div>\n\n          \x3c!-- Timings and Bill Info --\x3e\n          <div style="display: flex; justify-content: space-between; font-size: 12px; font-weight: bold; margin-bottom: 10px;">\n            <div style="width: 40%;">\n              <div>\u0bb5\u0bc7\u0bb2\u0bc8 \u0ba8\u0bc7\u0bb0\u0bae\u0bcd</div>\n              <div>9.00 a.m. to 9.30 p.m.</div>\n              <div style="margin-top: 5px;">\u0b9a\u0bc6\u0bb5\u0bcd\u0bb5\u0bbe\u0baf\u0bcd \u0bb5\u0bbf\u0b9f\u0bc1\u0bae\u0bc1\u0bb1\u0bc8</div>\n            </div>\n            <div style="width: 40%; text-align: right;">\n              <div>\u0b89\u0ba3\u0bb5\u0bc1 \u0b87\u0b9f\u0bc8\u0bb5\u0bc7\u0bb3\u0bc8</div>\n              <div>1.00 p.m. to 2.30 p.m.</div>\n              <div style="margin-top: 5px;">\n                <span style="margin-right: 15px;">Bill No.: ').concat(h.job_card_number||h._id.slice(-4),"</span>\n                <span>Date: ").concat(u,'</span>\n              </div>\n            </div>\n          </div>\n\n          <hr style="border-top: 1px solid #000; margin: 0;" />\n\n          \x3c!-- Customer Details --\x3e\n          <div style="display: flex; justify-content: space-between; padding: 10px 0; font-size: 13px;">\n            <div style="width: 60%;">\n              <table style="width: 100%; border: none;">\n                <tr>\n                  <td style="width: 60px; font-weight: bold;">\u0baa\u0bc6\u0baf\u0bb0\u0bcd</td>\n                  <td style="font-weight: bold;">: ').concat((null===(e=h.customer)||void 0===e||null===(t=e.name)||void 0===t?void 0:t.toUpperCase())||"N/A",'</td>\n                </tr>\n                <tr>\n                  <td style="vertical-align: top; font-weight: bold;">\u0bae\u0bc1\u0b95\u0bb5\u0bb0\u0bbf</td>\n                  <td style="font-weight: bold;">: ').concat((null===(n=h.customer)||void 0===n?void 0:n.address)||"T.V.MALAI",'</td>\n                </tr>\n                <tr>\n                  <td></td>\n                  <td></td>\n                </tr>\n              </table>\n            </div>\n            <div style="width: 35%;">\n               <table style="width: 100%; border: none;">\n                <tr>\n                  <td style="width: 60px; font-weight: bold;">\u0b9a\u0bc6\u0bb2\u0bcd</td>\n                  <td style="font-weight: bold;">: ').concat((null===(r=h.customer)||void 0===r?void 0:r.phone)||"N/A",'</td>\n                </tr>\n                <tr>\n                  <td style="font-weight: bold;">\u0b87.\u0bae\u0bc6\u0baf\u0bbf\u0bb2\u0bcd</td>\n                  <td>: ').concat((null===(i=h.customer)||void 0===i?void 0:i.email)||"",'</td>\n                </tr>\n              </table>\n            </div>\n          </div>\n\n          \x3c!-- Device Table --\x3e\n          <div style="margin-bottom: 0;">\n            <table style="width: 100%; border-collapse: collapse; border: 1px solid #000; font-size: 13px;">\n              <thead>\n                <tr style="height: 40px;">\n                  <th style="border: 1px solid #000; text-align: left; padding: 5px; width: 30%;">Brand & Model</th>\n                  <th style="border: 1px solid #000; text-align: left; padding: 5px; width: 30%;">Fault</th>\n                  <th style="border: 1px solid #000; text-align: right; padding: 5px; width: 15%;">Service Charges</th>\n                  <th style="border: 1px solid #000; text-align: right; padding: 5px; width: 15%;">Parts Cost</th>\n                  <th style="border: 1px solid #000; text-align: right; padding: 5px; width: 10%;">Total</th>\n                </tr>\n              </thead>\n              <tbody>\n                <tr style="height: 50px; vertical-align: top;">\n                  <td style="border: 1px solid #000; padding: 10px; font-weight: bold;">\n                    ').concat(h.device_brand?h.device_brand+" ":"").concat(h.device_model||"N/A",'\n                  </td>\n                  <td style="border: 1px solid #000; padding: 10px; font-weight: bold;">\n                    ').concat((null===(a=h.reported_issue)||void 0===a?void 0:a.toUpperCase())||"N/A",'\n                  </td>\n                  <td style="border: 1px solid #000; padding: 10px; text-align: right; font-weight: bold;">\n                    Rs ').concat((h.service_charges||0).toFixed(2),'\n                  </td>\n                  <td style="border: 1px solid #000; padding: 10px; text-align: right; font-weight: bold;">\n                    Rs ').concat((h.parts_cost||0).toFixed(2),'\n                  </td>\n                  <td style="border: 1px solid #000; padding: 10px; text-align: right; font-weight: bold;">\n                    Rs ').concat((h.total_amount||0).toFixed(2),'\n                  </td>\n                </tr>\n              </tbody>\n            </table>\n          </div>\n\n          \x3c!-- Accessories Check --\x3e\n          <div style="border-bottom: 1px solid #000; padding: 10px 5px; font-size: 13px; font-weight: bold;">\n            <span style="margin-right: 30px;">Battery : No</span>\n            <span style="margin-right: 30px;">MMC : No</span>\n            <span>Sim : No</span>\n            <div style="margin-top: 5px;">\n              \u0baa\u0bb4\u0bc1\u0ba4\u0bc1 \u0ba8\u0bc0\u0b95\u0bcd\u0b95\u0bb5\u0bc7\u0ba3\u0bcd\u0b9f\u0bbf\u0baf \u0baa\u0bca\u0bb0\u0bc1\u0bb3\u0bcd \u0baf\u0bbe\u0bb0\u0bbe\u0bb2\u0bcd \u0b95\u0bca\u0ba3\u0bcd\u0b9f\u0bc1\u0bb5\u0bb0\u0baa\u0bcd\u0baa\u0b9f\u0bcd\u0b9f\u0ba4\u0bc1 : <span style="font-weight:normal">').concat((null===(o=h.customer)||void 0===o?void 0:o.name)||"N/A",'</span>\n            </div>\n          </div>\n\n          \x3c!-- Terms and Conditions (Tamil) --\x3e\n          <div style="padding: 10px 0; font-size: 11px; line-height: 1.4;">\n            <div style="font-weight: bold; margin-bottom: 5px;">\n              \u0b95\u0bc0\u0bb4\u0bcd\u0b95\u0ba3\u0bcd\u0b9f \u0b95\u0b9f\u0bcd\u0b9f\u0bc1\u0baa\u0bcd\u0baa\u0bbe\u0b9f\u0bc1\u0b95\u0bb3\u0bcd \u0bae\u0bb1\u0bcd\u0bb1\u0bc1\u0bae\u0bcd \u0bb5\u0bbf\u0ba4\u0bbf\u0bae\u0bc1\u0bb1\u0bc8\u0b95\u0bb3\u0bc1\u0b95\u0bcd\u0b95\u0bc1 \u0b89\u0b9f\u0bcd\u0baa\u0b9f\u0bcd\u0b9f\u0bc1 \u0ba4\u0b99\u0bcd\u0b95\u0bb3\u0bc1\u0b9f\u0bc8\u0baf \u0baa\u0bca\u0bb0\u0bc1\u0b9f\u0bcd\u0b95\u0bb3\u0bcd \u0baa\u0bb4\u0bc1\u0ba4\u0bc1 \u0baa\u0bbe\u0bb0\u0bcd\u0ba4\u0bcd\u0ba4\u0bb2\u0bc1\u0b95\u0bcd\u0b95\u0bc1 \u0b8e\u0b9f\u0bc1\u0ba4\u0bcd\u0ba4\u0bc1\u0b95\u0bcd\u0b95\u0bca\u0bb3\u0bcd\u0bb3\u0baa\u0bcd\u0baa\u0b9f\u0bc1\u0bae\u0bcd:\n            </div>\n            \n            <div style="display: flex; margin-bottom: 5px;">\n              <span style="width: 15px; flex-shrink: 0; font-weight: bold;">1.</span>\n              <span style="text-align: justify;">Job Card\u0bb2\u0bcd \u0b95\u0bc1\u0bb1\u0bbf\u0b95\u0bcd\u0b95\u0baa\u0bcd\u0baa\u0b9f\u0bbe\u0ba4 \u0b89\u0ba4\u0bbf\u0bb0\u0bbf \u0baa\u0bbe\u0b95\u0b99\u0bcd\u0b95\u0bb3\u0bc1\u0b95\u0bcd\u0b95\u0bc1 \u0b95\u0b9f\u0bc8 \u0b89\u0bb0\u0bbf\u0bae\u0bc8\u0baf\u0bbe\u0bb3\u0bb0\u0bcd \u0baa\u0bca\u0bb1\u0bc1\u0baa\u0bcd\u0baa\u0bb2\u0bcd\u0bb2</span>\n            </div>\n\n            <div style="display: flex; margin-bottom: 5px;">\n              <span style="width: 15px; flex-shrink: 0; font-weight: bold;">2.</span>\n              <span style="text-align: justify;">\u0baa\u0bb4\u0bc1\u0ba4\u0bbe\u0ba9 \u0b89\u0ba4\u0bbf\u0bb0\u0bbf \u0baa\u0bbe\u0b95\u0b99\u0bcd\u0b95\u0bb3\u0bcd (\u0baa\u0bc7\u0b9f\u0bcd\u0b9f\u0bb0\u0bbf \u0b89\u0b9f\u0bcd\u0baa\u0b9f) \u0ba4\u0bbf\u0bb0\u0bc1\u0baa\u0bcd\u0baa\u0bbf \u0b95\u0bca\u0b9f\u0bc1\u0b95\u0bcd\u0b95\u0baa\u0bcd\u0baa\u0b9f\u0bae\u0bbe\u0b9f\u0bcd\u0b9f\u0bbe\u0ba4\u0bc1</span>\n            </div>\n\n            <div style="display: flex; margin-bottom: 5px;">\n              <span style="width: 15px; flex-shrink: 0; font-weight: bold;">3.</span>\n              <span style="text-align: justify;">\u0baa\u0bb4\u0bc1\u0ba4\u0bbf\u0ba9\u0bcd \u0b95\u0b9f\u0bbf\u0ba9\u0ba4\u0bcd\u0ba4\u0bc8\u0baa\u0bcd \u0baa\u0bca\u0bb1\u0bc1\u0ba4\u0bcd\u0ba4\u0bc1\u0bae\u0bcd \u0b89\u0ba4\u0bbf\u0bb0\u0bbf\u0baa\u0bbe\u0b95\u0b99\u0bcd\u0b95\u0bb3\u0bcd \u0b95\u0bbf\u0b9f\u0bc8\u0baa\u0bcd\u0baa\u0ba4\u0bc8\u0baa\u0bcd \u0baa\u0bca\u0bb1\u0bc1\u0ba4\u0bcd\u0ba4\u0bc1\u0bae\u0bcd \u0ba4\u0bbf\u0bb0\u0bc1\u0bae\u0bcd\u0baa\u0b95\u0bcd\u0b95\u0bca\u0b9f\u0bc1\u0b95\u0bcd\u0b95\u0bc1\u0bae\u0bcd \u0ba4\u0bc7\u0ba4\u0bbf \u0bae\u0bbe\u0bb1\u0bc1\u0baa\u0b9f\u0bc1\u0bae\u0bcd.</span>\n            </div>\n\n            <div style="display: flex; margin-bottom: 5px;">\n              <span style="width: 15px; flex-shrink: 0; font-weight: bold;">4.</span>\n              <span style="text-align: justify;">\u0baa\u0bb4\u0bc1\u0ba4\u0bbf\u0ba9\u0bcd \u0b9a\u0bc6\u0bb2\u0bb5\u0bbf\u0ba9\u0b99\u0bcd\u0b95\u0bb3\u0bc8 \u0b95\u0ba3\u0b95\u0bcd\u0b95\u0bbf\u0b9f\u0bcd\u0b9f\u0bc1 \u0b9a\u0bca\u0bb2\u0bcd\u0bb5\u0ba4\u0bb1\u0bcd\u0b95\u0bc1 \u0b95\u0bc1\u0bb1\u0bc8\u0ba8\u0bcd\u0ba4\u0ba4\u0bc1 \u0b87\u0bb0\u0ba3\u0bcd\u0b9f\u0bc1 \u0ba8\u0bbe\u0b9f\u0bcd\u0b95\u0bb3\u0bcd \u0ba4\u0bb0\u0baa\u0bcd\u0baa\u0b9f\u0bb5\u0bc7\u0ba3\u0bcd\u0b9f\u0bc1\u0bae\u0bcd. \u0baa\u0bb4\u0bc1\u0ba4\u0bbf\u0bb1\u0bcd\u0b95\u0bbe\u0ba9 \u0b9a\u0bc6\u0bb2\u0bb5\u0bbf\u0ba9\u0b99\u0bcd\u0b95\u0bb3\u0bc8 \u0b95\u0ba3\u0b95\u0bcd\u0b95\u0bbf\u0b9f\u0bcd\u0b9f\u0bc1 \u0b9a\u0bca\u0ba9\u0bcd\u0ba9\u0baa\u0bbf\u0bb1\u0b95\u0bc1 \u0baa\u0bca\u0bb0\u0bc1\u0bb3\u0bbf\u0ba9\u0bcd \u0b9a\u0bca\u0ba8\u0bcd\u0ba4\u0b95\u0bcd\u0b95\u0bbe\u0bb0\u0bb0\u0bcd \u0baa\u0bca\u0bb0\u0bc1\u0bb3\u0bc8 \u0ba4\u0bbf\u0bb0\u0bc1\u0baa\u0bcd\u0baa\u0bbf \u0b8e\u0b9f\u0bc1\u0ba4\u0bcd\u0ba4\u0bc1\u0b9a\u0bcd \u0b9a\u0bc6\u0bb2\u0bcd\u0bb2 \u0ba8\u0bbf\u0ba9\u0bc8\u0ba4\u0bcd\u0ba4\u0bbe\u0bb2\u0bcd \u0b85\u0baa\u0bcd\u0baa\u0bca\u0bb0\u0bc1\u0bb3\u0bc8 \u0b86\u0baf\u0bcd\u0bb5\u0bc1 \u0b9a\u0bc6\u0baf\u0bcd\u0ba4\u0ba4\u0bb1\u0bcd\u0b95\u0bbe\u0ba9 \u0b95\u0b9f\u0bcd\u0b9f\u0ba3\u0ba4\u0bcd\u0ba4\u0bc8 \u0b9a\u0bc6\u0bb2\u0bc1\u0ba4\u0bcd\u0ba4 \u0bb5\u0bc7\u0ba3\u0bcd\u0b9f\u0bc1\u0bae\u0bcd (\u0bb0\u0bc2 100. \u0bb0\u0bc2 50. \u0bb0\u0bc2 25. )</span>\n            </div>\n\n            <div style="display: flex; margin-bottom: 5px;">\n              <span style="width: 15px; flex-shrink: 0; font-weight: bold;">5.</span>\n              <span style="text-align: justify;">\u0baa\u0bb4\u0bc1\u0ba4\u0bc1 \u0baa\u0bbe\u0bb0\u0bcd\u0b95\u0bcd\u0b95\u0bc1\u0bae\u0bcd \u0baa\u0bcb\u0ba4\u0bc1 \u0b8f\u0bb1\u0bcd\u0b95\u0ba9\u0bb5\u0bc7 \u0baa\u0bb4\u0bc1\u0ba4\u0bbe\u0ba9 \u0baa\u0bbe\u0b95\u0b99\u0bcd\u0b95\u0bb3\u0bcd \u0bae\u0bc7\u0bb2\u0bc1\u0bae\u0bcd \u0baa\u0bb4\u0bc1\u0ba4\u0bc1 \u0b85\u0b9f\u0bc8\u0ba8\u0bcd\u0ba4\u0bbe\u0bb2\u0bcd \u0b95\u0b9f\u0bc8 \u0b89\u0bb0\u0bbf\u0bae\u0bc8\u0baf\u0bbe\u0bb3\u0bb0\u0bcd\u0b95\u0bb3\u0bcd \u0baa\u0bca\u0bb1\u0bc1\u0baa\u0bcd\u0baa\u0bb2\u0bcd\u0bb2 \u0baa\u0bb4\u0bc1\u0ba4\u0bc1 \u0baa\u0bbe\u0bb0\u0bcd\u0ba4\u0bcd\u0ba4\u0bb2\u0bbf\u0ba9\u0bcd \u0baa\u0bcb\u0ba4\u0bc1 \u0ba4\u0bc7\u0bb5\u0bc8\u0baa\u0bcd\u0baa\u0b9f\u0bcd\u0b9f\u0bbe\u0bb2\u0bcd \u0b9a\u0bae\u0bae\u0bbe\u0ba9 \u0b89\u0ba4\u0bbf\u0bb0\u0bbf \u0baa\u0bbe\u0b95\u0b99\u0bcd\u0b95\u0bb3\u0bcd \u0b89\u0baa\u0baf\u0bcb\u0b95\u0bbf\u0baa\u0bcd\u0baa\u0ba4\u0bc1 \u0b85\u0bb2\u0bcd\u0bb2\u0ba4\u0bc1 \u0b9a\u0bb0\u0bcd\u0b95\u0bcd\u0baf\u0bc2\u0b9f\u0bcd \u0bae\u0bbe\u0bb1\u0bcd\u0bb1\u0bae\u0bcd \u0b9a\u0bc6\u0baf\u0bcd\u0bb5\u0ba4\u0bc1 \u0baa\u0bcb\u0ba9\u0bcd\u0bb1\u0bb5\u0bc8 \u0bae\u0bc7\u0bb1\u0bcd\u0b95\u0bca\u0bb3\u0bcd\u0bb3\u0baa\u0bcd\u0baa\u0b9f\u0bc1\u0bae\u0bcd</span>\n            </div>\n\n            <div style="display: flex; margin-bottom: 5px;">\n              <span style="width: 15px; flex-shrink: 0; font-weight: bold;">6.</span>\n              <span style="text-align: justify;">\u0baa\u0bb4\u0bc1\u0ba4\u0bbf\u0ba9\u0bcd \u0b9a\u0bc6\u0bb2\u0bb5\u0bbf\u0ba9\u0b99\u0bcd\u0b95\u0bb3\u0bc8 \u0b95\u0ba3\u0b95\u0bcd\u0b95\u0bbf\u0b9f\u0bcd\u0b9f\u0bc1 \u0b9a\u0bca\u0bb2\u0bcd\u0bb5\u0ba4\u0bb1\u0bcd\u0b95\u0bc1 \u0b95\u0bc1\u0bb1\u0bc8\u0ba8\u0bcd\u0ba4\u0ba4\u0bc1 \u0b87\u0bb0\u0ba3\u0bcd\u0b9f\u0bc1 \u0ba8\u0bbe\u0b9f\u0bcd\u0b95\u0bb3\u0bcd \u0ba4\u0bb0\u0baa\u0bcd\u0baa\u0b9f\u0bb5\u0bc7\u0ba3\u0bcd\u0b9f\u0bc1\u0bae\u0bcd. \u0baa\u0bb4\u0bc1\u0ba4\u0bbf\u0bb1\u0bcd\u0b95\u0bbe\u0ba9 \u0b9a\u0bc6\u0bb2\u0bb5\u0bbf\u0ba9\u0b99\u0bcd\u0b95\u0bb3\u0bc8 \u0b95\u0ba3\u0b95\u0bcd\u0b95\u0bbf\u0b9f\u0bcd\u0b9f\u0bc1 \u0b9a\u0bca\u0ba9\u0bcd\u0ba9\u0baa\u0bbf\u0bb1\u0b95\u0bc1 \u0baa\u0bca\u0bb0\u0bc1\u0bb3\u0bbf\u0ba9\u0bcd \u0b9a\u0bca\u0ba8\u0bcd\u0ba4\u0b95\u0bcd\u0b95\u0bbe\u0bb0\u0bb0\u0bcd \u0baa\u0bca\u0bb0\u0bc1\u0bb3\u0bc8 \u0ba4\u0bbf\u0bb0\u0bc1\u0baa\u0bcd\u0baa\u0bbf \u0b8e\u0b9f\u0bc1\u0ba4\u0bcd\u0ba4\u0bc1\u0b9a\u0bcd \u0b9a\u0bc6\u0bb2\u0bcd\u0bb2 \u0ba8\u0bbf\u0ba9\u0bc8\u0ba4\u0bcd\u0ba4\u0bbe\u0bb2\u0bcd \u0b85\u0baa\u0bcd\u0baa\u0bca\u0bb0\u0bc1\u0bb3\u0bc8 \u0b86\u0baf\u0bcd\u0bb5\u0bc1 \u0b9a\u0bc6\u0baf\u0bcd\u0ba4\u0ba4\u0bb1\u0bcd\u0b95\u0bbe\u0ba9 \u0b95\u0b9f\u0bcd\u0b9f\u0ba3\u0ba4\u0bcd\u0ba4\u0bc8 \u0b9a\u0bc6\u0bb2\u0bc1\u0ba4\u0bcd\u0ba4 \u0bb5\u0bc7\u0ba3\u0bcd\u0b9f\u0bc1\u0bae\u0bcd (\u0bb0\u0bc2 100. \u0bb0\u0bc2 50. \u0bb0\u0bc2 25. )</span>\n            </div>\n\n            <div style="display: flex; margin-bottom: 5px;">\n              <span style="width: 15px; flex-shrink: 0; font-weight: bold;">7.</span>\n              <span style="text-align: justify;">\u0baa\u0bb4\u0bc1\u0ba4\u0bc1\u0baa\u0bbe\u0bb0\u0bcd\u0ba4\u0bcd\u0ba4\u0bb2\u0bc1\u0b95\u0bcd\u0b95\u0bc1 \u0ba4\u0bb0\u0baa\u0bcd\u0baa\u0b9f\u0bcd\u0b9f \u0baa\u0bca\u0bb0\u0bc1\u0b9f\u0bcd\u0b95\u0bb3\u0bcd \u0ba4\u0bca\u0b9f\u0bb0\u0bcd\u0baa\u0bbe\u0ba9 \u0ba4\u0bb8\u0bcd\u0ba4\u0bbe\u0bb5\u0bc7\u0b9c\u0bbf\u0b95\u0bb3\u0bbf\u0bb2\u0bcd \u0b8f\u0ba4\u0bbe\u0bb5\u0ba4\u0bc1 \u0ba4\u0bb5\u0bb1\u0bc1 \u0b87\u0bb0\u0bc1\u0ba8\u0bcd\u0ba4\u0bbe\u0bb2\u0bcd \u0b85\u0ba4\u0bb1\u0bcd\u0b95\u0bc1 \u0b95\u0b9f\u0bc8 \u0b89\u0bb0\u0bbf\u0bae\u0bc8\u0baf\u0bbe\u0bb3\u0bb0\u0bcd \u0baa\u0bca\u0bb1\u0bc1\u0baa\u0bcd\u0baa\u0bb2\u0bcd\u0bb2. \u0b85\u0ba4\u0ba9\u0bcd \u0ba4\u0bca\u0b9f\u0bb0\u0bcd\u0baa\u0bbe\u0b95 \u0b8f\u0ba4\u0bc7\u0ba9\u0bc1\u0bae\u0bcd \u0baa\u0bbf\u0bb0\u0b9a\u0bcd\u0b9a\u0ba9\u0bc8\u0b95\u0bb3\u0bcd \u0baf\u0bbe\u0bb0\u0bbe\u0bb2\u0bbe\u0bb5\u0ba4\u0bc1 \u0b8f\u0bb1\u0bcd\u0baa\u0b9f\u0bcd\u0b9f\u0bbe\u0bb2\u0bcd \u0b85\u0ba4\u0bb1\u0bcd\u0b95\u0bc1 \u0baa\u0bca\u0bb0\u0bc1\u0bb3\u0bbf\u0ba9\u0bcd \u0b9a\u0bca\u0ba8\u0bcd\u0ba4\u0b95\u0bcd\u0b95\u0bbe\u0bb0\u0bb0\u0bcd\u0ba4\u0bbe\u0ba9\u0bcd \u0baa\u0bca\u0bb1\u0bc1\u0baa\u0bcd\u0baa\u0bc1 \u0b8f\u0bb1\u0bcd\u0b95 \u0bb5\u0bc7\u0ba3\u0bcd\u0b9f\u0bc1\u0bae\u0bcd.</span>\n            </div>\n\n            <div style="display: flex; margin-bottom: 5px;">\n              <span style="width: 15px; flex-shrink: 0; font-weight: bold;">8.</span>\n              <span style="text-align: justify;">\u0b85\u0bb1\u0bbf\u0bb5\u0bbf\u0baa\u0bcd\u0baa\u0bc1 \u0ba4\u0bc7\u0ba4\u0bbf\u0baf\u0bbf\u0bb2\u0bcd \u0b87\u0bb0\u0bc1\u0ba8\u0bcd\u0ba4\u0bc1 \u0b95\u0bc1\u0bb1\u0bc8\u0ba8\u0bcd\u0ba4\u0ba4\u0bc1 \u0b87\u0bb0\u0ba3\u0bcd\u0b9f\u0bc1 \u0bb5\u0bbe\u0bb0\u0b99\u0bcd\u0b95\u0bb3\u0bc1\u0b95\u0bcd\u0b95\u0bc1\u0bb3\u0bcd \u0bb5\u0bbe\u0b9f\u0bbf\u0b95\u0bcd\u0b95\u0bc8\u0baf\u0bbe\u0bb3\u0bb0\u0bcd \u0ba4\u0bae\u0ba4\u0bc1 \u0baa\u0bca\u0bb0\u0bc1\u0bb3\u0bc8 \u0baa\u0bc6\u0bb1\u0bcd\u0bb1\u0bc1\u0b95\u0bcd \u0b95\u0bca\u0bb3\u0bcd\u0bb3\u0bbe\u0bb5\u0bbf\u0b9f\u0bcd\u0b9f\u0bbe\u0bb2\u0bcd \u0b8e\u0ba8\u0bcd\u0ba4\u0bb5\u0bbf\u0ba4\u0bae\u0bbe\u0ba9 \u0b89\u0bb0\u0bbf\u0bae\u0bc8 \u0b95\u0bca\u0ba3\u0bcd\u0b9f\u0bbe\u0b9f\u0bc1\u0bb5\u0ba4\u0bb1\u0bcd\u0b95\u0bc1\u0bae\u0bcd \u0b95\u0b9f\u0bc8 \u0b89\u0bb0\u0bbf\u0bae\u0bc8\u0baf\u0bbe\u0bb3\u0bb0\u0bcd \u0baa\u0bca\u0bb1\u0bc1\u0baa\u0bcd\u0baa\u0bb2\u0bcd\u0bb2.</span>\n            </div>\n\n            <div style="display: flex; margin-bottom: 5px;">\n              <span style="width: 15px; flex-shrink: 0; font-weight: bold;">9.</span>\n              <span style="text-align: justify;">\u0ba4\u0ba3\u0bcd\u0ba3\u0bc0\u0bb0\u0bbf\u0bb2\u0bcd \u0bb5\u0bbf\u0bb4\u0bc1\u0ba8\u0bcd\u0ba4 \u0b85\u0ba9\u0bc8\u0ba4\u0bcd\u0ba4\u0bc1\u0bb5\u0bbf\u0ba4\u0bae\u0bbe\u0ba9 \u0b9a\u0bc6\u0bb2\u0bcd\u0baa\u0bcb\u0ba9\u0bcd\u0b95\u0bb3\u0bc1\u0b95\u0bcd\u0b95\u0bc1\u0bae\u0bcd \u0b95\u0bc1\u0bb1\u0bc8\u0ba8\u0bcd\u0ba4\u0baa\u0b9f\u0bcd\u0b9a (\u0b85) \u0baa\u0bb4\u0bc1\u0ba4\u0bc1 \u0b95\u0b9f\u0bcd\u0b9f\u0ba3\u0bae\u0bbe\u0b95 \u0bb0\u0bc2 150 \u0b95\u0ba3\u0bcd\u0b9f\u0bbf\u0baa\u0bcd\u0baa\u0bbe\u0b95 \u0bb5\u0b9a\u0bc2\u0bb2\u0bbf\u0b95\u0bcd\u0b95\u0baa\u0bcd\u0baa\u0b9f\u0bc1\u0bae\u0bcd.</span>\n            </div>\n          </div>\n\n          \x3c!-- Footer Totals --\x3e\n          <div style="border-top: 1px solid #000; border-bottom: 1px solid #000; padding: 10px 5px; font-size: 13px; font-weight: bold; display: flex; justify-content: space-between;">\n            <div>Total Amount: Rs ').concat((h.total_amount||0).toFixed(2),"</div>\n            <div>Advance: Rs ").concat((h.advance_payment||0).toFixed(2),"</div>\n            <div>Net Amount: Rs ").concat(((h.total_amount||0)-(h.advance_payment||0)).toFixed(2),'</div>\n          </div>\n\n          \x3c!-- Declaration & Signatures --\x3e\n          <div style="padding: 20px 5px; font-size: 13px; margin-top: 10px;">\n             <div style="font-weight: bold; margin-bottom: 30px;">\n               \u0ba8\u0bbe\u0ba9\u0bcd \u0b8e\u0ba9\u0ba4\u0bc1 \u0baa\u0bca\u0bb0\u0bc1\u0bb3\u0bc8 Job Card \u0bb2\u0bcd \u0b95\u0bc2\u0bb1\u0baa\u0bcd\u0baa\u0b9f\u0bcd\u0b9f\u0bc1\u0bb3\u0bcd\u0bb3\u0ba4\u0bc1 \u0baa\u0bcb\u0bb2\u0bcd \u0ba8\u0bb2\u0bcd\u0bb2 \u0bae\u0bc1\u0bb1\u0bc8\u0baf\u0bbf\u0bb2\u0bcd \u0baa\u0bc6\u0bb1\u0bcd\u0bb1\u0bc1\u0b95\u0bcd\u0b95\u0bca\u0ba3\u0bcd\u0b9f\u0bc7\u0ba9\u0bcd\n             </div>\n             \n             <div style="display: flex; justify-content: flex-end;">\n               <div style="text-align: center;">\n                 <div style="margin-bottom: 5px;">\u0b95\u0bc8\u0baf\u0bca\u0baa\u0bcd\u0baa\u0bae\u0bcd</div>\n                 <div>\u0baa\u0bca\u0bb0\u0bc1\u0bb3\u0bbf\u0ba9\u0bcd \u0b89\u0bb0\u0bbf\u0bae\u0bc8\u0baf\u0bbe\u0bb3\u0bb0\u0bcd \u0b85\u0bb2\u0bcd\u0bb2\u0ba4\u0bc1 \u0bae\u0bc1\u0b95\u0bb5\u0bb0\u0bcd</div>\n               </div>\n             </div>\n          </div>\n\n          <div style="text-align: center; font-size: 11px; font-weight: bold; margin-top: 10px;">\n            *Computer Generated Receipt*\n          </div>\n\n        </div>\n      '),document.body.appendChild(A);const d=(await kl()(A,{scale:2,useCORS:!0,logging:!1,backgroundColor:"#ffffff"})).toDataURL("image/png"),f=new jo("p","mm","a4"),p=f.internal.pageSize.getWidth(),g=f.internal.pageSize.getHeight();f.addImage(d,"PNG",0,0,p,g);const m="Bill_".concat(h.job_card_number||h._id,"_").concat((null===(s=h.customer)||void 0===s?void 0:s.name)||"customer",".pdf");f.save(m),document.body.removeChild(A)}catch(l){console.error("Error generating PDF:",l),v("Failed to generate PDF")}},className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 flex items-center",children:[(0,Pe.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,Pe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Download PDF"]}),h.device_video&&(0,Pe.jsxs)("button",{onClick:()=>x(!w),className:"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 flex items-center",children:[(0,Pe.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,Pe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"})}),w?"Hide Device Video":"View Device Video"]}),"Done"===h.status&&(0,Pe.jsx)("button",{onClick:async()=>{if(window.confirm("Resend WhatsApp completion notification to customer?"))try{O(!0);await T()?b("WhatsApp notification resent successfully!"):v("Failed to resend WhatsApp notification"),setTimeout(()=>{b(""),v("")},5e3)}catch(e){console.error(e),v("Error resending WhatsApp notification")}finally{O(!1)}},disabled:U||!(null!==(t=h.customer)&&void 0!==t&&t.phone),className:"px-4 py-2 text-white rounded flex items-center ".concat(U?"bg-gray-400":"bg-purple-600 hover:bg-purple-700"," ").concat(null!==(n=h.customer)&&void 0!==n&&n.phone?"":"opacity-50 cursor-not-allowed"),children:U?(0,Pe.jsxs)(Pe.Fragment,{children:[(0,Pe.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,Pe.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,Pe.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Sending..."]}):(0,Pe.jsxs)(Pe.Fragment,{children:[(0,Pe.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,Pe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),"Resend WhatsApp"]})}),"Done"!==h.status&&"Picked Up"!==h.status&&(0,Pe.jsx)("button",{onClick:async()=>{if(window.confirm("Are you sure you want to mark this job as completed? This will send a WhatsApp notification to the customer.")){const e=(h.final_customer_price||h.total_amount||0)-(h.advance_payment||0);if(e>0){if(!window.confirm("Balance amount of Rs ".concat(e.toFixed(2)," needs to be collected.\n\n")+"Have you collected this amount?\n\n\u2022 Click OK if you have collected\n\u2022 Click Cancel if not collected yet")){if(!window.confirm("Balance not collected. Do you still want to mark the job as completed?\n\nThe customer will be notified that their device is ready for pickup.\n\nClick OK to continue or Cancel to go back."))return}}M()}},disabled:B||U,className:"px-4 py-2 text-white rounded flex items-center ".concat(B||U?"bg-gray-400":"bg-green-600 hover:bg-green-700"),children:B||U?(0,Pe.jsxs)(Pe.Fragment,{children:[(0,Pe.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,Pe.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,Pe.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Processing..."]}):(0,Pe.jsxs)(Pe.Fragment,{children:[(0,Pe.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,Pe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),"Mark as Completed"]})})]}),w&&h.device_video&&(0,Pe.jsxs)("div",{className:"mt-6",children:[(0,Pe.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Device Video"}),(0,Pe.jsx)("video",{ref:P,src:h.device_video,controls:!0,className:"w-full max-w-2xl rounded border"})]})]}),(0,Pe.jsxs)("div",{className:"bg-white rounded-lg shadow mb-8",children:[(0,Pe.jsx)("div",{className:"border-b border-gray-200 p-6",children:(0,Pe.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Pe.jsx)("h2",{className:"text-xl font-semibold text-gray-800",children:"Job Information"}),(0,Pe.jsx)("span",{className:"px-3 py-1 inline-flex text-sm leading-5 font-semibold rounded-full ".concat((e=>{switch(e){case"Intake":return"bg-gray-200 text-gray-800";case"In Progress":return"bg-blue-100 text-blue-800";case"Done":return"bg-green-100 text-green-800";case"Picked Up":return"bg-purple-100 text-purple-800";default:return"bg-yellow-100 text-yellow-800"}})(h.status)),children:h.status})]})}),(0,Pe.jsx)("div",{className:"p-6",children:(0,Pe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Pe.jsxs)("div",{children:[(0,Pe.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Customer Information"}),(0,Pe.jsxs)("div",{className:"space-y-3",children:[(0,Pe.jsxs)("div",{children:[(0,Pe.jsx)("p",{className:"text-sm text-gray-500",children:"Name"}),(0,Pe.jsx)("p",{className:"font-medium",children:(null===(r=h.customer)||void 0===r?void 0:r.name)||"N/A"})]}),(0,Pe.jsxs)("div",{children:[(0,Pe.jsx)("p",{className:"text-sm text-gray-500",children:"Phone"}),(0,Pe.jsx)("p",{className:"font-medium",children:(null===(a=h.customer)||void 0===a?void 0:a.phone)||"N/A"})]}),(0,Pe.jsxs)("div",{children:[(0,Pe.jsx)("p",{className:"text-sm text-gray-500",children:"Email"}),(0,Pe.jsx)("p",{className:"font-medium",children:(null===(o=h.customer)||void 0===o?void 0:o.email)||"N/A"})]}),(0,Pe.jsxs)("div",{children:[(0,Pe.jsx)("p",{className:"text-sm text-gray-500",children:"Address"}),(0,Pe.jsx)("p",{className:"font-medium",children:(null===(s=h.customer)||void 0===s?void 0:s.address)||"N/A"})]})]})]}),(0,Pe.jsxs)("div",{children:[(0,Pe.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Device Information"}),(0,Pe.jsxs)("div",{className:"space-y-3",children:[(0,Pe.jsxs)("div",{children:[(0,Pe.jsx)("p",{className:"text-sm text-gray-500",children:"Brand"}),(0,Pe.jsx)("p",{className:"font-medium",children:h.device_brand||"N/A"})]}),(0,Pe.jsxs)("div",{children:[(0,Pe.jsx)("p",{className:"text-sm text-gray-500",children:"Model"}),(0,Pe.jsx)("p",{className:"font-medium",children:h.device_model||"N/A"})]}),(0,Pe.jsxs)("div",{children:[(0,Pe.jsx)("p",{className:"text-sm text-gray-500",children:"IMEI Number"}),(0,Pe.jsx)("p",{className:"font-medium",children:h.imei_number||"N/A"})]}),(0,Pe.jsxs)("div",{children:[(0,Pe.jsx)("p",{className:"text-sm text-gray-500",children:"Reported Issue"}),(0,Pe.jsx)("p",{className:"font-medium",children:h.reported_issue||"N/A"})]})]})]}),(0,Pe.jsxs)("div",{children:[(0,Pe.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Service Details"}),(0,Pe.jsxs)("div",{className:"space-y-3",children:[(0,Pe.jsxs)("div",{children:[(0,Pe.jsx)("p",{className:"text-sm text-gray-500",children:"Repair Type"}),(0,Pe.jsx)("p",{className:"font-medium capitalize",children:h.repair_type||"N/A"})]}),(0,Pe.jsxs)("div",{children:[(0,Pe.jsx)("p",{className:"text-sm text-gray-500",children:"Urgency Level"}),(0,Pe.jsx)("p",{className:"font-medium capitalize",children:h.urgency_level||"N/A"})]}),(0,Pe.jsxs)("div",{children:[(0,Pe.jsx)("p",{className:"text-sm text-gray-500",children:"Estimated Delivery"}),(0,Pe.jsx)("p",{className:"font-medium",children:h.estimated_delivery_date?new Date(h.estimated_delivery_date).toLocaleDateString():"N/A"})]}),(0,Pe.jsxs)("div",{children:[(0,Pe.jsx)("p",{className:"text-sm text-gray-500",children:"Job Card Number"}),(0,Pe.jsx)("p",{className:"font-medium",children:h.job_card_number||"N/A"})]})]})]}),(0,Pe.jsxs)("div",{children:[(0,Pe.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Financials"}),(0,Pe.jsxs)("div",{className:"space-y-3",children:[(0,Pe.jsxs)("div",{children:[(0,Pe.jsx)("p",{className:"text-sm text-gray-500",children:"Service Charges"}),(0,Pe.jsxs)("p",{className:"font-medium",children:["Rs ",(null===(l=h.service_charges)||void 0===l?void 0:l.toFixed(2))||"0.00"]})]}),(0,Pe.jsxs)("div",{children:[(0,Pe.jsx)("p",{className:"text-sm text-gray-500",children:"Parts Cost"}),(0,Pe.jsxs)("p",{className:"font-medium",children:["Rs ",(null===(c=h.parts_cost)||void 0===c?void 0:c.toFixed(2))||"0.00"]})]}),(0,Pe.jsxs)("div",{children:[(0,Pe.jsx)("p",{className:"text-sm text-gray-500",children:"Advance Payment"}),(0,Pe.jsxs)("p",{className:"font-medium",children:["Rs ",(null===(u=h.advance_payment)||void 0===u?void 0:u.toFixed(2))||"0.00"]})]}),(0,Pe.jsxs)("div",{children:[(0,Pe.jsx)("p",{className:"text-sm text-gray-500",children:"Total Amount"}),(0,Pe.jsxs)("p",{className:"font-medium",children:["Rs ",(null===(A=h.total_amount)||void 0===A?void 0:A.toFixed(2))||"0.00"]})]}),(0,Pe.jsxs)("div",{children:[(0,Pe.jsx)("p",{className:"text-sm text-gray-500",children:"Balance Amount"}),(0,Pe.jsxs)("p",{className:"font-medium text-blue-600",children:["Rs ",((h.total_amount||0)-(h.advance_payment||0)).toFixed(2)]})]})]})]})]})})]}),(0,Pe.jsxs)("div",{className:"bg-white rounded-lg shadow mb-8",children:[(0,Pe.jsx)("div",{className:"border-b border-gray-200 p-6",children:(0,Pe.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Pe.jsx)("h2",{className:"text-xl font-semibold text-gray-800",children:"Parts Used"}),(0,Pe.jsxs)("button",{onClick:()=>E(!0),className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 flex items-center",children:[(0,Pe.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,Pe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Add Part"]})]})}),h.parts_used&&h.parts_used.length>0?(0,Pe.jsxs)("div",{className:"overflow-x-auto",children:[(0,Pe.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Pe.jsx)("thead",{className:"bg-gray-50",children:(0,Pe.jsxs)("tr",{children:[(0,Pe.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Part Name"}),(0,Pe.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"SKU"}),(0,Pe.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Quantity"}),(0,Pe.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Price Type"}),(0,Pe.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Unit Cost"}),(0,Pe.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Cost"}),(0,Pe.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,Pe.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:h.parts_used.map((e,t)=>{const n=e.part;let r="N/A",i="N/A",a=0;if(n&&"object"===typeof n&&(n.name&&(r=n.name),n.sku&&(i=n.sku),void 0!==n.cost_price&&(a=n.cost_price)),N&&n&&n._id){const e=N.find(e=>e._id===n._id);e&&(r=e.name||r,i=e.sku||i,a=void 0!==e.cost_price?e.cost_price:a)}const o=void 0!==I[t]?I[t]:a,s=e.quantity||0,l=o*s;return(0,Pe.jsxs)("tr",{children:[(0,Pe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:r}),(0,Pe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:i}),(0,Pe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:s}),(0,Pe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.price_type||"N/A"}),(0,Pe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:(0,Pe.jsx)("input",{type:"number",min:"0",step:"0.01",value:o,onChange:e=>((e,t)=>{j(n=>Me(Me({},n),{},{[e]:parseFloat(t)||0}))})(t,e.target.value),className:"w-24 px-2 py-1 border border-gray-300 rounded text-right"})}),(0,Pe.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:["Rs ",l.toFixed(2)]}),(0,Pe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:(0,Pe.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to remove this part?"))try{C(!0);const t=(h.parts_used||[]).filter((t,n)=>n!==e),n=await Ju.put("/jobs/".concat(d,"/update"),{parts_used:t});n.data.success&&(f(n.data.job),b("Part removed successfully!"),setTimeout(()=>b(""),5e3))}catch(t){console.error(t),v("Failed to remove part from job")}finally{C(!1)}})(t),className:"text-red-600 hover:text-red-900",children:"Remove"})})]},t)})})]}),(0,Pe.jsx)("div",{className:"p-6 border-t border-gray-200",children:(0,Pe.jsx)("div",{className:"flex justify-end",children:(0,Pe.jsxs)("div",{className:"w-64",children:[(0,Pe.jsxs)("div",{className:"flex justify-between py-2",children:[(0,Pe.jsx)("span",{className:"font-medium",children:"Parts Cost:"}),(0,Pe.jsxs)("span",{children:["Rs ",Q().toFixed(2)]})]}),(0,Pe.jsxs)("div",{className:"flex justify-between py-2",children:[(0,Pe.jsx)("span",{className:"font-medium",children:"Service Charges:"}),(0,Pe.jsxs)("span",{children:["Rs ",(h.service_charges||0).toFixed(2)]})]}),(0,Pe.jsxs)("div",{className:"flex justify-between py-2 border-t border-gray-300",children:[(0,Pe.jsx)("span",{className:"font-bold",children:"Total Cost:"}),(0,Pe.jsxs)("span",{className:"font-bold",children:["Rs ",(Q()+(h.service_charges||0)).toFixed(2)]})]}),(0,Pe.jsxs)("div",{className:"flex justify-between py-2",children:[(0,Pe.jsx)("span",{className:"font-medium",children:"Final Price:"}),(0,Pe.jsxs)("span",{children:["Rs ",(h.final_customer_price||h.total_amount||0).toFixed(2)]})]}),Object.keys(I).length>0&&(0,Pe.jsx)("div",{className:"flex justify-end py-2",children:(0,Pe.jsx)("button",{onClick:async()=>{try{C(!0);const e=h.parts_used.map((e,t)=>void 0!==I[t]?Me(Me({},e),{},{edited_cost:I[t]}):e),t=await Ju.put("/jobs/".concat(d,"/update"),{parts_used:e});t.data.success&&(f(t.data.job),j({}),b("Part costs updated successfully!"),setTimeout(()=>b(""),5e3))}catch(e){console.error(e),v("Failed to update part costs")}finally{C(!1)}},disabled:B,className:"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 ".concat(B?"opacity-50 cursor-not-allowed":""),children:B?"Saving...":"Save Cost Changes"})}),(0,Pe.jsxs)("div",{className:"flex justify-between py-2 border-t border-gray-300 bg-green-50 p-2 rounded",children:[(0,Pe.jsx)("span",{className:"font-bold",children:"Revenue:"}),(0,Pe.jsxs)("span",{className:"font-bold text-green-600",children:["Rs ",Math.max(0,(h.final_customer_price||h.total_amount||0)-Q()-(h.service_charges||0)).toFixed(2)]})]})]})})})]}):(0,Pe.jsx)("div",{className:"p-6 text-center text-gray-500",children:'No parts used for this job. Click "Add Part" to add parts.'})]}),(0,Pe.jsxs)("div",{className:"bg-white rounded-lg shadow",children:[(0,Pe.jsx)("div",{className:"border-b border-gray-200 p-6",children:(0,Pe.jsx)("h2",{className:"text-xl font-semibold text-gray-800",children:"Service Notes"})}),(0,Pe.jsx)("div",{className:"p-6",children:(0,Pe.jsx)("p",{className:"text-gray-700",children:h.service_notes||"No service notes available."})})]}),_&&(0,Pe.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Pe.jsxs)("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md",children:[(0,Pe.jsx)("div",{className:"border-b border-gray-200 p-6",children:(0,Pe.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Add Part to Job"})}),(0,Pe.jsx)("div",{className:"p-6",children:(0,Pe.jsxs)("div",{className:"space-y-4",children:[(0,Pe.jsxs)("div",{children:[(0,Pe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Select Part"}),(0,Pe.jsxs)("select",{value:S.part,onChange:e=>F(Me(Me({},S),{},{part:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:[(0,Pe.jsx)("option",{value:"",children:"Select a part"}),N.map(e=>{var t;return(0,Pe.jsxs)("option",{value:e._id,children:[e.name," (SKU: ",e.sku,") - Rs ",(null===(t=e.cost_price)||void 0===t?void 0:t.toFixed(2))||"0.00"]},e._id)})]})]}),(0,Pe.jsxs)("div",{children:[(0,Pe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Quantity"}),(0,Pe.jsx)("input",{type:"number",min:"1",value:S.quantity,onChange:e=>F(Me(Me({},S),{},{quantity:parseInt(e.target.value)||1})),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),(0,Pe.jsxs)("div",{children:[(0,Pe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Price Type"}),(0,Pe.jsxs)("select",{value:S.price_type,onChange:e=>F(Me(Me({},S),{},{price_type:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:[(0,Pe.jsx)("option",{value:"Internal",children:"Internal"}),(0,Pe.jsx)("option",{value:"Outsourced",children:"Outsourced"})]})]})]})}),(0,Pe.jsxs)("div",{className:"bg-gray-50 px-6 py-3 sm:flex sm:flex-row-reverse",children:[(0,Pe.jsx)("button",{type:"button",onClick:async()=>{if(!S.part||S.quantity<=0)v("Please select a part and enter a valid quantity");else try{C(!0);const e=h.parts_used||[],t=e.findIndex(e=>e.part._id===S.part);let n;if(t>=0)n=[...e],n[t].quantity+=parseInt(S.quantity);else{const t=N.find(e=>e._id===S.part);n=[...e,{part:t._id,quantity:parseInt(S.quantity),price_type:S.price_type}]}const r=await Ju.put("/jobs/".concat(d,"/update"),{parts_used:n});r.data.success&&(f(r.data.job),b("Part added successfully!"),E(!1),F({part:"",quantity:1,price_type:"Internal"}),setTimeout(()=>b(""),5e3))}catch(e){console.error(e),v("Failed to add part to job")}finally{C(!1)}},disabled:B,className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 text-base font-medium text-white ".concat(B?"bg-gray-400":"bg-blue-600 hover:bg-blue-700"," focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:ml-3 sm:w-auto sm:text-sm"),children:B?"Adding...":"Add Part"}),(0,Pe.jsx)("button",{type:"button",onClick:()=>E(!1),className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm",children:"Cancel"})]})]})})]}):(0,Pe.jsx)("div",{className:"p-8 bg-gray-100 min-h-screen ml-64",children:(0,Pe.jsx)("div",{className:"bg-yellow-100 border border-yellow-400 text-yellow-700 px-4 py-3 rounded",children:"Job not found"})})};function sA(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=sA(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function lA(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=sA(e))&&(r&&(r+=" "),r+=t);return r}var cA=n(6135),uA=n.n(cA),AA=n(4879),dA=n.n(AA),hA=e=>0===e?0:e>0?1:-1,fA=e=>"number"==typeof e&&e!=+e,pA=e=>"string"===typeof e&&e.indexOf("%")===e.length-1,gA=e=>("number"===typeof e||e instanceof Number)&&!fA(e),mA=e=>gA(e)||"string"===typeof e,vA=0,yA=e=>{var t=++vA;return"".concat(e||"").concat(t)},bA=function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!gA(e)&&"string"!==typeof e)return r;if(pA(e)){if(null==t)return r;var a=e.indexOf("%");n=t*parseFloat(e.slice(0,a))/100}else n=+e;return fA(n)&&(n=r),i&&null!=t&&n>t&&(n=t),n},wA=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++){if(n[e[r]])return!0;n[e[r]]=!0}return!1};function xA(e,t,n){return gA(e)&&gA(t)?e+n*(t-e):t}var BA=e=>null===e||"undefined"===typeof e,CA=e=>BA(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function NA(e){return null!=e}function kA(){}var _A=function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if("undefined"!==typeof console&&console.warn&&(void 0===t&&console.warn("LogUtils requires an error message argument"),!e))if(void 0===t)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var a=0;console.warn(t.replace(/%s/g,()=>r[a++]))}},EA=(e,t,n)=>{var{width:r="100%",height:i="100%",aspect:a,maxHeight:o}=n,s=pA(r)?e:Number(r),l=pA(i)?t:Number(i);return a&&a>0&&(s?l=s/a:l&&(s=l*a),o&&null!=l&&l>o&&(l=o)),{calculatedWidth:s,calculatedHeight:l}},SA={width:0,height:0,overflow:"visible"},FA={width:0,overflowX:"visible"},IA={height:0,overflowY:"visible"},jA={},UA=e=>{var{width:t,height:n}=e,r=pA(t),i=pA(n);return r&&i?SA:r?FA:i?IA:jA};function OA(e){return Number.isFinite(e)}function PA(e){return"number"===typeof e&&e>0&&Number.isFinite(e)}function LA(){return LA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},LA.apply(null,arguments)}function DA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function TA(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?DA(Object(n),!0).forEach(function(t){MA(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DA(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function MA(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var QA=(0,i.createContext)({width:-1,height:-1});function RA(e){var{children:t,width:n,height:r}=e,a=(0,i.useMemo)(()=>({width:n,height:r}),[n,r]);return function(e){return PA(e.width)&&PA(e.height)}(a)?i.createElement(QA.Provider,{value:a},t):null}var HA=()=>(0,i.useContext)(QA),zA=(0,i.forwardRef)((e,t)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:a,height:o,minWidth:s=0,minHeight:l,maxHeight:c,children:u,debounce:A=0,id:d,className:h,onResize:f,style:p={}}=e,g=(0,i.useRef)(null),m=(0,i.useRef)();m.current=f,(0,i.useImperativeHandle)(t,()=>g.current);var[v,y]=(0,i.useState)({containerWidth:r.width,containerHeight:r.height}),b=(0,i.useCallback)((e,t)=>{y(n=>{var r=Math.round(e),i=Math.round(t);return n.containerWidth===r&&n.containerHeight===i?n:{containerWidth:r,containerHeight:i}})},[]);(0,i.useEffect)(()=>{if(null==g.current||"undefined"===typeof ResizeObserver)return kA;var e=e=>{var t,{width:n,height:r}=e[0].contentRect;b(n,r),null===(t=m.current)||void 0===t||t.call(m,n,r)};A>0&&(e=uA()(e,A,{trailing:!0,leading:!1}));var t=new ResizeObserver(e),{width:n,height:r}=g.current.getBoundingClientRect();return b(n,r),t.observe(g.current),()=>{t.disconnect()}},[b,A]);var{containerWidth:w,containerHeight:x}=v;_A(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:B,calculatedHeight:C}=EA(w,x,{width:a,height:o,aspect:n,maxHeight:c});return _A(null!=B&&B>0||null!=C&&C>0,"The width(%s) and height(%s) of chart should be greater than 0,\n       please check the style of container, or the props width(%s) and height(%s),\n       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the\n       height and width.",B,C,a,o,s,l,n),i.createElement("div",{id:d?"".concat(d):void 0,className:lA("recharts-responsive-container",h),style:TA(TA({},p),{},{width:a,height:o,minWidth:s,minHeight:l,maxHeight:c}),ref:g},i.createElement("div",{style:UA({width:a,height:o})},i.createElement(RA,{width:B,height:C},u)))}),KA=(0,i.forwardRef)((e,t)=>{var n=HA();if(PA(n.width)&&PA(n.height))return e.children;var{width:r,height:a}=function(e){var{width:t,height:n,aspect:r}=e,i=t,a=n;return void 0===i&&void 0===a?(i="100%",a="100%"):void 0===i?i=r&&r>0?void 0:"100%":void 0===a&&(a=r&&r>0?void 0:"100%"),{width:i,height:a}}({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:o,calculatedHeight:s}=EA(void 0,void 0,{width:r,height:a,aspect:e.aspect,maxHeight:e.maxHeight});return gA(o)&&gA(s)?i.createElement(RA,{width:o,height:s},e.children):i.createElement(zA,LA({},e,{width:r,height:a,ref:t}))});var WA=Symbol.for("immer-nothing"),VA=Symbol.for("immer-draftable"),GA=Symbol.for("immer-state");function qA(e){throw new Error("[Immer] minified error nr: ".concat(e,". Full error at: https://bit.ly/3cXEKWf"))}var XA=Object,YA=XA.getPrototypeOf,JA="constructor",ZA="prototype",$A="configurable",ed="enumerable",td="writable",nd="value",rd=e=>!!e&&!!e[GA];function id(e){var t;return!!e&&(sd(e)||hd(e)||!!e[VA]||!(null===(t=e[JA])||void 0===t||!t[VA])||fd(e)||pd(e))}var ad=XA[ZA][JA].toString(),od=new WeakMap;function sd(e){if(!e||!gd(e))return!1;const t=YA(e);if(null===t||t===XA[ZA])return!0;const n=XA.hasOwnProperty.call(t,JA)&&t[JA];if(n===Object)return!0;if(!md(n))return!1;let r=od.get(n);return void 0===r&&(r=Function.toString.call(n),od.set(n,r)),r===ad}function ld(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(0===cd(e)){(n?Reflect.ownKeys(e):XA.keys(e)).forEach(n=>{t(n,e[n],e)})}else e.forEach((n,r)=>t(r,n,e))}function cd(e){const t=e[GA];return t?t.type_:hd(e)?1:fd(e)?2:pd(e)?3:0}var ud=function(e,t){return 2===(arguments.length>2&&void 0!==arguments[2]?arguments[2]:cd(e))?e.has(t):XA[ZA].hasOwnProperty.call(e,t)},Ad=function(e,t){return 2===(arguments.length>2&&void 0!==arguments[2]?arguments[2]:cd(e))?e.get(t):e[t]},dd=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:cd(e);2===r?e.set(t,n):3===r?e.add(n):e[t]=n};var hd=Array.isArray,fd=e=>e instanceof Map,pd=e=>e instanceof Set,gd=e=>"object"===typeof e,md=e=>"function"===typeof e,vd=e=>"boolean"===typeof e,yd=e=>e.copy_||e.base_,bd=e=>e.modified_?e.copy_:e.base_;function wd(e,t){if(fd(e))return new Map(e);if(pd(e))return new Set(e);if(hd(e))return Array[ZA].slice.call(e);const n=sd(e);if(!0===t||"class_only"===t&&!n){const t=XA.getOwnPropertyDescriptors(e);delete t[GA];let n=Reflect.ownKeys(t);for(let r=0;r<n.length;r++){const i=n[r],a=t[i];!1===a[td]&&(a[td]=!0,a[$A]=!0),(a.get||a.set)&&(t[i]={[$A]:!0,[td]:!0,[ed]:a[ed],[nd]:e[i]})}return XA.create(YA(e),t)}{const t=YA(e);if(null!==t&&n)return Me({},e);const r=XA.create(t);return XA.assign(r,e)}}function xd(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Cd(e)||rd(e)||!id(e)||(cd(e)>1&&XA.defineProperties(e,{set:Bd,add:Bd,clear:Bd,delete:Bd}),XA.freeze(e),t&&ld(e,(e,t)=>{xd(t,!0)},!1)),e}var Bd={[nd]:function(){qA(2)}};function Cd(e){return null===e||!gd(e)||XA.isFrozen(e)}var Nd="MapSet",kd="Patches",_d={};function Ed(e){const t=_d[e];return t||qA(0),t}var Sd;var Fd=()=>Sd;function Id(e,t){t&&(e.patchPlugin_=Ed(kd),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function jd(e){Ud(e),e.drafts_.forEach(Pd),e.drafts_=null}function Ud(e){e===Sd&&(Sd=e.parent_)}var Od=e=>Sd=((e,t)=>{return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:(n=Nd,_d[n]?Ed(Nd):void 0)};var n})(Sd,e);function Pd(e){const t=e[GA];0===t.type_||1===t.type_?t.revoke_():t.revoked_=!0}function Ld(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];if(void 0!==e&&e!==n){n[GA].modified_&&(jd(t),qA(4)),id(e)&&(e=Dd(t,e));const{patchPlugin_:r}=t;r&&r.generateReplacementPatches_(n[GA].base_,e,t)}else e=Dd(t,n);return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&xd(t,n)}(t,e,!0),jd(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==WA?e:void 0}function Dd(e,t){if(Cd(t))return t;const n=t[GA];if(!n){return zd(t,e.handledSet_,e)}if(!Md(n,e))return t;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:t}=n;if(t)for(;t.length>0;){t.pop()(e)}Hd(n,e)}return n.copy_}function Td(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var Md=(e,t)=>e.scope_===t,Qd=[];function Rd(e,t,n,r){var i;const a=yd(e),o=e.type_;if(void 0!==r){if(Ad(a,r,o)===t)return void dd(a,r,n,o)}if(!e.draftLocations_){const t=e.draftLocations_=new Map;ld(a,(e,n)=>{if(rd(n)){const r=t.get(n)||[];r.push(e),t.set(n,r)}})}const s=null!==(i=e.draftLocations_.get(t))&&void 0!==i?i:Qd;for(const l of s)dd(a,l,n,o)}function Hd(e,t){var n,r;if(e.modified_&&!e.finalized_&&(3===e.type_||(null!==(n=null===(r=e.assigned_)||void 0===r?void 0:r.size)&&void 0!==n?n:0)>0)){const{patchPlugin_:n}=t;if(n){const r=n.getPath(e);r&&n.generatePatches_(e,r,t)}Td(e)}}function zd(e,t,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||rd(e)||t.has(e)||!id(e)||Cd(e)||(t.add(e),ld(e,(r,i)=>{if(rd(i)){const t=i[GA];if(Md(t,n)){const n=bd(t);dd(e,r,n,e.type_),Td(t)}}else id(i)&&zd(i,t,n)})),e}var Kd={get(e,t){if(t===GA)return e;const n=yd(e);if(!ud(n,t,e.type_))return function(e,t,n){var r;const i=Gd(t,n);return i?nd in i?i[nd]:null===(r=i.get)||void 0===r?void 0:r.call(e.draft_):void 0}(e,n,t);const r=n[t];if(e.finalized_||!id(r))return r;if(r===Vd(e.base_,t)){Xd(e);const n=1===e.type_?+t:t,i=Yd(e.scope_,r,e,n);return e.copy_[n]=i}return r},has:(e,t)=>t in yd(e),ownKeys:e=>Reflect.ownKeys(yd(e)),set(e,t,n){const r=Gd(yd(e),t);if(null!==r&&void 0!==r&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const r=Vd(yd(e),t),i=null===r||void 0===r?void 0:r[GA];if(i&&i.base_===n)return e.copy_[t]=n,e.assigned_.set(t,!1),!0;if(function(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}(n,r)&&(void 0!==n||ud(e.base_,t,e.type_)))return!0;Xd(e),qd(e)}return e.copy_[t]===n&&(void 0!==n||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_.set(t,!0),function(e,t,n){const{scope_:r}=e;if(rd(n)){const i=n[GA];Md(i,r)&&i.callbacks_.push(function(){Xd(e);const r=bd(i);Rd(e,n,r,t)})}else id(n)&&e.callbacks_.push(function(){const i=yd(e);var a;Ad(i,t,e.type_)===n&&r.drafts_.length>1&&!0===(null!==(a=e.assigned_.get(t))&&void 0!==a&&a)&&e.copy_&&zd(Ad(e.copy_,t,e.type_),r.handledSet_,r)})}(e,t,n)),!0},deleteProperty:(e,t)=>(Xd(e),void 0!==Vd(e.base_,t)||t in e.base_?(e.assigned_.set(t,!1),qd(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0),getOwnPropertyDescriptor(e,t){const n=yd(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{[td]:!0,[$A]:1!==e.type_||"length"!==t,[ed]:r[ed],[nd]:n[t]}:r},defineProperty(){qA(11)},getPrototypeOf:e=>YA(e.base_),setPrototypeOf(){qA(12)}},Wd={};function Vd(e,t){const n=e[GA];return(n?yd(n):e)[t]}function Gd(e,t){if(!(t in e))return;let n=YA(e);for(;n;){const e=Object.getOwnPropertyDescriptor(n,t);if(e)return e;n=YA(n)}}function qd(e){e.modified_||(e.modified_=!0,e.parent_&&qd(e.parent_))}function Xd(e){e.copy_||(e.assigned_=new Map,e.copy_=wd(e.base_,e.scope_.immer_.useStrictShallowCopy_))}ld(Kd,(e,t)=>{Wd[e]=function(){const e=arguments;return e[0]=e[0][0],t.apply(this,e)}}),Wd.deleteProperty=function(e,t){return Wd.set.call(this,e,t,void 0)},Wd.set=function(e,t,n){return Kd.set.call(this,e[0],t,n,e[0])};function Yd(e,t,n,r){var i,a;const[o,s]=fd(t)?Ed(Nd).proxyMap_(t,n):pd(t)?Ed(Nd).proxySet_(t,n):function(e,t){const n=hd(e),r={type_:n?1:0,scope_:t?t.scope_:Fd(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=r,a=Kd;n&&(i=[r],a=Wd);const{revoke:o,proxy:s}=Proxy.revocable(i,a);return r.draft_=s,r.revoke_=o,[s,r]}(t,n);return(null!==(i=null===n||void 0===n?void 0:n.scope_)&&void 0!==i?i:Fd()).drafts_.push(o),s.callbacks_=null!==(a=null===n||void 0===n?void 0:n.callbacks_)&&void 0!==a?a:[],s.key_=r,n&&void 0!==r?function(e,t,n){e.callbacks_.push(function(r){var i,a;const o=t;if(!o||!Md(o,r))return;null===(i=r.mapSetPlugin_)||void 0===i||i.fixSetContents(o);const s=bd(o);Rd(e,null!==(a=o.draft_)&&void 0!==a?a:o,s,n),Hd(o,r)})}(n,s,r):s.callbacks_.push(function(e){var t;null===(t=e.mapSetPlugin_)||void 0===t||t.fixSetContents(s);const{patchPlugin_:n}=e;s.modified_&&n&&n.generatePatches_(s,[],e)}),o}function Jd(e){return rd(e)||qA(10),Zd(e)}function Zd(e){if(!id(e)||Cd(e))return e;const t=e[GA];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=wd(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=wd(e,!0);return ld(n,(e,t)=>{dd(n,e,Zd(t))},r),t&&(t.finalized_=!1),n}var $d=new class{constructor(e){var t=this;this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(e,t,n)=>{if(md(e)&&!md(t)){const n=t;t=e;const r=this;return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n;for(var i=arguments.length,a=new Array(i>1?i-1:0),o=1;o<i;o++)a[o-1]=arguments[o];return r.produce(e,e=>t.call(this,e,...a))}}let r;if(md(t)||qA(6),void 0===n||md(n)||qA(7),id(e)){const i=Od(this),a=Yd(i,e,void 0);let o=!0;try{r=t(a),o=!1}finally{o?jd(i):Ud(i)}return Id(i,n),Ld(r,i)}if(!e||!gd(e)){if(r=t(e),void 0===r&&(r=e),r===WA&&(r=void 0),this.autoFreeze_&&xd(r,!0),n){const t=[],i=[];Ed(kd).generateReplacementPatches_(e,r,{patches_:t,inversePatches_:i}),n(t,i)}return r}qA(1)},this.produceWithPatches=(e,n)=>{if(md(e))return function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];return t.produceWithPatches(n,t=>e(t,...i))};let r,i;const a=this.produce(e,n,(e,t)=>{r=e,i=t});return[a,r,i]},vd(null===e||void 0===e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),vd(null===e||void 0===e?void 0:e.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),vd(null===e||void 0===e?void 0:e.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){id(e)||qA(8),rd(e)&&(e=Jd(e));const t=Od(this),n=Yd(t,e,void 0);return n[GA].isManual_=!0,Ud(t),n}finishDraft(e,t){const n=e&&e[GA];n&&n.isManual_||qA(9);const{scope_:r}=n;return Id(r,t),Ld(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));const r=Ed(kd).applyPatches_;return rd(e)?r(e,t):this.produce(e,e=>r(e,t))}},eh=$d.produce;function th(e){return"Minified Redux error #".concat(e,"; visit https://redux.js.org/Errors?code=").concat(e," for the full message or use the non-minified dev environment for full errors. ")}var nh=(()=>"function"===typeof Symbol&&Symbol.observable||"@@observable")(),rh=()=>Math.random().toString(36).substring(7).split("").join("."),ih={INIT:"@@redux/INIT".concat(rh()),REPLACE:"@@redux/REPLACE".concat(rh()),PROBE_UNKNOWN_ACTION:()=>"@@redux/PROBE_UNKNOWN_ACTION".concat(rh())};function ah(e){if("object"!==typeof e||null===e)return!1;let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||null===Object.getPrototypeOf(e)}function oh(e,t,n){if("function"!==typeof e)throw new Error(th(2));if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(th(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(th(1));return n(oh)(e,t)}let r=e,i=t,a=new Map,o=a,s=0,l=!1;function c(){o===a&&(o=new Map,a.forEach((e,t)=>{o.set(t,e)}))}function u(){if(l)throw new Error(th(3));return i}function A(e){if("function"!==typeof e)throw new Error(th(4));if(l)throw new Error(th(5));let t=!0;c();const n=s++;return o.set(n,e),function(){if(t){if(l)throw new Error(th(6));t=!1,c(),o.delete(n),a=null}}}function d(e){if(!ah(e))throw new Error(th(7));if("undefined"===typeof e.type)throw new Error(th(8));if("string"!==typeof e.type)throw new Error(th(17));if(l)throw new Error(th(9));try{l=!0,i=r(i,e)}finally{l=!1}return(a=o).forEach(e=>{e()}),e}d({type:ih.INIT});return{dispatch:d,subscribe:A,getState:u,replaceReducer:function(e){if("function"!==typeof e)throw new Error(th(10));r=e,d({type:ih.REPLACE})},[nh]:function(){const e=A;return{subscribe(t){if("object"!==typeof t||null===t)throw new Error(th(11));function n(){const e=t;e.next&&e.next(u())}n();return{unsubscribe:e(n)}},[nh](){return this}}}}}function sh(e){const t=Object.keys(e),n={};for(let a=0;a<t.length;a++){const r=t[a];0,"function"===typeof e[r]&&(n[r]=e[r])}const r=Object.keys(n);let i;try{!function(e){Object.keys(e).forEach(t=>{const n=e[t];if("undefined"===typeof n(void 0,{type:ih.INIT}))throw new Error(th(12));if("undefined"===typeof n(void 0,{type:ih.PROBE_UNKNOWN_ACTION()}))throw new Error(th(13))})}(n)}catch(zD){i=zD}return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(i)throw i;let a=!1;const o={};for(let i=0;i<r.length;i++){const s=r[i],l=n[s],c=e[s],u=l(c,t);if("undefined"===typeof u){t&&t.type;throw new Error(th(14))}o[s]=u,a=a||u!==c}return a=a||r.length!==Object.keys(e).length,a?o:e}}function lh(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?e=>e:1===t.length?t[0]:t.reduce((e,t)=>function(){return e(t(...arguments))})}function ch(e){return ah(e)&&"type"in e&&"string"===typeof e.type}function uh(e){return t=>{let{dispatch:n,getState:r}=t;return t=>i=>"function"===typeof i?i(n,r,e):t(i)}}var Ah=uh(),dh=uh;const hh=["reducerPath"];var fh="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"===typeof arguments[0]?lh:lh.apply(null,arguments)};"undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;function ph(e,t){function n(){if(t){let n=t(...arguments);if(!n)throw new Error(uf(0));return Me(Me({type:e,payload:n.payload},"meta"in n&&{meta:n.meta}),"error"in n&&{error:n.error})}return{type:e,payload:arguments.length<=0?void 0:arguments[0]}}return n.toString=()=>"".concat(e),n.type=e,n.match=t=>ch(t)&&t.type===e,n}var gh=class e extends Array{constructor(){super(...arguments),Object.setPrototypeOf(this,e.prototype)}static get[Symbol.species](){return e}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return super.concat.apply(this,t)}prepend(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return 1===n.length&&Array.isArray(n[0])?new e(...n[0].concat(this)):new e(...n.concat(this))}};function mh(e){return id(e)?eh(e,()=>{}):e}function vh(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}var yh="RTK_autoBatch",bh=()=>e=>({payload:e,meta:{[yh]:!0}}),wh=e=>t=>{setTimeout(t,e)},xh=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{type:"raf"};return t=>function(){const n=t(...arguments);let r=!0,i=!1,a=!1;const o=new Set,s="tick"===e.type?queueMicrotask:"raf"===e.type?"undefined"!==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame:wh(10):"callback"===e.type?e.queueNotification:wh(e.timeout),l=()=>{a=!1,i&&(i=!1,o.forEach(e=>e()))};return Object.assign({},n,{subscribe(e){const t=n.subscribe(()=>r&&e());return o.add(e),()=>{t(),o.delete(e)}},dispatch(e){try{var t;return r=!(null!==e&&void 0!==e&&null!==(t=e.meta)&&void 0!==t&&t[yh]),i=!r,i&&(a||(a=!0,s(l))),n.dispatch(e)}finally{r=!0}}})}};function Bh(e){const t=function(e){const{thunk:t=!0,immutableCheck:n=!0,serializableCheck:r=!0,actionCreatorCheck:i=!0}=null!==e&&void 0!==e?e:{};let a=new gh;return t&&(function(e){return"boolean"===typeof e}(t)?a.push(Ah):a.push(dh(t.extraArgument))),a},{reducer:n,middleware:r,devTools:i=!0,duplicateMiddlewareCheck:a=!0,preloadedState:o,enhancers:s}=e||{};let l,c;if("function"===typeof n)l=n;else{if(!ah(n))throw new Error(uf(1));l=sh(n)}c="function"===typeof r?r(t):t();let u=lh;i&&(u=fh(Me({trace:!1},"object"===typeof i&&i)));const A=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>(n,r)=>{const i=e(n,r);let a=()=>{throw new Error(th(15))};const o={getState:i.getState,dispatch:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return a(e,...n)}},s=t.map(e=>e(o));return a=lh(...s)(i.dispatch),Me(Me({},i),{},{dispatch:a})}}(...c),d=(e=>function(t){const{autoBatch:n=!0}=null!==t&&void 0!==t?t:{};let r=new gh(e);return n&&r.push(xh("object"===typeof n?n:void 0)),r})(A);return oh(l,o,u(..."function"===typeof s?s(d):d()))}function Ch(e){const t={},n=[];let r;const i={addCase(e,n){const r="string"===typeof e?e:e.type;if(!r)throw new Error(uf(28));if(r in t)throw new Error(uf(29));return t[r]=n,i},addAsyncThunk:(e,r)=>(r.pending&&(t[e.pending.type]=r.pending),r.rejected&&(t[e.rejected.type]=r.rejected),r.fulfilled&&(t[e.fulfilled.type]=r.fulfilled),r.settled&&n.push({matcher:e.settled,reducer:r.settled}),i),addMatcher:(e,t)=>(n.push({matcher:e,reducer:t}),i),addDefaultCase:e=>(r=e,i)};return e(i),[t,n,r]}var Nh=function(){let e="",t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21;for(;t--;)e+="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"[64*Math.random()|0];return e};var kh=Symbol.for("rtk-slice-createasyncthunk");function _h(e,t){return"".concat(e,"/").concat(t)}function Eh(){var e;let{creators:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=null===t||void 0===t||null===(e=t.asyncThunk)||void 0===e?void 0:e[kh];return function(e){const{name:t,reducerPath:r=t}=e;if(!t)throw new Error(uf(11));const i=("function"===typeof e.reducers?e.reducers(function(){function e(e,t){return Me({_reducerDefinitionType:"asyncThunk",payloadCreator:e},t)}return e.withTypes=()=>e,{reducer:e=>Object.assign({[e.name](){return e(...arguments)}}[e.name],{_reducerDefinitionType:"reducer"}),preparedReducer:(e,t)=>({_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:t}),asyncThunk:e}}()):e.reducers)||{},a=Object.keys(i),o={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},s={addCase(e,t){const n="string"===typeof e?e:e.type;if(!n)throw new Error(uf(12));if(n in o.sliceCaseReducersByType)throw new Error(uf(13));return o.sliceCaseReducersByType[n]=t,s},addMatcher:(e,t)=>(o.sliceMatchers.push({matcher:e,reducer:t}),s),exposeAction:(e,t)=>(o.actionCreators[e]=t,s),exposeCaseReducer:(e,t)=>(o.sliceCaseReducersByName[e]=t,s)};function l(){const[t={},n=[],r]="function"===typeof e.extraReducers?Ch(e.extraReducers):[e.extraReducers],i=Me(Me({},t),o.sliceCaseReducersByType);return function(e,t){let n,[r,i,a]=Ch(t);if(function(e){return"function"===typeof e}(e))n=()=>mh(e());else{const t=mh(e);n=()=>t}function o(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n(),t=arguments.length>1?arguments[1]:void 0,o=[r[t.type],...i.filter(e=>{let{matcher:n}=e;return n(t)}).map(e=>{let{reducer:t}=e;return t})];return 0===o.filter(e=>!!e).length&&(o=[a]),o.reduce((e,n)=>{if(n){if(rd(e)){const r=n(e,t);return void 0===r?e:r}if(id(e))return eh(e,e=>n(e,t));{const r=n(e,t);if(void 0===r){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return r}}return e},e)}return o.getInitialState=n,o}(e.initialState,e=>{for(let t in i)e.addCase(t,i[t]);for(let t of o.sliceMatchers)e.addMatcher(t.matcher,t.reducer);for(let t of n)e.addMatcher(t.matcher,t.reducer);r&&e.addDefaultCase(r)})}a.forEach(r=>{const a=i[r],o={reducerName:r,type:_h(t,r),createNotation:"function"===typeof e.reducers};!function(e){return"asyncThunk"===e._reducerDefinitionType}(a)?function(e,t,n){let r,i,{type:a,reducerName:o,createNotation:s}=e;if("reducer"in t){if(s&&!function(e){return"reducerWithPrepare"===e._reducerDefinitionType}(t))throw new Error(uf(17));r=t.reducer,i=t.prepare}else r=t;n.addCase(a,r).exposeCaseReducer(o,r).exposeAction(o,i?ph(a,i):ph(a))}(o,a,s):function(e,t,n,r){let{type:i,reducerName:a}=e;if(!r)throw new Error(uf(18));const{payloadCreator:o,fulfilled:s,pending:l,rejected:c,settled:u,options:A}=t,d=r(i,o,A);n.exposeAction(a,d),s&&n.addCase(d.fulfilled,s);l&&n.addCase(d.pending,l);c&&n.addCase(d.rejected,c);u&&n.addMatcher(d.settled,u);n.exposeCaseReducer(a,{fulfilled:s||Ih,pending:l||Ih,rejected:c||Ih,settled:u||Ih})}(o,a,s,n)});const c=e=>e,u=new Map,A=new WeakMap;let d;function h(e,t){return d||(d=l()),d(e,t)}function f(){return d||(d=l()),d.getInitialState()}function p(t){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function r(e){let i=e[t];return"undefined"===typeof i&&n&&(i=vh(A,r,f)),i}function i(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c;const r=vh(u,n,()=>new WeakMap);return vh(r,t,()=>{const r={};for(const[a,o]of Object.entries(null!==(i=e.selectors)&&void 0!==i?i:{})){var i;r[a]=Sh(o,t,()=>vh(A,t,f),n)}return r})}return{reducerPath:t,getSelectors:i,get selectors(){return i(r)},selectSlice:r}}const g=Me(Me({name:t,reducer:h,actions:o.actionCreators,caseReducers:o.sliceCaseReducersByName,getInitialState:f},p(r)),{},{injectInto(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{reducerPath:n}=t,i=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,hh);const a=null!==n&&void 0!==n?n:r;return e.inject({reducerPath:a,reducer:h},i),Me(Me({},g),p(a,!0))}});return g}}function Sh(e,t,n,r){function i(i){let a=t(i);"undefined"===typeof a&&r&&(a=n());for(var o=arguments.length,s=new Array(o>1?o-1:0),l=1;l<o;l++)s[l-1]=arguments[l];return e(a,...s)}return i.unwrapped=e,i}var Fh=Eh();function Ih(){}var jh="listener",Uh="completed",Oh="cancelled",Ph="task-".concat(Oh),Lh="task-".concat(Uh),Dh="".concat(jh,"-").concat(Oh),Th="".concat(jh,"-").concat(Uh),Mh=class{constructor(e){(0,De.A)(this,"name","TaskAbortError"),(0,De.A)(this,"message",void 0),this.code=e,this.message="".concat("task"," ").concat(Oh," (reason: ").concat(e,")")}},Qh=(e,t)=>{if("function"!==typeof e)throw new TypeError(uf(32))},Rh=()=>{},Hh=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Rh;return e.catch(t),e},zh=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Kh=e=>{if(e.aborted)throw new Mh(e.reason)};function Wh(e,t){let n=Rh;return new Promise((r,i)=>{const a=()=>i(new Mh(e.reason));e.aborted?a():(n=zh(e,a),t.finally(()=>n()).then(r,i))}).finally(()=>{n=Rh})}var Vh=e=>t=>Hh(Wh(e,t).then(t=>(Kh(e),t))),Gh=e=>{const t=Vh(e);return e=>t(new Promise(t=>setTimeout(t,e)))},{assign:qh}=Object,Xh={},Yh="listenerMiddleware",Jh=(e,t)=>(n,r)=>{Qh(n);const i=new AbortController;var a;a=i,zh(e,()=>a.abort(e.reason));const o=(async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof Mh?"cancelled":"rejected",error:n}}finally{null===t||void 0===t||t()}})(async()=>{Kh(e),Kh(i.signal);const t=await n({pause:Vh(i.signal),delay:Gh(i.signal),signal:i.signal});return Kh(i.signal),t},()=>i.abort(Lh));return null!==r&&void 0!==r&&r.autoJoin&&t.push(o.catch(Rh)),{result:Vh(e)(o),cancel(){i.abort(Ph)}}},Zh=(e,t)=>(n,r)=>Hh((async(n,r)=>{Kh(t);let i=()=>{};const a=[new Promise((t,r)=>{let a=e({predicate:n,effect:(e,n)=>{n.unsubscribe(),t([e,n.getState(),n.getOriginalState()])}});i=()=>{a(),r()}})];null!=r&&a.push(new Promise(e=>setTimeout(e,r,null)));try{const e=await Wh(t,Promise.race(a));return Kh(t),e}finally{i()}})(n,r)),$h=e=>{let{type:t,actionCreator:n,matcher:r,predicate:i,effect:a}=e;if(t)i=ph(t).match;else if(n)t=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(uf(21));return Qh(a),{predicate:i,type:t,effect:a}},ef=qh(e=>{const{type:t,predicate:n,effect:r}=$h(e);return{id:Nh(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(uf(22))}}},{withTypes:()=>ef}),tf=(e,t)=>{const{type:n,effect:r,predicate:i}=$h(t);return Array.from(e.values()).find(e=>("string"===typeof n?e.type===n:e.predicate===i)&&e.effect===r)},nf=e=>{e.pending.forEach(e=>{e.abort(Dh)})},rf=(e,t,n)=>{try{e(t,n)}catch(r){setTimeout(()=>{throw r},0)}},af=qh(ph("".concat(Yh,"/add")),{withTypes:()=>af}),of=ph("".concat(Yh,"/removeAll")),sf=qh(ph("".concat(Yh,"/remove")),{withTypes:()=>sf}),lf=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];console.error("".concat(Yh,"/error"),...t)},cf=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=new Map,n=new Map,{extra:r,onError:i=lf}=e;Qh(i);const a=e=>{var n;return(e=>(e.unsubscribe=()=>t.delete(e.id),t.set(e.id,e),t=>{e.unsubscribe(),null!==t&&void 0!==t&&t.cancelActive&&nf(e)}))(null!==(n=tf(t,e))&&void 0!==n?n:ef(e))};qh(a,{withTypes:()=>a});const o=e=>{const n=tf(t,e);return n&&(n.unsubscribe(),e.cancelActive&&nf(n)),!!n};qh(o,{withTypes:()=>o});const s=async(e,o,s,l)=>{const c=new AbortController,u=Zh(a,c.signal),A=[];try{e.pending.add(c),(e=>{var t;const r=null!==(t=n.get(e))&&void 0!==t?t:0;n.set(e,r+1)})(e),await Promise.resolve(e.effect(o,qh({},s,{getOriginalState:l,condition:(e,t)=>u(e,t).then(Boolean),take:u,delay:Gh(c.signal),pause:Vh(c.signal),extra:r,signal:c.signal,fork:Jh(c.signal,A),unsubscribe:e.unsubscribe,subscribe:()=>{t.set(e.id,e)},cancelActiveListeners:()=>{e.pending.forEach((e,t,n)=>{e!==c&&(e.abort(Dh),n.delete(e))})},cancel:()=>{c.abort(Dh),e.pending.delete(c)},throwIfCancelled:()=>{Kh(c.signal)}})))}catch(d){d instanceof Mh||rf(i,d,{raisedBy:"effect"})}finally{await Promise.all(A),c.abort(Th),(e=>{var t;const r=null!==(t=n.get(e))&&void 0!==t?t:1;1===r?n.delete(e):n.set(e,r-1)})(e),e.pending.delete(c)}},l=((e,t)=>()=>{for(const e of t.keys())nf(e);e.clear()})(t,n);return{middleware:e=>n=>r=>{if(!ch(r))return n(r);if(af.match(r))return a(r.payload);if(of.match(r))return void l();if(sf.match(r))return o(r.payload);let c=e.getState();const u=()=>{if(c===Xh)throw new Error(uf(23));return c};let A;try{if(A=n(r),t.size>0){const n=e.getState(),a=Array.from(t.values());for(const t of a){let a=!1;try{a=t.predicate(r,n,c)}catch(d){a=!1,rf(i,d,{raisedBy:"predicate"})}a&&s(t,r,e,u)}}}finally{c=Xh}return A},startListening:a,stopListening:o,clearListeners:l}};Symbol.for("rtk-state-proxy-original");function uf(e){return"Minified Redux Toolkit error #".concat(e,"; visit https://redux-toolkit.js.org/Errors?code=").concat(e," for the full message or use the non-minified dev environment for full errors. ")}function Af(e,t){if(t){var n=Number.parseInt(t,10);if(!fA(n))return null===e||void 0===e?void 0:e[n]}}var df=Fh({name:"options",initialState:{chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},reducers:{createEventEmitter:e=>{null==e.eventEmitter&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),hf=df.reducer,{createEventEmitter:ff}=df.actions;n(7256);function pf(e){e()}var gf={notify(){},get:()=>[]};function mf(e,t){let n,r=gf,i=0,a=!1;function o(){c.onStateChange&&c.onStateChange()}function s(){i++,n||(n=t?t.addNestedSub(o):e.subscribe(o),r=function(){let e=null,t=null;return{clear(){e=null,t=null},notify(){pf(()=>{let t=e;for(;t;)t.callback(),t=t.next})},get(){const t=[];let n=e;for(;n;)t.push(n),n=n.next;return t},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){r&&null!==e&&(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}())}function l(){i--,n&&0===i&&(n(),n=void 0,r.clear(),r=gf)}const c={addNestedSub:function(e){s();const t=r.subscribe(e);let n=!1;return()=>{n||(n=!0,t(),l())}},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:o,isSubscribed:function(){return a},trySubscribe:function(){a||(a=!0,s())},tryUnsubscribe:function(){a&&(a=!1,l())},getListeners:()=>r};return c}var vf=(()=>!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement))(),yf=(()=>"undefined"!==typeof navigator&&"ReactNative"===navigator.product)(),bf=(()=>vf||yf?i.useLayoutEffect:i.useEffect)();function wf(e,t){return e===t?0!==e||0!==t||1/e===1/t:e!==e&&t!==t}function xf(e,t){if(wf(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!wf(e[n[i]],t[n[i]]))return!1;return!0}Object.defineProperty,Object.getOwnPropertyNames,Object.getOwnPropertySymbols,Object.getOwnPropertyDescriptor,Object.getPrototypeOf,Object.prototype;var Bf=Symbol.for("react-redux-context"),Cf="undefined"!==typeof globalThis?globalThis:{};function Nf(){var e;if(!i.createContext)return{};const t=null!==(e=Cf[Bf])&&void 0!==e?e:Cf[Bf]=new Map;let n=t.get(i.createContext);return n||(n=i.createContext(null),t.set(i.createContext,n)),n}var kf=Nf();var _f=function(e){const{children:t,context:n,serverState:r,store:a}=e,o=i.useMemo(()=>{const e=mf(a);return{store:a,subscription:e,getServerState:r?()=>r:void 0}},[a,r]),s=i.useMemo(()=>a.getState(),[a]);bf(()=>{const{subscription:e}=o;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),s!==a.getState()&&e.notifyNestedSubs(),()=>{e.tryUnsubscribe(),e.onStateChange=void 0}},[o,s]);const l=n||kf;return i.createElement(l.Provider,{value:o},t)};var Ef=Symbol.for("immer-nothing"),Sf=Symbol.for("immer-draftable"),Ff=Symbol.for("immer-state");function If(e){throw new Error("[Immer] minified error nr: ".concat(e,". Full error at: https://bit.ly/3cXEKWf"))}var jf=Object.getPrototypeOf;function Uf(e){return!!e&&!!e[Ff]}function Of(e){var t;return!!e&&(Df(e)||Array.isArray(e)||!!e[Sf]||!(null===(t=e.constructor)||void 0===t||!t[Sf])||Hf(e)||zf(e))}var Pf=Object.prototype.constructor.toString(),Lf=new WeakMap;function Df(e){if(!e||"object"!==typeof e)return!1;const t=Object.getPrototypeOf(e);if(null===t||t===Object.prototype)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(n===Object)return!0;if("function"!==typeof n)return!1;let r=Lf.get(n);return void 0===r&&(r=Function.toString.call(n),Lf.set(n,r)),r===Pf}function Tf(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(0===Mf(e)){(n?Reflect.ownKeys(e):Object.keys(e)).forEach(n=>{t(n,e[n],e)})}else e.forEach((n,r)=>t(r,n,e))}function Mf(e){const t=e[Ff];return t?t.type_:Array.isArray(e)?1:Hf(e)?2:zf(e)?3:0}function Qf(e,t){return 2===Mf(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Rf(e,t,n){const r=Mf(e);2===r?e.set(t,n):3===r?e.add(n):e[t]=n}function Hf(e){return e instanceof Map}function zf(e){return e instanceof Set}function Kf(e){return e.copy_||e.base_}function Wf(e,t){if(Hf(e))return new Map(e);if(zf(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=Df(e);if(!0===t||"class_only"===t&&!n){const t=Object.getOwnPropertyDescriptors(e);delete t[Ff];let n=Reflect.ownKeys(t);for(let r=0;r<n.length;r++){const i=n[r],a=t[i];!1===a.writable&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(t[i]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[i]})}return Object.create(jf(e),t)}{const t=jf(e);if(null!==t&&n)return Me({},e);const r=Object.create(t);return Object.assign(r,e)}}function Vf(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return qf(e)||Uf(e)||!Of(e)||(Mf(e)>1&&Object.defineProperties(e,{set:Gf,add:Gf,clear:Gf,delete:Gf}),Object.freeze(e),t&&Object.values(e).forEach(e=>Vf(e,!0))),e}var Gf={value:function(){If(2)}};function qf(e){return null===e||"object"!==typeof e||Object.isFrozen(e)}var Xf,Yf={};function Jf(e){const t=Yf[e];return t||If(0),t}function Zf(){return Xf}function $f(e,t){t&&(Jf("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function ep(e){tp(e),e.drafts_.forEach(rp),e.drafts_=null}function tp(e){e===Xf&&(Xf=e.parent_)}function np(e){return Xf={drafts_:[],parent_:Xf,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function rp(e){const t=e[Ff];0===t.type_||1===t.type_?t.revoke_():t.revoked_=!0}function ip(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return void 0!==e&&e!==n?(n[Ff].modified_&&(ep(t),If(4)),Of(e)&&(e=ap(t,e),t.parent_||sp(t,e)),t.patches_&&Jf("Patches").generateReplacementPatches_(n[Ff].base_,e,t.patches_,t.inversePatches_)):e=ap(t,n,[]),ep(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==Ef?e:void 0}function ap(e,t,n){if(qf(t))return t;const r=e.immer_.shouldUseStrictIteration(),i=t[Ff];if(!i)return Tf(t,(r,a)=>op(e,i,t,r,a,n),r),t;if(i.scope_!==e)return t;if(!i.modified_)return sp(e,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const t=i.copy_;let a=t,o=!1;3===i.type_&&(a=new Set(t),t.clear(),o=!0),Tf(a,(r,a)=>op(e,i,t,r,a,n,o),r),sp(e,t,!1),n&&e.patches_&&Jf("Patches").generatePatches_(i,n,e.patches_,e.inversePatches_)}return i.copy_}function op(e,t,n,r,i,a,o){if(null==i)return;if("object"!==typeof i&&!o)return;const s=qf(i);if(!s||o){if(Uf(i)){const o=ap(e,i,a&&t&&3!==t.type_&&!Qf(t.assigned_,r)?a.concat(r):void 0);if(Rf(n,r,o),!Uf(o))return;e.canAutoFreeze_=!1}else o&&n.add(i);if(Of(i)&&!s){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;if(t&&t.base_&&t.base_[r]===i&&s)return;ap(e,i),t&&t.scope_.parent_||"symbol"===typeof r||!(Hf(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))||sp(e,i)}}}function sp(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Vf(t,n)}var lp={get(e,t){if(t===Ff)return e;const n=Kf(e);if(!Qf(n,t))return function(e,t,n){var r;const i=Ap(t,n);return i?"value"in i?i.value:null===(r=i.get)||void 0===r?void 0:r.call(e.draft_):void 0}(e,n,t);const r=n[t];return e.finalized_||!Of(r)?r:r===up(e.base_,t)?(hp(e),e.copy_[t]=fp(r,e)):r},has:(e,t)=>t in Kf(e),ownKeys:e=>Reflect.ownKeys(Kf(e)),set(e,t,n){const r=Ap(Kf(e),t);if(null!==r&&void 0!==r&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const r=up(Kf(e),t),i=null===r||void 0===r?void 0:r[Ff];if(i&&i.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(function(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}(n,r)&&(void 0!==n||Qf(e.base_,t)))return!0;hp(e),dp(e)}return e.copy_[t]===n&&(void 0!==n||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty:(e,t)=>(void 0!==up(e.base_,t)||t in e.base_?(e.assigned_[t]=!1,hp(e),dp(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0),getOwnPropertyDescriptor(e,t){const n=Kf(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.type_||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty(){If(11)},getPrototypeOf:e=>jf(e.base_),setPrototypeOf(){If(12)}},cp={};function up(e,t){const n=e[Ff];return(n?Kf(n):e)[t]}function Ap(e,t){if(!(t in e))return;let n=jf(e);for(;n;){const e=Object.getOwnPropertyDescriptor(n,t);if(e)return e;n=jf(n)}}function dp(e){e.modified_||(e.modified_=!0,e.parent_&&dp(e.parent_))}function hp(e){e.copy_||(e.copy_=Wf(e.base_,e.scope_.immer_.useStrictShallowCopy_))}Tf(lp,(e,t)=>{cp[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),cp.deleteProperty=function(e,t){return cp.set.call(this,e,t,void 0)},cp.set=function(e,t,n){return lp.set.call(this,e[0],t,n,e[0])};function fp(e,t){const n=Hf(e)?Jf("MapSet").proxyMap_(e,t):zf(e)?Jf("MapSet").proxySet_(e,t):function(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:Zf(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,a=lp;n&&(i=[r],a=cp);const{revoke:o,proxy:s}=Proxy.revocable(i,a);return r.draft_=s,r.revoke_=o,s}(e,t);return(t?t.scope_:Zf()).drafts_.push(n),n}function pp(e){if(!Of(e)||qf(e))return e;const t=e[Ff];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=Wf(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=Wf(e,!0);return Tf(n,(e,t)=>{Rf(n,e,pp(t))},r),t&&(t.finalized_=!1),n}var gp=new class{constructor(e){var t=this;this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,t,n)=>{if("function"===typeof e&&"function"!==typeof t){const n=t;t=e;const r=this;return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n;for(var i=arguments.length,a=new Array(i>1?i-1:0),o=1;o<i;o++)a[o-1]=arguments[o];return r.produce(e,e=>t.call(this,e,...a))}}let r;if("function"!==typeof t&&If(6),void 0!==n&&"function"!==typeof n&&If(7),Of(e)){const i=np(this),a=fp(e,void 0);let o=!0;try{r=t(a),o=!1}finally{o?ep(i):tp(i)}return $f(i,n),ip(r,i)}if(!e||"object"!==typeof e){if(r=t(e),void 0===r&&(r=e),r===Ef&&(r=void 0),this.autoFreeze_&&Vf(r,!0),n){const t=[],i=[];Jf("Patches").generateReplacementPatches_(e,r,t,i),n(t,i)}return r}If(1)},this.produceWithPatches=(e,n)=>{if("function"===typeof e)return function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];return t.produceWithPatches(n,t=>e(t,...i))};let r,i;const a=this.produce(e,n,(e,t)=>{r=e,i=t});return[a,r,i]},"boolean"===typeof(null===e||void 0===e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),"boolean"===typeof(null===e||void 0===e?void 0:e.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),"boolean"===typeof(null===e||void 0===e?void 0:e.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Of(e)||If(8),Uf(e)&&(e=function(e){Uf(e)||If(10);return pp(e)}(e));const t=np(this),n=fp(e,void 0);return n[Ff].isManual_=!0,tp(t),n}finishDraft(e,t){const n=e&&e[Ff];n&&n.isManual_||If(9);const{scope_:r}=n;return $f(r,t),ip(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));const r=Jf("Patches").applyPatches_;return Uf(e)?r(e,t):this.produce(e,e=>r(e,t))}};gp.produce;var mp={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},vp=Fh({name:"tooltip",initialState:{itemInteraction:{click:mp,hover:mp},axisInteraction:{click:mp,hover:mp},keyboardInteraction:mp,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:bh()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:n,next:r}=t.payload,i=Jd(e).tooltipItemPayloads.indexOf(n);i>-1&&(e.tooltipItemPayloads[i]=r)},prepare:bh()},removeTooltipEntrySettings:{reducer(e,t){var n=Jd(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},prepare:bh()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:yp,replaceTooltipEntrySettings:bp,removeTooltipEntrySettings:wp,setTooltipSettingsState:xp,setActiveMouseOverItemIndex:Bp,mouseLeaveItem:Cp,mouseLeaveChart:Np,setActiveClickItemIndex:kp,setMouseOverAxisIndex:_p,setMouseClickAxisIndex:Ep,setSyncInteraction:Sp,setKeyboardInteraction:Fp}=vp.actions,Ip=vp.reducer,jp=Fh({name:"chartData",initialState:{chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},reducers:{setChartData(e,t){if(e.chartData=t.payload,null==t.payload)return e.dataStartIndex=0,void(e.dataEndIndex=0);t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:r}=t.payload;null!=n&&(e.dataStartIndex=n),null!=r&&(e.dataEndIndex=r)}}}),{setChartData:Up,setDataStartEndIndexes:Op,setComputedData:Pp}=jp.actions,Lp=jp.reducer,Dp=Fh({name:"chartLayout",initialState:{layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var n,r,i,a;e.margin.top=null!==(n=t.payload.top)&&void 0!==n?n:0,e.margin.right=null!==(r=t.payload.right)&&void 0!==r?r:0,e.margin.bottom=null!==(i=t.payload.bottom)&&void 0!==i?i:0,e.margin.left=null!==(a=t.payload.left)&&void 0!==a?a:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:Tp,setLayout:Mp,setChartSize:Qp,setScale:Rp}=Dp.actions,Hp=Dp.reducer;function zp(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"expected a function, instead received ".concat(typeof e);if("function"!==typeof e)throw new TypeError(t)}var Kp=e=>Array.isArray(e)?e:[e];function Wp(e){const t=Array.isArray(e[0])?e[0]:e;return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"expected all items to be functions, instead received the following types: ";if(!e.every(e=>"function"===typeof e)){const n=e.map(e=>"function"===typeof e?"function ".concat(e.name||"unnamed","()"):typeof e).join(", ");throw new TypeError("".concat(t,"[").concat(n,"]"))}}(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}Symbol(),Object.getPrototypeOf({});var Vp="undefined"!==typeof WeakRef?WeakRef:class{constructor(e){this.value=e}deref(){return this.value}};function Gp(){return{s:0,v:void 0,o:null,p:null}}function qp(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={s:0,v:void 0,o:null,p:null};const{resultEqualityCheck:r}=t;let i,a=0;function o(){let t=n;const{length:o}=arguments;for(let e=0,n=o;e<n;e++){const n=arguments[e];if("function"===typeof n||"object"===typeof n&&null!==n){let e=t.o;null===e&&(t.o=e=new WeakMap);const r=e.get(n);void 0===r?(t=Gp(),e.set(n,t)):t=r}else{let e=t.p;null===e&&(t.p=e=new Map);const r=e.get(n);void 0===r?(t=Gp(),e.set(n,t)):t=r}}const s=t;let l;if(1===t.s)l=t.v;else if(l=e.apply(null,arguments),a++,r){var c,u,A;const e=null!==(c=null===(u=i)||void 0===u||null===(A=u.deref)||void 0===A?void 0:A.call(u))&&void 0!==c?c:i;null!=e&&r(e,l)&&(l=e,0!==a&&a--);i="object"===typeof l&&null!==l||"function"===typeof l?new Vp(l):l}return s.s=1,s.v=l,l}return o.clearCache=()=>{n={s:0,v:void 0,o:null,p:null},o.resetResultsCount()},o.resultsCount=()=>a,o.resetResultsCount=()=>{a=0},o}function Xp(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i="function"===typeof e?{memoize:e,memoizeOptions:n}:e,a=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];let r,a=0,o=0,s={},l=t.pop();"object"===typeof l&&(s=l,l=t.pop()),zp(l,"createSelector expects an output function after the inputs, but received: [".concat(typeof l,"]"));const c=Me(Me({},i),s),{memoize:u,memoizeOptions:A=[],argsMemoize:d=qp,argsMemoizeOptions:h=[],devModeChecks:f={}}=c,p=Kp(A),g=Kp(h),m=Wp(t),v=u(function(){return a++,l.apply(null,arguments)},...p);const y=d(function(){o++;const e=function(e,t){const n=[],{length:r}=e;for(let i=0;i<r;i++)n.push(e[i].apply(null,t));return n}(m,arguments);return r=v.apply(null,e),r},...g);return Object.assign(y,{resultFunc:l,memoizedResultFunc:v,dependencies:m,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>r,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:u,argsMemoize:d})};return Object.assign(a,{withTypes:()=>a}),a}var Yp=Xp(qp),Jp=Object.assign(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Yp;!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"expected an object, instead received ".concat(typeof e);if("object"!==typeof e)throw new TypeError(t)}(e,"createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ".concat(typeof e));const n=Object.keys(e),r=t(n.map(t=>e[t]),function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.reduce((e,t,r)=>(e[n[r]]=t,e),{})});return r},{withTypes:()=>Jp}),Zp=n(3044),$p=(0,i.createContext)(null),eg=e=>e,tg=()=>{var e=(0,i.useContext)($p);return e?e.store.dispatch:eg},ng=()=>{},rg=()=>ng,ig=(e,t)=>e===t;function ag(e){var t=(0,i.useContext)($p);return(0,Zp.useSyncExternalStoreWithSelector)(t?t.subscription.addNestedSub:rg,t?t.store.getState:ng,t?t.store.getState:ng,t?e:ng,ig)}var og=n(830),sg=n.n(og),lg=e=>e.legend.settings,cg=Yp([e=>e.legend.payload,lg],(e,t)=>{var{itemSorter:n}=t,r=e.flat(1);return n?sg()(r,n):r});function ug(e,t){if((i=e.length)>1)for(var n,r,i,a=1,o=e[t[0]],s=o.length;a<i;++a)for(r=o,o=e[t[a]],n=0;n<s;++n)o[n][1]+=o[n][0]=isNaN(r[n][1])?r[n][0]:r[n][1]}Array.prototype.slice;function Ag(e){return"object"===typeof e&&"length"in e?e:Array.from(e)}function dg(e){return function(){return e}}function hg(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function fg(e,t){return e[t]}function pg(e){const t=[];return t.key=e,t}function gg(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function mg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function vg(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mg(Object(n),!0).forEach(function(t){yg(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mg(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function yg(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bg(e,t,n){return BA(e)||BA(t)?n:mA(t)?dA()(e,t,n):"function"===typeof t?t(e):n}var wg=(e,t)=>"horizontal"===e&&"xAxis"===t||"vertical"===e&&"yAxis"===t||"centric"===e&&"angleAxis"===t||"radial"===e&&"radiusAxis"===t,xg=(e,t,n,r)=>{if(r)return e.map(e=>e.coordinate);var i,a,o=e.map(e=>(e.coordinate===t&&(i=!0),e.coordinate===n&&(a=!0),e.coordinate));return i||o.push(t),a||o.push(n),o},Bg=(e,t,n)=>{if(!e)return null;var{duplicateDomain:r,type:i,range:a,scale:o,realScaleType:s,isCategorical:l,categoricalDomain:c,tickCount:u,ticks:A,niceTicks:d,axisType:h}=e;if(!o)return null;var f="scaleBand"===s&&o.bandwidth?o.bandwidth()/2:2,p=(t||n)&&"category"===i&&o.bandwidth?o.bandwidth()/f:0;return p="angleAxis"===h&&a&&a.length>=2?2*hA(a[0]-a[1])*p:p,t&&(A||d)?(A||d||[]).map((e,t)=>{var n=r?r.indexOf(e):e;return{coordinate:o(n)+p,value:e,offset:p,index:t}}).filter(e=>!fA(e.coordinate)):l&&c?c.map((e,t)=>({coordinate:o(e)+p,value:e,index:t,offset:p})):o.ticks&&!n&&null!=u?o.ticks(u).map((e,t)=>({coordinate:o(e)+p,value:e,offset:p,index:t})):o.domain().map((e,t)=>({coordinate:o(e)+p,value:r?r[e]:e,index:t,offset:p}))},Cg=1e-4,Ng={sign:e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,a=0,o=0;o<t;++o){var s=fA(e[o][n][1])?e[o][n][0]:e[o][n][1];s>=0?(e[o][n][0]=i,e[o][n][1]=i+s,i=e[o][n][1]):(e[o][n][0]=a,e[o][n][1]=a+s,a=e[o][n][1])}},expand:function(e,t){if((r=e.length)>0){for(var n,r,i,a=0,o=e[0].length;a<o;++a){for(i=n=0;n<r;++n)i+=e[n][a][1]||0;if(i)for(n=0;n<r;++n)e[n][a][1]/=i}ug(e,t)}},none:ug,silhouette:function(e,t){if((n=e.length)>0){for(var n,r=0,i=e[t[0]],a=i.length;r<a;++r){for(var o=0,s=0;o<n;++o)s+=e[o][r][1]||0;i[r][1]+=i[r][0]=-s/2}ug(e,t)}},wiggle:function(e,t){if((i=e.length)>0&&(r=(n=e[t[0]]).length)>0){for(var n,r,i,a=0,o=1;o<r;++o){for(var s=0,l=0,c=0;s<i;++s){for(var u=e[t[s]],A=u[o][1]||0,d=(A-(u[o-1][1]||0))/2,h=0;h<s;++h){var f=e[t[h]];d+=(f[o][1]||0)-(f[o-1][1]||0)}l+=A,c+=d*A}n[o-1][1]+=n[o-1][0]=a,l&&(a-=c/l)}n[o-1][1]+=n[o-1][0]=a,ug(e,t)}},positive:e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,a=0;a<t;++a){var o=fA(e[a][n][1])?e[a][n][0]:e[a][n][1];o>=0?(e[a][n][0]=i,e[a][n][1]=i+o,i=e[a][n][1]):(e[a][n][0]=0,e[a][n][1]=0)}}},kg=(e,t,n)=>{var r=Ng[n],i=function(){var e=dg([]),t=hg,n=ug,r=fg;function i(i){var a,o,s=Array.from(e.apply(this,arguments),pg),l=s.length,c=-1;for(const e of i)for(a=0,++c;a<l;++a)(s[a][c]=[0,+r(e,s[a].key,c,i)]).data=e;for(a=0,o=Ag(t(s));a<l;++a)s[o[a]].index=a;return n(s,o),s}return i.keys=function(t){return arguments.length?(e="function"===typeof t?t:dg(Array.from(t)),i):e},i.value=function(e){return arguments.length?(r="function"===typeof e?e:dg(+e),i):r},i.order=function(e){return arguments.length?(t=null==e?hg:"function"===typeof e?e:dg(Array.from(e)),i):t},i.offset=function(e){return arguments.length?(n=null==e?ug:e,i):n},i}().keys(t).value((e,t)=>Number(bg(e,t,0))).order(hg).offset(r);return i(e)};var _g=e=>{var{axis:t,ticks:n,offset:r,bandSize:i,entry:a,index:o}=e;if("category"===t.type)return n[o]?n[o].coordinate+r:null;var s=bg(a,t.dataKey,t.scale.domain()[o]);return BA(s)?null:t.scale(s)-i/2+r},Eg=(e,t,n)=>{var r;if(null!=e)return r=Object.keys(e).reduce((r,i)=>{var a=e[i],{stackedData:o}=a,s=o.reduce((e,r)=>{var i=(e=>{var t=e.flat(2).filter(gA);return[Math.min(...t),Math.max(...t)]})(gg(r,t,n));return[Math.min(e[0],i[0]),Math.max(e[1],i[1])]},[1/0,-1/0]);return[Math.min(s[0],r[0]),Math.max(s[1],r[1])]},[1/0,-1/0]),[r[0]===1/0?0:r[0],r[1]===-1/0?0:r[1]]},Sg=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Fg=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Ig=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var i=sg()(t,e=>e.coordinate),a=1/0,o=1,s=i.length;o<s;o++){var l=i[o],c=i[o-1];a=Math.min((l.coordinate||0)-(c.coordinate||0),a)}return a===1/0?0:a}return n?void 0:0};function jg(e){var{tooltipEntrySettings:t,dataKey:n,payload:r,value:i,name:a}=e;return vg(vg({},t),{},{dataKey:n,payload:r,value:i,name:a})}function Ug(e,t){return e?String(e):"string"===typeof t?t:void 0}var Og=e=>e.layout.width,Pg=e=>e.layout.height,Lg=e=>e.layout.scale,Dg=e=>e.layout.margin,Tg=Yp(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Mg=Yp(e=>e.cartesianAxis.yAxis,e=>Object.values(e));function Qg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Rg(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qg(Object(n),!0).forEach(function(t){Hg(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qg(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Hg(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var zg=Yp([Og,Pg,Dg,e=>e.brush.height,function(e){return Mg(e).reduce((e,t)=>"left"!==t.orientation||t.mirror||t.hide?e:e+("number"===typeof t.width?t.width:60),0)},function(e){return Mg(e).reduce((e,t)=>"right"!==t.orientation||t.mirror||t.hide?e:e+("number"===typeof t.width?t.width:60),0)},function(e){return Tg(e).reduce((e,t)=>"top"!==t.orientation||t.mirror||t.hide?e:e+t.height,0)},function(e){return Tg(e).reduce((e,t)=>"bottom"!==t.orientation||t.mirror||t.hide?e:e+t.height,0)},lg,e=>e.legend.size],(e,t,n,r,i,a,o,s,l,c)=>{var u={left:(n.left||0)+i,right:(n.right||0)+a},A=Rg(Rg({},{top:(n.top||0)+o,bottom:(n.bottom||0)+s}),u),d=A.bottom;A.bottom+=r,A=((e,t,n)=>{if(t&&n){var{width:r,height:i}=n,{align:a,verticalAlign:o,layout:s}=t;if(("vertical"===s||"horizontal"===s&&"middle"===o)&&"center"!==a&&gA(e[a]))return vg(vg({},e),{},{[a]:e[a]+(r||0)});if(("horizontal"===s||"vertical"===s&&"center"===a)&&"middle"!==o&&gA(e[o]))return vg(vg({},e),{},{[o]:e[o]+(i||0)})}return e})(A,l,c);var h=e-A.left-A.right,f=t-A.top-A.bottom;return Rg(Rg({brushBottom:d},A),{},{width:Math.max(h,0),height:Math.max(f,0)})}),Kg=Yp(zg,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),Wg=Yp(Og,Pg,(e,t)=>({x:0,y:0,width:e,height:t})),Vg=(0,i.createContext)(null),Gg=()=>null!=(0,i.useContext)(Vg),qg=e=>e.brush,Xg=Yp([qg,zg,Dg],(e,t,n)=>({height:e.height,x:gA(e.x)?e.x:t.left,y:gA(e.y)?e.y:t.top+t.height+t.brushBottom-((null===n||void 0===n?void 0:n.bottom)||0),width:gA(e.width)?e.width:t.width}));function Yg(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var Jg=()=>{var e,t=Gg(),n=ag(Kg),r=ag(Xg),i=null===(e=ag(qg))||void 0===e?void 0:e.padding;return t&&r&&i?{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}:n},Zg={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},$g=()=>{var e;return null!==(e=ag(zg))&&void 0!==e?e:Zg},em=()=>ag(Og),tm=()=>ag(Pg),nm=e=>e.layout.layoutType,rm=()=>ag(nm),im=e=>{var t=tg(),n=Gg(),{width:r,height:a}=e,o=HA(),s=r,l=a;return o&&(s=o.width>0?o.width:r,l=o.height>0?o.height:a),(0,i.useEffect)(()=>{!n&&PA(s)&&PA(l)&&t(Qp({width:s,height:l}))},[t,n,s,l]),null},am=n(8354),om=n.n(am);function sm(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function lm(e,t){switch(arguments.length){case 0:break;case 1:"function"===typeof e?this.interpolator(e):this.range(e);break;default:this.domain(e),"function"===typeof t?this.interpolator(t):this.range(t)}return this}class cm extends Map{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:hm;if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),null!=e)for(const[n,r]of e)this.set(n,r)}get(e){return super.get(um(this,e))}has(e){return super.has(um(this,e))}set(e,t){return super.set(Am(this,e),t)}delete(e){return super.delete(dm(this,e))}}Set;function um(e,t){let{_intern:n,_key:r}=e;const i=r(t);return n.has(i)?n.get(i):t}function Am(e,t){let{_intern:n,_key:r}=e;const i=r(t);return n.has(i)?n.get(i):(n.set(i,t),t)}function dm(e,t){let{_intern:n,_key:r}=e;const i=r(t);return n.has(i)&&(t=n.get(i),n.delete(i)),t}function hm(e){return null!==e&&"object"===typeof e?e.valueOf():e}const fm=Symbol("implicit");function pm(){var e=new cm,t=[],n=[],r=fm;function i(i){let a=e.get(i);if(void 0===a){if(r!==fm)return r;e.set(i,a=t.push(i)-1)}return n[a%n.length]}return i.domain=function(n){if(!arguments.length)return t.slice();t=[],e=new cm;for(const r of n)e.has(r)||e.set(r,t.push(r)-1);return i},i.range=function(e){return arguments.length?(n=Array.from(e),i):n.slice()},i.unknown=function(e){return arguments.length?(r=e,i):r},i.copy=function(){return pm(t,n).unknown(r)},sm.apply(i,arguments),i}function gm(){var e,t,n=pm().unknown(void 0),r=n.domain,i=n.range,a=0,o=1,s=!1,l=0,c=0,u=.5;function A(){var n=r().length,A=o<a,d=A?o:a,h=A?a:o;e=(h-d)/Math.max(1,n-l+2*c),s&&(e=Math.floor(e)),d+=(h-d-e*(n-l))*u,t=e*(1-l),s&&(d=Math.round(d),t=Math.round(t));var f=function(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((t-e)/n)),a=new Array(i);++r<i;)a[r]=e+r*n;return a}(n).map(function(t){return d+e*t});return i(A?f.reverse():f)}return delete n.unknown,n.domain=function(e){return arguments.length?(r(e),A()):r()},n.range=function(e){return arguments.length?([a,o]=e,a=+a,o=+o,A()):[a,o]},n.rangeRound=function(e){return[a,o]=e,a=+a,o=+o,s=!0,A()},n.bandwidth=function(){return t},n.step=function(){return e},n.round=function(e){return arguments.length?(s=!!e,A()):s},n.padding=function(e){return arguments.length?(l=Math.min(1,c=+e),A()):l},n.paddingInner=function(e){return arguments.length?(l=Math.min(1,e),A()):l},n.paddingOuter=function(e){return arguments.length?(c=+e,A()):c},n.align=function(e){return arguments.length?(u=Math.max(0,Math.min(1,e)),A()):u},n.copy=function(){return gm(r(),[a,o]).round(s).paddingInner(l).paddingOuter(c).align(u)},sm.apply(A(),arguments)}function mm(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return mm(t())},e}function vm(){return mm(gm.apply(null,arguments).paddingInner(1))}const ym=Math.sqrt(50),bm=Math.sqrt(10),wm=Math.sqrt(2);function xm(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),o=a>=ym?10:a>=bm?5:a>=wm?2:1;let s,l,c;return i<0?(c=Math.pow(10,-i)/o,s=Math.round(e*c),l=Math.round(t*c),s/c<e&&++s,l/c>t&&--l,c=-c):(c=Math.pow(10,i)*o,s=Math.round(e/c),l=Math.round(t/c),s*c<e&&++s,l*c>t&&--l),l<s&&.5<=n&&n<2?xm(e,t,2*n):[s,l,c]}function Bm(e,t,n){if(!((n=+n)>0))return[];if((e=+e)===(t=+t))return[e];const r=t<e,[i,a,o]=r?xm(t,e,n):xm(e,t,n);if(!(a>=i))return[];const s=a-i+1,l=new Array(s);if(r)if(o<0)for(let c=0;c<s;++c)l[c]=(a-c)/-o;else for(let c=0;c<s;++c)l[c]=(a-c)*o;else if(o<0)for(let c=0;c<s;++c)l[c]=(i+c)/-o;else for(let c=0;c<s;++c)l[c]=(i+c)*o;return l}function Cm(e,t,n){return xm(e=+e,t=+t,n=+n)[2]}function Nm(e,t,n){n=+n;const r=(t=+t)<(e=+e),i=r?Cm(t,e,n):Cm(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function km(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function _m(e,t){return null==e||null==t?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Em(e){let t,n,r;function i(e,r){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(i<a){if(0!==t(r,r))return a;do{const t=i+a>>>1;n(e[t],r)<0?i=t+1:a=t}while(i<a)}return i}return 2!==e.length?(t=km,n=(t,n)=>km(e(t),n),r=(t,n)=>e(t)-n):(t=e===km||e===_m?e:Sm,n=e,r=e),{left:i,center:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const a=i(e,t,n,(arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length)-1);return a>n&&r(e[a-1],t)>-r(e[a],t)?a-1:a},right:function(e,r){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(i<a){if(0!==t(r,r))return a;do{const t=i+a>>>1;n(e[t],r)<=0?i=t+1:a=t}while(i<a)}return i}}}function Sm(){return 0}function Fm(e){return null===e?NaN:+e}const Im=Em(km),jm=Im.right,Um=(Im.left,Em(Fm).center,jm);function Om(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Pm(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Lm(){}var Dm=.7,Tm=1/Dm,Mm="\\s*([+-]?\\d+)\\s*",Qm="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Rm="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Hm=/^#([0-9a-f]{3,8})$/,zm=new RegExp("^rgb\\(".concat(Mm,",").concat(Mm,",").concat(Mm,"\\)$")),Km=new RegExp("^rgb\\(".concat(Rm,",").concat(Rm,",").concat(Rm,"\\)$")),Wm=new RegExp("^rgba\\(".concat(Mm,",").concat(Mm,",").concat(Mm,",").concat(Qm,"\\)$")),Vm=new RegExp("^rgba\\(".concat(Rm,",").concat(Rm,",").concat(Rm,",").concat(Qm,"\\)$")),Gm=new RegExp("^hsl\\(".concat(Qm,",").concat(Rm,",").concat(Rm,"\\)$")),qm=new RegExp("^hsla\\(".concat(Qm,",").concat(Rm,",").concat(Rm,",").concat(Qm,"\\)$")),Xm={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Ym(){return this.rgb().formatHex()}function Jm(){return this.rgb().formatRgb()}function Zm(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Hm.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?$m(t):3===n?new nv(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?ev(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?ev(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=zm.exec(e))?new nv(t[1],t[2],t[3],1):(t=Km.exec(e))?new nv(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=Wm.exec(e))?ev(t[1],t[2],t[3],t[4]):(t=Vm.exec(e))?ev(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=Gm.exec(e))?lv(t[1],t[2]/100,t[3]/100,1):(t=qm.exec(e))?lv(t[1],t[2]/100,t[3]/100,t[4]):Xm.hasOwnProperty(e)?$m(Xm[e]):"transparent"===e?new nv(NaN,NaN,NaN,0):null}function $m(e){return new nv(e>>16&255,e>>8&255,255&e,1)}function ev(e,t,n,r){return r<=0&&(e=t=n=NaN),new nv(e,t,n,r)}function tv(e,t,n,r){return 1===arguments.length?function(e){return e instanceof Lm||(e=Zm(e)),e?new nv((e=e.rgb()).r,e.g,e.b,e.opacity):new nv}(e):new nv(e,t,n,null==r?1:r)}function nv(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function rv(){return"#".concat(sv(this.r)).concat(sv(this.g)).concat(sv(this.b))}function iv(){const e=av(this.opacity);return"".concat(1===e?"rgb(":"rgba(").concat(ov(this.r),", ").concat(ov(this.g),", ").concat(ov(this.b)).concat(1===e?")":", ".concat(e,")"))}function av(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function ov(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function sv(e){return((e=ov(e))<16?"0":"")+e.toString(16)}function lv(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new uv(e,t,n,r)}function cv(e){if(e instanceof uv)return new uv(e.h,e.s,e.l,e.opacity);if(e instanceof Lm||(e=Zm(e)),!e)return new uv;if(e instanceof uv)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),o=NaN,s=a-i,l=(a+i)/2;return s?(o=t===a?(n-r)/s+6*(n<r):n===a?(r-t)/s+2:(t-n)/s+4,s/=l<.5?a+i:2-a-i,o*=60):s=l>0&&l<1?0:o,new uv(o,s,l,e.opacity)}function uv(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function Av(e){return(e=(e||0)%360)<0?e+360:e}function dv(e){return Math.max(0,Math.min(1,e||0))}function hv(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function fv(e,t,n,r,i){var a=e*e,o=a*e;return((1-3*e+3*a-o)*t+(4-6*a+3*o)*n+(1+3*e+3*a-3*o)*r+o*i)/6}Om(Lm,Zm,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Ym,formatHex:Ym,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return cv(this).formatHsl()},formatRgb:Jm,toString:Jm}),Om(nv,tv,Pm(Lm,{brighter(e){return e=null==e?Tm:Math.pow(Tm,e),new nv(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?Dm:Math.pow(Dm,e),new nv(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new nv(ov(this.r),ov(this.g),ov(this.b),av(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:rv,formatHex:rv,formatHex8:function(){return"#".concat(sv(this.r)).concat(sv(this.g)).concat(sv(this.b)).concat(sv(255*(isNaN(this.opacity)?1:this.opacity)))},formatRgb:iv,toString:iv})),Om(uv,function(e,t,n,r){return 1===arguments.length?cv(e):new uv(e,t,n,null==r?1:r)},Pm(Lm,{brighter(e){return e=null==e?Tm:Math.pow(Tm,e),new uv(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?Dm:Math.pow(Dm,e),new uv(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new nv(hv(e>=240?e-240:e+120,i,r),hv(e,i,r),hv(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new uv(Av(this.h),dv(this.s),dv(this.l),av(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=av(this.opacity);return"".concat(1===e?"hsl(":"hsla(").concat(Av(this.h),", ").concat(100*dv(this.s),"%, ").concat(100*dv(this.l),"%").concat(1===e?")":", ".concat(e,")"))}}));const pv=e=>()=>e;function gv(e,t){return function(n){return e+n*t}}function mv(e){return 1===(e=+e)?vv:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):pv(isNaN(t)?n:t)}}function vv(e,t){var n=t-e;return n?gv(e,n):pv(isNaN(e)?t:e)}const yv=function e(t){var n=mv(t);function r(e,t){var r=n((e=tv(e)).r,(t=tv(t)).r),i=n(e.g,t.g),a=n(e.b,t.b),o=vv(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=i(t),e.b=a(t),e.opacity=o(t),e+""}}return r.gamma=e,r}(1);function bv(e){return function(t){var n,r,i=t.length,a=new Array(i),o=new Array(i),s=new Array(i);for(n=0;n<i;++n)r=tv(t[n]),a[n]=r.r||0,o[n]=r.g||0,s[n]=r.b||0;return a=e(a),o=e(o),s=e(s),r.opacity=1,function(e){return r.r=a(e),r.g=o(e),r.b=s(e),r+""}}}bv(function(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[r],a=e[r+1],o=r>0?e[r-1]:2*i-a,s=r<t-1?e[r+2]:2*a-i;return fv((n-r/t)*t,o,i,a,s)}}),bv(function(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),i=e[(r+t-1)%t],a=e[r%t],o=e[(r+1)%t],s=e[(r+2)%t];return fv((n-r/t)*t,i,a,o,s)}});function wv(e,t){var n,r=t?t.length:0,i=e?Math.min(r,e.length):0,a=new Array(i),o=new Array(r);for(n=0;n<i;++n)a[n]=Sv(e[n],t[n]);for(;n<r;++n)o[n]=t[n];return function(e){for(n=0;n<i;++n)o[n]=a[n](e);return o}}function xv(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Bv(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Cv(e,t){var n,r={},i={};for(n in null!==e&&"object"===typeof e||(e={}),null!==t&&"object"===typeof t||(t={}),t)n in e?r[n]=Sv(e[n],t[n]):i[n]=t[n];return function(e){for(n in r)i[n]=r[n](e);return i}}var Nv=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,kv=new RegExp(Nv.source,"g");function _v(e,t){var n,r,i,a=Nv.lastIndex=kv.lastIndex=0,o=-1,s=[],l=[];for(e+="",t+="";(n=Nv.exec(e))&&(r=kv.exec(t));)(i=r.index)>a&&(i=t.slice(a,i),s[o]?s[o]+=i:s[++o]=i),(n=n[0])===(r=r[0])?s[o]?s[o]+=r:s[++o]=r:(s[++o]=null,l.push({i:o,x:Bv(n,r)})),a=kv.lastIndex;return a<t.length&&(i=t.slice(a),s[o]?s[o]+=i:s[++o]=i),s.length<2?l[0]?function(e){return function(t){return e(t)+""}}(l[0].x):function(e){return function(){return e}}(t):(t=l.length,function(e){for(var n,r=0;r<t;++r)s[(n=l[r]).i]=n.x(e);return s.join("")})}function Ev(e,t){t||(t=[]);var n,r=e?Math.min(t.length,e.length):0,i=t.slice();return function(a){for(n=0;n<r;++n)i[n]=e[n]*(1-a)+t[n]*a;return i}}function Sv(e,t){var n,r=typeof t;return null==t||"boolean"===r?pv(t):("number"===r?Bv:"string"===r?(n=Zm(t))?(t=n,yv):_v:t instanceof Zm?yv:t instanceof Date?xv:function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}(t)?Ev:Array.isArray(t)?wv:"function"!==typeof t.valueOf&&"function"!==typeof t.toString||isNaN(t)?Cv:Bv)(e,t)}function Fv(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function Iv(e){return+e}var jv=[0,1];function Uv(e){return e}function Ov(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:function(e){return function(){return e}}(isNaN(t)?NaN:.5)}function Pv(e,t,n){var r=e[0],i=e[1],a=t[0],o=t[1];return i<r?(r=Ov(i,r),a=n(o,a)):(r=Ov(r,i),a=n(a,o)),function(e){return a(r(e))}}function Lv(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),a=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)i[o]=Ov(e[o],e[o+1]),a[o]=n(t[o],t[o+1]);return function(t){var n=Um(e,t,1,r)-1;return a[n](i[n](t))}}function Dv(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Tv(){var e,t,n,r,i,a,o=jv,s=jv,l=Sv,c=Uv;function u(){var e=Math.min(o.length,s.length);return c!==Uv&&(c=function(e,t){var n;return e>t&&(n=e,e=t,t=n),function(n){return Math.max(e,Math.min(t,n))}}(o[0],o[e-1])),r=e>2?Lv:Pv,i=a=null,A}function A(t){return null==t||isNaN(t=+t)?n:(i||(i=r(o.map(e),s,l)))(e(c(t)))}return A.invert=function(n){return c(t((a||(a=r(s,o.map(e),Bv)))(n)))},A.domain=function(e){return arguments.length?(o=Array.from(e,Iv),u()):o.slice()},A.range=function(e){return arguments.length?(s=Array.from(e),u()):s.slice()},A.rangeRound=function(e){return s=Array.from(e),l=Fv,u()},A.clamp=function(e){return arguments.length?(c=!!e||Uv,u()):c!==Uv},A.interpolate=function(e){return arguments.length?(l=e,u()):l},A.unknown=function(e){return arguments.length?(n=e,A):n},function(n,r){return e=n,t=r,u()}}function Mv(){return Tv()(Uv,Uv)}var Qv,Rv=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Hv(e){if(!(t=Rv.exec(e)))throw new Error("invalid format: "+e);var t;return new zv({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function zv(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function Kv(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Wv(e){return(e=Kv(Math.abs(e)))?e[1]:NaN}function Vv(e,t){var n=Kv(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}Hv.prototype=zv.prototype,zv.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const Gv={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Vv(100*e,t),r:Vv,s:function(e,t){var n=Kv(e,t);if(!n)return e+"";var r=n[0],i=n[1],a=i-(Qv=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+Kv(e,Math.max(0,t+a-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function qv(e){return e}var Xv,Yv,Jv,Zv=Array.prototype.map,$v=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function ey(e){var t,n,r=void 0===e.grouping||void 0===e.thousands?qv:(t=Zv.call(e.grouping,Number),n=e.thousands+"",function(e,r){for(var i=e.length,a=[],o=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),a.push(e.substring(i-=s,i+s)),!((l+=s+1)>r));)s=t[o=(o+1)%t.length];return a.reverse().join(n)}),i=void 0===e.currency?"":e.currency[0]+"",a=void 0===e.currency?"":e.currency[1]+"",o=void 0===e.decimal?".":e.decimal+"",s=void 0===e.numerals?qv:function(e){return function(t){return t.replace(/[0-9]/g,function(t){return e[+t]})}}(Zv.call(e.numerals,String)),l=void 0===e.percent?"%":e.percent+"",c=void 0===e.minus?"\u2212":e.minus+"",u=void 0===e.nan?"NaN":e.nan+"";function A(e){var t=(e=Hv(e)).fill,n=e.align,A=e.sign,d=e.symbol,h=e.zero,f=e.width,p=e.comma,g=e.precision,m=e.trim,v=e.type;"n"===v?(p=!0,v="g"):Gv[v]||(void 0===g&&(g=12),m=!0,v="g"),(h||"0"===t&&"="===n)&&(h=!0,t="0",n="=");var y="$"===d?i:"#"===d&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",b="$"===d?a:/[%p]/.test(v)?l:"",w=Gv[v],x=/[defgprs%]/.test(v);function B(e){var i,a,l,d=y,B=b;if("c"===v)B=w(e)+B,e="";else{var C=(e=+e)<0||1/e<0;if(e=isNaN(e)?u:w(Math.abs(e),g),m&&(e=function(e){e:for(var t,n=e.length,r=1,i=-1;r<n;++r)switch(e[r]){case".":i=t=r;break;case"0":0===i&&(i=r),t=r;break;default:if(!+e[r])break e;i>0&&(i=0)}return i>0?e.slice(0,i)+e.slice(t+1):e}(e)),C&&0===+e&&"+"!==A&&(C=!1),d=(C?"("===A?A:c:"-"===A||"("===A?"":A)+d,B=("s"===v?$v[8+Qv/3]:"")+B+(C&&"("===A?")":""),x)for(i=-1,a=e.length;++i<a;)if(48>(l=e.charCodeAt(i))||l>57){B=(46===l?o+e.slice(i+1):e.slice(i))+B,e=e.slice(0,i);break}}p&&!h&&(e=r(e,1/0));var N=d.length+e.length+B.length,k=N<f?new Array(f-N+1).join(t):"";switch(p&&h&&(e=r(k+e,k.length?f-B.length:1/0),k=""),n){case"<":e=d+e+B+k;break;case"=":e=d+k+e+B;break;case"^":e=k.slice(0,N=k.length>>1)+d+e+B+k.slice(N);break;default:e=k+d+e+B}return s(e)}return g=void 0===g?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g)),B.toString=function(){return e+""},B}return{format:A,formatPrefix:function(e,t){var n=A(((e=Hv(e)).type="f",e)),r=3*Math.max(-8,Math.min(8,Math.floor(Wv(t)/3))),i=Math.pow(10,-r),a=$v[8+r/3];return function(e){return n(i*e)+a}}}}function ty(e,t,n,r){var i,a=Nm(e,t,n);switch((r=Hv(null==r?",f":r)).type){case"s":var o=Math.max(Math.abs(e),Math.abs(t));return null!=r.precision||isNaN(i=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Wv(t)/3)))-Wv(Math.abs(e)))}(a,o))||(r.precision=i),Jv(r,o);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Wv(t)-Wv(e))+1}(a,Math.max(Math.abs(e),Math.abs(t))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(e){return Math.max(0,-Wv(Math.abs(e)))}(a))||(r.precision=i-2*("%"===r.type))}return Yv(r)}function ny(e){var t=e.domain;return e.ticks=function(e){var n=t();return Bm(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){var r=t();return ty(r[0],r[r.length-1],null==e?10:e,n)},e.nice=function(n){null==n&&(n=10);var r,i,a=t(),o=0,s=a.length-1,l=a[o],c=a[s],u=10;for(c<l&&(i=l,l=c,c=i,i=o,o=s,s=i);u-- >0;){if((i=Cm(l,c,n))===r)return a[o]=l,a[s]=c,t(a);if(i>0)l=Math.floor(l/i)*i,c=Math.ceil(c/i)*i;else{if(!(i<0))break;l=Math.ceil(l*i)/i,c=Math.floor(c*i)/i}r=i}return e},e}function ry(){var e=Mv();return e.copy=function(){return Dv(e,ry())},sm.apply(e,arguments),ny(e)}function iy(e){var t;function n(e){return null==e||isNaN(e=+e)?t:e}return n.invert=n,n.domain=n.range=function(t){return arguments.length?(e=Array.from(t,Iv),n):e.slice()},n.unknown=function(e){return arguments.length?(t=e,n):t},n.copy=function(){return iy(e).unknown(t)},e=arguments.length?Array.from(e,Iv):[0,1],ny(n)}function ay(e,t){var n,r=0,i=(e=e.slice()).length-1,a=e[r],o=e[i];return o<a&&(n=r,r=i,i=n,n=a,a=o,o=n),e[r]=t.floor(a),e[i]=t.ceil(o),e}function oy(e){return Math.log(e)}function sy(e){return Math.exp(e)}function ly(e){return-Math.log(-e)}function cy(e){return-Math.exp(-e)}function uy(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Ay(e){return(t,n)=>-e(-t,n)}function dy(e){const t=e(oy,sy),n=t.domain;let r,i,a=10;function o(){return r=function(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}(a),i=function(e){return 10===e?uy:e===Math.E?Math.exp:t=>Math.pow(e,t)}(a),n()[0]<0?(r=Ay(r),i=Ay(i),e(ly,cy)):e(oy,sy),t}return t.base=function(e){return arguments.length?(a=+e,o()):a},t.domain=function(e){return arguments.length?(n(e),o()):n()},t.ticks=e=>{const t=n();let o=t[0],s=t[t.length-1];const l=s<o;l&&([o,s]=[s,o]);let c,u,A=r(o),d=r(s);const h=null==e?10:+e;let f=[];if(!(a%1)&&d-A<h){if(A=Math.floor(A),d=Math.ceil(d),o>0){for(;A<=d;++A)for(c=1;c<a;++c)if(u=A<0?c/i(-A):c*i(A),!(u<o)){if(u>s)break;f.push(u)}}else for(;A<=d;++A)for(c=a-1;c>=1;--c)if(u=A>0?c/i(-A):c*i(A),!(u<o)){if(u>s)break;f.push(u)}2*f.length<h&&(f=Bm(o,s,h))}else f=Bm(A,d,Math.min(d-A,h)).map(i);return l?f.reverse():f},t.tickFormat=(e,n)=>{if(null==e&&(e=10),null==n&&(n=10===a?"s":","),"function"!==typeof n&&(a%1||null!=(n=Hv(n)).precision||(n.trim=!0),n=Yv(n)),e===1/0)return n;const o=Math.max(1,a*e/t.ticks().length);return e=>{let t=e/i(Math.round(r(e)));return t*a<a-.5&&(t*=a),t<=o?n(e):""}},t.nice=()=>n(ay(n(),{floor:e=>i(Math.floor(r(e))),ceil:e=>i(Math.ceil(r(e)))})),t}function hy(){const e=dy(Tv()).domain([1,10]);return e.copy=()=>Dv(e,hy()).base(e.base()),sm.apply(e,arguments),e}function fy(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function py(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function gy(e){var t=1,n=e(fy(t),py(t));return n.constant=function(n){return arguments.length?e(fy(t=+n),py(t)):t},ny(n)}function my(){var e=gy(Tv());return e.copy=function(){return Dv(e,my()).constant(e.constant())},sm.apply(e,arguments)}function vy(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function yy(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function by(e){return e<0?-e*e:e*e}function wy(e){var t=e(Uv,Uv),n=1;return t.exponent=function(t){return arguments.length?1===(n=+t)?e(Uv,Uv):.5===n?e(yy,by):e(vy(n),vy(1/n)):n},ny(t)}function xy(){var e=wy(Tv());return e.copy=function(){return Dv(e,xy()).exponent(e.exponent())},sm.apply(e,arguments),e}function By(){return xy.apply(null,arguments).exponent(.5)}function Cy(e){return Math.sign(e)*e*e}function Ny(){var e,t=Mv(),n=[0,1],r=!1;function i(n){var i=function(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}(t(n));return isNaN(i)?e:r?Math.round(i):i}return i.invert=function(e){return t.invert(Cy(e))},i.domain=function(e){return arguments.length?(t.domain(e),i):t.domain()},i.range=function(e){return arguments.length?(t.range((n=Array.from(e,Iv)).map(Cy)),i):n.slice()},i.rangeRound=function(e){return i.range(e).round(!0)},i.round=function(e){return arguments.length?(r=!!e,i):r},i.clamp=function(e){return arguments.length?(t.clamp(e),i):t.clamp()},i.unknown=function(t){return arguments.length?(e=t,i):e},i.copy=function(){return Ny(t.domain(),n).round(r).clamp(t.clamp()).unknown(e)},sm.apply(i,arguments),ny(i)}function ky(e,t){let n;if(void 0===t)for(const r of e)null!=r&&(n<r||void 0===n&&r>=r)&&(n=r);else{let r=-1;for(let i of e)null!=(i=t(i,++r,e))&&(n<i||void 0===n&&i>=i)&&(n=i)}return n}function _y(e,t){let n;if(void 0===t)for(const r of e)null!=r&&(n>r||void 0===n&&r>=r)&&(n=r);else{let r=-1;for(let i of e)null!=(i=t(i,++r,e))&&(n>i||void 0===n&&i>=i)&&(n=i)}return n}function Ey(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:km;if(e===km)return Sy;if("function"!==typeof e)throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||0===r?r:(0===e(n,n))-(0===e(t,t))}}function Sy(e,t){return(null==e||!(e>=e))-(null==t||!(t>=t))||(e<t?-1:e>t?1:0)}function Fy(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0,i=arguments.length>4?arguments[4]:void 0;if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=void 0===i?Sy:Ey(i);r>n;){if(r-n>600){const a=r-n+1,o=t-n+1,s=Math.log(a),l=.5*Math.exp(2*s/3),c=.5*Math.sqrt(s*l*(a-l)/a)*(o-a/2<0?-1:1);Fy(e,t,Math.max(n,Math.floor(t-o*l/a+c)),Math.min(r,Math.floor(t+(a-o)*l/a+c)),i)}const a=e[t];let o=n,s=r;for(Iy(e,n,t),i(e[r],a)>0&&Iy(e,n,r);o<s;){for(Iy(e,o,s),++o,--s;i(e[o],a)<0;)++o;for(;i(e[s],a)>0;)--s}0===i(e[n],a)?Iy(e,n,s):(++s,Iy(e,s,r)),s<=t&&(n=s+1),t<=s&&(r=s-1)}return e}function Iy(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function jy(e,t,n){if(e=Float64Array.from(function*(e,t){if(void 0===t)for(let n of e)null!=n&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)null!=(r=t(r,++n,e))&&(r=+r)>=r&&(yield r)}}(e,n)),(r=e.length)&&!isNaN(t=+t)){if(t<=0||r<2)return _y(e);if(t>=1)return ky(e);var r,i=(r-1)*t,a=Math.floor(i),o=ky(Fy(e,a).subarray(0,a+1));return o+(_y(e.subarray(a+1))-o)*(i-a)}}function Uy(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Fm;if((r=e.length)&&!isNaN(t=+t)){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,a=Math.floor(i),o=+n(e[a],a,e);return o+(+n(e[a+1],a+1,e)-o)*(i-a)}}function Oy(){var e,t=[],n=[],r=[];function i(){var e=0,i=Math.max(1,n.length);for(r=new Array(i-1);++e<i;)r[e-1]=Uy(t,e/i);return a}function a(t){return null==t||isNaN(t=+t)?e:n[Um(r,t)]}return a.invertExtent=function(e){var i=n.indexOf(e);return i<0?[NaN,NaN]:[i>0?r[i-1]:t[0],i<r.length?r[i]:t[t.length-1]]},a.domain=function(e){if(!arguments.length)return t.slice();t=[];for(let n of e)null==n||isNaN(n=+n)||t.push(n);return t.sort(km),i()},a.range=function(e){return arguments.length?(n=Array.from(e),i()):n.slice()},a.unknown=function(t){return arguments.length?(e=t,a):e},a.quantiles=function(){return r.slice()},a.copy=function(){return Oy().domain(t).range(n).unknown(e)},sm.apply(a,arguments)}function Py(){var e,t=0,n=1,r=1,i=[.5],a=[0,1];function o(t){return null!=t&&t<=t?a[Um(i,t,0,r)]:e}function s(){var e=-1;for(i=new Array(r);++e<r;)i[e]=((e+1)*n-(e-r)*t)/(r+1);return o}return o.domain=function(e){return arguments.length?([t,n]=e,t=+t,n=+n,s()):[t,n]},o.range=function(e){return arguments.length?(r=(a=Array.from(e)).length-1,s()):a.slice()},o.invertExtent=function(e){var o=a.indexOf(e);return o<0?[NaN,NaN]:o<1?[t,i[0]]:o>=r?[i[r-1],n]:[i[o-1],i[o]]},o.unknown=function(t){return arguments.length?(e=t,o):o},o.thresholds=function(){return i.slice()},o.copy=function(){return Py().domain([t,n]).range(a).unknown(e)},sm.apply(ny(o),arguments)}function Ly(){var e,t=[.5],n=[0,1],r=1;function i(i){return null!=i&&i<=i?n[Um(t,i,0,r)]:e}return i.domain=function(e){return arguments.length?(t=Array.from(e),r=Math.min(t.length,n.length-1),i):t.slice()},i.range=function(e){return arguments.length?(n=Array.from(e),r=Math.min(t.length,n.length-1),i):n.slice()},i.invertExtent=function(e){var r=n.indexOf(e);return[t[r-1],t[r]]},i.unknown=function(t){return arguments.length?(e=t,i):e},i.copy=function(){return Ly().domain(t).range(n).unknown(e)},sm.apply(i,arguments)}Xv=ey({thousands:",",grouping:[3],currency:["$",""]}),Yv=Xv.format,Jv=Xv.formatPrefix;const Dy=1e3,Ty=6e4,My=36e5,Qy=864e5,Ry=6048e5,Hy=2592e6,zy=31536e6,Ky=new Date,Wy=new Date;function Vy(e,t,n,r){function i(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return i.floor=t=>(e(t=new Date(+t)),t),i.ceil=n=>(e(n=new Date(n-1)),t(n,1),e(n),n),i.round=e=>{const t=i(e),n=i.ceil(e);return e-t<n-e?t:n},i.offset=(e,n)=>(t(e=new Date(+e),null==n?1:Math.floor(n)),e),i.range=(n,r,a)=>{const o=[];if(n=i.ceil(n),a=null==a?1:Math.floor(a),!(n<r)||!(a>0))return o;let s;do{o.push(s=new Date(+n)),t(n,a),e(n)}while(s<n&&n<r);return o},i.filter=n=>Vy(t=>{if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)},(e,r)=>{if(e>=e)if(r<0)for(;++r<=0;)for(;t(e,-1),!n(e););else for(;--r>=0;)for(;t(e,1),!n(e););}),n&&(i.count=(t,r)=>(Ky.setTime(+t),Wy.setTime(+r),e(Ky),e(Wy),Math.floor(n(Ky,Wy))),i.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?i.filter(r?t=>r(t)%e===0:t=>i.count(0,t)%e===0):i:null)),i}const Gy=Vy(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Gy.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?Vy(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):Gy:null);Gy.range;const qy=Vy(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Dy)},(e,t)=>(t-e)/Dy,e=>e.getUTCSeconds()),Xy=(qy.range,Vy(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Dy)},(e,t)=>{e.setTime(+e+t*Ty)},(e,t)=>(t-e)/Ty,e=>e.getMinutes())),Yy=(Xy.range,Vy(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Ty)},(e,t)=>(t-e)/Ty,e=>e.getUTCMinutes())),Jy=(Yy.range,Vy(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Dy-e.getMinutes()*Ty)},(e,t)=>{e.setTime(+e+t*My)},(e,t)=>(t-e)/My,e=>e.getHours())),Zy=(Jy.range,Vy(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*My)},(e,t)=>(t-e)/My,e=>e.getUTCHours())),$y=(Zy.range,Vy(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Ty)/Qy,e=>e.getDate()-1)),eb=($y.range,Vy(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Qy,e=>e.getUTCDate()-1)),tb=(eb.range,Vy(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Qy,e=>Math.floor(e/Qy)));tb.range;function nb(e){return Vy(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(e,t)=>{e.setDate(e.getDate()+7*t)},(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Ty)/Ry)}const rb=nb(0),ib=nb(1),ab=nb(2),ob=nb(3),sb=nb(4),lb=nb(5),cb=nb(6);rb.range,ib.range,ab.range,ob.range,sb.range,lb.range,cb.range;function ub(e){return Vy(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+7*t)},(e,t)=>(t-e)/Ry)}const Ab=ub(0),db=ub(1),hb=ub(2),fb=ub(3),pb=ub(4),gb=ub(5),mb=ub(6),vb=(Ab.range,db.range,hb.range,fb.range,pb.range,gb.range,mb.range,Vy(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear()),e=>e.getMonth())),yb=(vb.range,Vy(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear()),e=>e.getUTCMonth())),bb=(yb.range,Vy(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear()));bb.every=e=>isFinite(e=Math.floor(e))&&e>0?Vy(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)}):null;bb.range;const wb=Vy(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());wb.every=e=>isFinite(e=Math.floor(e))&&e>0?Vy(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)}):null;wb.range;function xb(e,t,n,r,i,a){const o=[[qy,1,Dy],[qy,5,5e3],[qy,15,15e3],[qy,30,3e4],[a,1,Ty],[a,5,3e5],[a,15,9e5],[a,30,18e5],[i,1,My],[i,3,108e5],[i,6,216e5],[i,12,432e5],[r,1,Qy],[r,2,1728e5],[n,1,Ry],[t,1,Hy],[t,3,7776e6],[e,1,zy]];function s(t,n,r){const i=Math.abs(n-t)/r,a=Em(e=>{let[,,t]=e;return t}).right(o,i);if(a===o.length)return e.every(Nm(t/zy,n/zy,r));if(0===a)return Gy.every(Math.max(Nm(t,n,r),1));const[s,l]=o[i/o[a-1][2]<o[a][2]/i?a-1:a];return s.every(l)}return[function(e,t,n){const r=t<e;r&&([e,t]=[t,e]);const i=n&&"function"===typeof n.range?n:s(e,t,n),a=i?i.range(e,+t+1):[];return r?a.reverse():a},s]}const[Bb,Cb]=xb(wb,yb,Ab,tb,Zy,Yy),[Nb,kb]=xb(bb,vb,rb,$y,Jy,Xy);function _b(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Eb(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Sb(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}var Fb,Ib,jb,Ub={"-":"",_:" ",0:"0"},Ob=/^\s*\d+/,Pb=/^%/,Lb=/[\\^$*+?|[\]().{}]/g;function Db(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(t)+i:i)}function Tb(e){return e.replace(Lb,"\\$&")}function Mb(e){return new RegExp("^(?:"+e.map(Tb).join("|")+")","i")}function Qb(e){return new Map(e.map((e,t)=>[e.toLowerCase(),t]))}function Rb(e,t,n){var r=Ob.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function Hb(e,t,n){var r=Ob.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function zb(e,t,n){var r=Ob.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function Kb(e,t,n){var r=Ob.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function Wb(e,t,n){var r=Ob.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function Vb(e,t,n){var r=Ob.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function Gb(e,t,n){var r=Ob.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function qb(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Xb(e,t,n){var r=Ob.exec(t.slice(n,n+1));return r?(e.q=3*r[0]-3,n+r[0].length):-1}function Yb(e,t,n){var r=Ob.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function Jb(e,t,n){var r=Ob.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function Zb(e,t,n){var r=Ob.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function $b(e,t,n){var r=Ob.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function ew(e,t,n){var r=Ob.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function tw(e,t,n){var r=Ob.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function nw(e,t,n){var r=Ob.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function rw(e,t,n){var r=Ob.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function iw(e,t,n){var r=Pb.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function aw(e,t,n){var r=Ob.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function ow(e,t,n){var r=Ob.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function sw(e,t){return Db(e.getDate(),t,2)}function lw(e,t){return Db(e.getHours(),t,2)}function cw(e,t){return Db(e.getHours()%12||12,t,2)}function uw(e,t){return Db(1+$y.count(bb(e),e),t,3)}function Aw(e,t){return Db(e.getMilliseconds(),t,3)}function dw(e,t){return Aw(e,t)+"000"}function hw(e,t){return Db(e.getMonth()+1,t,2)}function fw(e,t){return Db(e.getMinutes(),t,2)}function pw(e,t){return Db(e.getSeconds(),t,2)}function gw(e){var t=e.getDay();return 0===t?7:t}function mw(e,t){return Db(rb.count(bb(e)-1,e),t,2)}function vw(e){var t=e.getDay();return t>=4||0===t?sb(e):sb.ceil(e)}function yw(e,t){return e=vw(e),Db(sb.count(bb(e),e)+(4===bb(e).getDay()),t,2)}function bw(e){return e.getDay()}function ww(e,t){return Db(ib.count(bb(e)-1,e),t,2)}function xw(e,t){return Db(e.getFullYear()%100,t,2)}function Bw(e,t){return Db((e=vw(e)).getFullYear()%100,t,2)}function Cw(e,t){return Db(e.getFullYear()%1e4,t,4)}function Nw(e,t){var n=e.getDay();return Db((e=n>=4||0===n?sb(e):sb.ceil(e)).getFullYear()%1e4,t,4)}function kw(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Db(t/60|0,"0",2)+Db(t%60,"0",2)}function _w(e,t){return Db(e.getUTCDate(),t,2)}function Ew(e,t){return Db(e.getUTCHours(),t,2)}function Sw(e,t){return Db(e.getUTCHours()%12||12,t,2)}function Fw(e,t){return Db(1+eb.count(wb(e),e),t,3)}function Iw(e,t){return Db(e.getUTCMilliseconds(),t,3)}function jw(e,t){return Iw(e,t)+"000"}function Uw(e,t){return Db(e.getUTCMonth()+1,t,2)}function Ow(e,t){return Db(e.getUTCMinutes(),t,2)}function Pw(e,t){return Db(e.getUTCSeconds(),t,2)}function Lw(e){var t=e.getUTCDay();return 0===t?7:t}function Dw(e,t){return Db(Ab.count(wb(e)-1,e),t,2)}function Tw(e){var t=e.getUTCDay();return t>=4||0===t?pb(e):pb.ceil(e)}function Mw(e,t){return e=Tw(e),Db(pb.count(wb(e),e)+(4===wb(e).getUTCDay()),t,2)}function Qw(e){return e.getUTCDay()}function Rw(e,t){return Db(db.count(wb(e)-1,e),t,2)}function Hw(e,t){return Db(e.getUTCFullYear()%100,t,2)}function zw(e,t){return Db((e=Tw(e)).getUTCFullYear()%100,t,2)}function Kw(e,t){return Db(e.getUTCFullYear()%1e4,t,4)}function Ww(e,t){var n=e.getUTCDay();return Db((e=n>=4||0===n?pb(e):pb.ceil(e)).getUTCFullYear()%1e4,t,4)}function Vw(){return"+0000"}function Gw(){return"%"}function qw(e){return+e}function Xw(e){return Math.floor(+e/1e3)}function Yw(e){return new Date(e)}function Jw(e){return e instanceof Date?+e:+new Date(+e)}function Zw(e,t,n,r,i,a,o,s,l,c){var u=Mv(),A=u.invert,d=u.domain,h=c(".%L"),f=c(":%S"),p=c("%I:%M"),g=c("%I %p"),m=c("%a %d"),v=c("%b %d"),y=c("%B"),b=c("%Y");function w(e){return(l(e)<e?h:s(e)<e?f:o(e)<e?p:a(e)<e?g:r(e)<e?i(e)<e?m:v:n(e)<e?y:b)(e)}return u.invert=function(e){return new Date(A(e))},u.domain=function(e){return arguments.length?d(Array.from(e,Jw)):d().map(Yw)},u.ticks=function(t){var n=d();return e(n[0],n[n.length-1],null==t?10:t)},u.tickFormat=function(e,t){return null==t?w:c(t)},u.nice=function(e){var n=d();return e&&"function"===typeof e.range||(e=t(n[0],n[n.length-1],null==e?10:e)),e?d(ay(n,e)):u},u.copy=function(){return Dv(u,Zw(e,t,n,r,i,a,o,s,l,c))},u}function $w(){return sm.apply(Zw(Nb,kb,bb,vb,rb,$y,Jy,Xy,qy,Ib).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function ex(){return sm.apply(Zw(Bb,Cb,wb,yb,Ab,eb,Zy,Yy,qy,jb).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function tx(){var e,t,n,r,i,a=0,o=1,s=Uv,l=!1;function c(t){return null==t||isNaN(t=+t)?i:s(0===n?.5:(t=(r(t)-e)*n,l?Math.max(0,Math.min(1,t)):t))}function u(e){return function(t){var n,r;return arguments.length?([n,r]=t,s=e(n,r),c):[s(0),s(1)]}}return c.domain=function(i){return arguments.length?([a,o]=i,e=r(a=+a),t=r(o=+o),n=e===t?0:1/(t-e),c):[a,o]},c.clamp=function(e){return arguments.length?(l=!!e,c):l},c.interpolator=function(e){return arguments.length?(s=e,c):s},c.range=u(Sv),c.rangeRound=u(Fv),c.unknown=function(e){return arguments.length?(i=e,c):i},function(i){return r=i,e=i(a),t=i(o),n=e===t?0:1/(t-e),c}}function nx(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function rx(){var e=ny(tx()(Uv));return e.copy=function(){return nx(e,rx())},lm.apply(e,arguments)}function ix(){var e=dy(tx()).domain([1,10]);return e.copy=function(){return nx(e,ix()).base(e.base())},lm.apply(e,arguments)}function ax(){var e=gy(tx());return e.copy=function(){return nx(e,ax()).constant(e.constant())},lm.apply(e,arguments)}function ox(){var e=wy(tx());return e.copy=function(){return nx(e,ox()).exponent(e.exponent())},lm.apply(e,arguments)}function sx(){return ox.apply(null,arguments).exponent(.5)}function lx(){var e=[],t=Uv;function n(n){if(null!=n&&!isNaN(n=+n))return t((Um(e,n,1)-1)/(e.length-1))}return n.domain=function(t){if(!arguments.length)return e.slice();e=[];for(let n of t)null==n||isNaN(n=+n)||e.push(n);return e.sort(km),n},n.interpolator=function(e){return arguments.length?(t=e,n):t},n.range=function(){return e.map((n,r)=>t(r/(e.length-1)))},n.quantiles=function(t){return Array.from({length:t+1},(n,r)=>jy(e,r/t))},n.copy=function(){return lx(t).domain(e)},lm.apply(n,arguments)}function cx(){var e,t,n,r,i,a,o,s=0,l=.5,c=1,u=1,A=Uv,d=!1;function h(e){return isNaN(e=+e)?o:(e=.5+((e=+a(e))-t)*(u*e<u*t?r:i),A(d?Math.max(0,Math.min(1,e)):e))}function f(e){return function(t){var n,r,i;return arguments.length?([n,r,i]=t,A=function(e,t){void 0===t&&(t=e,e=Sv);for(var n=0,r=t.length-1,i=t[0],a=new Array(r<0?0:r);n<r;)a[n]=e(i,i=t[++n]);return function(e){var t=Math.max(0,Math.min(r-1,Math.floor(e*=r)));return a[t](e-t)}}(e,[n,r,i]),h):[A(0),A(.5),A(1)]}}return h.domain=function(o){return arguments.length?([s,l,c]=o,e=a(s=+s),t=a(l=+l),n=a(c=+c),r=e===t?0:.5/(t-e),i=t===n?0:.5/(n-t),u=t<e?-1:1,h):[s,l,c]},h.clamp=function(e){return arguments.length?(d=!!e,h):d},h.interpolator=function(e){return arguments.length?(A=e,h):A},h.range=f(Sv),h.rangeRound=f(Fv),h.unknown=function(e){return arguments.length?(o=e,h):o},function(o){return a=o,e=o(s),t=o(l),n=o(c),r=e===t?0:.5/(t-e),i=t===n?0:.5/(n-t),u=t<e?-1:1,h}}function ux(){var e=ny(cx()(Uv));return e.copy=function(){return nx(e,ux())},lm.apply(e,arguments)}function Ax(){var e=dy(cx()).domain([.1,1,10]);return e.copy=function(){return nx(e,Ax()).base(e.base())},lm.apply(e,arguments)}function dx(){var e=gy(cx());return e.copy=function(){return nx(e,dx()).constant(e.constant())},lm.apply(e,arguments)}function hx(){var e=wy(cx());return e.copy=function(){return nx(e,hx()).exponent(e.exponent())},lm.apply(e,arguments)}function fx(){return hx.apply(null,arguments).exponent(.5)}!function(e){Fb=function(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,a=e.days,o=e.shortDays,s=e.months,l=e.shortMonths,c=Mb(i),u=Qb(i),A=Mb(a),d=Qb(a),h=Mb(o),f=Qb(o),p=Mb(s),g=Qb(s),m=Mb(l),v=Qb(l),y={a:function(e){return o[e.getDay()]},A:function(e){return a[e.getDay()]},b:function(e){return l[e.getMonth()]},B:function(e){return s[e.getMonth()]},c:null,d:sw,e:sw,f:dw,g:Bw,G:Nw,H:lw,I:cw,j:uw,L:Aw,m:hw,M:fw,p:function(e){return i[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:qw,s:Xw,S:pw,u:gw,U:mw,V:yw,w:bw,W:ww,x:null,X:null,y:xw,Y:Cw,Z:kw,"%":Gw},b={a:function(e){return o[e.getUTCDay()]},A:function(e){return a[e.getUTCDay()]},b:function(e){return l[e.getUTCMonth()]},B:function(e){return s[e.getUTCMonth()]},c:null,d:_w,e:_w,f:jw,g:zw,G:Ww,H:Ew,I:Sw,j:Fw,L:Iw,m:Uw,M:Ow,p:function(e){return i[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:qw,s:Xw,S:Pw,u:Lw,U:Dw,V:Mw,w:Qw,W:Rw,x:null,X:null,y:Hw,Y:Kw,Z:Vw,"%":Gw},w={a:function(e,t,n){var r=h.exec(t.slice(n));return r?(e.w=f.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(e,t,n){var r=A.exec(t.slice(n));return r?(e.w=d.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(e,t,n){var r=m.exec(t.slice(n));return r?(e.m=v.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(e,t,n){var r=p.exec(t.slice(n));return r?(e.m=g.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(e,n,r){return C(e,t,n,r)},d:Jb,e:Jb,f:rw,g:Gb,G:Vb,H:$b,I:$b,j:Zb,L:nw,m:Yb,M:ew,p:function(e,t,n){var r=c.exec(t.slice(n));return r?(e.p=u.get(r[0].toLowerCase()),n+r[0].length):-1},q:Xb,Q:aw,s:ow,S:tw,u:Hb,U:zb,V:Kb,w:Rb,W:Wb,x:function(e,t,r){return C(e,n,t,r)},X:function(e,t,n){return C(e,r,t,n)},y:Gb,Y:Vb,Z:qb,"%":iw};function x(e,t){return function(n){var r,i,a,o=[],s=-1,l=0,c=e.length;for(n instanceof Date||(n=new Date(+n));++s<c;)37===e.charCodeAt(s)&&(o.push(e.slice(l,s)),null!=(i=Ub[r=e.charAt(++s)])?r=e.charAt(++s):i="e"===r?" ":"0",(a=t[r])&&(r=a(n,i)),o.push(r),l=s+1);return o.push(e.slice(l,s)),o.join("")}}function B(e,t){return function(n){var r,i,a=Sb(1900,void 0,1);if(C(a,e,n+="",0)!=n.length)return null;if("Q"in a)return new Date(a.Q);if("s"in a)return new Date(1e3*a.s+("L"in a?a.L:0));if(t&&!("Z"in a)&&(a.Z=0),"p"in a&&(a.H=a.H%12+12*a.p),void 0===a.m&&(a.m="q"in a?a.q:0),"V"in a){if(a.V<1||a.V>53)return null;"w"in a||(a.w=1),"Z"in a?(i=(r=Eb(Sb(a.y,0,1))).getUTCDay(),r=i>4||0===i?db.ceil(r):db(r),r=eb.offset(r,7*(a.V-1)),a.y=r.getUTCFullYear(),a.m=r.getUTCMonth(),a.d=r.getUTCDate()+(a.w+6)%7):(i=(r=_b(Sb(a.y,0,1))).getDay(),r=i>4||0===i?ib.ceil(r):ib(r),r=$y.offset(r,7*(a.V-1)),a.y=r.getFullYear(),a.m=r.getMonth(),a.d=r.getDate()+(a.w+6)%7)}else("W"in a||"U"in a)&&("w"in a||(a.w="u"in a?a.u%7:"W"in a?1:0),i="Z"in a?Eb(Sb(a.y,0,1)).getUTCDay():_b(Sb(a.y,0,1)).getDay(),a.m=0,a.d="W"in a?(a.w+6)%7+7*a.W-(i+5)%7:a.w+7*a.U-(i+6)%7);return"Z"in a?(a.H+=a.Z/100|0,a.M+=a.Z%100,Eb(a)):_b(a)}}function C(e,t,n,r){for(var i,a,o=0,s=t.length,l=n.length;o<s;){if(r>=l)return-1;if(37===(i=t.charCodeAt(o++))){if(i=t.charAt(o++),!(a=w[i in Ub?t.charAt(o++):i])||(r=a(e,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return y.x=x(n,y),y.X=x(r,y),y.c=x(t,y),b.x=x(n,b),b.X=x(r,b),b.c=x(t,b),{format:function(e){var t=x(e+="",y);return t.toString=function(){return e},t},parse:function(e){var t=B(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=x(e+="",b);return t.toString=function(){return e},t},utcParse:function(e){var t=B(e+="",!0);return t.toString=function(){return e},t}}}(e),Ib=Fb.format,Fb.parse,jb=Fb.utcFormat,Fb.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var px=e=>e.chartData,gx=Yp([px],e=>{var t=null!=e.chartData?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),mx=(e,t,n,r)=>r?gx(e):px(e);function vx(e){if(Array.isArray(e)&&2===e.length){var[t,n]=e;if(OA(t)&&OA(n))return!0}return!1}function yx(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function bx(e,t){if(t&&"function"!==typeof e&&Array.isArray(e)&&2===e.length){var n,r,[i,a]=e;if(OA(i))n=i;else if("function"===typeof i)return;if(OA(a))r=a;else if("function"===typeof a)return;var o=[n,r];if(vx(o))return o}}var wx=n(4441),xx=n.n(wx),Bx=e=>e,Cx={"@@functional/placeholder":!0},Nx=e=>e===Cx,kx=e=>function t(){return 0===arguments.length||1===arguments.length&&Nx(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},_x=(e,t)=>1===e?t:kx(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=r.filter(e=>e!==Cx).length;return a>=e?t(...r):_x(e-a,kx(function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];var a=r.map(e=>Nx(e)?n.shift():e);return t(...a,...n)}))}),Ex=(e,t)=>{for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},Sx=(e=>_x(e.length,e))((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(e=>t[e]).map(e)),Fx=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join("");function Ix(e){return 0===e?1:Math.floor(new(xx())(e).abs().log(10).toNumber())+1}function jx(e,t,n){for(var r=new(xx())(e),i=0,a=[];r.lt(t)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var Ux=e=>{var[t,n]=e,[r,i]=[t,n];return t>n&&([r,i]=[n,t]),[r,i]},Ox=(e,t,n)=>{if(e.lte(0))return new(xx())(0);var r=Ix(e.toNumber()),i=new(xx())(10).pow(r),a=e.div(i),o=1!==r?.05:.1,s=new(xx())(Math.ceil(a.div(o).toNumber())).add(n).mul(o).mul(i);return t?new(xx())(s.toNumber()):new(xx())(Math.ceil(s.toNumber()))},Px=(e,t,n)=>{var r=new(xx())(1),i=new(xx())(e);if(!i.isint()&&n){var a=Math.abs(e);a<1?(r=new(xx())(10).pow(Ix(e)-1),i=new(xx())(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new(xx())(Math.floor(e)))}else 0===e?i=new(xx())(Math.floor((t-1)/2)):n||(i=new(xx())(Math.floor(e)));var o=Math.floor((t-1)/2),s=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!t.length)return Bx;var r=t.reverse(),i=r[0],a=r.slice(1);return function(){return a.reduce((e,t)=>t(e),i(...arguments))}}(Sx(e=>i.add(new(xx())(e-o).mul(r)).toNumber()),Ex);return s(0,t)},Lx=function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(!Number.isFinite((t-e)/(n-1)))return{step:new(xx())(0),tickMin:new(xx())(0),tickMax:new(xx())(0)};var a,o=Ox(new(xx())(t).sub(e).div(n-1),r,i);a=e<=0&&t>=0?new(xx())(0):(a=new(xx())(e).add(t).div(2)).sub(new(xx())(a).mod(o));var s=Math.ceil(a.sub(e).div(o).toNumber()),l=Math.ceil(new(xx())(t).sub(a).div(o).toNumber()),c=s+l+1;return c>n?Lx(e,t,n,r,i+1):(c<n&&(l=t>0?l+(n-c):l,s=t>0?s:s+(n-c)),{step:o,tickMin:a.sub(new(xx())(s).mul(o)),tickMax:a.add(new(xx())(l).mul(o))})},Dx=e=>e.rootProps.maxBarSize,Tx=e=>e.rootProps.barCategoryGap,Mx=e=>e.rootProps.stackOffset,Qx=e=>e.rootProps.reverseStackOrder,Rx=e=>e.options.chartName,Hx=e=>e.rootProps.syncId,zx=e=>e.rootProps.syncMethod,Kx=e=>e.options.eventEmitter;function Wx(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Vx(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Wx(Object(n),!0).forEach(function(t){Gx(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wx(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Gx(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var qx=Math.PI/180,Xx=e=>180*e/Math.PI,Yx=(e,t,n,r)=>({x:e+Math.cos(-qx*r)*n,y:t+Math.sin(-qx*r)*n}),Jx=(e,t)=>{var{x:n,y:r}=e,{cx:i,cy:a}=t,o=((e,t)=>{var{x:n,y:r}=e,{x:i,y:a}=t;return Math.sqrt((n-i)**2+(r-a)**2)})({x:n,y:r},{x:i,y:a});if(o<=0)return{radius:o,angle:0};var s=(n-i)/o,l=Math.acos(s);return r>a&&(l=2*Math.PI-l),{radius:o,angle:Xx(l),angleInRadian:l}},Zx=(e,t)=>{var{startAngle:n,endAngle:r}=t,i=Math.floor(n/360),a=Math.floor(r/360);return e+360*Math.min(i,a)},$x=(e,t)=>{var{chartX:n,chartY:r}=e,{radius:i,angle:a}=Jx({x:n,y:r},t),{innerRadius:o,outerRadius:s}=t;if(i<o||i>s)return null;if(0===i)return null;var l,{startAngle:c,endAngle:u}=(e=>{var{startAngle:t,endAngle:n}=e,r=Math.floor(t/360),i=Math.floor(n/360),a=Math.min(r,i);return{startAngle:t-360*a,endAngle:n-360*a}})(t),A=a;if(c<=u){for(;A>u;)A-=360;for(;A<c;)A+=360;l=A>=c&&A<=u}else{for(;A>c;)A-=360;for(;A<u;)A+=360;l=A>=u&&A<=c}return l?Vx(Vx({},t),{},{radius:i,angle:Zx(A,t)}):null},eB={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},tB=0,nB="auto",rB=!0,iB=!1,aB=!0,oB=0,sB="auto",lB=!0,cB=5,uB=(e,t)=>{if(e&&t)return null!==e&&void 0!==e&&e.reversed?[t[1],t[0]]:t},AB={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:tB,includeHidden:!1,name:void 0,reversed:!1,scale:nB,tick:rB,tickCount:void 0,ticks:void 0,type:"category",unit:void 0},dB={allowDataOverflow:iB,allowDecimals:!1,allowDuplicatedCategory:aB,dataKey:void 0,domain:void 0,id:oB,includeHidden:!1,name:void 0,reversed:!1,scale:sB,tick:lB,tickCount:cB,ticks:void 0,type:"number",unit:void 0},hB={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,dataKey:void 0,domain:void 0,id:tB,includeHidden:!1,name:void 0,reversed:!1,scale:nB,tick:rB,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},fB={allowDataOverflow:iB,allowDecimals:!1,allowDuplicatedCategory:aB,dataKey:void 0,domain:void 0,id:oB,includeHidden:!1,name:void 0,reversed:!1,scale:sB,tick:lB,tickCount:cB,ticks:void 0,type:"category",unit:void 0},pB=(e,t)=>null!=e.polarAxis.angleAxis[t]?e.polarAxis.angleAxis[t]:"radial"===e.layout.layoutType?hB:AB,gB=(e,t)=>null!=e.polarAxis.radiusAxis[t]?e.polarAxis.radiusAxis[t]:"radial"===e.layout.layoutType?fB:dB,mB=e=>e.polarOptions,vB=Yp([Og,Pg,zg],function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{top:0,right:0,bottom:0,left:0,width:0,height:0,brushBottom:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(t-(n.top||0)-(n.bottom||0)))/2}),yB=Yp([mB,vB],(e,t)=>{if(null!=e)return bA(e.innerRadius,t,0)}),bB=Yp([mB,vB],(e,t)=>{if(null!=e)return bA(e.outerRadius,t,.8*t)}),wB=Yp([mB],e=>{if(null==e)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]}),xB=(Yp([pB,wB],uB),Yp([vB,yB,bB],(e,t,n)=>{if(null!=e&&null!=t&&null!=n)return[t,n]})),BB=(Yp([gB,xB],uB),Yp([nm,mB,yB,bB,Og,Pg],(e,t,n,r,i,a)=>{if(("centric"===e||"radial"===e)&&null!=t&&null!=n&&null!=r){var{cx:o,cy:s,startAngle:l,endAngle:c}=t;return{cx:bA(o,i,i/2),cy:bA(s,a,a/2),innerRadius:n,outerRadius:r,startAngle:l,endAngle:c,clockWise:!1}}})),CB=(e,t)=>t,NB=(e,t,n)=>n;function kB(e){return null===e||void 0===e?void 0:e.id}function _B(e,t,n){var{chartData:r=[]}=t,{allowDuplicatedCategory:i,dataKey:a}=n,o=new Map;return e.forEach(e=>{var t,n=null!==(t=e.data)&&void 0!==t?t:r;if(null!=n&&0!==n.length){var s=kB(e);n.forEach((t,n)=>{var r,l=null==a||i?n:String(bg(t,a,null)),c=bg(t,e.dataKey,0);r=o.has(l)?o.get(l):{},Object.assign(r,{[s]:c}),o.set(l,r)})}}),Array.from(o.values())}function EB(e){return null!=e.stackId&&null!=e.dataKey}var SB=(e,t)=>e===t||null!=e&&null!=t&&(e[0]===t[0]&&e[1]===t[1]);function FB(e,t){return!(!Array.isArray(e)||!Array.isArray(t)||0!==e.length||0!==t.length)||e===t}var IB=e=>{var t=nm(e);return"horizontal"===t?"xAxis":"vertical"===t?"yAxis":"centric"===t?"angleAxis":"radiusAxis"},jB=e=>e.tooltip.settings.axisId;function UB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function OB(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?UB(Object(n),!0).forEach(function(t){PB(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):UB(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function PB(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var LB=[0,"auto"],DB={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},TB=(e,t)=>e.cartesianAxis.xAxis[t],MB=(e,t)=>{var n=TB(e,t);return null==n?DB:n},QB={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:LB,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:60},RB=(e,t)=>e.cartesianAxis.yAxis[t],HB=(e,t)=>{var n=RB(e,t);return null==n?QB:n},zB={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},KB=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return null==n?zB:n},WB=(e,t,n)=>{switch(t){case"xAxis":return MB(e,n);case"yAxis":return HB(e,n);case"zAxis":return KB(e,n);case"angleAxis":return pB(e,n);case"radiusAxis":return gB(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},VB=(e,t,n)=>{switch(t){case"xAxis":return MB(e,n);case"yAxis":return HB(e,n);case"angleAxis":return pB(e,n);case"radiusAxis":return gB(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},GB=e=>e.graphicalItems.cartesianItems.some(e=>"bar"===e.type)||e.graphicalItems.polarItems.some(e=>"radialBar"===e.type);function qB(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var XB=e=>e.graphicalItems.cartesianItems,YB=Yp([CB,NB],qB),JB=(e,t,n)=>e.filter(n).filter(e=>!0===(null===t||void 0===t?void 0:t.includeHidden)||!e.hide),ZB=Yp([XB,WB,YB],JB,{memoizeOptions:{resultEqualityCheck:FB}}),$B=Yp([ZB],e=>e.filter(e=>"area"===e.type||"bar"===e.type).filter(EB)),eC=e=>e.filter(e=>!("stackId"in e)||void 0===e.stackId),tC=Yp([ZB],eC),nC=e=>e.map(e=>e.data).filter(Boolean).flat(1),rC=Yp([ZB],nC,{memoizeOptions:{resultEqualityCheck:FB}}),iC=(e,t)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=t;return e.length>0?e:n.slice(r,i+1)},aC=Yp([rC,mx],iC),oC=(e,t,n)=>null!=(null===t||void 0===t?void 0:t.dataKey)?e.map(e=>({value:bg(e,t.dataKey)})):n.length>0?n.map(e=>e.dataKey).flatMap(t=>e.map(e=>({value:bg(e,t)}))):e.map(e=>({value:e})),sC=Yp([aC,WB,ZB],oC);function lC(e,t){switch(e){case"xAxis":return"x"===t.direction;case"yAxis":return"y"===t.direction;default:return!1}}function cC(e){if(mA(e)||e instanceof Date){var t=Number(e);if(OA(t))return t}}function uC(e){if(Array.isArray(e)){var t=[cC(e[0]),cC(e[1])];return vx(t)?t:void 0}var n=cC(e);if(null!=n)return[n,n]}function AC(e){return e.map(cC).filter(NA)}var dC=e=>{var t=IB(e),n=jB(e);return VB(e,t,n)},hC=Yp([dC],e=>null===e||void 0===e?void 0:e.dataKey),fC=Yp([$B,mx,dC],_B),pC=(e,t,n,r)=>{var i=t.reduce((e,t)=>(null==t.stackId||(null==e[t.stackId]&&(e[t.stackId]=[]),e[t.stackId].push(t)),e),{});return Object.fromEntries(Object.entries(i).map(t=>{var[i,a]=t,o=r?[...a].reverse():a,s=o.map(kB);return[i,{stackedData:kg(e,s,n),graphicalItems:o}]}))},gC=Yp([fC,$B,Mx,Qx],pC),mC=(e,t,n,r)=>{var{dataStartIndex:i,dataEndIndex:a}=t;if(null==r&&"zAxis"!==n){var o=Eg(e,i,a);if(null==o||0!==o[0]||0!==o[1])return o}},vC=Yp([WB],e=>e.allowDataOverflow),yC=e=>{var t;if(null==e||!("domain"in e))return LB;if(null!=e.domain)return e.domain;if(null!=e.ticks){if("number"===e.type){var n=AC(e.ticks);return[Math.min(...n),Math.max(...n)]}if("category"===e.type)return e.ticks.map(String)}return null!==(t=null===e||void 0===e?void 0:e.domain)&&void 0!==t?t:LB},bC=Yp([WB],yC),wC=Yp([bC,vC],bx),xC=Yp([gC,px,CB,wC],mC,{memoizeOptions:{resultEqualityCheck:SB}}),BC=e=>e.errorBars,CC=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.filter(Boolean);if(0!==r.length){var i=r.flat();return[Math.min(...i),Math.max(...i)]}},NC=(e,t,n,r,i)=>{var a,o;if(n.length>0&&e.forEach(e=>{n.forEach(n=>{var s,l,c=null===(s=r[n.id])||void 0===s?void 0:s.filter(e=>lC(i,e)),u=bg(e,null!==(l=t.dataKey)&&void 0!==l?l:n.dataKey),A=function(e,t,n){return!n||"number"!==typeof t||fA(t)?[]:n.length?AC(n.flatMap(n=>{var r,i,a=bg(e,n.dataKey);if(Array.isArray(a)?[r,i]=a:r=i=a,OA(r)&&OA(i))return[t-r,t+i]})):[]}(e,u,c);if(A.length>=2){var d=Math.min(...A),h=Math.max(...A);(null==a||d<a)&&(a=d),(null==o||h>o)&&(o=h)}var f=uC(u);null!=f&&(a=null==a?f[0]:Math.min(a,f[0]),o=null==o?f[1]:Math.max(o,f[1]))})}),null!=(null===t||void 0===t?void 0:t.dataKey)&&e.forEach(e=>{var n=uC(bg(e,t.dataKey));null!=n&&(a=null==a?n[0]:Math.min(a,n[0]),o=null==o?n[1]:Math.max(o,n[1]))}),OA(a)&&OA(o))return[a,o]},kC=Yp([aC,WB,tC,BC,CB],NC,{memoizeOptions:{resultEqualityCheck:SB}});function _C(e){var{value:t}=e;if(mA(t)||t instanceof Date)return t}var EC=e=>e.referenceElements.dots,SC=(e,t,n)=>e.filter(e=>"extendDomain"===e.ifOverflow).filter(e=>"xAxis"===t?e.xAxisId===n:e.yAxisId===n),FC=Yp([EC,CB,NB],SC),IC=e=>e.referenceElements.areas,jC=Yp([IC,CB,NB],SC),UC=e=>e.referenceElements.lines,OC=Yp([UC,CB,NB],SC),PC=(e,t)=>{var n=AC(e.map(e=>"xAxis"===t?e.x:e.y));if(0!==n.length)return[Math.min(...n),Math.max(...n)]},LC=Yp(FC,CB,PC),DC=(e,t)=>{var n=AC(e.flatMap(e=>["xAxis"===t?e.x1:e.y1,"xAxis"===t?e.x2:e.y2]));if(0!==n.length)return[Math.min(...n),Math.max(...n)]},TC=Yp([jC,CB],DC);var MC=(e,t)=>{var n=e.flatMap(e=>"xAxis"===t?function(e){var t;if(null!=e.x)return AC([e.x]);var n=null===(t=e.segment)||void 0===t?void 0:t.map(e=>e.x);return null==n||0===n.length?[]:AC(n)}(e):function(e){var t;if(null!=e.y)return AC([e.y]);var n=null===(t=e.segment)||void 0===t?void 0:t.map(e=>e.y);return null==n||0===n.length?[]:AC(n)}(e));if(0!==n.length)return[Math.min(...n),Math.max(...n)]},QC=Yp([OC,CB],MC),RC=Yp(LC,QC,TC,(e,t,n)=>CC(e,n,t)),HC=(e,t,n,r,i,a,o,s)=>null!=n?n:function(e,t,n){if(n||null!=t){if("function"===typeof e&&null!=t)try{var r=e(t,n);if(vx(r))return yx(r,t,n)}catch(h){}if(Array.isArray(e)&&2===e.length){var i,a,[o,s]=e;if("auto"===o)null!=t&&(i=Math.min(...t));else if(gA(o))i=o;else if("function"===typeof o)try{null!=t&&(i=o(null===t||void 0===t?void 0:t[0]))}catch(f){}else if("string"===typeof o&&Sg.test(o)){var l=Sg.exec(o);if(null==l||null==t)i=void 0;else{var c=+l[1];i=t[0]-c}}else i=null===t||void 0===t?void 0:t[0];if("auto"===s)null!=t&&(a=Math.max(...t));else if(gA(s))a=s;else if("function"===typeof s)try{null!=t&&(a=s(null===t||void 0===t?void 0:t[1]))}catch(p){}else if("string"===typeof s&&Fg.test(s)){var u=Fg.exec(s);if(null==u||null==t)a=void 0;else{var A=+u[1];a=t[1]+A}}else a=null===t||void 0===t?void 0:t[1];var d=[i,a];if(vx(d))return null==t?d:yx(d,t,n)}}}(t,"vertical"===o&&"xAxis"===s||"horizontal"===o&&"yAxis"===s?CC(r,a,i):CC(a,i),e.allowDataOverflow),zC=Yp([WB,bC,wC,xC,kC,RC,nm,CB],HC,{memoizeOptions:{resultEqualityCheck:SB}}),KC=[0,1],WC=(e,t,n,r,i,a,o)=>{if(null!=e&&null!=n&&0!==n.length||void 0!==o){var s,{dataKey:l,type:c}=e,u=wg(t,a);return u&&null==l?om()(0,null!==(s=null===n||void 0===n?void 0:n.length)&&void 0!==s?s:0):"category"===c?((e,t,n)=>{var r=e.map(_C).filter(e=>null!=e);return n&&(null==t.dataKey||t.allowDuplicatedCategory&&wA(r))?om()(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))})(r,e,u):"expand"===i?KC:o}},VC=Yp([WB,nm,aC,sC,Mx,CB,zC],WC),GC=(e,n,r,i,a)=>{if(null!=e){var{scale:o,type:s}=e;if("auto"===o)return"radial"===n&&"radiusAxis"===a?"band":"radial"===n&&"angleAxis"===a?"linear":"category"===s&&i&&(i.indexOf("LineChart")>=0||i.indexOf("AreaChart")>=0||i.indexOf("ComposedChart")>=0&&!r)?"point":"category"===s?"band":"linear";if("string"===typeof o){var l="scale".concat(CA(o));return l in t?l:"point"}}},qC=Yp([WB,nm,GB,Rx,CB],GC);function XC(e,n,r,i){if(null!=r&&null!=i){if("function"===typeof e.scale)return e.scale.copy().domain(r).range(i);var a=function(e){if(null!=e){if(e in t)return t[e]();var n="scale".concat(CA(e));return n in t?t[n]():void 0}}(n);if(null!=a){var o=a.domain(r).range(i);return(e=>{var t=e.domain();if(t&&!(t.length<=2)){var n=t.length,r=e.range(),i=Math.min(r[0],r[1])-Cg,a=Math.max(r[0],r[1])+Cg,o=e(t[0]),s=e(t[n-1]);(o<i||o>a||s<i||s>a)&&e.domain([t[0],t[n-1]])}})(o),o}}}var YC=(e,t,n)=>{var r=yC(t);if("auto"===n||"linear"===n)return null!=t&&t.tickCount&&Array.isArray(r)&&("auto"===r[0]||"auto"===r[1])&&vx(e)?function(e){var[t,n]=e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=Math.max(r,2),[o,s]=Ux([t,n]);if(o===-1/0||s===1/0){var l=s===1/0?[o,...Ex(0,r-1).map(()=>1/0)]:[...Ex(0,r-1).map(()=>-1/0),s];return t>n?Fx(l):l}if(o===s)return Px(o,r,i);var{step:c,tickMin:u,tickMax:A}=Lx(o,s,a,i,0),d=jx(u,A.add(new(xx())(.1).mul(c)),c);return t>n?Fx(d):d}(e,t.tickCount,t.allowDecimals):null!=t&&t.tickCount&&"number"===t.type&&vx(e)?function(e,t){var[n,r]=e,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],[a,o]=Ux([n,r]);if(a===-1/0||o===1/0)return[n,r];if(a===o)return[a];var s=Math.max(t,2),l=Ox(new(xx())(o).sub(a).div(s-1),i,0),c=[...jx(new(xx())(a),new(xx())(o),l),o];return!1===i&&(c=c.map(e=>Math.round(e))),n>r?Fx(c):c}(e,t.tickCount,t.allowDecimals):void 0},JC=Yp([VC,VB,qC],YC),ZC=(e,t,n,r)=>{if("angleAxis"!==r&&"number"===(null===e||void 0===e?void 0:e.type)&&vx(t)&&Array.isArray(n)&&n.length>0){var i=t[0],a=n[0],o=t[1],s=n[n.length-1];return[Math.min(i,a),Math.max(o,s)]}return t},$C=Yp([WB,VC,JC,CB],ZC),eN=Yp(sC,WB,(e,t)=>{if(t&&"number"===t.type){var n=1/0,r=Array.from(AC(e.map(e=>e.value))).sort((e,t)=>e-t);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(0===i)return 1/0;for(var a=0;a<r.length-1;a++){var o=r[a+1]-r[a];n=Math.min(n,o)}return n/i}}),tN=Yp(eN,nm,Tx,zg,(e,t,n,r)=>r,(e,t,n,r,i)=>{if(!OA(e))return 0;var a="vertical"===t?r.height:r.width;if("gap"===i)return e*a/2;if("no-gap"===i){var o=bA(n,e*a),s=e*a/2;return s-o-(s-o)/a*o}return 0}),nN=Yp(MB,(e,t)=>{var n=MB(e,t);return null==n||"string"!==typeof n.padding?0:tN(e,"xAxis",t,n.padding)},(e,t)=>{var n,r;if(null==e)return{left:0,right:0};var{padding:i}=e;return"string"===typeof i?{left:t,right:t}:{left:(null!==(n=i.left)&&void 0!==n?n:0)+t,right:(null!==(r=i.right)&&void 0!==r?r:0)+t}}),rN=Yp(HB,(e,t)=>{var n=HB(e,t);return null==n||"string"!==typeof n.padding?0:tN(e,"yAxis",t,n.padding)},(e,t)=>{var n,r;if(null==e)return{top:0,bottom:0};var{padding:i}=e;return"string"===typeof i?{top:t,bottom:t}:{top:(null!==(n=i.top)&&void 0!==n?n:0)+t,bottom:(null!==(r=i.bottom)&&void 0!==r?r:0)+t}}),iN=Yp([zg,nN,Xg,qg,(e,t,n)=>n],(e,t,n,r,i)=>{var{padding:a}=r;return i?[a.left,n.width-a.right]:[e.left+t.left,e.left+e.width-t.right]}),aN=Yp([zg,nm,rN,Xg,qg,(e,t,n)=>n],(e,t,n,r,i,a)=>{var{padding:o}=i;return a?[r.height-o.bottom,o.top]:"horizontal"===t?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),oN=(e,t,n,r)=>{var i;switch(t){case"xAxis":return iN(e,n,r);case"yAxis":return aN(e,n,r);case"zAxis":return null===(i=KB(e,n))||void 0===i?void 0:i.range;case"angleAxis":return wB(e);case"radiusAxis":return xB(e,n);default:return}},sN=Yp([WB,oN],uB),lN=Yp([WB,qC,$C,sN],XC);Yp([ZB,BC,CB],(e,t,n)=>e.flatMap(e=>t[e.id]).filter(Boolean).filter(e=>lC(n,e)));function cN(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var uN=(e,t)=>t,AN=(e,t,n)=>n,dN=Yp(Tg,uN,AN,(e,t,n)=>e.filter(e=>e.orientation===t).filter(e=>e.mirror===n).sort(cN)),hN=Yp(Mg,uN,AN,(e,t,n)=>e.filter(e=>e.orientation===t).filter(e=>e.mirror===n).sort(cN)),fN=(e,t)=>({width:e.width,height:t.height}),pN=Yp(zg,MB,fN),gN=Yp(Pg,zg,dN,uN,AN,(e,t,n,r,i)=>{var a,o={};return n.forEach(n=>{var s=fN(t,n);null==a&&(a=((e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}})(t,r,e));var l="top"===r&&!i||"bottom"===r&&i;o[n.id]=a-Number(l)*s.height,a+=(l?-1:1)*s.height}),o}),mN=Yp(Og,zg,hN,uN,AN,(e,t,n,r,i)=>{var a,o={};return n.forEach(n=>{var s=((e,t)=>({width:"number"===typeof t.width?t.width:60,height:e.height}))(t,n);null==a&&(a=((e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}})(t,r,e));var l="left"===r&&!i||"right"===r&&i;o[n.id]=a-Number(l)*s.width,a+=(l?-1:1)*s.width}),o}),vN=Yp([zg,MB,(e,t)=>{var n=MB(e,t);if(null!=n)return gN(e,n.orientation,n.mirror)},(e,t)=>t],(e,t,n,r)=>{if(null!=t){var i=null===n||void 0===n?void 0:n[r];return null==i?{x:e.left,y:0}:{x:e.left,y:i}}}),yN=Yp([zg,HB,(e,t)=>{var n=HB(e,t);if(null!=n)return mN(e,n.orientation,n.mirror)},(e,t)=>t],(e,t,n,r)=>{if(null!=t){var i=null===n||void 0===n?void 0:n[r];return null==i?{x:0,y:e.top}:{x:i,y:e.top}}}),bN=Yp(zg,HB,(e,t)=>({width:"number"===typeof t.width?t.width:60,height:e.height})),wN=(e,t,n)=>{switch(t){case"xAxis":return pN(e,n).width;case"yAxis":return bN(e,n).height;default:return}},xN=(e,t,n,r)=>{if(null!=n){var{allowDuplicatedCategory:i,type:a,dataKey:o}=n,s=wg(e,r),l=t.map(e=>e.value);return o&&s&&"category"===a&&i&&wA(l)?l:void 0}},BN=Yp([nm,sC,WB,CB],xN),CN=(e,t,n,r)=>{if(null!=n&&null!=n.dataKey){var{type:i,scale:a}=n;return!wg(e,r)||"number"!==i&&"auto"===a?void 0:t.map(e=>e.value)}},NN=Yp([nm,sC,VB,CB],CN),kN=Yp([nm,(e,t,n)=>{switch(t){case"xAxis":return MB(e,n);case"yAxis":return HB(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},qC,lN,BN,NN,oN,JC,CB],(e,t,n,r,i,a,o,s,l)=>{if(null!=t){var c=wg(e,l);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:l,categoricalDomain:a,duplicateDomain:i,isCategorical:c,niceTicks:s,range:o,realScaleType:n,scale:r}}}),_N=Yp([nm,VB,qC,lN,JC,oN,BN,NN,CB],(e,t,n,r,i,a,o,s,l)=>{if(null!=t&&null!=r){var c=wg(e,l),{type:u,ticks:A,tickCount:d}=t,h="scaleBand"===n&&"function"===typeof r.bandwidth?r.bandwidth()/2:2,f="category"===u&&r.bandwidth?r.bandwidth()/h:0;f="angleAxis"===l&&null!=a&&a.length>=2?2*hA(a[0]-a[1])*f:f;var p=A||i;return p?p.map((e,t)=>{var n=o?o.indexOf(e):e;return{index:t,coordinate:r(n)+f,value:e,offset:f}}).filter(e=>OA(e.coordinate)):c&&s?s.map((e,t)=>({coordinate:r(e)+f,value:e,index:t,offset:f})).filter(e=>OA(e.coordinate)):r.ticks?r.ticks(d).map(e=>({coordinate:r(e)+f,value:e,offset:f})):r.domain().map((e,t)=>({coordinate:r(e)+f,value:o?o[e]:e,index:t,offset:f}))}}),EN=Yp([nm,VB,lN,oN,BN,NN,CB],(e,t,n,r,i,a,o)=>{if(null!=t&&null!=n&&null!=r&&r[0]!==r[1]){var s=wg(e,o),{tickCount:l}=t,c=0;return c="angleAxis"===o&&(null===r||void 0===r?void 0:r.length)>=2?2*hA(r[0]-r[1])*c:c,s&&a?a.map((e,t)=>({coordinate:n(e)+c,value:e,index:t,offset:c})):n.ticks?n.ticks(l).map(e=>({coordinate:n(e)+c,value:e,offset:c})):n.domain().map((e,t)=>({coordinate:n(e)+c,value:i?i[e]:e,index:t,offset:c}))}}),SN=Yp(WB,lN,(e,t)=>{if(null!=e&&null!=t)return OB(OB({},e),{},{scale:t})}),FN=Yp([WB,qC,VC,sN],XC),IN=(Yp((e,t,n)=>KB(e,n),FN,(e,t)=>{if(null!=e&&null!=t)return OB(OB({},e),{},{scale:t})}),Yp([nm,Tg,Mg],(e,t,n)=>{switch(e){case"horizontal":return t.some(e=>e.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(e=>e.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}})),jN=e=>e.options.defaultTooltipEventType,UN=e=>e.options.validateTooltipEventTypes;function ON(e,t,n){if(null==e)return t;var r=e?"axis":"item";return null==n?t:n.includes(r)?r:t}function PN(e,t){return ON(t,jN(e),UN(e))}var LN=(e,t)=>{var n,r=Number(t);if(!fA(r)&&null!=t)return r>=0?null===e||void 0===e||null===(n=e[r])||void 0===n?void 0:n.value:void 0};function DN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function TN(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?DN(Object(n),!0).forEach(function(t){MN(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DN(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function MN(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var QN=(e,t,n,r)=>{if(null==t)return mp;var i=function(e,t,n){return"axis"===t?"click"===n?e.axisInteraction.click:e.axisInteraction.hover:"click"===n?e.itemInteraction.click:e.itemInteraction.hover}(e,t,n);if(null==i)return mp;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&null!=e.syncInteraction.index)return e.syncInteraction;var a=!0===e.settings.active;if(null!=i.index){if(a)return TN(TN({},i),{},{active:!0})}else if(null!=r)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return TN(TN({},mp),{},{coordinate:i.coordinate})};function RN(e,t){var n=function(e){if("number"===typeof e)return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var n=Number(e);return Number.isFinite(n)?n:void 0}(e),r=t[0],i=t[1];if(void 0===n)return!1;var a=Math.min(r,i),o=Math.max(r,i);return n>=a&&n<=o}var HN=(e,t,n,r)=>{var i=null===e||void 0===e?void 0:e.index;if(null==i)return null;var a=Number(i);if(!OA(a))return i;var o=1/0;t.length>0&&(o=t.length-1);var s=Math.max(0,Math.min(a,o)),l=t[s];return null==l||function(e,t,n){if(null==n||null==t)return!0;var r=bg(e,t);return null==r||!vx(n)||RN(r,n)}(l,n,r)?String(s):null},zN=(e,t,n,r,i,a,o,s)=>{if(null!=a&&null!=s){var l=o[0],c=null==l?void 0:s(l.positions,a);if(null!=c)return c;var u=null===i||void 0===i?void 0:i[Number(a)];if(u)return"horizontal"===n?{x:u.coordinate,y:(r.top+t)/2}:{x:(r.left+e)/2,y:u.coordinate}}},KN=(e,t,n,r)=>{return"axis"===t?e.tooltipItemPayloads:0===e.tooltipItemPayloads.length?[]:null==(i="hover"===n?e.itemInteraction.hover.dataKey:e.itemInteraction.click.dataKey)&&null!=r?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(e=>{var t;return(null===(t=e.settings)||void 0===t?void 0:t.dataKey)===i});var i},WN=e=>e.options.tooltipPayloadSearcher,VN=e=>e.tooltip;function GN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function qN(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?GN(Object(n),!0).forEach(function(t){XN(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GN(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function XN(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var YN=(e,t,n,r,i,a,o)=>{if(null!=t&&null!=a){var{chartData:s,computedData:l,dataStartIndex:c,dataEndIndex:u}=n;return e.reduce((e,n)=>{var A,d,h,{dataDefinedOnItem:f,settings:p}=n,g=function(e,t){return null!=e?e:t}(f,s),m=Array.isArray(g)?gg(g,c,u):g,v=null!==(A=null===p||void 0===p?void 0:p.dataKey)&&void 0!==A?A:r,y=null===p||void 0===p?void 0:p.nameKey;(d=r&&Array.isArray(m)&&!Array.isArray(m[0])&&"axis"===o?function(e,t,n){if(e&&e.length)return e.find(e=>e&&("function"===typeof t?t(e):dA()(e,t))===n)}(m,r,i):a(m,t,l,y),Array.isArray(d))?d.forEach(t=>{var n=qN(qN({},p),{},{name:t.name,unit:t.unit,color:void 0,fill:void 0});e.push(jg({tooltipEntrySettings:n,dataKey:t.dataKey,payload:t.payload,value:bg(t.payload,t.dataKey),name:t.name}))}):e.push(jg({tooltipEntrySettings:p,dataKey:v,payload:d,value:bg(d,v),name:null!==(h=bg(d,y))&&void 0!==h?h:null===p||void 0===p?void 0:p.name}));return e},[])}},JN=Yp([dC,nm,GB,Rx,IB],GC),ZN=Yp([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),$N=Yp([IB,jB],qB),ek=Yp([ZN,dC,$N],JB,{memoizeOptions:{resultEqualityCheck:FB}}),tk=Yp([ek],e=>e.filter(EB)),nk=Yp([ek],nC,{memoizeOptions:{resultEqualityCheck:FB}}),rk=Yp([nk,px],iC),ik=Yp([tk,px,dC],_B),ak=Yp([rk,dC,ek],oC),ok=Yp([dC],yC),sk=Yp([dC],e=>e.allowDataOverflow),lk=Yp([ok,sk],bx),ck=Yp([ek],e=>e.filter(EB)),uk=Yp([ik,ck,Mx,Qx],pC),Ak=Yp([uk,px,IB,lk],mC),dk=Yp([ek],eC),hk=Yp([rk,dC,dk,BC,IB],NC,{memoizeOptions:{resultEqualityCheck:SB}}),fk=Yp([EC,IB,jB],SC),pk=Yp([fk,IB],PC),gk=Yp([IC,IB,jB],SC),mk=Yp([gk,IB],DC),vk=Yp([UC,IB,jB],SC),yk=Yp([vk,IB],MC),bk=Yp([pk,yk,mk],CC),wk=Yp([dC,ok,lk,Ak,hk,bk,nm,IB],HC),xk=Yp([dC,nm,rk,ak,Mx,IB,wk],WC),Bk=Yp([xk,dC,JN],YC),Ck=Yp([dC,xk,Bk,IB],ZC),Nk=e=>{var t=IB(e),n=jB(e);return oN(e,t,n,!1)},kk=Yp([dC,Nk],uB),_k=Yp([dC,JN,Ck,kk],XC),Ek=Yp([nm,ak,dC,IB],xN),Sk=Yp([nm,ak,dC,IB],CN),Fk=Yp([nm,dC,JN,_k,Nk,Ek,Sk,IB],(e,t,n,r,i,a,o,s)=>{if(t){var{type:l}=t,c=wg(e,s);if(r){var u="scaleBand"===n&&r.bandwidth?r.bandwidth()/2:2,A="category"===l&&r.bandwidth?r.bandwidth()/u:0;return A="angleAxis"===s&&null!=i&&(null===i||void 0===i?void 0:i.length)>=2?2*hA(i[0]-i[1])*A:A,c&&o?o.map((e,t)=>({coordinate:r(e)+A,value:e,index:t,offset:A})):r.domain().map((e,t)=>({coordinate:r(e)+A,value:a?a[e]:e,index:t,offset:A}))}}}),Ik=Yp([jN,UN,e=>e.tooltip.settings],(e,t,n)=>ON(n.shared,e,t)),jk=e=>e.tooltip.settings.trigger,Uk=e=>e.tooltip.settings.defaultIndex,Ok=Yp([VN,Ik,jk,Uk],QN),Pk=Yp([Ok,rk,hC,xk],HN),Lk=Yp([Fk,Pk],LN),Dk=Yp([Ok],e=>{if(e)return e.dataKey}),Tk=(Yp([Ok],e=>{if(e)return e.graphicalItemId}),Yp([VN,Ik,jk,Uk],KN)),Mk=Yp([Og,Pg,nm,zg,Fk,Uk,Tk,WN],zN),Qk=Yp([Ok,Mk],(e,t)=>null!==e&&void 0!==e&&e.coordinate?e.coordinate:t),Rk=Yp([Ok],e=>e.active),Hk=Yp([Tk,Pk,px,hC,Lk,WN,Ik],YN);Yp([Hk],e=>{if(null!=e){var t=e.map(e=>e.payload).filter(e=>null!=e);return Array.from(new Set(t))}});function zk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Kk(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zk(Object(n),!0).forEach(function(t){Wk(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zk(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Wk(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Vk=(e,t,n,r,i)=>{var a,o=-1,s=null!==(a=null===t||void 0===t?void 0:t.length)&&void 0!==a?a:0;if(s<=1||null==e)return 0;if("angleAxis"===r&&null!=i&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var l=0;l<s;l++){var c=l>0?n[l-1].coordinate:n[s-1].coordinate,u=n[l].coordinate,A=l>=s-1?n[0].coordinate:n[l+1].coordinate,d=void 0;if(hA(u-c)!==hA(A-u)){var h=[];if(hA(A-u)===hA(i[1]-i[0])){d=A;var f=u+i[1]-i[0];h[0]=Math.min(f,(f+c)/2),h[1]=Math.max(f,(f+c)/2)}else{d=c;var p=A+i[1]-i[0];h[0]=Math.min(u,(p+u)/2),h[1]=Math.max(u,(p+u)/2)}var g=[Math.min(u,(d+u)/2),Math.max(u,(d+u)/2)];if(e>g[0]&&e<=g[1]||e>=h[0]&&e<=h[1]){({index:o}=n[l]);break}}else{var m=Math.min(c,A),v=Math.max(c,A);if(e>(m+u)/2&&e<=(v+u)/2){({index:o}=n[l]);break}}}else if(t)for(var y=0;y<s;y++)if(0===y&&e<=(t[y].coordinate+t[y+1].coordinate)/2||y>0&&y<s-1&&e>(t[y].coordinate+t[y-1].coordinate)/2&&e<=(t[y].coordinate+t[y+1].coordinate)/2||y===s-1&&e>(t[y].coordinate+t[y-1].coordinate)/2){({index:o}=t[y]);break}return o},Gk=(e,t)=>t,qk=(e,t,n)=>n,Xk=(e,t,n,r)=>r,Yk=Yp(Fk,e=>sg()(e,e=>e.coordinate)),Jk=Yp([VN,Gk,qk,Xk],QN),Zk=Yp([Jk,rk,hC,xk],HN),$k=Yp([VN,Gk,qk,Xk],KN),e_=Yp([Og,Pg,nm,zg,Fk,Xk,$k,WN],zN),t_=Yp([Jk,e_],(e,t)=>{var n;return null!==(n=e.coordinate)&&void 0!==n?n:t}),n_=Yp([Fk,Zk],LN),r_=Yp([$k,Zk,px,hC,n_,WN,Gk],YN),i_=Yp([Jk,Zk],(e,t)=>({isActive:e.active&&null!=t,activeIndex:t})),a_=(e,t,n,r,i,a,o)=>{if(e&&r&&i&&a&&n){var s=$x(e,n);if(s){var l=((e,t)=>"centric"===t?e.angle:e.radius)(s,t),c=Vk(l,o,a,r,i),u=((e,t,n,r)=>{var i=t.find(e=>e&&e.index===n);if(i){if("centric"===e){var a=i.coordinate,{radius:o}=r;return Kk(Kk(Kk({},r),Yx(r.cx,r.cy,o,a)),{},{angle:a,radius:o})}var s=i.coordinate,{angle:l}=r;return Kk(Kk(Kk({},r),Yx(r.cx,r.cy,s,l)),{},{angle:l,radius:s})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}})(t,a,c,s);return{activeIndex:String(c),activeCoordinate:u}}}},o_=Yp([(e,t)=>t,nm,BB,IB,kk,Fk,Yk,zg],(e,t,n,r,i,a,o,s)=>{if(e&&t&&r&&i&&a)return"horizontal"===t||"vertical"===t?((e,t,n,r,i,a,o)=>{if(e&&n&&r&&i&&function(e,t){var{chartX:n,chartY:r}=e;return n>=t.left&&n<=t.left+t.width&&r>=t.top&&r<=t.top+t.height}(e,o)){var s=((e,t)=>"horizontal"===t?e.chartX:"vertical"===t?e.chartY:void 0)(e,t),l=Vk(s,a,i,n,r),c=((e,t,n,r)=>{var i=t.find(e=>e&&e.index===n);if(i){if("horizontal"===e)return{x:i.coordinate,y:r.chartY};if("vertical"===e)return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}})(t,i,l,e);return{activeIndex:String(l),activeCoordinate:c}}})(e,t,r,i,a,o,s):a_(e,t,n,r,i,a,o)}),s_=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/r)}},l_=ph("mouseClick"),c_=cf();c_.startListening({actionCreator:l_,effect:(e,t)=>{var n=e.payload,r=o_(t.getState(),s_(n));null!=(null===r||void 0===r?void 0:r.activeIndex)&&t.dispatch(Ep({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var u_=ph("mouseMove"),A_=cf(),d_=null;function h_(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":"children"===e&&"object"===typeof t&&null!==t?"<<CHILDREN>>":t}function f_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function p_(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f_(Object(n),!0).forEach(function(t){g_(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f_(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function g_(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}A_.startListening({actionCreator:u_,effect:(e,t)=>{var n=e.payload;null!==d_&&cancelAnimationFrame(d_);var r=s_(n);d_=requestAnimationFrame(()=>{var e=t.getState();if("axis"===PN(e,e.tooltip.settings.shared)){var n=o_(e,r);null!=(null===n||void 0===n?void 0:n.activeIndex)?t.dispatch(_p({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate})):t.dispatch(Np())}d_=null})}});var m_=Fh({name:"cartesianAxis",initialState:{xAxis:{},yAxis:{},zAxis:{}},reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:bh()},replaceXAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;void 0!==e.xAxis[n.id]&&(n.id!==r.id&&delete e.xAxis[n.id],e.xAxis[r.id]=r)},prepare:bh()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:bh()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:bh()},replaceYAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;void 0!==e.yAxis[n.id]&&(n.id!==r.id&&delete e.yAxis[n.id],e.yAxis[r.id]=r)},prepare:bh()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:bh()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:bh()},replaceZAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;void 0!==e.zAxis[n.id]&&(n.id!==r.id&&delete e.zAxis[n.id],e.zAxis[r.id]=r)},prepare:bh()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:bh()},updateYAxisWidth(e,t){var{id:n,width:r}=t.payload,i=e.yAxis[n];if(i){var a=i.widthHistory||[];if(3===a.length&&a[0]===a[2]&&r===a[1]&&r!==i.width&&Math.abs(r-a[0])<=1)return;var o=[...a,r].slice(-3);e.yAxis[n]=p_(p_({},e.yAxis[n]),{},{width:r,widthHistory:o})}}}}),{addXAxis:v_,replaceXAxis:y_,removeXAxis:b_,addYAxis:w_,replaceYAxis:x_,removeYAxis:B_,addZAxis:C_,replaceZAxis:N_,removeZAxis:k_,updateYAxisWidth:__}=m_.actions,E_=m_.reducer,S_=Fh({name:"graphicalItems",initialState:{cartesianItems:[],polarItems:[]},reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:bh()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:n,next:r}=t.payload,i=Jd(e).cartesianItems.indexOf(n);i>-1&&(e.cartesianItems[i]=r)},prepare:bh()},removeCartesianGraphicalItem:{reducer(e,t){var n=Jd(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},prepare:bh()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:bh()},removePolarGraphicalItem:{reducer(e,t){var n=Jd(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)},prepare:bh()}}}),{addCartesianGraphicalItem:F_,replaceCartesianGraphicalItem:I_,removeCartesianGraphicalItem:j_,addPolarGraphicalItem:U_,removePolarGraphicalItem:O_}=S_.actions,P_=S_.reducer,L_=Fh({name:"referenceElements",initialState:{dots:[],areas:[],lines:[]},reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=Jd(e).dots.findIndex(e=>e===t.payload);-1!==n&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=Jd(e).areas.findIndex(e=>e===t.payload);-1!==n&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=Jd(e).lines.findIndex(e=>e===t.payload);-1!==n&&e.lines.splice(n,1)}}}),{addDot:D_,removeDot:T_,addArea:M_,removeArea:Q_,addLine:R_,removeLine:H_}=L_.actions,z_=L_.reducer,K_={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},W_=Fh({name:"brush",initialState:K_,reducers:{setBrushSettings:(e,t)=>null==t.payload?K_:t.payload}}),{setBrushSettings:V_}=W_.actions,G_=W_.reducer,q_=Fh({name:"legend",initialState:{settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:bh()},replaceLegendPayload:{reducer(e,t){var{prev:n,next:r}=t.payload,i=Jd(e).payload.indexOf(n);i>-1&&(e.payload[i]=r)},prepare:bh()},removeLegendPayload:{reducer(e,t){var n=Jd(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)},prepare:bh()}}}),{setLegendSize:X_,setLegendSettings:Y_,addLegendPayload:J_,replaceLegendPayload:Z_,removeLegendPayload:$_}=q_.actions,eE=q_.reducer,tE={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},nE=Fh({name:"rootProps",initialState:tE,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=null!==(n=t.payload.barGap)&&void 0!==n?n:tE.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),rE=nE.reducer,{updateOptions:iE}=nE.actions,aE=Fh({name:"polarAxis",initialState:{radiusAxis:{},angleAxis:{}},reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:oE,removeRadiusAxis:sE,addAngleAxis:lE,removeAngleAxis:cE}=aE.actions,uE=aE.reducer,AE=Fh({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:dE}=AE.actions,hE=AE.reducer,fE=ph("keyDown"),pE=ph("focus"),gE=cf();gE.startListening({actionCreator:fE,effect:(e,t)=>{var n=t.getState();if(!1!==n.rootProps.accessibilityLayer){var{keyboardInteraction:r}=n.tooltip,i=e.payload;if("ArrowRight"===i||"ArrowLeft"===i||"Enter"===i){var a=HN(r,rk(n),hC(n),xk(n)),o=null==a?-1:Number(a);if(Number.isFinite(o)&&!(o<0)){var s=Fk(n);if("Enter"!==i){var l=o+("ArrowRight"===i?1:-1)*("left-to-right"===IN(n)?1:-1);if(!(null==s||l>=s.length||l<0)){var c=e_(n,"axis","hover",String(l));t.dispatch(Fp({active:!0,activeIndex:l.toString(),activeDataKey:void 0,activeCoordinate:c}))}}else{var u=e_(n,"axis","hover",String(r.index));t.dispatch(Fp({active:!r.active,activeIndex:r.index,activeDataKey:r.dataKey,activeCoordinate:u}))}}}}}}),gE.startListening({actionCreator:pE,effect:(e,t)=>{var n=t.getState();if(!1!==n.rootProps.accessibilityLayer){var{keyboardInteraction:r}=n.tooltip;if(!r.active&&null==r.index){var i=e_(n,"axis","hover",String("0"));t.dispatch(Fp({activeDataKey:void 0,active:!0,activeIndex:"0",activeCoordinate:i}))}}}});var mE=ph("externalEvent"),vE=cf(),yE=new Map;vE.startListening({actionCreator:mE,effect:(e,t)=>{var{handler:n,reactEvent:r}=e.payload;if(null!=n){r.persist();var i=r.type,a=yE.get(i);void 0!==a&&cancelAnimationFrame(a);var o=requestAnimationFrame(()=>{try{var e=t.getState(),a={activeCoordinate:Qk(e),activeDataKey:Dk(e),activeIndex:Pk(e),activeLabel:Lk(e),activeTooltipIndex:Pk(e),isTooltipActive:Rk(e)};n(a,r)}finally{yE.delete(i)}});yE.set(i,o)}}});var bE=Yp([VN],e=>e.tooltipItemPayloads),wE=Yp([bE,WN,(e,t,n)=>t,(e,t,n)=>n],(e,t,n,r)=>{var i=e.find(e=>e.settings.dataKey===r);if(null!=i){var{positions:a}=i;if(null!=a)return t(a,n)}}),xE=ph("touchMove"),BE=cf();BE.startListening({actionCreator:xE,effect:(e,t)=>{var n=e.payload;if(null!=n.touches&&0!==n.touches.length){var r=t.getState(),i=PN(r,r.tooltip.settings.shared);if("axis"===i){var a=o_(r,s_({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));null!=(null===a||void 0===a?void 0:a.activeIndex)&&t.dispatch(_p({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if("item"===i){var o,s=n.touches[0];if(null==document.elementFromPoint)return;var l=document.elementFromPoint(s.clientX,s.clientY);if(!l||!l.getAttribute)return;var c=l.getAttribute("data-recharts-item-index"),u=null!==(o=l.getAttribute("data-recharts-item-data-key"))&&void 0!==o?o:void 0,A=wE(t.getState(),c,u);t.dispatch(Bp({activeDataKey:u,activeIndex:c,activeCoordinate:A}))}}}});var CE=Fh({name:"errorBars",initialState:{},reducers:{addErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]||(e[n]=[]),e[n].push(r)},replaceErrorBar:(e,t)=>{var{itemId:n,prev:r,next:i}=t.payload;e[n]&&(e[n]=e[n].map(e=>e.dataKey===r.dataKey&&e.direction===r.direction?i:e))},removeErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]&&(e[n]=e[n].filter(e=>e.dataKey!==r.dataKey||e.direction!==r.direction))}}}),{addErrorBar:NE,replaceErrorBar:kE,removeErrorBar:_E}=CE.actions,EE=CE.reducer,SE=!1,FE=!("undefined"!==typeof window&&window.document&&Boolean(window.document.createElement)&&window.setTimeout);function IE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function jE(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?IE(Object(n),!0).forEach(function(t){UE(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):IE(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function UE(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var OE={zIndexMap:Object.values(eB).reduce((e,t)=>jE(jE({},e),{},{[t]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),{})},PE=new Set(Object.values(eB));var LE=Fh({name:"zIndex",initialState:OE,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]?e.zIndexMap[n].consumers+=1:e.zIndexMap[n]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:bh()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(e.zIndexMap[n].consumers-=1,e.zIndexMap[n].consumers<=0&&!function(e){return PE.has(e)}(n)&&delete e.zIndexMap[n])},prepare:bh()},registerZIndexPortalId:{reducer:(e,t)=>{var{zIndex:n,elementId:r,isPanorama:i}=t.payload;e.zIndexMap[n]?i?e.zIndexMap[n].panoramaElementId=r:e.zIndexMap[n].elementId=r:e.zIndexMap[n]={consumers:0,elementId:i?void 0:r,panoramaElementId:i?r:void 0}},prepare:bh()},unregisterZIndexPortalId:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(t.payload.isPanorama?e.zIndexMap[n].panoramaElementId=void 0:e.zIndexMap[n].elementId=void 0)},prepare:bh()}}}),{registerZIndexPortal:DE,unregisterZIndexPortal:TE,registerZIndexPortalId:ME,unregisterZIndexPortalId:QE}=LE.actions,RE=sh({brush:G_,cartesianAxis:E_,chartData:Lp,errorBars:EE,graphicalItems:P_,layout:Hp,legend:eE,options:hf,polarAxis:uE,polarOptions:hE,referenceElements:z_,rootProps:rE,tooltip:Ip,zIndex:LE.reducer});function HE(e){var{preloadedState:t,children:n,reduxStoreName:r}=e,a=Gg(),o=(0,i.useRef)(null);if(a)return n;null==o.current&&(o.current=function(e){return Bh({reducer:RE,preloadedState:e,middleware:e=>e({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes("es6")}).concat([c_.middleware,A_.middleware,gE.middleware,vE.middleware,BE.middleware]),enhancers:e=>{var t=e;return"function"===typeof e&&(t=e()),t.concat(xh({type:"raf"}))},devTools:SE&&{serialize:{replacer:h_},name:"recharts-".concat(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Chart")}})}(t,r));var s=$p;return i.createElement(_f,{context:s,store:o.current},n)}var zE=e=>{var{chartData:t}=e,n=tg(),r=Gg();return(0,i.useEffect)(()=>r?()=>{}:(n(Up(t)),()=>{n(Up(void 0))}),[t,n,r]),null},KE=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle"]);function WE(e,t){return null==e&&null==t||("number"===typeof e&&"number"===typeof t?e===t||e!==e&&t!==t:e===t)}function VE(e,t){var n=new Set([...Object.keys(e),...Object.keys(t)]);for(var r of n)if(KE.has(r)){if(null==e[r]&&null==t[r])continue;if(!xf(e[r],t[r]))return!1}else if(!WE(e[r],t[r]))return!1;return!0}function GE(e){var{layout:t,margin:n}=e,r=tg(),a=Gg();return(0,i.useEffect)(()=>{a||(r(Mp(t)),r(Tp(n)))},[r,a,t,n]),null}var qE=(0,i.memo)(GE,VE);function XE(e){var t=tg();return(0,i.useEffect)(()=>{t(iE(e))},[t,e]),null}var YE=()=>{var e;return null===(e=ag(e=>e.rootProps.accessibilityLayer))||void 0===e||e},JE=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function ZE(e){return"string"===typeof e&&JE.includes(e)}var $E=new Set(["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"]);function eS(e){return"string"===typeof e&&$E.has(e)}function tS(e){return"string"===typeof e&&e.startsWith("data-")}function nS(e){if("object"!==typeof e||null===e)return{};var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(eS(n)||tS(n))&&(t[n]=e[n]);return t}function rS(e){return null==e?null:(0,i.isValidElement)(e)&&"object"===typeof e.props&&null!==e.props?nS(e.props):"object"!==typeof e||Array.isArray(e)?null:nS(e)}function iS(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(eS(n)||tS(n)||ZE(n))&&(t[n]=e[n]);return t}var aS=["children","width","height","viewBox","className","style","title","desc"];function oS(){return oS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},oS.apply(null,arguments)}var sS,lS=(0,i.forwardRef)((e,t)=>{var{children:n,width:r,height:a,viewBox:o,className:s,style:l,title:c,desc:u}=e,A=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,aS),d=o||{width:r,height:a,x:0,y:0},h=lA("recharts-surface",s);return i.createElement("svg",oS({},iS(A),{className:h,width:r,height:a,style:l,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height),ref:t}),i.createElement("title",null,c),i.createElement("desc",null,u),n)}),cS=null!==(sS=a["useId".toString()])&&void 0!==sS?sS:()=>{var[e]=i.useState(()=>yA("uid-"));return e};function uS(e,t){var n=cS();return t||(e?"".concat(e,"-").concat(n):n)}var AS=Yp(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,n)=>n,(e,t,n)=>{if(null!=t){var r=e[t];if(null!=r)return n?r.panoramaElementId:r.elementId}}),dS=Yp(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(e=>parseInt(e,10)).concat(Object.values(eB));return Array.from(new Set(t)).sort((e,t)=>e-t)},{memoizeOptions:{resultEqualityCheck:function(e,t){if(e.length===t.length){for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return!1}}});function hS(e){var{zIndex:t,isPanorama:n}=e,r=uS("".concat(n?"recharts-zindex-panorama-":"recharts-zindex-").concat(t)),a=tg();return(0,i.useLayoutEffect)(()=>(a(ME({zIndex:t,elementId:r,isPanorama:n})),()=>{a(QE({zIndex:t,isPanorama:n}))}),[a,t,r,n]),i.createElement("g",{tabIndex:-1,id:r})}function fS(e){var{children:t,isPanorama:n}=e,r=ag(dS);if(!r||0===r.length)return t;var a=r.filter(e=>e<0),o=r.filter(e=>e>0);return i.createElement(i.Fragment,null,a.map(e=>i.createElement(hS,{key:e,zIndex:e,isPanorama:n})),t,o.map(e=>i.createElement(hS,{key:e,zIndex:e,isPanorama:n})))}var pS=["children"];function gS(){return gS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gS.apply(null,arguments)}var mS={width:"100%",height:"100%",display:"block"},vS=(0,i.forwardRef)((e,t)=>{var n=em(),r=tm(),a=YE();if(!PA(n)||!PA(r))return null;var o,s,{children:l,otherAttributes:c,title:u,desc:A}=e;return null!=c&&(o="number"===typeof c.tabIndex?c.tabIndex:a?0:void 0,s="string"===typeof c.role?c.role:a?"application":void 0),i.createElement(lS,gS({},c,{title:u,desc:A,role:s,tabIndex:o,width:n,height:r,style:mS,ref:t}),l)}),yS=e=>{var{children:t}=e,n=ag(Xg);if(!n)return null;var{width:r,height:a,y:o,x:s}=n;return i.createElement(lS,{width:r,height:a,x:s,y:o},t)},bS=(0,i.forwardRef)((e,t)=>{var{children:n}=e,r=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,pS);return Gg()?i.createElement(yS,null,i.createElement(fS,{isPanorama:!0},n)):i.createElement(vS,gS({ref:t},r),i.createElement(fS,{isPanorama:!1},n))});var wS=new(n(5438)),xS="recharts.syncEvent.tooltip",BS="recharts.syncEvent.brush";function CS(e){return e.tooltip.syncInteraction}var NS=["x","y"];function kS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function _S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kS(Object(n),!0).forEach(function(t){ES(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kS(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ES(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function SS(){var e=ag(Hx),t=ag(Kx),n=tg(),r=ag(zx),a=ag(Fk),o=rm(),s=Jg(),l=ag(e=>e.rootProps.className);(0,i.useEffect)(()=>{if(null==e)return kA;var i=(i,l,c)=>{var u;if(t!==c&&e===i)if("index"!==r){if(null!=a){var A;if("function"===typeof r){var d={activeTooltipIndex:null==l.payload.index?void 0:Number(l.payload.index),isTooltipActive:l.payload.active,activeIndex:null==l.payload.index?void 0:Number(l.payload.index),activeLabel:l.payload.label,activeDataKey:l.payload.dataKey,activeCoordinate:l.payload.coordinate},h=r(a,d);A=a[h]}else"value"===r&&(A=a.find(e=>String(e.value)===l.payload.label));var{coordinate:f}=l.payload;if(null!=A&&!1!==l.payload.active&&null!=f&&null!=s){var{x:p,y:g}=f,m=Math.min(p,s.x+s.width),v=Math.min(g,s.y+s.height),y={x:"horizontal"===o?A.coordinate:m,y:"horizontal"===o?v:A.coordinate},b=Sp({active:l.payload.active,coordinate:y,dataKey:l.payload.dataKey,index:String(A.index),label:l.payload.label,sourceViewBox:l.payload.sourceViewBox,graphicalItemId:l.payload.graphicalItemId});n(b)}else n(Sp({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}))}}else if(s&&null!==l&&void 0!==l&&null!==(u=l.payload)&&void 0!==u&&u.coordinate&&l.payload.sourceViewBox){var w=l.payload.coordinate,{x:x,y:B}=w,C=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(w,NS),{x:N,y:k,width:_,height:E}=l.payload.sourceViewBox,S=_S(_S({},C),{},{x:s.x+(_?(x-N)/_:0)*s.width,y:s.y+(E?(B-k)/E:0)*s.height});n(_S(_S({},l),{},{payload:_S(_S({},l.payload),{},{coordinate:S})}))}else n(l)};return wS.on(xS,i),()=>{wS.off(xS,i)}},[l,n,t,e,r,a,o,s])}function FS(){var e=tg();(0,i.useEffect)(()=>{e(ff())},[e]),SS(),function(){var e=ag(Hx),t=ag(Kx),n=tg();(0,i.useEffect)(()=>{if(null==e)return kA;var r=(r,i,a)=>{t!==a&&e===r&&n(Op(i))};return wS.on(BS,r),()=>{wS.off(BS,r)}},[n,t,e])}()}function IS(e,t,n,r,a,o){var s=ag(n=>((e,t,n)=>{if(null!=t){var r=VN(e);return"axis"===t?"hover"===n?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:"hover"===n?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}})(n,e,t)),l=ag(Kx),c=ag(Hx),u=ag(zx),A=ag(CS),d=null===A||void 0===A?void 0:A.active,h=Jg();(0,i.useEffect)(()=>{if(!d&&null!=c&&null!=l){var e=Sp({active:o,coordinate:n,dataKey:s,index:a,label:"number"===typeof r?String(r):r,sourceViewBox:h,graphicalItemId:void 0});wS.emit(xS,c,e,l)}},[d,n,s,a,r,l,c,u,o,h])}var jS=(0,i.createContext)(null),US=(0,i.createContext)(null);function OS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function PS(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?OS(Object(n),!0).forEach(function(t){LS(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):OS(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function LS(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function DS(){return DS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},DS.apply(null,arguments)}var TS=()=>(FS(),null);function MS(e){if("number"===typeof e)return e;if("string"===typeof e){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var QS=(0,i.forwardRef)((e,t)=>{var n,r,a=(0,i.useRef)(null),[o,s]=(0,i.useState)({containerWidth:MS(null===(n=e.style)||void 0===n?void 0:n.width),containerHeight:MS(null===(r=e.style)||void 0===r?void 0:r.height)}),l=(0,i.useCallback)((e,t)=>{s(n=>{var r=Math.round(e),i=Math.round(t);return n.containerWidth===r&&n.containerHeight===i?n:{containerWidth:r,containerHeight:i}})},[]),c=(0,i.useCallback)(e=>{if("function"===typeof t&&t(e),null!=e&&"undefined"!==typeof ResizeObserver){var{width:n,height:r}=e.getBoundingClientRect();l(n,r);var i=new ResizeObserver(e=>{var{width:t,height:n}=e[0].contentRect;l(t,n)});i.observe(e),a.current=i}},[t,l]);return(0,i.useEffect)(()=>()=>{var e=a.current;null!=e&&e.disconnect()},[l]),i.createElement(i.Fragment,null,i.createElement(im,{width:o.containerWidth,height:o.containerHeight}),i.createElement("div",DS({ref:c},e)))}),RS=(0,i.forwardRef)((e,t)=>{var{width:n,height:r}=e,[a,o]=(0,i.useState)({containerWidth:MS(n),containerHeight:MS(r)}),s=(0,i.useCallback)((e,t)=>{o(n=>{var r=Math.round(e),i=Math.round(t);return n.containerWidth===r&&n.containerHeight===i?n:{containerWidth:r,containerHeight:i}})},[]),l=(0,i.useCallback)(e=>{if("function"===typeof t&&t(e),null!=e){var{width:n,height:r}=e.getBoundingClientRect();s(n,r)}},[t,s]);return i.createElement(i.Fragment,null,i.createElement(im,{width:a.containerWidth,height:a.containerHeight}),i.createElement("div",DS({ref:l},e)))}),HS=(0,i.forwardRef)((e,t)=>{var{width:n,height:r}=e;return i.createElement(i.Fragment,null,i.createElement(im,{width:n,height:r}),i.createElement("div",DS({ref:t},e)))}),zS=(0,i.forwardRef)((e,t)=>{var{width:n,height:r}=e;return pA(n)||pA(r)?i.createElement(RS,DS({},e,{ref:t})):i.createElement(HS,DS({},e,{ref:t}))});var KS=(0,i.forwardRef)((e,t)=>{var{children:n,className:r,height:a,onClick:o,onContextMenu:s,onDoubleClick:l,onMouseDown:c,onMouseEnter:u,onMouseLeave:A,onMouseMove:d,onMouseUp:h,onTouchEnd:f,onTouchMove:p,onTouchStart:g,style:m,width:v,responsive:y,dispatchTouchEvents:b=!0}=e,w=(0,i.useRef)(null),x=tg(),[B,C]=(0,i.useState)(null),[N,k]=(0,i.useState)(null),_=function(){var e=tg(),[t,n]=(0,i.useState)(null),r=ag(Lg);return(0,i.useEffect)(()=>{if(null!=t){var n=t.getBoundingClientRect().width/t.offsetWidth;OA(n)&&n!==r&&e(Rp(n))}},[t,e,r]),n}(),E=HA(),S=(null===E||void 0===E?void 0:E.width)>0?E.width:v,F=(null===E||void 0===E?void 0:E.height)>0?E.height:a,I=(0,i.useCallback)(e=>{_(e),"function"===typeof t&&t(e),C(e),k(e),null!=e&&(w.current=e)},[_,t,C,k]),j=(0,i.useCallback)(e=>{x(l_(e)),x(mE({handler:o,reactEvent:e}))},[x,o]),U=(0,i.useCallback)(e=>{x(u_(e)),x(mE({handler:u,reactEvent:e}))},[x,u]),O=(0,i.useCallback)(e=>{x(Np()),x(mE({handler:A,reactEvent:e}))},[x,A]),P=(0,i.useCallback)(e=>{x(u_(e)),x(mE({handler:d,reactEvent:e}))},[x,d]),L=(0,i.useCallback)(()=>{x(pE())},[x]),D=(0,i.useCallback)(e=>{x(fE(e.key))},[x]),T=(0,i.useCallback)(e=>{x(mE({handler:s,reactEvent:e}))},[x,s]),M=(0,i.useCallback)(e=>{x(mE({handler:l,reactEvent:e}))},[x,l]),Q=(0,i.useCallback)(e=>{x(mE({handler:c,reactEvent:e}))},[x,c]),R=(0,i.useCallback)(e=>{x(mE({handler:h,reactEvent:e}))},[x,h]),H=(0,i.useCallback)(e=>{x(mE({handler:g,reactEvent:e}))},[x,g]),z=(0,i.useCallback)(e=>{b&&x(xE(e)),x(mE({handler:p,reactEvent:e}))},[x,b,p]),K=(0,i.useCallback)(e=>{x(mE({handler:f,reactEvent:e}))},[x,f]),W=function(e){return!0===e?QS:zS}(y);return i.createElement(jS.Provider,{value:B},i.createElement(US.Provider,{value:N},i.createElement(W,{width:null!==S&&void 0!==S?S:null===m||void 0===m?void 0:m.width,height:null!==F&&void 0!==F?F:null===m||void 0===m?void 0:m.height,className:lA("recharts-wrapper",r),style:PS({position:"relative",cursor:"default",width:S,height:F},m),onClick:j,onContextMenu:T,onDoubleClick:M,onFocus:L,onKeyDown:D,onMouseDown:Q,onMouseEnter:U,onMouseLeave:O,onMouseMove:P,onMouseUp:R,onTouchEnd:K,onTouchMove:z,onTouchStart:H,ref:I},i.createElement(TS,null),n)))}),WS=Yp([zg],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),VS=Yp([WS,Og,Pg],(e,t,n)=>{if(e&&null!=t&&null!=n)return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),GS=()=>ag(VS),qS=(0,i.createContext)(void 0),XS=e=>{var{children:t}=e,[n]=(0,i.useState)("".concat(yA("recharts"),"-clip")),r=GS();if(null==r)return null;var{x:a,y:o,width:s,height:l}=r;return i.createElement(qS.Provider,{value:n},i.createElement("defs",null,i.createElement("clipPath",{id:n},i.createElement("rect",{x:a,y:o,height:l,width:s}))),t)},YS=["width","height","responsive","children","className","style","compact","title","desc"];var JS=(0,i.forwardRef)((e,t)=>{var{width:n,height:r,responsive:a,children:o,className:s,style:l,compact:c,title:u,desc:A}=e,d=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,YS),h=nS(d);return c?i.createElement(i.Fragment,null,i.createElement(im,{width:n,height:r}),i.createElement(bS,{otherAttributes:h,title:u,desc:A},o)):i.createElement(KS,{className:s,style:l,width:n,height:r,responsive:null!==a&&void 0!==a&&a,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},i.createElement(bS,{otherAttributes:h,title:u,desc:A,ref:t},i.createElement(XS,null,o)))});function ZS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function $S(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eF(e,t){var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ZS(Object(n),!0).forEach(function(t){$S(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZS(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e),r=t;return Object.keys(t).reduce((e,t)=>(void 0===e[t]&&void 0!==r[t]&&(e[t]=r[t]),e),n)}function tF(){return tF=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tF.apply(null,arguments)}var nF={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:{top:5,right:5,bottom:5,left:5},responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},rF=(0,i.forwardRef)(function(e,t){var n,r=eF(e.categoricalChartProps,nF),{chartName:a,defaultTooltipEventType:o,validateTooltipEventTypes:s,tooltipPayloadSearcher:l,categoricalChartProps:c}=e,u={chartName:a,defaultTooltipEventType:o,validateTooltipEventTypes:s,tooltipPayloadSearcher:l,eventEmitter:void 0};return i.createElement(HE,{preloadedState:{options:u},reduxStoreName:null!==(n=c.id)&&void 0!==n?n:a},i.createElement(zE,{chartData:c.data}),i.createElement(qE,{layout:r.layout,margin:r.margin}),i.createElement(XE,{baseValue:r.baseValue,accessibilityLayer:r.accessibilityLayer,barCategoryGap:r.barCategoryGap,maxBarSize:r.maxBarSize,stackOffset:r.stackOffset,barGap:r.barGap,barSize:r.barSize,syncId:r.syncId,syncMethod:r.syncMethod,className:r.className,reverseStackOrder:r.reverseStackOrder}),i.createElement(JS,tF({},r,{ref:t})))}),iF=["axis","item"],aF=(0,i.forwardRef)((e,t)=>i.createElement(rF,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:iF,tooltipPayloadSearcher:Af,categoricalChartProps:e,ref:t}));function oF(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function lF(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sF(Object(n),!0).forEach(function(t){cF(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sF(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function cF(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var uF=lF({},{cacheSize:2e3,enableCache:!0}),AF=new class{constructor(e){oF(this,"cache",new Map),this.maxSize=e}get(e){var t=this.cache.get(e);return void 0!==t&&(this.cache.delete(e),this.cache.set(e,t)),t}set(e,t){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;null!=n&&this.cache.delete(n)}this.cache.set(e,t)}clear(){this.cache.clear()}size(){return this.cache.size}}(uF.cacheSize),dF={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},hF="recharts_measurement_span";var fF=(e,t)=>{try{var n=document.getElementById(hF);n||((n=document.createElement("span")).setAttribute("id",hF),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,dF,t),n.textContent="".concat(e);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch(i){return{width:0,height:0}}},pF=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(void 0===e||null===e||FE)return{width:0,height:0};if(!uF.enableCache)return fF(e,t);var n=function(e,t){var n=t.fontSize||"",r=t.fontFamily||"",i=t.fontWeight||"",a=t.fontStyle||"",o=t.letterSpacing||"",s=t.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(a,"|").concat(o,"|").concat(s)}(e,t),r=AF.get(n);if(r)return r;var i=fF(e,t);return AF.set(n,i),i};function gF(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class mF{static create(e){return new mF(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:t,position:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(void 0!==e){if(n)switch(n){case"start":default:return this.scale(e);case"middle":var r=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+r;case"end":var i=this.bandwidth?this.bandwidth():0;return this.scale(e)+i}if(t){var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+a}return this.scale(e)}}isInRange(e){var t=this.range(),n=t[0],r=t[t.length-1];return n<=r?e>=n&&e<=r:e>=r&&e<=n}}gF(mF,"EPS",1e-4);function vF(e,t){if(t<1)return[];if(1===t)return e;for(var n=[],r=0;r<e.length;r+=t)n.push(e[r]);return n}function yF(e,t,n){return function(e){var{width:t,height:n}=e,r=function(e){return(e%180+180)%180}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0),i=r*Math.PI/180,a=Math.atan(n/t),o=i>a&&i<Math.PI-a?n/Math.sin(i):t/Math.cos(i);return Math.abs(o)}({width:e.width+t.width,height:e.height+t.height},n)}function bF(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var a=n();return e*(t-e*a/2-r)>=0&&e*(t+e*a/2-i)<=0}function wF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function xF(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wF(Object(n),!0).forEach(function(t){BF(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wF(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function BF(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function CF(e,t,n){var r,{tick:i,ticks:a,viewBox:o,minTickGap:s,orientation:l,interval:c,tickFormatter:u,unit:A,angle:d}=e;if(!a||!a.length||!i)return[];if(gA(c)||FE)return null!==(r=function(e,t){return vF(e,t+1)}(a,gA(c)?c:0))&&void 0!==r?r:[];var h=[],f="top"===l||"bottom"===l?"width":"height",p=A&&"width"===f?pF(A,{fontSize:t,letterSpacing:n}):{width:0,height:0},g=(e,r)=>{var i="function"===typeof u?u(e.value,r):e.value;return"width"===f?yF(pF(i,{fontSize:t,letterSpacing:n}),p,d):pF(i,{fontSize:t,letterSpacing:n})[f]},m=a.length>=2?hA(a[1].coordinate-a[0].coordinate):1,v=function(e,t,n){var r="width"===n,{x:i,y:a,width:o,height:s}=e;return 1===t?{start:r?i:a,end:r?i+o:a+s}:{start:r?i+o:a+s,end:r?i:a}}(o,m,f);return"equidistantPreserveStart"===c?function(e,t,n,r,i){for(var a,o=(r||[]).slice(),{start:s,end:l}=t,c=0,u=1,A=s,d=function(){var t=null===r||void 0===r?void 0:r[c];if(void 0===t)return{v:vF(r,u)};var a,o=c,d=()=>(void 0===a&&(a=n(t,o)),a),h=t.coordinate,f=0===c||bF(e,h,d,A,l);f||(c=0,A=s,u+=1),f&&(A=h+e*(d()/2+i),c+=u)};u<=o.length;)if(a=d())return a.v;return[]}(m,v,g,a,s):(h="preserveStart"===c||"preserveStartEnd"===c?function(e,t,n,r,i,a){var o=(r||[]).slice(),s=o.length,{start:l,end:c}=t;if(a){var u=r[s-1],A=n(u,s-1),d=e*(u.coordinate+e*A/2-c);o[s-1]=u=xF(xF({},u),{},{tickCoord:d>0?u.coordinate-d*e:u.coordinate}),null!=u.tickCoord&&bF(e,u.tickCoord,()=>A,l,c)&&(c=u.tickCoord-e*(A/2+i),o[s-1]=xF(xF({},u),{},{isShow:!0}))}for(var h=a?s-1:s,f=function(t){var r,a=o[t],s=()=>(void 0===r&&(r=n(a,t)),r);if(0===t){var u=e*(a.coordinate-e*s()/2-l);o[t]=a=xF(xF({},a),{},{tickCoord:u<0?a.coordinate-u*e:a.coordinate})}else o[t]=a=xF(xF({},a),{},{tickCoord:a.coordinate});null!=a.tickCoord&&bF(e,a.tickCoord,s,l,c)&&(l=a.tickCoord+e*(s()/2+i),o[t]=xF(xF({},a),{},{isShow:!0}))},p=0;p<h;p++)f(p);return o}(m,v,g,a,s,"preserveStartEnd"===c):function(e,t,n,r,i){for(var a=(r||[]).slice(),o=a.length,{start:s}=t,{end:l}=t,c=function(t){var r,c=a[t],u=()=>(void 0===r&&(r=n(c,t)),r);if(t===o-1){var A=e*(c.coordinate+e*u()/2-l);a[t]=c=xF(xF({},c),{},{tickCoord:A>0?c.coordinate-A*e:c.coordinate})}else a[t]=c=xF(xF({},c),{},{tickCoord:c.coordinate});null!=c.tickCoord&&bF(e,c.tickCoord,u,s,l)&&(l=c.tickCoord-e*(u()/2+i),a[t]=xF(xF({},c),{},{isShow:!0}))},u=o-1;u>=0;u--)c(u);return a}(m,v,g,a,s),h.filter(e=>e.isShow))}var NF=["children","className"];function kF(){return kF=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kF.apply(null,arguments)}var _F=i.forwardRef((e,t)=>{var{children:n,className:r}=e,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,NF),o=lA("recharts-layer",r);return i.createElement("g",kF({className:o},iS(a),{ref:t}),n)}),EF=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,SF=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,FF=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,IF=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,jF={cm:96/2.54,mm:96/25.4,pt:96/72,pc:16,in:96,Q:96/101.6,px:1},UF=Object.keys(jF),OF="NaN";class PF{static parse(e){var t,[,n,r]=null!==(t=IF.exec(e))&&void 0!==t?t:[];return new PF(parseFloat(n),null!==r&&void 0!==r?r:"")}constructor(e,t){this.num=e,this.unit=t,this.num=e,this.unit=t,fA(e)&&(this.unit=""),""===t||FF.test(t)||(this.num=NaN,this.unit=""),UF.includes(t)&&(this.num=function(e,t){return e*jF[t]}(e,t),this.unit="px")}add(e){return this.unit!==e.unit?new PF(NaN,""):new PF(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new PF(NaN,""):new PF(this.num-e.num,this.unit)}multiply(e){return""!==this.unit&&""!==e.unit&&this.unit!==e.unit?new PF(NaN,""):new PF(this.num*e.num,this.unit||e.unit)}divide(e){return""!==this.unit&&""!==e.unit&&this.unit!==e.unit?new PF(NaN,""):new PF(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return fA(this.num)}}function LF(e){if(e.includes(OF))return OF;for(var t=e;t.includes("*")||t.includes("/");){var n,[,r,i,a]=null!==(n=EF.exec(t))&&void 0!==n?n:[],o=PF.parse(null!==r&&void 0!==r?r:""),s=PF.parse(null!==a&&void 0!==a?a:""),l="*"===i?o.multiply(s):o.divide(s);if(l.isNaN())return OF;t=t.replace(EF,l.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var c,[,u,A,d]=null!==(c=SF.exec(t))&&void 0!==c?c:[],h=PF.parse(null!==u&&void 0!==u?u:""),f=PF.parse(null!==d&&void 0!==d?d:""),p="+"===A?h.add(f):h.subtract(f);if(p.isNaN())return OF;t=t.replace(SF,p.toString())}return t}var DF=/\(([^()]*)\)/;function TF(e){var t=e.replace(/\s+/g,"");return t=function(e){for(var t,n=e;null!=(t=DF.exec(n));){var[,r]=t;n=n.replace(DF,LF(r))}return n}(t),t=LF(t)}function MF(e){var t=function(e){try{return TF(e)}catch(t){return OF}}(e.slice(5,-1));return t===OF?"":t}var QF=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],RF=["dx","dy","angle","className","breakAll"];function HF(){return HF=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},HF.apply(null,arguments)}function zF(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var KF=/[ \f\n\r\t\v\u2028\u2029]+/,WF=e=>{var{children:t,breakAll:n,style:r}=e;try{var i=[];return BA(t)||(i=n?t.toString().split(""):t.toString().split(KF)),{wordsWithComputedWidth:i.map(e=>({word:e,width:pF(e,r).width})),spaceWidth:n?0:pF("\xa0",r).width}}catch(a){return null}};function VF(e){return"start"===e||"middle"===e||"end"===e||"inherit"===e}var GF=(e,t,n,r)=>e.reduce((e,i)=>{var{word:a,width:o}=i,s=e[e.length-1];if(s&&null!=o&&(null==t||r||s.width+o+n<Number(t)))s.words.push(a),s.width+=o+n;else{var l={words:[a],width:o};e.push(l)}return e},[]),qF=e=>e.reduce((e,t)=>e.width>t.width?e:t),XF=(e,t,n,r,i,a,o,s)=>{var l=e.slice(0,t),c=WF({breakAll:n,style:r,children:l+"\u2026"});if(!c)return[!1,[]];var u=GF(c.wordsWithComputedWidth,a,o,s);return[u.length>i||qF(u).width>Number(a),u]},YF=e=>[{words:BA(e)?[]:e.toString().split(KF),width:void 0}],JF=e=>{var{width:t,scaleToFit:n,children:r,style:i,breakAll:a,maxLines:o}=e;if((t||n)&&!FE){var s=WF({breakAll:a,children:r,style:i});if(!s)return YF(r);var{wordsWithComputedWidth:l,spaceWidth:c}=s;return((e,t,n,r,i)=>{var{maxLines:a,children:o,style:s,breakAll:l}=e,c=gA(a),u=String(o),A=GF(t,r,n,i);if(!c||i)return A;if(!(A.length>a||qF(A).width>Number(r)))return A;for(var d,h=0,f=u.length-1,p=0;h<=f&&p<=u.length-1;){var g=Math.floor((h+f)/2),m=g-1,[v,y]=XF(u,m,l,s,a,r,n,i),[b]=XF(u,g,l,s,a,r,n,i);if(v||b||(h=g+1),v&&b&&(f=g-1),!v&&b){d=y;break}p++}return d||A})({breakAll:a,children:r,maxLines:o,style:i},l,c,t,Boolean(n))}return YF(r)},ZF="#808080",$F={angle:0,breakAll:!1,capHeight:"0.71em",fill:ZF,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},eI=(0,i.forwardRef)((e,t)=>{var n=eF(e,$F),{x:r,y:a,lineHeight:o,capHeight:s,fill:l,scaleToFit:c,textAnchor:u,verticalAnchor:A}=n,d=zF(n,QF),h=(0,i.useMemo)(()=>JF({breakAll:d.breakAll,children:d.children,maxLines:d.maxLines,scaleToFit:c,style:d.style,width:d.width}),[d.breakAll,d.children,d.maxLines,c,d.style,d.width]),{dx:f,dy:p,angle:g,className:m,breakAll:v}=d,y=zF(d,RF);if(!mA(r)||!mA(a)||0===h.length)return null;var b,w=Number(r)+(gA(f)?f:0),x=Number(a)+(gA(p)?p:0);if(!OA(w)||!OA(x))return null;switch(A){case"start":b=MF("calc(".concat(s,")"));break;case"middle":b=MF("calc(".concat((h.length-1)/2," * -").concat(o," + (").concat(s," / 2))"));break;default:b=MF("calc(".concat(h.length-1," * -").concat(o,")"))}var B=[];if(c){var C=h[0].width,{width:N}=d;B.push("scale(".concat(gA(N)&&gA(C)?N/C:1,")"))}return g&&B.push("rotate(".concat(g,", ").concat(w,", ").concat(x,")")),B.length&&(y.transform=B.join(" ")),i.createElement("text",HF({},iS(y),{ref:t,x:w,y:x,className:lA("recharts-text",m),textAnchor:u,fill:l.includes("url")?ZF:l}),h.map((e,t)=>{var n=e.words.join(v?"":" ");return i.createElement("tspan",{x:w,dy:0===t?b:o,key:"".concat(n,"-").concat(t)},n)}))});function tI(e){var{zIndex:t,children:n}=e,r=void 0!==rm()&&void 0!==t&&0!==t,a=Gg(),o=tg();(0,i.useLayoutEffect)(()=>r?(o(DE({zIndex:t})),()=>{o(TE({zIndex:t}))}):kA,[o,t,r]);var s=ag(e=>AS(e,t,a));if(!r)return n;if(!s)return null;var l=document.getElementById(s);return l?(0,Be.createPortal)(n,l):null}eI.displayName="Text";var nI=["labelRef"];function rI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function iI(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rI(Object(n),!0).forEach(function(t){aI(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rI(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function aI(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oI(){return oI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},oI.apply(null,arguments)}var sI=(0,i.createContext)(null),lI=e=>{var{x:t,y:n,upperWidth:r,lowerWidth:a,width:o,height:s,children:l}=e,c=(0,i.useMemo)(()=>({x:t,y:n,upperWidth:r,lowerWidth:a,width:o,height:s}),[t,n,r,a,o,s]);return i.createElement(sI.Provider,{value:c},l)},cI=()=>{var e=(0,i.useContext)(sI),t=Jg();return e||Yg(t)},uI=(0,i.createContext)(null),AI=()=>{var e=(0,i.useContext)(uI),t=ag(BB);return e||t},dI=e=>null!=e&&"function"===typeof e,hI=(e,t,n,r,a)=>{var o,s,{offset:l,className:c}=e,{cx:u,cy:A,innerRadius:d,outerRadius:h,startAngle:f,endAngle:p,clockWise:g}=a,m=(d+h)/2,v=((e,t)=>hA(t-e)*Math.min(Math.abs(t-e),360))(f,p),y=v>=0?1:-1;switch(t){case"insideStart":o=f+y*l,s=g;break;case"insideEnd":o=p-y*l,s=!g;break;case"end":o=p+y*l,s=g;break;default:throw new Error("Unsupported position ".concat(t))}s=v<=0?s:!s;var b=Yx(u,A,m,o),w=Yx(u,A,m,o+359*(s?1:-1)),x="M".concat(b.x,",").concat(b.y,"\n    A").concat(m,",").concat(m,",0,1,").concat(s?0:1,",\n    ").concat(w.x,",").concat(w.y),B=BA(e.id)?yA("recharts-radial-line-"):e.id;return i.createElement("text",oI({},r,{dominantBaseline:"central",className:lA("recharts-radial-bar-label",c)}),i.createElement("defs",null,i.createElement("path",{id:B,d:x})),i.createElement("textPath",{xlinkHref:"#".concat(B)},n))},fI=e=>"cx"in e&&gA(e.cx),pI={angle:0,offset:5,zIndex:eB.label,position:"middle",textBreakAll:!1};function gI(e){var t,n,r,a=eF(e,pI),{viewBox:o,position:s,value:l,children:c,content:u,className:A="",textBreakAll:d,labelRef:h}=a,f=AI(),p=cI();if(!(t=null==o?"center"===s?p:null!==f&&void 0!==f?f:p:fI(o)?o:Yg(o))||BA(l)&&BA(c)&&!(0,i.isValidElement)(u)&&"function"!==typeof u)return null;var g=iI(iI({},a),{},{viewBox:t});if((0,i.isValidElement)(u)){var{labelRef:m}=g,v=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(g,nI);return(0,i.cloneElement)(u,v)}if("function"===typeof u){if(n=(0,i.createElement)(u,g),(0,i.isValidElement)(n))return n}else n=(e=>{var{value:t,formatter:n}=e,r=BA(e.children)?t:e.children;return"function"===typeof n?n(r):r})(a);var y=iS(a);if(fI(t)){if("insideStart"===s||"insideEnd"===s||"end"===s)return hI(a,s,n,y,t);r=((e,t,n)=>{var{cx:r,cy:i,innerRadius:a,outerRadius:o,startAngle:s,endAngle:l}=e,c=(s+l)/2;if("outside"===n){var{x:u,y:A}=Yx(r,i,o+t,c);return{x:u,y:A,textAnchor:u>=r?"start":"end",verticalAnchor:"middle"}}if("center"===n)return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if("centerTop"===n)return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if("centerBottom"===n)return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var d=(a+o)/2,{x:h,y:f}=Yx(r,i,d,c);return{x:h,y:f,textAnchor:"middle",verticalAnchor:"middle"}})(t,a.offset,a.position)}else r=((e,t)=>{var n,{parentViewBox:r,offset:i,position:a}=e;null==r||fI(r)||(n=r);var{x:o,y:s,upperWidth:l,lowerWidth:c,height:u}=t,A=o,d=o+(l-c)/2,h=(A+d)/2,f=(l+c)/2,p=A+l/2,g=u>=0?1:-1,m=g*i,v=g>0?"end":"start",y=g>0?"start":"end",b=l>=0?1:-1,w=b*i,x=b>0?"end":"start",B=b>0?"start":"end";if("top"===a)return iI(iI({},{x:A+l/2,y:s-m,textAnchor:"middle",verticalAnchor:v}),n?{height:Math.max(s-n.y,0),width:l}:{});if("bottom"===a)return iI(iI({},{x:d+c/2,y:s+u+m,textAnchor:"middle",verticalAnchor:y}),n?{height:Math.max(n.y+n.height-(s+u),0),width:c}:{});if("left"===a){var C={x:h-w,y:s+u/2,textAnchor:x,verticalAnchor:"middle"};return iI(iI({},C),n?{width:Math.max(C.x-n.x,0),height:u}:{})}if("right"===a){var N={x:h+f+w,y:s+u/2,textAnchor:B,verticalAnchor:"middle"};return iI(iI({},N),n?{width:Math.max(n.x+n.width-N.x,0),height:u}:{})}var k=n?{width:f,height:u}:{};return"insideLeft"===a?iI({x:h+w,y:s+u/2,textAnchor:B,verticalAnchor:"middle"},k):"insideRight"===a?iI({x:h+f-w,y:s+u/2,textAnchor:x,verticalAnchor:"middle"},k):"insideTop"===a?iI({x:A+l/2,y:s+m,textAnchor:"middle",verticalAnchor:y},k):"insideBottom"===a?iI({x:d+c/2,y:s+u-m,textAnchor:"middle",verticalAnchor:v},k):"insideTopLeft"===a?iI({x:A+w,y:s+m,textAnchor:B,verticalAnchor:y},k):"insideTopRight"===a?iI({x:A+l-w,y:s+m,textAnchor:x,verticalAnchor:y},k):"insideBottomLeft"===a?iI({x:d+w,y:s+u-m,textAnchor:B,verticalAnchor:v},k):"insideBottomRight"===a?iI({x:d+c-w,y:s+u-m,textAnchor:x,verticalAnchor:v},k):a&&"object"===typeof a&&(gA(a.x)||pA(a.x))&&(gA(a.y)||pA(a.y))?iI({x:o+bA(a.x,f),y:s+bA(a.y,u),textAnchor:"end",verticalAnchor:"end"},k):iI({x:p,y:s+u/2,textAnchor:"middle",verticalAnchor:"middle"},k)})(a,t);return i.createElement(tI,{zIndex:a.zIndex},i.createElement(eI,oI({ref:h,className:lA("recharts-label",A)},y,r,{textAnchor:VF(y.textAnchor)?y.textAnchor:r.textAnchor,breakAll:d}),n))}gI.displayName="Label";var mI=(e,t,n)=>{if(!e)return null;var r={viewBox:t,labelRef:n};return!0===e?i.createElement(gI,oI({key:"label-implicit"},r)):mA(e)?i.createElement(gI,oI({key:"label-implicit",value:e},r)):(0,i.isValidElement)(e)?e.type===gI?(0,i.cloneElement)(e,iI({key:"label-implicit"},r)):i.createElement(gI,oI({key:"label-implicit",content:e},r)):dI(e)?i.createElement(gI,oI({key:"label-implicit",content:e},r)):e&&"object"===typeof e?i.createElement(gI,oI({},e,{key:"label-implicit"},r)):null};function vI(e){var{label:t,labelRef:n}=e,r=cI();return mI(t,r,n)||null}var yI=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,bI=(e,t,n)=>{if(null===e||"object"!==typeof e&&"function"!==typeof e)return null;var r=null;return Object.keys(e).forEach(i=>{var a=e[i];ZE(i)&&"function"===typeof a&&(r||(r={}),r[i]=((e,t,n)=>r=>(e(t,n,r),null))(a,t,n))}),r},wI=["axisLine","width","height","className","hide","ticks","axisType"];function xI(){return xI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xI.apply(null,arguments)}function BI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function CI(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?BI(Object(n),!0).forEach(function(t){NI(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):BI(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function NI(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var kI={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:eB.axis};function _I(e){var{x:t,y:n,width:r,height:a,orientation:o,mirror:s,axisLine:l,otherSvgProps:c}=e;if(!l)return null;var u=CI(CI(CI({},c),nS(l)),{},{fill:"none"});if("top"===o||"bottom"===o){var A=+("top"===o&&!s||"bottom"===o&&s);u=CI(CI({},u),{},{x1:t,y1:n+A*a,x2:t+r,y2:n+A*a})}else{var d=+("left"===o&&!s||"right"===o&&s);u=CI(CI({},u),{},{x1:t+d*r,y1:n,x2:t+d*r,y2:n+a})}return i.createElement("line",xI({},u,{className:lA("recharts-cartesian-axis-line",dA()(l,"className"))}))}function EI(e){var t,{option:n,tickProps:r,value:a}=e,o=lA(r.className,"recharts-cartesian-axis-tick-value");if(i.isValidElement(n))t=i.cloneElement(n,CI(CI({},r),{},{className:o}));else if("function"===typeof n)t=n(CI(CI({},r),{},{className:o}));else{var s="recharts-cartesian-axis-tick-value";"boolean"!==typeof n&&(s=lA(s,null===n||void 0===n?void 0:n.className)),t=i.createElement(eI,xI({},r,{className:s}),a)}return t}var SI=(0,i.forwardRef)((e,t)=>{var{ticks:n=[],tick:r,tickLine:a,stroke:o,tickFormatter:s,unit:l,padding:c,tickTextProps:u,orientation:A,mirror:d,x:h,y:f,width:p,height:g,tickSize:m,tickMargin:v,fontSize:y,letterSpacing:b,getTicksConfig:w,events:x,axisType:B}=e,C=CF(CI(CI({},w),{},{ticks:n}),y,b),N=function(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}(A,d),k=function(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}(A,d),_=nS(w),E=rS(r),S={};"object"===typeof a&&(S=a);var F=CI(CI({},_),{},{fill:"none"},S),I=C.map(e=>CI({entry:e},function(e,t,n,r,i,a,o,s,l){var c,u,A,d,h,f,p=s?-1:1,g=e.tickSize||o,m=gA(e.tickCoord)?e.tickCoord:e.coordinate;switch(a){case"top":c=u=e.coordinate,f=(A=(d=n+ +!s*i)-p*g)-p*l,h=m;break;case"left":A=d=e.coordinate,h=(c=(u=t+ +!s*r)-p*g)-p*l,f=m;break;case"right":A=d=e.coordinate,h=(c=(u=t+ +s*r)+p*g)+p*l,f=m;break;default:c=u=e.coordinate,f=(A=(d=n+ +s*i)+p*g)+p*l,h=m}return{line:{x1:c,y1:A,x2:u,y2:d},tick:{x:h,y:f}}}(e,h,f,p,g,A,m,d,v))),j=I.map(e=>{var{entry:t,line:n}=e;return i.createElement(_F,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(t.value,"-").concat(t.coordinate,"-").concat(t.tickCoord)},a&&i.createElement("line",xI({},F,n,{className:lA("recharts-cartesian-axis-tick-line",dA()(a,"className"))})))}),U=I.map((e,t)=>{var{entry:n,tick:a}=e,A=CI(CI(CI(CI({textAnchor:N,verticalAnchor:k},_),{},{stroke:"none",fill:o},E),a),{},{index:t,payload:n,visibleTicksCount:C.length,tickFormatter:s,padding:c},u);return i.createElement(_F,xI({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(n.value,"-").concat(n.coordinate,"-").concat(n.tickCoord)},bI(x,n,t)),r&&i.createElement(EI,{option:r,tickProps:A,value:"".concat("function"===typeof s?s(n.value,t):n.value).concat(l||"")}))});return i.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(B,"-ticks")},U.length>0&&i.createElement(tI,{zIndex:eB.label},i.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(B,"-tick-labels"),ref:t},U)),j.length>0&&i.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(B,"-tick-lines")},j))}),FI=(0,i.forwardRef)((e,t)=>{var{axisLine:n,width:r,height:a,className:o,hide:s,ticks:l,axisType:c}=e,u=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,wI),[A,d]=(0,i.useState)(""),[h,f]=(0,i.useState)(""),p=(0,i.useRef)(null);(0,i.useImperativeHandle)(t,()=>({getCalculatedWidth:()=>{var t;return(e=>{var{ticks:t,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:a=0}=e,o=0;if(t){Array.from(t).forEach(e=>{if(e){var t=e.getBoundingClientRect();t.width>o&&(o=t.width)}});var s=n?n.getBoundingClientRect().width:0,l=o+(i+a)+s+(n?r:0);return Math.round(l)}return 0})({ticks:p.current,label:null===(t=e.labelRef)||void 0===t?void 0:t.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var g=(0,i.useCallback)(e=>{if(e){var t=e.getElementsByClassName("recharts-cartesian-axis-tick-value");p.current=t;var n=t[0];if(n){var r=window.getComputedStyle(n),i=r.fontSize,a=r.letterSpacing;i===A&&a===h||(d(i),f(a))}}},[A,h]);return s||null!=r&&r<=0||null!=a&&a<=0?null:i.createElement(tI,{zIndex:e.zIndex},i.createElement(_F,{className:lA("recharts-cartesian-axis",o)},i.createElement(_I,{x:e.x,y:e.y,width:r,height:a,orientation:e.orientation,mirror:e.mirror,axisLine:n,otherSvgProps:nS(e)}),i.createElement(SI,{ref:g,axisType:c,events:u,fontSize:A,getTicksConfig:e,height:e.height,letterSpacing:h,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:l,unit:e.unit,width:e.width,x:e.x,y:e.y}),i.createElement(lI,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},i.createElement(vI,{label:e.label,labelRef:e.labelRef}),e.children)))}),II=i.forwardRef((e,t)=>{var n=eF(e,kI);return i.createElement(FI,xI({},n,{ref:t}))});II.displayName="CartesianAxis";var jI=["x1","y1","x2","y2","key"],UI=["offset"],OI=["xAxisId","yAxisId"],PI=["xAxisId","yAxisId"];function LI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function DI(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?LI(Object(n),!0).forEach(function(t){TI(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):LI(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function TI(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function MI(){return MI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},MI.apply(null,arguments)}function QI(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var RI=e=>{var{fill:t}=e;if(!t||"none"===t)return null;var{fillOpacity:n,x:r,y:a,width:o,height:s,ry:l}=e;return i.createElement("rect",{x:r,y:a,ry:l,width:o,height:s,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function HI(e){var t,{option:n,lineItemProps:r}=e;if(i.isValidElement(n))t=i.cloneElement(n,r);else if("function"===typeof n)t=n(r);else{var a,{x1:o,y1:s,x2:l,y2:c,key:u}=r,A=null!==(a=nS(QI(r,jI)))&&void 0!==a?a:{},{offset:d}=A,h=QI(A,UI);t=i.createElement("line",MI({},h,{x1:o,y1:s,x2:l,y2:c,fill:"none",key:u}))}return t}function zI(e){var{x:t,width:n,horizontal:r=!0,horizontalPoints:a}=e;if(!r||!a||!a.length)return null;var{xAxisId:o,yAxisId:s}=e,l=QI(e,OI),c=a.map((e,a)=>{var o=DI(DI({},l),{},{x1:t,y1:e,x2:t+n,y2:e,key:"line-".concat(a),index:a});return i.createElement(HI,{key:"line-".concat(a),option:r,lineItemProps:o})});return i.createElement("g",{className:"recharts-cartesian-grid-horizontal"},c)}function KI(e){var{y:t,height:n,vertical:r=!0,verticalPoints:a}=e;if(!r||!a||!a.length)return null;var{xAxisId:o,yAxisId:s}=e,l=QI(e,PI),c=a.map((e,a)=>{var o=DI(DI({},l),{},{x1:e,y1:t,x2:e,y2:t+n,key:"line-".concat(a),index:a});return i.createElement(HI,{option:r,lineItemProps:o,key:"line-".concat(a)})});return i.createElement("g",{className:"recharts-cartesian-grid-vertical"},c)}function WI(e){var{horizontalFill:t,fillOpacity:n,x:r,y:a,width:o,height:s,horizontalPoints:l,horizontal:c=!0}=e;if(!c||!t||!t.length||null==l)return null;var u=l.map(e=>Math.round(e+a-a)).sort((e,t)=>e-t);a!==u[0]&&u.unshift(0);var A=u.map((e,l)=>{var c=!u[l+1]?a+s-e:u[l+1]-e;if(c<=0)return null;var A=l%t.length;return i.createElement("rect",{key:"react-".concat(l),y:e,x:r,height:c,width:o,stroke:"none",fill:t[A],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return i.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},A)}function VI(e){var{vertical:t=!0,verticalFill:n,fillOpacity:r,x:a,y:o,width:s,height:l,verticalPoints:c}=e;if(!t||!n||!n.length)return null;var u=c.map(e=>Math.round(e+a-a)).sort((e,t)=>e-t);a!==u[0]&&u.unshift(0);var A=u.map((e,t)=>{var c=!u[t+1]?a+s-e:u[t+1]-e;if(c<=0)return null;var A=t%n.length;return i.createElement("rect",{key:"react-".concat(t),x:e,y:o,width:c,height:l,stroke:"none",fill:n[A],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return i.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},A)}var GI=(e,t)=>{var{xAxis:n,width:r,height:i,offset:a}=e;return xg(CF(DI(DI(DI({},kI),n),{},{ticks:Bg(n,!0),viewBox:{x:0,y:0,width:r,height:i}})),a.left,a.left+a.width,t)},qI=(e,t)=>{var{yAxis:n,width:r,height:i,offset:a}=e;return xg(CF(DI(DI(DI({},kI),n),{},{ticks:Bg(n,!0),viewBox:{x:0,y:0,width:r,height:i}})),a.top,a.top+a.height,t)},XI={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:eB.grid};function YI(e){var t=em(),n=tm(),r=$g(),a=DI(DI({},eF(e,XI)),{},{x:gA(e.x)?e.x:r.left,y:gA(e.y)?e.y:r.top,width:gA(e.width)?e.width:r.width,height:gA(e.height)?e.height:r.height}),{xAxisId:o,yAxisId:s,x:l,y:c,width:u,height:A,syncWithTicks:d,horizontalValues:h,verticalValues:f}=a,p=Gg(),g=ag(e=>kN(e,"xAxis",o,p)),m=ag(e=>kN(e,"yAxis",s,p));if(!PA(u)||!PA(A)||!gA(l)||!gA(c))return null;var v=a.verticalCoordinatesGenerator||GI,y=a.horizontalCoordinatesGenerator||qI,{horizontalPoints:b,verticalPoints:w}=a;if((!b||!b.length)&&"function"===typeof y){var x=h&&h.length,B=y({yAxis:m?DI(DI({},m),{},{ticks:x?h:m.ticks}):void 0,width:null!==t&&void 0!==t?t:u,height:null!==n&&void 0!==n?n:A,offset:r},!!x||d);_A(Array.isArray(B),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof B,"]")),Array.isArray(B)&&(b=B)}if((!w||!w.length)&&"function"===typeof v){var C=f&&f.length,N=v({xAxis:g?DI(DI({},g),{},{ticks:C?f:g.ticks}):void 0,width:null!==t&&void 0!==t?t:u,height:null!==n&&void 0!==n?n:A,offset:r},!!C||d);_A(Array.isArray(N),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof N,"]")),Array.isArray(N)&&(w=N)}return i.createElement(tI,{zIndex:a.zIndex},i.createElement("g",{className:"recharts-cartesian-grid"},i.createElement(RI,{fill:a.fill,fillOpacity:a.fillOpacity,x:a.x,y:a.y,width:a.width,height:a.height,ry:a.ry}),i.createElement(WI,MI({},a,{horizontalPoints:b})),i.createElement(VI,MI({},a,{verticalPoints:w})),i.createElement(zI,MI({},a,{offset:r,horizontalPoints:b,xAxis:g,yAxis:m})),i.createElement(KI,MI({},a,{offset:r,verticalPoints:w,xAxis:g,yAxis:m}))))}YI.displayName="CartesianGrid";var JI=["domain","range"],ZI=["domain","range"];function $I(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function ej(e,t){return e===t||!(!Array.isArray(e)||2!==e.length||!Array.isArray(t)||2!==t.length)&&(e[0]===t[0]&&e[1]===t[1])}function tj(e,t){if(e===t)return!0;var{domain:n,range:r}=e,i=$I(e,JI),{domain:a,range:o}=t,s=$I(t,ZI);return!!ej(n,a)&&(!!ej(r,o)&&VE(i,s))}var nj=["dangerouslySetInnerHTML","ticks"],rj=["id"];function ij(){return ij=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ij.apply(null,arguments)}function aj(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function oj(e){var t=tg(),n=(0,i.useRef)(null);return(0,i.useLayoutEffect)(()=>{null===n.current?t(v_(e)):n.current!==e&&t(y_({prev:n.current,next:e})),n.current=e},[e,t]),(0,i.useLayoutEffect)(()=>()=>{n.current&&(t(b_(n.current)),n.current=null)},[t]),null}var sj=e=>{var{xAxisId:t,className:n}=e,r=ag(Wg),a=Gg(),o="xAxis",s=ag(e=>lN(e,o,t,a)),l=ag(e=>_N(e,o,t,a)),c=ag(e=>pN(e,t)),u=ag(e=>vN(e,t)),A=ag(e=>TB(e,t));if(null==c||null==u||null==A)return null;var{dangerouslySetInnerHTML:d,ticks:h}=e,f=aj(e,nj),{id:p}=A,g=aj(A,rj);return i.createElement(II,ij({},f,g,{scale:s,x:u.x,y:u.y,width:c.width,height:c.height,className:lA("recharts-".concat(o," ").concat(o),n),viewBox:r,ticks:l,axisType:o}))},lj={allowDataOverflow:DB.allowDataOverflow,allowDecimals:DB.allowDecimals,allowDuplicatedCategory:DB.allowDuplicatedCategory,angle:DB.angle,axisLine:kI.axisLine,height:DB.height,hide:!1,includeHidden:DB.includeHidden,interval:DB.interval,minTickGap:DB.minTickGap,mirror:DB.mirror,orientation:DB.orientation,padding:DB.padding,reversed:DB.reversed,scale:DB.scale,tick:DB.tick,tickCount:DB.tickCount,tickLine:kI.tickLine,tickSize:kI.tickSize,type:DB.type,xAxisId:0},cj=e=>{var t=eF(e,lj);return i.createElement(i.Fragment,null,i.createElement(oj,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),i.createElement(sj,t))},uj=i.memo(cj,tj);uj.displayName="XAxis";var Aj=["dangerouslySetInnerHTML","ticks"],dj=["id"];function hj(){return hj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hj.apply(null,arguments)}function fj(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function pj(e){var t=tg(),n=(0,i.useRef)(null);return(0,i.useLayoutEffect)(()=>{null===n.current?t(w_(e)):n.current!==e&&t(x_({prev:n.current,next:e})),n.current=e},[e,t]),(0,i.useLayoutEffect)(()=>()=>{n.current&&(t(B_(n.current)),n.current=null)},[t]),null}var gj=e=>{var{yAxisId:t,className:n,width:r,label:a}=e,o=(0,i.useRef)(null),s=(0,i.useRef)(null),l=ag(Wg),c=Gg(),u=tg(),A="yAxis",d=ag(e=>lN(e,A,t,c)),h=ag(e=>bN(e,t)),f=ag(e=>yN(e,t)),p=ag(e=>_N(e,A,t,c)),g=ag(e=>RB(e,t));if((0,i.useLayoutEffect)(()=>{if("auto"===r&&h&&!dI(a)&&!(0,i.isValidElement)(a)&&null!=g){var e=o.current;if(e){var n=e.getCalculatedWidth();Math.round(h.width)!==Math.round(n)&&u(__({id:t,width:n}))}}},[p,h,u,a,t,r,g]),null==h||null==f||null==g)return null;var{dangerouslySetInnerHTML:m,ticks:v}=e,y=fj(e,Aj),{id:b}=g,w=fj(g,dj);return i.createElement(II,hj({},y,w,{ref:o,labelRef:s,scale:d,x:f.x,y:f.y,tickTextProps:"auto"===r?{width:void 0}:{width:r},width:h.width,height:h.height,className:lA("recharts-".concat(A," ").concat(A),n),viewBox:l,ticks:p,axisType:A}))},mj={allowDataOverflow:QB.allowDataOverflow,allowDecimals:QB.allowDecimals,allowDuplicatedCategory:QB.allowDuplicatedCategory,angle:QB.angle,axisLine:kI.axisLine,hide:!1,includeHidden:QB.includeHidden,interval:QB.interval,minTickGap:QB.minTickGap,mirror:QB.mirror,orientation:QB.orientation,padding:QB.padding,reversed:QB.reversed,scale:QB.scale,tick:QB.tick,tickCount:QB.tickCount,tickLine:kI.tickLine,tickSize:kI.tickSize,type:QB.type,width:QB.width,yAxisId:0},vj=e=>{var t=eF(e,mj);return i.createElement(i.Fragment,null,i.createElement(pj,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),i.createElement(gj,t))},yj=i.memo(vj,tj);function bj(){return bj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bj.apply(null,arguments)}function wj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function xj(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wj(Object(n),!0).forEach(function(t){Bj(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wj(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Bj(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Cj(e){return Array.isArray(e)&&mA(e[0])&&mA(e[1])?e.join(" ~ "):e}yj.displayName="YAxis";var Nj=e=>{var{separator:t=" : ",contentStyle:n={},itemStyle:r={},labelStyle:a={},payload:o,formatter:s,itemSorter:l,wrapperClassName:c,labelClassName:u,label:A,labelFormatter:d,accessibilityLayer:h=!1}=e,f=xj({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),p=xj({margin:0},a),g=!BA(A),m=g?A:"",v=lA("recharts-default-tooltip",c),y=lA("recharts-tooltip-label",u);g&&d&&void 0!==o&&null!==o&&(m=d(A,o));var b=h?{role:"status","aria-live":"assertive"}:{};return i.createElement("div",bj({className:v,style:f},b),i.createElement("p",{className:y,style:p},i.isValidElement(m)?m:"".concat(m)),(()=>{if(o&&o.length){var e=(l?sg()(o,l):o).map((e,n)=>{if("none"===e.type)return null;var a=e.formatter||s||Cj,{value:l,name:c}=e,u=l,A=c;if(a){var d=a(l,c,e,n,o);if(Array.isArray(d))[u,A]=d;else{if(null==d)return null;u=d}}var h=xj({display:"block",paddingTop:4,paddingBottom:4,color:e.color||"#000"},r);return i.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(n),style:h},mA(A)?i.createElement("span",{className:"recharts-tooltip-item-name"},A):null,mA(A)?i.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,i.createElement("span",{className:"recharts-tooltip-item-value"},u),i.createElement("span",{className:"recharts-tooltip-item-unit"},e.unit||""))});return i.createElement("ul",{className:"recharts-tooltip-item-list",style:{padding:0,margin:0}},e)}return null})())},kj="recharts-tooltip-wrapper",_j={visibility:"hidden"};function Ej(e){var{coordinate:t,translateX:n,translateY:r}=e;return lA(kj,{["".concat(kj,"-right")]:gA(n)&&t&&gA(t.x)&&n>=t.x,["".concat(kj,"-left")]:gA(n)&&t&&gA(t.x)&&n<t.x,["".concat(kj,"-bottom")]:gA(r)&&t&&gA(t.y)&&r>=t.y,["".concat(kj,"-top")]:gA(r)&&t&&gA(t.y)&&r<t.y})}function Sj(e){var{allowEscapeViewBox:t,coordinate:n,key:r,offsetTopLeft:i,position:a,reverseDirection:o,tooltipDimension:s,viewBox:l,viewBoxDimension:c}=e;if(a&&gA(a[r]))return a[r];var u=n[r]-s-(i>0?i:0),A=n[r]+i;if(t[r])return o[r]?u:A;var d=l[r];return null==d?0:o[r]?u<d?Math.max(A,d):Math.max(u,d):null==c?0:A+s>d+c?Math.max(u,d):Math.max(A,d)}function Fj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Ij(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fj(Object(n),!0).forEach(function(t){jj(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fj(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function jj(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Uj extends i.PureComponent{constructor(){super(...arguments),jj(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),jj(this,"handleKeyDown",e=>{var t,n,r,i;"Escape"===e.key&&this.setState({dismissed:!0,dismissedAtCoordinate:{x:null!==(t=null===(n=this.props.coordinate)||void 0===n?void 0:n.x)&&void 0!==t?t:0,y:null!==(r=null===(i=this.props.coordinate)||void 0===i?void 0:i.y)&&void 0!==r?r:0}})})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,t;this.state.dismissed&&((null===(e=this.props.coordinate)||void 0===e?void 0:e.x)===this.state.dismissedAtCoordinate.x&&(null===(t=this.props.coordinate)||void 0===t?void 0:t.y)===this.state.dismissedAtCoordinate.y||(this.state.dismissed=!1))}render(){var{active:e,allowEscapeViewBox:t,animationDuration:n,animationEasing:r,children:a,coordinate:o,hasPayload:s,isAnimationActive:l,offset:c,position:u,reverseDirection:A,useTranslate3d:d,viewBox:h,wrapperStyle:f,lastBoundingBox:p,innerRef:g,hasPortalFromProps:m}=this.props,{cssClasses:v,cssProperties:y}=function(e){var t,n,r,{allowEscapeViewBox:i,coordinate:a,offsetTopLeft:o,position:s,reverseDirection:l,tooltipBox:c,useTranslate3d:u,viewBox:A}=e;return t=c.height>0&&c.width>0&&a?function(e){var{translateX:t,translateY:n,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}({translateX:n=Sj({allowEscapeViewBox:i,coordinate:a,key:"x",offsetTopLeft:o,position:s,reverseDirection:l,tooltipDimension:c.width,viewBox:A,viewBoxDimension:A.width}),translateY:r=Sj({allowEscapeViewBox:i,coordinate:a,key:"y",offsetTopLeft:o,position:s,reverseDirection:l,tooltipDimension:c.height,viewBox:A,viewBoxDimension:A.height}),useTranslate3d:u}):_j,{cssProperties:t,cssClasses:Ej({translateX:n,translateY:r,coordinate:a})}}({allowEscapeViewBox:t,coordinate:o,offsetTopLeft:c,position:u,reverseDirection:A,tooltipBox:{height:p.height,width:p.width},useTranslate3d:d,viewBox:h}),b=m?{}:Ij(Ij({transition:l&&e?"transform ".concat(n,"ms ").concat(r):void 0},y),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&s?"visible":"hidden",position:"absolute",top:0,left:0}),w=Ij(Ij({},b),{},{visibility:!this.state.dismissed&&e&&s?"visible":"hidden"},f);return i.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:v,style:w,ref:g},a)}}var Oj=n(2239),Pj=n.n(Oj);function Lj(e,t,n){return!0===t?Pj()(e,n):"function"===typeof t?Pj()(e,t):e}var Dj,Tj,Mj,Qj,Rj,Hj,zj,Kj,Wj,Vj,Gj,qj,Xj,Yj;function Jj(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],[t,n]=(0,i.useState)({height:0,left:0,top:0,width:0}),r=(0,i.useCallback)(e=>{if(null!=e){var r=e.getBoundingClientRect(),i={height:r.height,left:r.left,top:r.top,width:r.width};(Math.abs(i.height-t.height)>1||Math.abs(i.left-t.left)>1||Math.abs(i.top-t.top)>1||Math.abs(i.width-t.width)>1)&&n({height:i.height,left:i.left,top:i.top,width:i.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,r]}function Zj(){}function $j(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function eU(e){this._context=e}function tU(e){this._context=e}function nU(e){this._context=e}eU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:$j(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:$j(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},tU.prototype={areaStart:Zj,areaEnd:Zj,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:$j(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},nU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:$j(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};class rU{constructor(e,t){this._context=e,this._x=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,t,e,t):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+t)/2,e,this._y0,e,t)}this._x0=e,this._y0=t}}function iU(e){this._context=e}function aU(e){this._context=e}function oU(e){return new aU(e)}function sU(e){return e<0?-1:1}function lU(e,t,n){var r=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(r||i<0&&-0),o=(n-e._y1)/(i||r<0&&-0),s=(a*i+o*r)/(r+i);return(sU(a)+sU(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(s))||0}function cU(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function uU(e,t,n){var r=e._x0,i=e._y0,a=e._x1,o=e._y1,s=(a-r)/3;e._context.bezierCurveTo(r+s,i+s*t,a-s,o-s*n,a,o)}function AU(e){this._context=e}function dU(e){this._context=new hU(e)}function hU(e){this._context=e}function fU(e){this._context=e}function pU(e){var t,n,r=e.length-1,i=new Array(r),a=new Array(r),o=new Array(r);for(i[0]=0,a[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,a[t]=4,o[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,a[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/a[t-1],a[t]-=n,o[t]-=n*o[t-1];for(i[r-1]=o[r-1]/a[r-1],t=r-2;t>=0;--t)i[t]=(o[t]-i[t+1])/a[t];for(a[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function gU(e,t){this._context=e,this._t=t}function mU(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}iU.prototype={areaStart:Zj,areaEnd:Zj,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}},aU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}},AU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:uU(this,this._t0,cU(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,uU(this,cU(this,n=lU(this,e,t)),n);break;default:uU(this,this._t0,n=lU(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}},(dU.prototype=Object.create(AU.prototype)).point=function(e,t){AU.prototype.point.call(this,t,e)},hU.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,a){this._context.bezierCurveTo(t,e,r,n,a,i)}},fU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===n)this._context.lineTo(e[1],t[1]);else for(var r=pU(e),i=pU(t),a=0,o=1;o<n;++a,++o)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],e[o],t[o]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}},gU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}}this._x=e,this._y=t}};const vU=Math.PI,yU=2*vU,bU=1e-6,wU=yU-bU;function xU(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}class BU{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==e?xU:function(e){let t=Math.floor(e);if(!(t>=0))throw new Error("invalid digits: ".concat(e));if(t>15)return xU;const n=10**t;return function(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=Math.round(arguments[t]*n)/n+e[t]}}(e)}moveTo(e,t){this._append(Dj||(Dj=mU(["M",",",""])),this._x0=this._x1=+e,this._y0=this._y1=+t)}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append(Tj||(Tj=mU(["Z"]))))}lineTo(e,t){this._append(Mj||(Mj=mU(["L",",",""])),this._x1=+e,this._y1=+t)}quadraticCurveTo(e,t,n,r){this._append(Qj||(Qj=mU(["Q",",",",",",",""])),+e,+t,this._x1=+n,this._y1=+r)}bezierCurveTo(e,t,n,r,i,a){this._append(Rj||(Rj=mU(["C",",",",",",",",",",",""])),+e,+t,+n,+r,this._x1=+i,this._y1=+a)}arcTo(e,t,n,r,i){if(e=+e,t=+t,n=+n,r=+r,(i=+i)<0)throw new Error("negative radius: ".concat(i));let a=this._x1,o=this._y1,s=n-e,l=r-t,c=a-e,u=o-t,A=c*c+u*u;if(null===this._x1)this._append(Hj||(Hj=mU(["M",",",""])),this._x1=e,this._y1=t);else if(A>bU)if(Math.abs(u*s-l*c)>bU&&i){let d=n-a,h=r-o,f=s*s+l*l,p=d*d+h*h,g=Math.sqrt(f),m=Math.sqrt(A),v=i*Math.tan((vU-Math.acos((f+A-p)/(2*g*m)))/2),y=v/m,b=v/g;Math.abs(y-1)>bU&&this._append(Kj||(Kj=mU(["L",",",""])),e+y*c,t+y*u),this._append(Wj||(Wj=mU(["A",",",",0,0,",",",",",""])),i,i,+(u*d>c*h),this._x1=e+b*s,this._y1=t+b*l)}else this._append(zj||(zj=mU(["L",",",""])),this._x1=e,this._y1=t);else;}arc(e,t,n,r,i,a){if(e=+e,t=+t,a=!!a,(n=+n)<0)throw new Error("negative radius: ".concat(n));let o=n*Math.cos(r),s=n*Math.sin(r),l=e+o,c=t+s,u=1^a,A=a?r-i:i-r;null===this._x1?this._append(Vj||(Vj=mU(["M",",",""])),l,c):(Math.abs(this._x1-l)>bU||Math.abs(this._y1-c)>bU)&&this._append(Gj||(Gj=mU(["L",",",""])),l,c),n&&(A<0&&(A=A%yU+yU),A>wU?this._append(qj||(qj=mU(["A",",",",0,1,",",",",","A",",",",0,1,",",",",",""])),n,n,u,e-o,t-s,n,n,u,this._x1=l,this._y1=c):A>bU&&this._append(Xj||(Xj=mU(["A",",",",0,",",",",",",",""])),n,n,+(A>=vU),u,this._x1=e+n*Math.cos(i),this._y1=t+n*Math.sin(i)))}rect(e,t,n,r){this._append(Yj||(Yj=mU(["M",",","h","v","h","Z"])),this._x0=this._x1=+e,this._y0=this._y1=+t,n=+n,+r,-n)}toString(){return this._}}function CU(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(null==n)t=null;else{const e=Math.floor(n);if(!(e>=0))throw new RangeError("invalid digits: ".concat(n));t=e}return e},()=>new BU(t)}function NU(e){return e[0]}function kU(e){return e[1]}function _U(e,t){var n=dg(!0),r=null,i=oU,a=null,o=CU(s);function s(s){var l,c,u,A=(s=Ag(s)).length,d=!1;for(null==r&&(a=i(u=o())),l=0;l<=A;++l)!(l<A&&n(c=s[l],l,s))===d&&((d=!d)?a.lineStart():a.lineEnd()),d&&a.point(+e(c,l,s),+t(c,l,s));if(u)return a=null,u+""||null}return e="function"===typeof e?e:void 0===e?NU:dg(e),t="function"===typeof t?t:void 0===t?kU:dg(t),s.x=function(t){return arguments.length?(e="function"===typeof t?t:dg(+t),s):e},s.y=function(e){return arguments.length?(t="function"===typeof e?e:dg(+e),s):t},s.defined=function(e){return arguments.length?(n="function"===typeof e?e:dg(!!e),s):n},s.curve=function(e){return arguments.length?(i=e,null!=r&&(a=i(r)),s):i},s.context=function(e){return arguments.length?(null==e?r=a=null:a=i(r=e),s):r},s}function EU(e,t,n){var r=null,i=dg(!0),a=null,o=oU,s=null,l=CU(c);function c(c){var u,A,d,h,f,p=(c=Ag(c)).length,g=!1,m=new Array(p),v=new Array(p);for(null==a&&(s=o(f=l())),u=0;u<=p;++u){if(!(u<p&&i(h=c[u],u,c))===g)if(g=!g)A=u,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),d=u-1;d>=A;--d)s.point(m[d],v[d]);s.lineEnd(),s.areaEnd()}g&&(m[u]=+e(h,u,c),v[u]=+t(h,u,c),s.point(r?+r(h,u,c):m[u],n?+n(h,u,c):v[u]))}if(f)return s=null,f+""||null}function u(){return _U().defined(i).curve(o).context(a)}return e="function"===typeof e?e:void 0===e?NU:dg(+e),t="function"===typeof t?t:dg(void 0===t?0:+t),n="function"===typeof n?n:void 0===n?kU:dg(+n),c.x=function(t){return arguments.length?(e="function"===typeof t?t:dg(+t),r=null,c):e},c.x0=function(t){return arguments.length?(e="function"===typeof t?t:dg(+t),c):e},c.x1=function(e){return arguments.length?(r=null==e?null:"function"===typeof e?e:dg(+e),c):r},c.y=function(e){return arguments.length?(t="function"===typeof e?e:dg(+e),n=null,c):t},c.y0=function(e){return arguments.length?(t="function"===typeof e?e:dg(+e),c):t},c.y1=function(e){return arguments.length?(n=null==e?null:"function"===typeof e?e:dg(+e),c):n},c.lineX0=c.lineY0=function(){return u().x(e).y(t)},c.lineY1=function(){return u().x(e).y(n)},c.lineX1=function(){return u().x(r).y(t)},c.defined=function(e){return arguments.length?(i="function"===typeof e?e:dg(!!e),c):i},c.curve=function(e){return arguments.length?(o=e,null!=a&&(s=o(a)),c):o},c.context=function(e){return arguments.length?(null==e?a=s=null:s=o(a=e),c):a},c}function SU(){return SU=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},SU.apply(null,arguments)}function FU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function IU(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?FU(Object(n),!0).forEach(function(t){jU(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FU(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function jU(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var UU={curveBasisClosed:function(e){return new tU(e)},curveBasisOpen:function(e){return new nU(e)},curveBasis:function(e){return new eU(e)},curveBumpX:function(e){return new rU(e,!0)},curveBumpY:function(e){return new rU(e,!1)},curveLinearClosed:function(e){return new iU(e)},curveLinear:oU,curveMonotoneX:function(e){return new AU(e)},curveMonotoneY:function(e){return new dU(e)},curveNatural:function(e){return new fU(e)},curveStep:function(e){return new gU(e,.5)},curveStepAfter:function(e){return new gU(e,1)},curveStepBefore:function(e){return new gU(e,0)}},OU=e=>OA(e.x)&&OA(e.y),PU=e=>null!=e.base&&OU(e.base)&&OU(e),LU=e=>e.x,DU=e=>e.y,TU=e=>{var t,{type:n="linear",points:r=[],baseLine:i,layout:a,connectNulls:o=!1}=e,s=((e,t)=>{if("function"===typeof e)return e;var n="curve".concat(CA(e));return"curveMonotone"!==n&&"curveBump"!==n||!t?UU[n]||oU:UU["".concat(n).concat("vertical"===t?"Y":"X")]})(n,a),l=o?r.filter(OU):r;if(Array.isArray(i)){var c=r.map((e,t)=>IU(IU({},e),{},{base:i[t]}));return t="vertical"===a?EU().y(DU).x1(LU).x0(e=>e.base.x):EU().x(LU).y1(DU).y0(e=>e.base.y),t.defined(PU).curve(s)(o?c.filter(PU):c)}return(t="vertical"===a&&gA(i)?EU().y(DU).x1(LU).x0(i):gA(i)?EU().x(LU).y1(DU).y0(i):_U().x(LU).y(DU)).defined(OU).curve(s)(l)},MU=e=>{var{className:t,points:n,path:r,pathRef:a}=e;if((!n||!n.length)&&!r)return null;var o=n&&n.length?TU(e):r;return i.createElement("path",SU({},nS(e),((e,t)=>{if(!e||"function"===typeof e||"boolean"===typeof e)return null;var n=e;if((0,i.isValidElement)(e)&&(n=e.props),"object"!==typeof n&&"function"!==typeof n)return null;var r={};return Object.keys(n).forEach(e=>{ZE(e)&&(r[e]=t||(t=>n[e](n,t)))}),r})(e),{className:lA("recharts-curve",t),d:null===o?void 0:o,ref:a}))},QU=["x","y","top","left","width","height","className"];function RU(){return RU=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},RU.apply(null,arguments)}function HU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function zU(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var KU=(e,t,n,r,i,a)=>"M".concat(e,",").concat(i,"v").concat(r,"M").concat(a,",").concat(t,"h").concat(n),WU=e=>{var{x:t=0,y:n=0,top:r=0,left:a=0,width:o=0,height:s=0,className:l}=e,c=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,QU),u=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?HU(Object(n),!0).forEach(function(t){zU(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):HU(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({x:t,y:n,top:r,left:a,width:o,height:s},c);return gA(t)&&gA(n)&&gA(o)&&gA(s)&&gA(r)&&gA(a)?i.createElement("path",RU({},iS(u),{className:lA("recharts-cross",l),d:KU(t,n,o,s,r,a)})):null};function VU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function GU(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?VU(Object(n),!0).forEach(function(t){qU(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VU(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function qU(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var XU=(e,t,n)=>e.map(e=>{return"".concat((r=e,r.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())))," ").concat(t,"ms ").concat(n);var r}).join(","),YU=(e,t)=>Object.keys(t).reduce((n,r)=>GU(GU({},n),{},{[r]:e(r,t[r])}),{});function JU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ZU(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?JU(Object(n),!0).forEach(function(t){$U(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):JU(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function $U(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var eO=(e,t,n)=>e+(t-e)*n,tO=e=>{var{from:t,to:n}=e;return t!==n},nO=(e,t,n)=>{var r=YU((t,n)=>{if(tO(n)){var[r,i]=e(n.from,n.to,n.velocity);return ZU(ZU({},n),{},{from:r,velocity:i})}return n},t);return n<1?YU((e,t)=>tO(t)?ZU(ZU({},t),{},{velocity:eO(t.velocity,r[e].velocity,n),from:eO(t.from,r[e].from,n)}):t,t):nO(e,r,n-1)};function rO(e,t,n,r,i,a){var o,s=r.reduce((n,r)=>ZU(ZU({},n),{},{[r]:{from:e[r],velocity:0,to:t[r]}}),{}),l=null,c=r=>{o||(o=r);var u=(r-o)/n.dt;s=nO(n,s,u),i(ZU(ZU(ZU({},e),t),YU((e,t)=>t.from,s))),o=r,Object.values(s).filter(tO).length&&(l=a.setTimeout(c))};return()=>(l=a.setTimeout(c),()=>{var e;null===(e=l)||void 0===e||e()})}const iO=(e,t,n,r,i,a)=>{var o,s,l=(o=e,s=t,[Object.keys(o),Object.keys(s)].reduce((e,t)=>e.filter(e=>t.includes(e))));return null==n?()=>(i(ZU(ZU({},e),t)),()=>{}):!0===n.isStepper?rO(e,t,n,l,i,a):function(e,t,n,r,i,a,o){var s,l=null,c=i.reduce((n,r)=>ZU(ZU({},n),{},{[r]:[e[r],t[r]]}),{}),u=i=>{s||(s=i);var A=(i-s)/r,d=YU((e,t)=>eO(...t,n(A)),c);if(a(ZU(ZU(ZU({},e),t),d)),A<1)l=o.setTimeout(u);else{var h=YU((e,t)=>eO(...t,n(1)),c);a(ZU(ZU(ZU({},e),t),h))}};return()=>(l=o.setTimeout(u),()=>{var e;null===(e=l)||void 0===e||e()})}(e,t,n,r,l,i,a)};var aO=1e-4,oO=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],sO=(e,t)=>e.map((e,n)=>e*t**n).reduce((e,t)=>e+t),lO=(e,t)=>n=>{var r=oO(e,t);return sO(r,n)},cO=(e,t,n,r)=>{var i,a,o=lO(e,n),s=lO(t,r),l=(i=e,a=n,e=>{var t=[...oO(i,a).map((e,t)=>e*t).slice(1),0];return sO(t,e)}),c=e=>e>1?1:e<0?0:e,u=e=>{for(var t=e>1?1:e,n=t,r=0;r<8;++r){var i=o(n)-t,a=l(n);if(Math.abs(i-t)<aO||a<aO)return s(n);n=c(n-i/a)}return s(n)};return u.isStepper=!1,u},uO=function(){return cO(...function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(1===t.length)switch(t[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:var r,i=t[0].split("(");if("cubic-bezier"===i[0]&&4===(null===(r=i[1])||void 0===r?void 0:r.split(")")[0].split(",").length)){var a=i[1].split(")")[0].split(",").map(e=>parseFloat(e));return[a[0],a[1],a[2],a[3]]}}return 4===t.length?t:[0,0,1,1]}(...arguments))},AO=e=>{if("string"===typeof e)switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return uO(e);case"spring":return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{stiff:t=100,damping:n=8,dt:r=17}=e,i=(e,i,a)=>{var o=a+(-(e-i)*t-a*n)*r/1e3,s=a*r/1e3+e;return Math.abs(s-i)<aO&&Math.abs(o)<aO?[i,0]:[s,o]};return i.isStepper=!0,i.dt=r,i}();default:if("cubic-bezier"===e.split("(")[0])return uO(e)}return"function"===typeof e?e:null};class dO{setTimeout(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=performance.now(),r=null,i=a=>{a-n>=t?e(a):"function"===typeof requestAnimationFrame&&(r=requestAnimationFrame(i))};return r=requestAnimationFrame(i),()=>{null!=r&&cancelAnimationFrame(r)}}}function hO(){return function(e){var t=()=>null,n=!1,r=null,i=a=>{if(!n){if(Array.isArray(a)){if(!a.length)return;var o=a,[s,...l]=o;return"number"===typeof s?void(r=e.setTimeout(i.bind(null,l),s)):(i(s),void(r=e.setTimeout(i.bind(null,l))))}"string"===typeof a&&t(a),"object"===typeof a&&t(a),"function"===typeof a&&a()}};return{stop:()=>{n=!0},start:e=>{n=!1,r&&(r(),r=null),i(e)},subscribe:e=>(t=e,()=>{t=()=>null}),getTimeoutController:()=>e}}(new dO)}var fO=(0,i.createContext)(hO);var pO={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},gO={t:0},mO={t:1};function vO(e){var t=eF(e,pO),{isActive:n,canBegin:r,duration:a,easing:o,begin:s,onAnimationEnd:l,onAnimationStart:c,children:u}=t,A="auto"===n?!FE:n,d=function(e,t){var n=(0,i.useContext)(fO);return(0,i.useMemo)(()=>null!==t&&void 0!==t?t:n(e),[e,t,n])}(t.animationId,t.animationManager),[h,f]=(0,i.useState)(A?gO:mO),p=(0,i.useRef)(null);return(0,i.useEffect)(()=>{A||f(mO)},[A]),(0,i.useEffect)(()=>{if(!A||!r)return kA;var e=iO(gO,mO,AO(o),a,f,d.getTimeoutController());return d.start([c,s,()=>{p.current=e()},a,l]),()=>{d.stop(),p.current&&p.current(),l()}},[A,r,a,o,s,c,l,d]),u(h.t)}function yO(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"animation-",n=(0,i.useRef)(yA(t)),r=(0,i.useRef)(e);return r.current!==e&&(n.current=yA(t),r.current=e),n.current}var bO=["radius"],wO=["radius"];function xO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function BO(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xO(Object(n),!0).forEach(function(t){CO(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xO(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function CO(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function NO(){return NO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},NO.apply(null,arguments)}function kO(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var _O=(e,t,n,r,i)=>{var a,o=Math.min(Math.abs(n)/2,Math.abs(r)/2),s=r>=0?1:-1,l=n>=0?1:-1,c=r>=0&&n>=0||r<0&&n<0?1:0;if(o>0&&i instanceof Array){for(var u=[0,0,0,0],A=0;A<4;A++)u[A]=i[A]>o?o:i[A];a="M".concat(e,",").concat(t+s*u[0]),u[0]>0&&(a+="A ".concat(u[0],",").concat(u[0],",0,0,").concat(c,",").concat(e+l*u[0],",").concat(t)),a+="L ".concat(e+n-l*u[1],",").concat(t),u[1]>0&&(a+="A ".concat(u[1],",").concat(u[1],",0,0,").concat(c,",\n        ").concat(e+n,",").concat(t+s*u[1])),a+="L ".concat(e+n,",").concat(t+r-s*u[2]),u[2]>0&&(a+="A ".concat(u[2],",").concat(u[2],",0,0,").concat(c,",\n        ").concat(e+n-l*u[2],",").concat(t+r)),a+="L ".concat(e+l*u[3],",").concat(t+r),u[3]>0&&(a+="A ".concat(u[3],",").concat(u[3],",0,0,").concat(c,",\n        ").concat(e,",").concat(t+r-s*u[3])),a+="Z"}else if(o>0&&i===+i&&i>0){var d=Math.min(o,i);a="M ".concat(e,",").concat(t+s*d,"\n            A ").concat(d,",").concat(d,",0,0,").concat(c,",").concat(e+l*d,",").concat(t,"\n            L ").concat(e+n-l*d,",").concat(t,"\n            A ").concat(d,",").concat(d,",0,0,").concat(c,",").concat(e+n,",").concat(t+s*d,"\n            L ").concat(e+n,",").concat(t+r-s*d,"\n            A ").concat(d,",").concat(d,",0,0,").concat(c,",").concat(e+n-l*d,",").concat(t+r,"\n            L ").concat(e+l*d,",").concat(t+r,"\n            A ").concat(d,",").concat(d,",0,0,").concat(c,",").concat(e,",").concat(t+r-s*d," Z")}else a="M ".concat(e,",").concat(t," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return a},EO={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},SO=e=>{var t=eF(e,EO),n=(0,i.useRef)(null),[r,a]=(0,i.useState)(-1);(0,i.useEffect)(()=>{if(n.current&&n.current.getTotalLength)try{var e=n.current.getTotalLength();e&&a(e)}catch(t){}},[]);var{x:o,y:s,width:l,height:c,radius:u,className:A}=t,{animationEasing:d,animationDuration:h,animationBegin:f,isAnimationActive:p,isUpdateAnimationActive:g}=t,m=(0,i.useRef)(l),v=(0,i.useRef)(c),y=(0,i.useRef)(o),b=(0,i.useRef)(s),w=yO((0,i.useMemo)(()=>({x:o,y:s,width:l,height:c,radius:u}),[o,s,l,c,u]),"rectangle-");if(o!==+o||s!==+s||l!==+l||c!==+c||0===l||0===c)return null;var x=lA("recharts-rectangle",A);if(!g){var B=iS(t),{radius:C}=B,N=kO(B,bO);return i.createElement("path",NO({},N,{radius:"number"===typeof u?u:void 0,className:x,d:_O(o,s,l,c,u)}))}var k=m.current,_=v.current,E=y.current,S=b.current,F="0px ".concat(-1===r?1:r,"px"),I="".concat(r,"px 0px"),j=XU(["strokeDasharray"],h,"string"===typeof d?d:EO.animationEasing);return i.createElement(vO,{animationId:w,key:w,canBegin:r>0,duration:h,easing:d,isActive:g,begin:f},e=>{var r,a=xA(k,l,e),A=xA(_,c,e),d=xA(E,o,e),h=xA(S,s,e);n.current&&(m.current=a,v.current=A,y.current=d,b.current=h),r=p?e>0?{transition:j,strokeDasharray:I}:{strokeDasharray:F}:{strokeDasharray:I};var f=iS(t),{radius:g}=f,w=kO(f,wO);return i.createElement("path",NO({},w,{radius:"number"===typeof u?u:void 0,className:x,d:_O(d,h,a,A,u),ref:n,style:BO(BO({},r),t.style)}))})};function FO(e){var{cx:t,cy:n,radius:r,startAngle:i,endAngle:a}=e;return{points:[Yx(t,n,r,i),Yx(t,n,r,a)],cx:t,cy:n,radius:r,startAngle:i,endAngle:a}}function IO(){return IO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},IO.apply(null,arguments)}var jO=e=>{var{cx:t,cy:n,radius:r,angle:i,sign:a,isExternal:o,cornerRadius:s,cornerIsExternal:l}=e,c=s*(o?1:-1)+r,u=Math.asin(s/c)/qx,A=l?i:i+a*u,d=l?i-a*u:i;return{center:Yx(t,n,c,A),circleTangency:Yx(t,n,r,A),lineTangency:Yx(t,n,c*Math.cos(u*qx),d),theta:u}},UO=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:a,endAngle:o}=e,s=((e,t)=>hA(t-e)*Math.min(Math.abs(t-e),359.999))(a,o),l=a+s,c=Yx(t,n,i,a),u=Yx(t,n,i,l),A="M ".concat(c.x,",").concat(c.y,"\n    A ").concat(i,",").concat(i,",0,\n    ").concat(+(Math.abs(s)>180),",").concat(+(a>l),",\n    ").concat(u.x,",").concat(u.y,"\n  ");if(r>0){var d=Yx(t,n,r,a),h=Yx(t,n,r,l);A+="L ".concat(h.x,",").concat(h.y,"\n            A ").concat(r,",").concat(r,",0,\n            ").concat(+(Math.abs(s)>180),",").concat(+(a<=l),",\n            ").concat(d.x,",").concat(d.y," Z")}else A+="L ".concat(t,",").concat(n," Z");return A},OO={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},PO=e=>{var t=eF(e,OO),{cx:n,cy:r,innerRadius:a,outerRadius:o,cornerRadius:s,forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:A,className:d}=t;if(o<a||u===A)return null;var h,f=lA("recharts-sector",d),p=o-a,g=bA(s,p,0,!0);return h=g>0&&Math.abs(u-A)<360?(e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,cornerRadius:a,forceCornerRadius:o,cornerIsExternal:s,startAngle:l,endAngle:c}=e,u=hA(c-l),{circleTangency:A,lineTangency:d,theta:h}=jO({cx:t,cy:n,radius:i,angle:l,sign:u,cornerRadius:a,cornerIsExternal:s}),{circleTangency:f,lineTangency:p,theta:g}=jO({cx:t,cy:n,radius:i,angle:c,sign:-u,cornerRadius:a,cornerIsExternal:s}),m=s?Math.abs(l-c):Math.abs(l-c)-h-g;if(m<0)return o?"M ".concat(d.x,",").concat(d.y,"\n        a").concat(a,",").concat(a,",0,0,1,").concat(2*a,",0\n        a").concat(a,",").concat(a,",0,0,1,").concat(2*-a,",0\n      "):UO({cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:l,endAngle:c});var v="M ".concat(d.x,",").concat(d.y,"\n    A").concat(a,",").concat(a,",0,0,").concat(+(u<0),",").concat(A.x,",").concat(A.y,"\n    A").concat(i,",").concat(i,",0,").concat(+(m>180),",").concat(+(u<0),",").concat(f.x,",").concat(f.y,"\n    A").concat(a,",").concat(a,",0,0,").concat(+(u<0),",").concat(p.x,",").concat(p.y,"\n  ");if(r>0){var{circleTangency:y,lineTangency:b,theta:w}=jO({cx:t,cy:n,radius:r,angle:l,sign:u,isExternal:!0,cornerRadius:a,cornerIsExternal:s}),{circleTangency:x,lineTangency:B,theta:C}=jO({cx:t,cy:n,radius:r,angle:c,sign:-u,isExternal:!0,cornerRadius:a,cornerIsExternal:s}),N=s?Math.abs(l-c):Math.abs(l-c)-w-C;if(N<0&&0===a)return"".concat(v,"L").concat(t,",").concat(n,"Z");v+="L".concat(B.x,",").concat(B.y,"\n      A").concat(a,",").concat(a,",0,0,").concat(+(u<0),",").concat(x.x,",").concat(x.y,"\n      A").concat(r,",").concat(r,",0,").concat(+(N>180),",").concat(+(u>0),",").concat(y.x,",").concat(y.y,"\n      A").concat(a,",").concat(a,",0,0,").concat(+(u<0),",").concat(b.x,",").concat(b.y,"Z")}else v+="L".concat(t,",").concat(n,"Z");return v})({cx:n,cy:r,innerRadius:a,outerRadius:o,cornerRadius:Math.min(g,p/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:A}):UO({cx:n,cy:r,innerRadius:a,outerRadius:o,startAngle:u,endAngle:A}),i.createElement("path",IO({},iS(t),{className:f,d:h}))};function LO(e,t,n){if("horizontal"===e)return[{x:t.x,y:n.top},{x:t.x,y:n.top+n.height}];if("vertical"===e)return[{x:n.left,y:t.y},{x:n.left+n.width,y:t.y}];if(yI(t)){if("centric"===e){var{cx:r,cy:i,innerRadius:a,outerRadius:o,angle:s}=t,l=Yx(r,i,a,s),c=Yx(r,i,o,s);return[{x:l.x,y:l.y},{x:c.x,y:c.y}]}return FO(t)}}function DO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function TO(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?DO(Object(n),!0).forEach(function(t){MO(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DO(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function MO(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var QO=()=>{var e=ag(dC),t=ag(Fk),n=ag(_k);return Ig(e&&n?TO(TO({},e),{},{scale:n}):void 0,t)};function RO(){return RO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},RO.apply(null,arguments)}function HO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function zO(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?HO(Object(n),!0).forEach(function(t){KO(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):HO(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function KO(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function WO(e){var{cursor:t,cursorComp:n,cursorProps:r}=e;return(0,i.isValidElement)(t)?(0,i.cloneElement)(t,r):(0,i.createElement)(n,r)}function VO(e){var t,n,r,a,{coordinate:o,payload:s,index:l,offset:c,tooltipAxisBandSize:u,layout:A,cursor:d,tooltipEventType:h,chartName:f}=e,p=o,g=s,m=l;if(!d||!p||"ScatterChart"!==f&&"axis"!==h)return null;if("ScatterChart"===f)n=p,r=WU,a=eB.cursorLine;else if("BarChart"===f)n=function(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:"horizontal"===e?t.x-i:n.left+.5,y:"horizontal"===e?n.top+.5:t.y-i,width:"horizontal"===e?r:n.width-1,height:"horizontal"===e?n.height-1:r}}(A,p,c,u),r=SO,a=eB.cursorRectangle;else if("radial"===A&&yI(p)){var{cx:v,cy:y,radius:b,startAngle:w,endAngle:x}=FO(p);n={cx:v,cy:y,startAngle:w,endAngle:x,innerRadius:b,outerRadius:b},r=PO,a=eB.cursorLine}else n={points:LO(A,p,c)},r=MU,a=eB.cursorLine;var B="object"===typeof d&&"className"in d?d.className:void 0,C=zO(zO(zO(zO({stroke:"#ccc",pointerEvents:"none"},c),n),rS(d)),{},{payload:g,payloadIndex:m,className:lA("recharts-tooltip-cursor",B)});return i.createElement(tI,{zIndex:null!==(t=e.zIndex)&&void 0!==t?t:a},i.createElement(WO,{cursor:d,cursorComp:r,cursorProps:C}))}function GO(e){var t=QO(),n=$g(),r=rm(),a=ag(Rx);return null==t||null==n||null==r||null==a?null:i.createElement(VO,RO({},e,{offset:n,layout:r,tooltipAxisBandSize:t,chartName:a}))}function qO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function XO(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qO(Object(n),!0).forEach(function(t){YO(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qO(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function YO(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function JO(e){return e.dataKey}var ZO=[],$O={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function eP(e){var t,n,r=eF(e,$O),{active:a,allowEscapeViewBox:o,animationDuration:s,animationEasing:l,content:c,filterNull:u,isAnimationActive:A,offset:d,payloadUniqBy:h,position:f,reverseDirection:p,useTranslate3d:g,wrapperStyle:m,cursor:v,shared:y,trigger:b,defaultIndex:w,portal:x,axisId:B}=r,C=tg(),N="number"===typeof w?String(w):w;(0,i.useEffect)(()=>{C(xp({shared:y,trigger:b,axisId:B,active:a,defaultIndex:N}))},[C,y,b,B,a,N]);var k=Jg(),_=YE(),E=function(e){return ag(t=>PN(t,e))}(y),{activeIndex:S,isActive:F}=null!==(t=ag(e=>i_(e,E,b,N)))&&void 0!==t?t:{},I=ag(e=>r_(e,E,b,N)),j=ag(e=>n_(e,E,b,N)),U=ag(e=>t_(e,E,b,N)),O=I,P=(0,i.useContext)(jS),L=null!==(n=null!==a&&void 0!==a?a:F)&&void 0!==n&&n,[D,T]=Jj([O,L]),M="axis"===E?j:void 0;IS(E,b,U,M,S,L);var Q=null!==x&&void 0!==x?x:P;if(null==Q||null==k||null==E)return null;var R=null!==O&&void 0!==O?O:ZO;L||(R=ZO),u&&R.length&&(R=Lj(R.filter(e=>null!=e.value&&(!0!==e.hide||r.includeHidden)),h,JO));var H=R.length>0,z=i.createElement(Uj,{allowEscapeViewBox:o,animationDuration:s,animationEasing:l,isAnimationActive:A,active:L,coordinate:U,hasPayload:H,offset:d,position:f,reverseDirection:p,useTranslate3d:g,viewBox:k,wrapperStyle:m,lastBoundingBox:D,innerRef:T,hasPortalFromProps:Boolean(x)},function(e,t){return i.isValidElement(e)?i.cloneElement(e,t):"function"===typeof e?i.createElement(e,t):i.createElement(Nj,t)}(c,XO(XO({},r),{},{payload:R,label:M,active:L,activeIndex:S,coordinate:U,accessibilityLayer:_})));return i.createElement(i.Fragment,null,(0,Be.createPortal)(z,Q),L&&i.createElement(GO,{cursor:v,tooltipEventType:E,coordinate:U,payload:R,index:S}))}Math.abs,Math.atan2;const tP=Math.cos,nP=(Math.max,Math.min,Math.sin),rP=Math.sqrt,iP=Math.PI,aP=2*iP;const oP={draw(e,t){const n=rP(t/iP);e.moveTo(n,0),e.arc(0,0,n,0,aP)}},sP={draw(e,t){const n=rP(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},lP=rP(1/3),cP=2*lP,uP={draw(e,t){const n=rP(t/cP),r=n*lP;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},AP={draw(e,t){const n=rP(t),r=-n/2;e.rect(r,r,n,n)}},dP=nP(iP/10)/nP(7*iP/10),hP=nP(aP/10)*dP,fP=-tP(aP/10)*dP,pP={draw(e,t){const n=rP(.8908130915292852*t),r=hP*n,i=fP*n;e.moveTo(0,-n),e.lineTo(r,i);for(let a=1;a<5;++a){const t=aP*a/5,o=tP(t),s=nP(t);e.lineTo(s*n,-o*n),e.lineTo(o*r-s*i,s*r+o*i)}e.closePath()}},gP=rP(3),mP={draw(e,t){const n=-rP(t/(3*gP));e.moveTo(0,2*n),e.lineTo(-gP*n,-n),e.lineTo(gP*n,-n),e.closePath()}},vP=-.5,yP=rP(3)/2,bP=1/rP(12),wP=3*(bP/2+1),xP={draw(e,t){const n=rP(t/wP),r=n/2,i=n*bP,a=r,o=n*bP+n,s=-a,l=o;e.moveTo(r,i),e.lineTo(a,o),e.lineTo(s,l),e.lineTo(vP*r-yP*i,yP*r+vP*i),e.lineTo(vP*a-yP*o,yP*a+vP*o),e.lineTo(vP*s-yP*l,yP*s+vP*l),e.lineTo(vP*r+yP*i,vP*i-yP*r),e.lineTo(vP*a+yP*o,vP*o-yP*a),e.lineTo(vP*s+yP*l,vP*l-yP*s),e.closePath()}};rP(3),rP(3);var BP=["type","size","sizeType"];function CP(){return CP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},CP.apply(null,arguments)}function NP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function kP(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?NP(Object(n),!0).forEach(function(t){_P(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):NP(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function _P(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var EP={symbolCircle:oP,symbolCross:sP,symbolDiamond:uP,symbolSquare:AP,symbolStar:pP,symbolTriangle:mP,symbolWye:xP},SP=Math.PI/180,FP=e=>{var{type:t="circle",size:n=64,sizeType:r="area"}=e,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,BP),o=kP(kP({},a),{},{type:t,size:n,sizeType:r}),s="circle";"string"===typeof t&&(s=t);var{className:l,cx:c,cy:u}=o,A=iS(o);return gA(c)&&gA(u)&&gA(n)?i.createElement("path",CP({},A,{className:lA("recharts-symbols",l),transform:"translate(".concat(c,", ").concat(u,")"),d:(()=>{var e=(e=>{var t="symbol".concat(CA(e));return EP[t]||oP})(s),t=function(e,t){let n=null,r=CU(i);function i(){let i;if(n||(n=i=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),i)return n=null,i+""||null}return e="function"===typeof e?e:dg(e||oP),t="function"===typeof t?t:dg(void 0===t?64:+t),i.type=function(t){return arguments.length?(e="function"===typeof t?t:dg(t),i):e},i.size=function(e){return arguments.length?(t="function"===typeof e?e:dg(+e),i):t},i.context=function(e){return arguments.length?(n=null==e?null:e,i):n},i}().type(e).size(((e,t,n)=>{if("area"===t)return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return.5*e*e/Math.sqrt(3);case"square":return e*e;case"star":var r=18*SP;return 1.25*e*e*(Math.tan(r)-Math.tan(2*r)*Math.tan(r)**2);case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}})(n,r,s)),i=t();if(null!==i)return i})()})):null};function IP(){return IP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},IP.apply(null,arguments)}function jP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function UP(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}FP.registerSymbol=(e,t)=>{EP["symbol".concat(CA(e))]=t};var OP=32,PP={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function LP(e){var t,{data:n,iconType:r,inactiveColor:a}=e,o=16,s=OP/6,l=OP/3,c=n.inactive?a:n.color,u=null!==r&&void 0!==r?r:n.type;if("none"===u)return null;if("plainline"===u)return i.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:null===(t=n.payload)||void 0===t?void 0:t.strokeDasharray,x1:0,y1:o,x2:OP,y2:o,className:"recharts-legend-icon"});if("line"===u)return i.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(o,"h").concat(l,"\n            A").concat(s,",").concat(s,",0,1,1,").concat(2*l,",").concat(o,"\n            H").concat(OP,"M").concat(2*l,",").concat(o,"\n            A").concat(s,",").concat(s,",0,1,1,").concat(l,",").concat(o),className:"recharts-legend-icon"});if("rect"===u)return i.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(4,"h").concat(OP,"v").concat(24,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(i.isValidElement(n.legendIcon)){var A=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jP(Object(n),!0).forEach(function(t){UP(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jP(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},n);return delete A.legendIcon,i.cloneElement(n.legendIcon,A)}return i.createElement(FP,{fill:c,cx:o,cy:o,size:OP,sizeType:"diameter",type:u})}function DP(e){var{payload:t,iconSize:n,layout:r,formatter:a,inactiveColor:o,iconType:s}=e,l={x:0,y:0,width:OP,height:OP},c={display:"horizontal"===r?"inline-block":"block",marginRight:10},u={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((t,r)=>{var A=t.formatter||a,d=lA({"recharts-legend-item":!0,["legend-item-".concat(r)]:!0,inactive:t.inactive});if("none"===t.type)return null;var h=t.inactive?o:t.color,f=A?A(t.value,t,r):t.value;return i.createElement("li",IP({className:d,style:c,key:"legend-item-".concat(r)},bI(e,t,r)),i.createElement(lS,{width:n,height:n,viewBox:l,style:u,"aria-label":"".concat(f," legend icon")},i.createElement(LP,{data:t,iconType:s,inactiveColor:o})),i.createElement("span",{className:"recharts-legend-item-text",style:{color:h}},f))})}var TP=e=>{var t=eF(e,PP),{payload:n,layout:r,align:a}=t;if(!n||!n.length)return null;var o={padding:0,margin:0,textAlign:"horizontal"===r?a:"left"};return i.createElement("ul",{className:"recharts-default-legend",style:o},i.createElement(DP,IP({},t,{payload:n})))};var MP=["contextPayload"];function QP(){return QP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},QP.apply(null,arguments)}function RP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function HP(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?RP(Object(n),!0).forEach(function(t){zP(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RP(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function zP(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function KP(e){return e.value}function WP(e){var{contextPayload:t}=e,n=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,MP),r=Lj(t,e.payloadUniqBy,KP),a=HP(HP({},n),{},{payload:r});return i.isValidElement(e.content)?i.cloneElement(e.content,a):"function"===typeof e.content?i.createElement(e.content,a):i.createElement(TP,a)}function VP(e){var t=tg();return(0,i.useEffect)(()=>{t(Y_(e))},[t,e]),null}function GP(e){var t=tg();return(0,i.useEffect)(()=>(t(X_(e)),()=>{t(X_({width:0,height:0}))}),[t,e]),null}var qP={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function XP(e){var t=eF(e,qP),n=ag(cg),r=(0,i.useContext)(US),a=ag(e=>e.layout.margin),{width:o,height:s,wrapperStyle:l,portal:c}=t,[u,A]=Jj([n]),d=em(),h=tm();if(null==d||null==h)return null;var f=d-((null===a||void 0===a?void 0:a.left)||0)-((null===a||void 0===a?void 0:a.right)||0),p=function(e,t,n,r){return"vertical"===e&&gA(t)?{height:t}:"horizontal"===e?{width:n||r}:null}(t.layout,s,o,f),g=c?l:HP(HP({position:"absolute",width:(null===p||void 0===p?void 0:p.width)||o||"auto",height:(null===p||void 0===p?void 0:p.height)||s||"auto"},function(e,t,n,r,i,a){var o,s,{layout:l,align:c,verticalAlign:u}=t;return e&&(void 0!==e.left&&null!==e.left||void 0!==e.right&&null!==e.right)||(o="center"===c&&"vertical"===l?{left:((r||0)-a.width)/2}:"right"===c?{right:n&&n.right||0}:{left:n&&n.left||0}),e&&(void 0!==e.top&&null!==e.top||void 0!==e.bottom&&null!==e.bottom)||(s="middle"===u?{top:((i||0)-a.height)/2}:"bottom"===u?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),HP(HP({},o),s)}(l,t,a,d,h,u)),l),m=null!==c&&void 0!==c?c:r;if(null==m||null==n)return null;var v=i.createElement("div",{className:"recharts-legend-wrapper",style:g,ref:A},i.createElement(VP,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),!c&&i.createElement(GP,{width:u.width,height:u.height}),i.createElement(WP,QP({},t,p,{margin:a,chartWidth:d,chartHeight:h,contextPayload:n})));return(0,Be.createPortal)(v,m)}XP.displayName="Legend";var YP=e=>null;YP.displayName="Cell";var JP=n(6667),ZP=n.n(JP),$P=["valueAccessor"],eL=["dataKey","clockWise","id","textBreakAll","zIndex"];function tL(){return tL=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tL.apply(null,arguments)}function nL(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var rL=e=>Array.isArray(e.value)?ZP()(e.value):e.value,iL=(0,i.createContext)(void 0),aL=iL.Provider,oL=(0,i.createContext)(void 0);oL.Provider;function sL(e){var{valueAccessor:t=rL}=e,n=nL(e,$P),{dataKey:r,clockWise:a,id:o,textBreakAll:s,zIndex:l}=n,c=nL(n,eL),u=(0,i.useContext)(iL),A=(0,i.useContext)(oL),d=u||A;return d&&d.length?i.createElement(tI,{zIndex:null!==l&&void 0!==l?l:eB.label},i.createElement(_F,{className:"recharts-label-list"},d.map((e,a)=>{var l,u=BA(r)?t(e,a):bg(e&&e.payload,r),A=BA(o)?{}:{id:"".concat(o,"-").concat(a)};return i.createElement(gI,tL({key:"label-".concat(a)},iS(e),c,A,{fill:null!==(l=n.fill)&&void 0!==l?l:e.fill,parentViewBox:e.parentViewBox,value:u,textBreakAll:s,viewBox:e.viewBox,index:a,zIndex:0}))}))):null}function lL(e){var{label:t}=e;return t?!0===t?i.createElement(sL,{key:"labelList-implicit"}):i.isValidElement(t)||dI(t)?i.createElement(sL,{key:"labelList-implicit",content:t}):"object"===typeof t?i.createElement(sL,tL({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}sL.displayName="LabelList";var cL=n(6879),uL=e=>"string"===typeof e?e:e?e.displayName||e.name||"Component":"",AL=null,dL=null,hL=e=>{if(e===AL&&Array.isArray(dL))return dL;var t=[];return i.Children.forEach(e,e=>{BA(e)||((0,cL.zv)(e)?t=t.concat(hL(e.props.children)):t.push(e))}),dL=t,AL=e,t};var fL="Invariant failed";var pL=n(2540),gL=n.n(pL);function mL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function vL(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mL(Object(n),!0).forEach(function(t){yL(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mL(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function yL(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bL(){return bL=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bL.apply(null,arguments)}var wL=(e,t,n,r,i)=>{var a,o=n-r;return a="M ".concat(e,",").concat(t),a+="L ".concat(e+n,",").concat(t),a+="L ".concat(e+n-o/2,",").concat(t+i),a+="L ".concat(e+n-o/2-r,",").concat(t+i),a+="L ".concat(e,",").concat(t," Z")},xL={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},BL=e=>{var t=eF(e,xL),{x:n,y:r,upperWidth:a,lowerWidth:o,height:s,className:l}=t,{animationEasing:c,animationDuration:u,animationBegin:A,isUpdateAnimationActive:d}=t,h=(0,i.useRef)(null),[f,p]=(0,i.useState)(-1),g=(0,i.useRef)(a),m=(0,i.useRef)(o),v=(0,i.useRef)(s),y=(0,i.useRef)(n),b=(0,i.useRef)(r),w=yO(e,"trapezoid-");if((0,i.useEffect)(()=>{if(h.current&&h.current.getTotalLength)try{var e=h.current.getTotalLength();e&&p(e)}catch(t){}},[]),n!==+n||r!==+r||a!==+a||o!==+o||s!==+s||0===a&&0===o||0===s)return null;var x=lA("recharts-trapezoid",l);if(!d)return i.createElement("g",null,i.createElement("path",bL({},iS(t),{className:x,d:wL(n,r,a,o,s)})));var B=g.current,C=m.current,N=v.current,k=y.current,_=b.current,E="0px ".concat(-1===f?1:f,"px"),S="".concat(f,"px 0px"),F=XU(["strokeDasharray"],u,c);return i.createElement(vO,{animationId:w,key:w,canBegin:f>0,duration:u,easing:c,isActive:d,begin:A},e=>{var l=xA(B,a,e),c=xA(C,o,e),u=xA(N,s,e),A=xA(k,n,e),d=xA(_,r,e);h.current&&(g.current=l,m.current=c,v.current=u,y.current=A,b.current=d);var f=e>0?{transition:F,strokeDasharray:S}:{strokeDasharray:E};return i.createElement("path",bL({},iS(t),{className:x,d:wL(A,d,l,c,u),ref:h,style:vL(vL({},f),t.style)}))})},CL=["option","shapeType","propTransformer","activeClassName"];function NL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function kL(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?NL(Object(n),!0).forEach(function(t){_L(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):NL(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function _L(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function EL(e,t){return kL(kL({},t),e)}function SL(e){var{shapeType:t,elementProps:n}=e;switch(t){case"rectangle":return i.createElement(SO,n);case"trapezoid":return i.createElement(BL,n);case"sector":return i.createElement(PO,n);case"symbols":if(function(e){return"symbols"===e}(t))return i.createElement(FP,n);break;case"curve":return i.createElement(MU,n);default:return null}}function FL(e){var t,{option:n,shapeType:r,propTransformer:a=EL,activeClassName:o="recharts-active-shape"}=e,s=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,CL);if((0,i.isValidElement)(n))t=(0,i.cloneElement)(n,kL(kL({},s),function(e){return(0,i.isValidElement)(e)?e.props:e}(n)));else if("function"===typeof n)t=n(s,s.index);else if(gL()(n)&&"boolean"!==typeof n){var l=a(n,s);t=i.createElement(SL,{shapeType:r,elementProps:l})}else{var c=s;t=i.createElement(SL,{shapeType:r,elementProps:c})}return s.isActive?i.createElement(_F,{className:o},t):t}var IL=["x","y"];function jL(){return jL=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jL.apply(null,arguments)}function UL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function OL(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?UL(Object(n),!0).forEach(function(t){PL(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):UL(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function PL(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function LL(e,t){var{x:n,y:r}=e,i=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,IL),a="".concat(n),o=parseInt(a,10),s="".concat(r),l=parseInt(s,10),c="".concat(t.height||i.height),u=parseInt(c,10),A="".concat(t.width||i.width),d=parseInt(A,10);return OL(OL(OL(OL(OL({},t),i),o?{x:o}:{}),l?{y:l}:{}),{},{height:u,width:d,name:t.name,radius:t.radius})}function DL(e){return i.createElement(FL,jL({shapeType:"rectangle",propTransformer:LL,activeClassName:"recharts-active-bar"},e))}var TL=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(n,r)=>{if(gA(e))return e;var i=gA(n)||BA(n);return i?e(n,r):(i||function(e){if(!e)throw new Error(fL)}(!1,"minPointSize callback function received a value with type of ".concat(typeof n,". Currently only numbers or null/undefined are supported.")),t)}},ML=(e,t,n)=>{var r=tg();return(i,a)=>o=>{null===e||void 0===e||e(i,a,o),r(Bp({activeIndex:String(a),activeDataKey:t,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}},QL=e=>{var t=tg();return(n,r)=>i=>{null===e||void 0===e||e(n,r,i),t(Cp())}},RL=(e,t,n)=>{var r=tg();return(i,a)=>o=>{null===e||void 0===e||e(i,a,o),r(kp({activeIndex:String(a),activeDataKey:t,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}};function HL(e){var{tooltipEntrySettings:t}=e,n=tg(),r=Gg(),a=(0,i.useRef)(null);return(0,i.useLayoutEffect)(()=>{r||(null===a.current?n(yp(t)):a.current!==t&&n(bp({prev:a.current,next:t})),a.current=t)},[t,n,r]),(0,i.useLayoutEffect)(()=>()=>{a.current&&(n(wp(a.current)),a.current=null)},[n]),null}var zL=["children"];var KL={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},WL=(0,i.createContext)(KL);function VL(e){var{children:t}=e,n=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,zL);return i.createElement(WL.Provider,{value:n},t)}function GL(e,t){var n,r,i=ag(t=>MB(t,e)),a=ag(e=>HB(e,t)),o=null!==(n=null===i||void 0===i?void 0:i.allowDataOverflow)&&void 0!==n?n:DB.allowDataOverflow,s=null!==(r=null===a||void 0===a?void 0:a.allowDataOverflow)&&void 0!==r?r:QB.allowDataOverflow;return{needClip:o||s,needClipX:o,needClipY:s}}function qL(e){var{xAxisId:t,yAxisId:n,clipPathId:r}=e,a=GS(),{needClipX:o,needClipY:s,needClip:l}=GL(t,n);if(!l||!a)return null;var{x:c,y:u,width:A,height:d}=a;return i.createElement("clipPath",{id:"clipPath-".concat(r)},i.createElement("rect",{x:o?c:c-A/2,y:s?u:u-d/2,width:o?A:2*A,height:s?d:2*d}))}function XL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function YL(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?XL(Object(n),!0).forEach(function(t){JL(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):XL(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function JL(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ZL=Yp([XB,(e,t,n,r,i)=>i],(e,t)=>e.filter(e=>"bar"===e.type).find(e=>e.id===t)),$L=Yp([ZL],e=>null===e||void 0===e?void 0:e.maxBarSize),eD=(e,t,n)=>{var r=null!==n&&void 0!==n?n:e;if(!BA(r))return bA(r,t,0)},tD=Yp([nm,XB,(e,t)=>t,(e,t,n)=>n,(e,t,n,r)=>r],(e,t,n,r,i)=>t.filter(t=>"horizontal"===e?t.xAxisId===n:t.yAxisId===r).filter(e=>e.isPanorama===i).filter(e=>!1===e.hide).filter(e=>"bar"===e.type)),nD=Yp([tD,e=>e.rootProps.barSize,(e,t,n)=>"horizontal"===nm(e)?wN(e,"xAxis",t):wN(e,"yAxis",n)],(e,t,n)=>{var r=e.filter(EB),i=e.filter(e=>null==e.stackId),a=r.reduce((e,t)=>(e[t.stackId]||(e[t.stackId]=[]),e[t.stackId].push(t),e),{}),o=Object.entries(a).map(e=>{var[r,i]=e,a=i.map(e=>e.dataKey);return{stackId:r,dataKeys:a,barSize:eD(t,n,i[0].barSize)}}),s=i.map(e=>({stackId:void 0,dataKeys:[e.dataKey].filter(e=>null!=e),barSize:eD(t,n,e.barSize)}));return[...o,...s]}),rD=(e,t,n,r)=>{var i,a;return"horizontal"===nm(e)?(i=SN(e,"xAxis",t,r),a=EN(e,"xAxis",t,r)):(i=SN(e,"yAxis",n,r),a=EN(e,"yAxis",n,r)),Ig(i,a)};var iD=Yp([nD,Dx,e=>e.rootProps.barGap,Tx,(e,t,n,r,i)=>{var a,o,s=ZL(e,t,n,r,i);if(null!=s){var l,c,u=nm(e),A=Dx(e),{maxBarSize:d}=s,h=BA(d)?A:d;return"horizontal"===u?(l=SN(e,"xAxis",t,r),c=EN(e,"xAxis",t,r)):(l=SN(e,"yAxis",n,r),c=EN(e,"yAxis",n,r)),null!==(a=null!==(o=Ig(l,c,!0))&&void 0!==o?o:h)&&void 0!==a?a:0}},rD,$L],(e,t,n,r,i,a,o)=>{var s=BA(o)?t:o,l=function(e,t,n,r,i){var a=r.length;if(!(a<1)){var o,s=bA(e,n,0,!0),l=[];if(OA(r[0].barSize)){var c=!1,u=n/a,A=r.reduce((e,t)=>e+(t.barSize||0),0);(A+=(a-1)*s)>=n&&(A-=(a-1)*s,s=0),A>=n&&u>0&&(c=!0,A=a*(u*=.9));var d={offset:((n-A)/2|0)-s,size:0};o=r.reduce((e,t)=>{var n,r=[...e,{stackId:t.stackId,dataKeys:t.dataKeys,position:{offset:d.offset+d.size+s,size:c?u:null!==(n=t.barSize)&&void 0!==n?n:0}}];return d=r[r.length-1].position,r},l)}else{var h=bA(t,n,0,!0);n-2*h-(a-1)*s<=0&&(s=0);var f=(n-2*h-(a-1)*s)/a;f>1&&(f>>=0);var p=OA(i)?Math.min(f,i):f;o=r.reduce((e,t,n)=>[...e,{stackId:t.stackId,dataKeys:t.dataKeys,position:{offset:h+(f+s)*n+(f-p)/2,size:p}}],l)}return o}}(n,r,i!==a?i:a,e,s);return i!==a&&null!=l&&(l=l.map(e=>YL(YL({},e),{},{position:YL(YL({},e.position),{},{offset:e.position.offset-i/2})}))),l}),aD=Yp([iD,ZL],(e,t)=>{if(null!=e&&null!=t){var n=e.find(e=>e.stackId===t.stackId&&null!=t.dataKey&&e.dataKeys.includes(t.dataKey));if(null!=n)return n.position}}),oD=Yp([(e,t,n,r)=>"horizontal"===nm(e)?gC(e,"yAxis",n,r):gC(e,"xAxis",t,r),ZL],(e,t)=>{var n=kB(t);if(e&&null!=n&&null!=t){var{stackId:r}=t;if(null!=r){var i=e[r];if(i){var{stackedData:a}=i;if(a)return a.find(e=>e.key===n)}}}}),sD=Yp([zg,Wg,(e,t,n,r)=>SN(e,"xAxis",t,r),(e,t,n,r)=>SN(e,"yAxis",n,r),(e,t,n,r)=>EN(e,"xAxis",t,r),(e,t,n,r)=>EN(e,"yAxis",n,r),aD,nm,mx,rD,oD,ZL,(e,t,n,r,i,a)=>a],(e,t,n,r,i,a,o,s,l,c,u,A,d)=>{var{chartData:h,dataStartIndex:f,dataEndIndex:p}=l;if(null!=A&&null!=o&&null!=t&&("horizontal"===s||"vertical"===s)&&null!=n&&null!=r&&null!=i&&null!=a&&null!=c){var g,{data:m}=A;if(null!=(g=null!=m&&m.length>0?m:null===h||void 0===h?void 0:h.slice(f,p+1)))return function(e){var{layout:t,barSettings:{dataKey:n,minPointSize:r},pos:i,bandSize:a,xAxis:o,yAxis:s,xAxisTicks:l,yAxisTicks:c,stackedData:u,displayedData:A,offset:d,cells:h,parentViewBox:f,dataStartIndex:p}=e,g="horizontal"===t?s:o,m=u?g.scale.domain():null,v=(e=>{var{numericAxis:t}=e,n=t.scale.domain();if("number"===t.type){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]})({numericAxis:g}),y=g.scale(v);return A.map((e,A)=>{var g,b,w,x,B,C;u?g=((e,t)=>{if(!t||2!==t.length||!gA(t[0])||!gA(t[1]))return e;var n=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]),i=[e[0],e[1]];return(!gA(e[0])||e[0]<n)&&(i[0]=n),(!gA(e[1])||e[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i})(u[A+p],m):(g=bg(e,n),Array.isArray(g)||(g=[v,g]));var N=TL(r,ID)(g[1],A);if("horizontal"===t){var k,[_,E]=[s.scale(g[0]),s.scale(g[1])];b=_g({axis:o,ticks:l,bandSize:a,offset:i.offset,entry:e,index:A}),w=null!==(k=null!==E&&void 0!==E?E:_)&&void 0!==k?k:void 0,x=i.size;var S=_-E;if(B=fA(S)?0:S,C={x:b,y:d.top,width:x,height:d.height},Math.abs(N)>0&&Math.abs(B)<Math.abs(N)){var F=hA(B||N)*(Math.abs(N)-Math.abs(B));w-=F,B+=F}}else{var[I,j]=[o.scale(g[0]),o.scale(g[1])];if(b=I,w=_g({axis:s,ticks:c,bandSize:a,offset:i.offset,entry:e,index:A}),x=j-I,B=i.size,C={x:d.left,y:w,width:d.width,height:B},Math.abs(N)>0&&Math.abs(x)<Math.abs(N))x+=hA(x||N)*(Math.abs(N)-Math.abs(x))}return null==b||null==w||null==x||null==B?null:yD(yD({},e),{},{stackedBarStart:y,x:b,y:w,width:x,height:B,value:u?g:g[1],payload:e,background:C,tooltipPosition:{x:b+x/2,y:w+B/2},parentViewBox:f},h&&h[A]&&h[A].props)}).filter(Boolean)}({layout:s,barSettings:A,pos:o,parentViewBox:t,bandSize:c,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:a,stackedData:u,displayedData:g,offset:e,cells:d,dataStartIndex:f})}});function lD(e){var{legendPayload:t}=e,n=tg(),r=Gg(),a=(0,i.useRef)(null);return(0,i.useLayoutEffect)(()=>{r||(null===a.current?n(J_(t)):a.current!==t&&n(Z_({prev:a.current,next:t})),a.current=t)},[n,r,t]),(0,i.useLayoutEffect)(()=>()=>{a.current&&(n($_(a.current)),a.current=null)},[n]),null}var cD=(0,i.createContext)(void 0),uD=e=>{var{id:t,type:n,children:r}=e,a=uS("recharts-".concat(n),t);return i.createElement(cD.Provider,{value:a},r(a))};var AD=e=>{var t=tg(),n=(0,i.useRef)(null);return(0,i.useLayoutEffect)(()=>{null===n.current?t(F_(e)):n.current!==e&&t(I_({prev:n.current,next:e})),n.current=e},[t,e]),(0,i.useLayoutEffect)(()=>()=>{n.current&&(t(j_(n.current)),n.current=null)},[t]),null},dD=(0,i.memo)(AD);var hD=["onMouseEnter","onMouseLeave","onClick"],fD=["value","background","tooltipPosition"],pD=["id"],gD=["onMouseEnter","onClick","onMouseLeave"];function mD(){return mD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mD.apply(null,arguments)}function vD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function yD(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vD(Object(n),!0).forEach(function(t){bD(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vD(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function bD(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wD(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var xD=e=>{var{dataKey:t,name:n,fill:r,legendType:i,hide:a}=e;return[{inactive:a,dataKey:t,type:i,color:r,value:Ug(n,t),payload:e}]},BD=i.memo(e=>{var{dataKey:t,stroke:n,strokeWidth:r,fill:a,name:o,hide:s,unit:l,tooltipType:c}=e,u={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:a,dataKey:t,nameKey:void 0,name:Ug(o,t),hide:s,type:c,color:a,unit:l}};return i.createElement(HL,{tooltipEntrySettings:u})});function CD(e){var t=ag(Pk),{data:n,dataKey:r,background:a,allOtherBarProps:o}=e,{onMouseEnter:s,onMouseLeave:l,onClick:c}=o,u=wD(o,hD),A=ML(s,r),d=QL(l),h=RL(c,r);if(!a||null==n)return null;var f,p,g=rS(a);return i.createElement(tI,{zIndex:(f=a,p=eB.barBackground,f&&"object"===typeof f&&"zIndex"in f&&"number"===typeof f.zIndex&&OA(f.zIndex)?f.zIndex:p)},n.map((e,n)=>{var{value:o,background:s,tooltipPosition:l}=e,c=wD(e,fD);if(!s)return null;var f=A(e,n),p=d(e,n),m=h(e,n),v=yD(yD(yD(yD(yD({option:a,isActive:String(n)===t},c),{},{fill:"#eee"},s),g),bI(u,e,n)),{},{onMouseEnter:f,onMouseLeave:p,onClick:m,dataKey:r,index:n,className:"recharts-bar-background-rectangle"});return i.createElement(DL,mD({key:"background-bar-".concat(n)},v))}))}function ND(e){var{showLabels:t,children:n,rects:r}=e,a=null===r||void 0===r?void 0:r.map(e=>{var t={x:e.x,y:e.y,width:e.width,lowerWidth:e.width,upperWidth:e.width,height:e.height};return yD(yD({},t),{},{value:e.value,payload:e.payload,parentViewBox:e.parentViewBox,viewBox:t,fill:e.fill})});return i.createElement(aL,{value:t?a:void 0},n)}function kD(e){var{shape:t,activeBar:n,baseProps:r,entry:a,index:o,dataKey:s}=e,l=ag(Pk),c=ag(Dk),u=n&&String(o)===l&&(null==c||s===c),A=u?n:t;return u?i.createElement(tI,{zIndex:eB.activeBar},i.createElement(DL,mD({},r,{name:String(r.name)},a,{isActive:u,option:A,index:o,dataKey:s}))):i.createElement(DL,mD({},r,{name:String(r.name)},a,{isActive:u,option:A,index:o,dataKey:s}))}function _D(e){var{shape:t,baseProps:n,entry:r,index:a,dataKey:o}=e;return i.createElement(DL,mD({},n,{name:String(n.name)},r,{isActive:!1,option:t,index:a,dataKey:o}))}function ED(e){var t,{data:n,props:r}=e,a=null!==(t=nS(r))&&void 0!==t?t:{},{id:o}=a,s=wD(a,pD),{shape:l,dataKey:c,activeBar:u}=r,{onMouseEnter:A,onClick:d,onMouseLeave:h}=r,f=wD(r,gD),p=ML(A,c),g=QL(h),m=RL(d,c);return n?i.createElement(i.Fragment,null,n.map((e,t)=>i.createElement(_F,mD({key:"rectangle-".concat(null===e||void 0===e?void 0:e.x,"-").concat(null===e||void 0===e?void 0:e.y,"-").concat(null===e||void 0===e?void 0:e.value,"-").concat(t),className:"recharts-bar-rectangle"},bI(f,e,t),{onMouseEnter:p(e,t),onMouseLeave:g(e,t),onClick:m(e,t)}),u?i.createElement(kD,{shape:l,activeBar:u,baseProps:s,entry:e,index:t,dataKey:c}):i.createElement(_D,{shape:l,baseProps:s,entry:e,index:t,dataKey:c})))):null}function SD(e){var{props:t,previousRectanglesRef:n}=e,{data:r,layout:a,isAnimationActive:o,animationBegin:s,animationDuration:l,animationEasing:c,onAnimationEnd:u,onAnimationStart:A}=t,d=n.current,h=yO(t,"recharts-bar-"),[f,p]=(0,i.useState)(!1),g=!f,m=(0,i.useCallback)(()=>{"function"===typeof u&&u(),p(!1)},[u]),v=(0,i.useCallback)(()=>{"function"===typeof A&&A(),p(!0)},[A]);return i.createElement(ND,{showLabels:g,rects:r},i.createElement(vO,{animationId:h,begin:s,duration:l,isActive:o,easing:c,onAnimationEnd:m,onAnimationStart:v,key:h},e=>{var o=1===e?r:null===r||void 0===r?void 0:r.map((t,n)=>{var r=d&&d[n];if(r)return yD(yD({},t),{},{x:xA(r.x,t.x,e),y:xA(r.y,t.y,e),width:xA(r.width,t.width,e),height:xA(r.height,t.height,e)});if("horizontal"===a){var i=xA(0,t.height,e),o=xA(t.stackedBarStart,t.y,e);return yD(yD({},t),{},{y:o,height:i})}var s=xA(0,t.width,e),l=xA(t.stackedBarStart,t.x,e);return yD(yD({},t),{},{width:s,x:l})});return e>0&&(n.current=null!==o&&void 0!==o?o:null),null==o?null:i.createElement(_F,null,i.createElement(ED,{props:t,data:o}))}),i.createElement(lL,{label:t.label}),t.children)}function FD(e){var t=(0,i.useRef)(null);return i.createElement(SD,{previousRectanglesRef:t,props:e})}var ID=0,jD=(e,t)=>{var n=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:n,errorVal:bg(e,t)}};class UD extends i.PureComponent{render(){var{hide:e,data:t,dataKey:n,className:r,xAxisId:a,yAxisId:o,needClip:s,background:l,id:c}=this.props;if(e||null==t)return null;var u=lA("recharts-bar",r),A=c;return i.createElement(_F,{className:u,id:c},s&&i.createElement("defs",null,i.createElement(qL,{clipPathId:A,xAxisId:a,yAxisId:o})),i.createElement(_F,{className:"recharts-bar-rectangles",clipPath:s?"url(#clipPath-".concat(A,")"):void 0},i.createElement(CD,{data:t,dataKey:n,background:l,allOtherBarProps:this.props}),i.createElement(FD,this.props)))}}var OD={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:ID,xAxisId:0,yAxisId:0,zIndex:eB.bar};function PD(e){var t,{xAxisId:n,yAxisId:r,hide:a,legendType:o,minPointSize:s,activeBar:l,animationBegin:c,animationDuration:u,animationEasing:A,isAnimationActive:d}=e,{needClip:h}=GL(n,r),f=rm(),p=Gg(),g=function(e,t){var n=[],r=[];return r=Array.isArray(t)?t.map(e=>uL(e)):[uL(t)],hL(e).forEach(e=>{var t=dA()(e,"type.displayName")||dA()(e,"type.name");t&&-1!==r.indexOf(t)&&n.push(e)}),n}(e.children,YP),m=ag(t=>sD(t,n,r,p,e.id,g));if("vertical"!==f&&"horizontal"!==f)return null;var v=null===m||void 0===m?void 0:m[0];return t=null==v||null==v.height||null==v.width?0:"vertical"===f?v.height/2:v.width/2,i.createElement(VL,{xAxisId:n,yAxisId:r,data:m,dataPointFormatter:jD,errorBarOffset:t},i.createElement(UD,mD({},e,{layout:f,needClip:h,data:m,xAxisId:n,yAxisId:r,hide:a,legendType:o,minPointSize:s,activeBar:l,animationBegin:c,animationDuration:u,animationEasing:A,isAnimationActive:d})))}function LD(e){var t=eF(e,OD),n=Gg();return i.createElement(uD,{id:t.id,type:"bar"},e=>{return i.createElement(i.Fragment,null,i.createElement(lD,{legendPayload:xD(t)}),i.createElement(BD,{dataKey:t.dataKey,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType}),i.createElement(dD,{type:"bar",id:e,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:(r=t.stackId,null==r?void 0:String(r)),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:n}),i.createElement(tI,{zIndex:t.zIndex},i.createElement(PD,mD({},t,{id:e}))));var r})}var DD=i.memo(LD,VE);DD.displayName="Bar";const TD=()=>{const[e,t]=(0,i.useState)({revenue_by_department:[],monthly_revenue:[],parts_cost_analysis:[]}),[n,r]=(0,i.useState)(!0),[a,o]=(0,i.useState)(""),s=re();(0,i.useEffect)(()=>{localStorage.getItem("admin")||s("/admin/login")},[s]),(0,i.useEffect)(()=>{(async()=>{try{const e=await Ju.get("/dashboard/financials");t(e.data),r(!1)}catch(e){console.error(e),o("Failed to fetch financial data"),r(!1)}})()},[]);const l=e=>"Rs ".concat(Number(e).toFixed(2));return n?(0,Pe.jsx)("div",{className:"p-8 bg-gray-100 min-h-screen ml-64 flex items-center justify-center",children:(0,Pe.jsx)("div",{className:"text-xl",children:"Loading financial data..."})}):a?(0,Pe.jsx)("div",{className:"p-8 bg-gray-100 min-h-screen ml-64",children:(0,Pe.jsx)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:a})}):(0,Pe.jsxs)("div",{className:"p-8 bg-gray-100 min-h-screen ml-64",children:[(0,Pe.jsxs)("div",{className:"mb-8",children:[(0,Pe.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Financial Dashboard"}),(0,Pe.jsx)("p",{className:"text-gray-600",children:"Overview of your repair shop's financial performance"})]}),(0,Pe.jsxs)("div",{className:"bg-white rounded-lg shadow mb-8 p-6",children:[(0,Pe.jsx)("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Revenue by Department"}),(0,Pe.jsx)("div",{className:"h-80",children:(0,Pe.jsx)(KA,{width:"100%",height:"100%",children:(0,Pe.jsxs)(aF,{data:e.revenue_by_department,margin:{top:20,right:30,left:20,bottom:60},children:[(0,Pe.jsx)(YI,{strokeDasharray:"3 3"}),(0,Pe.jsx)(uj,{dataKey:"department",angle:-45,textAnchor:"end",height:60}),(0,Pe.jsx)(yj,{tickFormatter:e=>"Rs ".concat(e)}),(0,Pe.jsx)(eP,{formatter:e=>["Rs ".concat(e),"Revenue"]}),(0,Pe.jsx)(XP,{}),(0,Pe.jsx)(DD,{dataKey:"revenue",fill:"#3b82f6",name:"Revenue"})]})})})]}),(0,Pe.jsxs)("div",{className:"bg-white rounded-lg shadow mb-8 p-6",children:[(0,Pe.jsx)("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Monthly Revenue Trend"}),(0,Pe.jsx)("div",{className:"h-80",children:(0,Pe.jsx)(KA,{width:"100%",height:"100%",children:(0,Pe.jsxs)(aF,{data:e.monthly_revenue,margin:{top:20,right:30,left:20,bottom:60},children:[(0,Pe.jsx)(YI,{strokeDasharray:"3 3"}),(0,Pe.jsx)(uj,{dataKey:"month",angle:-45,textAnchor:"end",height:60}),(0,Pe.jsx)(yj,{tickFormatter:e=>"Rs ".concat(e)}),(0,Pe.jsx)(eP,{formatter:e=>["Rs ".concat(e),"Revenue"]}),(0,Pe.jsx)(XP,{}),(0,Pe.jsx)(DD,{dataKey:"revenue",fill:"#10b981",name:"Revenue"})]})})})]}),(0,Pe.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,Pe.jsx)("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Parts Cost Analysis"}),(0,Pe.jsx)("div",{className:"overflow-x-auto",children:(0,Pe.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Pe.jsx)("thead",{className:"bg-gray-50",children:(0,Pe.jsxs)("tr",{children:[(0,Pe.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Part Name"}),(0,Pe.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category"}),(0,Pe.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Stock"}),(0,Pe.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cost Price"}),(0,Pe.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Selling Price"}),(0,Pe.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Profit Margin"})]})}),(0,Pe.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:0===e.parts_cost_analysis.length?(0,Pe.jsx)("tr",{children:(0,Pe.jsx)("td",{colSpan:"6",className:"px-6 py-4 text-center text-gray-500",children:"No parts data available"})}):e.parts_cost_analysis.map(e=>(0,Pe.jsxs)("tr",{children:[(0,Pe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.name}),(0,Pe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.category}),(0,Pe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.stock}),(0,Pe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:l(e.cost_price)}),(0,Pe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:l(e.selling_price)}),(0,Pe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:(0,Pe.jsxs)("span",{className:e.profit_margin>=0?"text-green-600":"text-red-600",children:[e.profit_margin>=0?"+":"",e.profit_margin,"%"]})})]},e._id))})]})})]})]})},MD=()=>{const[e,t]=(0,i.useState)({total_revenue_today:0,active_jobs_count:0,jobs_ready_for_pickup:0,low_stock_count:0,recent_jobs:[]}),[n,r]=(0,i.useState)(!0),[a,o]=(0,i.useState)(null),s=re();(0,i.useEffect)(()=>{localStorage.getItem("admin")||s("/admin/login")},[s]);const l=(0,i.useCallback)(async()=>{try{const e=await Ju.get("/dashboard/summary");t(e.data),r(!1)}catch(e){console.error(e),o("Failed to fetch dashboard data"),r(!1),e.response&&401===e.response.status&&(localStorage.removeItem("admin"),s("/admin/login"))}},[]);(0,i.useEffect)(()=>{localStorage.getItem("admin")&&l()},[l]);const c=e=>{switch(e){case"Intake":return"bg-gray-200 text-gray-800";case"In Progress":return"bg-blue-100 text-blue-800";case"Done":return"bg-green-100 text-green-800";default:return"bg-yellow-100 text-yellow-800"}};return n?(0,Pe.jsx)("div",{className:"p-8 bg-gray-100 min-h-screen ml-64 flex items-center justify-center",children:(0,Pe.jsx)("div",{className:"text-xl",children:"Loading dashboard..."})}):a?(0,Pe.jsx)("div",{className:"p-8 bg-gray-100 min-h-screen ml-64",children:(0,Pe.jsx)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:a})}):(0,Pe.jsxs)("div",{className:"p-8 bg-gray-100 min-h-screen ml-64",children:[(0,Pe.jsx)("div",{className:"bg-white rounded-lg shadow mb-8 p-6",children:(0,Pe.jsxs)("div",{children:[(0,Pe.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Dashboard"}),(0,Pe.jsx)("p",{className:"text-gray-600",children:"Welcome to your repair shop management system"})]})}),(0,Pe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[(0,Pe.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,Pe.jsxs)("div",{className:"flex items-center",children:[(0,Pe.jsx)("div",{className:"rounded-full bg-green-100 p-3 mr-4",children:(0,Pe.jsx)("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,Pe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,Pe.jsxs)("div",{children:[(0,Pe.jsx)("p",{className:"text-gray-500 text-sm",children:"Revenue Today"}),(0,Pe.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:(u=e.total_revenue_today,"Rs ".concat(Number(u).toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})))})]})]})}),(0,Pe.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,Pe.jsxs)("div",{className:"flex items-center",children:[(0,Pe.jsx)("div",{className:"rounded-full bg-blue-100 p-3 mr-4",children:(0,Pe.jsx)("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,Pe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})}),(0,Pe.jsxs)("div",{children:[(0,Pe.jsx)("p",{className:"text-gray-500 text-sm",children:"Active Jobs"}),(0,Pe.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:e.active_jobs_count})]})]})}),(0,Pe.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,Pe.jsxs)("div",{className:"flex items-center",children:[(0,Pe.jsx)("div",{className:"rounded-full bg-yellow-100 p-3 mr-4",children:(0,Pe.jsx)("svg",{className:"w-6 h-6 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,Pe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})})}),(0,Pe.jsxs)("div",{children:[(0,Pe.jsx)("p",{className:"text-gray-500 text-sm",children:"Ready for Pickup"}),(0,Pe.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:e.jobs_ready_for_pickup})]})]})}),(0,Pe.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,Pe.jsxs)("div",{className:"flex items-center",children:[(0,Pe.jsx)("div",{className:"rounded-full bg-red-100 p-3 mr-4",children:(0,Pe.jsx)("svg",{className:"w-6 h-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,Pe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})})}),(0,Pe.jsxs)("div",{children:[(0,Pe.jsx)("p",{className:"text-gray-500 text-sm",children:"Low Stock Items"}),(0,Pe.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:e.low_stock_count})]})]})})]}),(0,Pe.jsxs)("div",{className:"bg-white rounded-lg shadow mb-8",children:[(0,Pe.jsx)("div",{className:"border-b border-gray-200 p-6",children:(0,Pe.jsx)("h2",{className:"text-xl font-semibold text-gray-800",children:"Recent Jobs"})}),(0,Pe.jsx)("div",{className:"overflow-x-auto",children:(0,Pe.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Pe.jsx)("thead",{className:"bg-gray-50",children:(0,Pe.jsxs)("tr",{children:[(0,Pe.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Job ID"}),(0,Pe.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customer"}),(0,Pe.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Device"}),(0,Pe.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,Pe.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Taken By"}),(0,Pe.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"})]})}),(0,Pe.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:0===e.recent_jobs.length?(0,Pe.jsx)("tr",{children:(0,Pe.jsx)("td",{colSpan:"6",className:"px-6 py-4 text-center text-gray-500",children:"No recent jobs found"})}):e.recent_jobs.map(e=>{var t,n;return(0,Pe.jsxs)("tr",{children:[(0,Pe.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:["...",e._id.slice(-6)]}),(0,Pe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:(null===(t=e.customer)||void 0===t?void 0:t.name)||"N/A"}),(0,Pe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.device_model||"N/A"}),(0,Pe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Pe.jsx)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full ".concat(c(e.status)),children:e.status||"N/A"})}),(0,Pe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:(null===(n=e.taken_by_worker)||void 0===n?void 0:n.name)||"N/A"}),(0,Pe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(e.repair_job_taken_time).toLocaleDateString()})]},e._id)})})]})})]})]});var u},QD=()=>{const[e,t]=(0,i.useState)([]),[n,r]=(0,i.useState)(null),[a,o]=(0,i.useState)(!1),[s,l]=(0,i.useState)(""),[c,u]=(0,i.useState)(!1),[A,d]=(0,i.useState)(!1),[h,f]=(0,i.useState)(""),p=re();(0,i.useEffect)(()=>{(async()=>{try{const e=await Xu.get("http://localhost:5001/api/workers");t(e.data)}catch(e){console.error(e),f("Failed to fetch workers")}})()},[]);return(0,Pe.jsxs)("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center p-4",children:[(0,Pe.jsxs)("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl",children:[(0,Pe.jsx)("div",{className:"border-b border-gray-200 px-6 py-4",children:(0,Pe.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Employee Login"})}),(0,Pe.jsxs)("div",{className:"p-6",children:[h&&!a&&(0,Pe.jsx)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:h}),(0,Pe.jsx)("p",{className:"text-gray-600 mb-4",children:"Select an employee to login:"}),0===e.length?(0,Pe.jsx)("div",{className:"text-center py-8 text-gray-500",children:"No employees found."}):(0,Pe.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:e.map(e=>(0,Pe.jsx)("div",{className:"border border-gray-200 rounded-lg p-4 hover:bg-blue-50 hover:border-blue-300 cursor-pointer transition",onClick:()=>(e=>{r(e),o(!0),l(""),u(!1),f("")})(e),children:(0,Pe.jsxs)("div",{className:"flex items-center",children:[(0,Pe.jsx)("div",{className:"bg-gray-200 border-2 border-dashed rounded-xl w-16 h-16"}),(0,Pe.jsxs)("div",{className:"ml-4",children:[(0,Pe.jsx)("h3",{className:"font-semibold text-gray-900",children:e.name}),(0,Pe.jsx)("p",{className:"text-sm text-gray-500",children:e.email}),(0,Pe.jsx)("p",{className:"text-sm text-gray-500",children:e.department?e.department.name:"No Department"})]})]})},e._id))}),(0,Pe.jsx)("div",{className:"mt-6",children:(0,Pe.jsx)("button",{onClick:()=>{p("/")},className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-100",children:"Back to Home"})})]})]}),a&&(0,Pe.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Pe.jsxs)("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md",children:[(0,Pe.jsx)("div",{className:"border-b border-gray-200 px-6 py-4",children:(0,Pe.jsxs)("h2",{className:"text-2xl font-bold text-gray-900",children:["Login as ",null===n||void 0===n?void 0:n.name]})}),(0,Pe.jsxs)("div",{className:"p-6",children:[h&&(0,Pe.jsx)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:h}),(0,Pe.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),d(!0),f("");try{const e=await Xu.post("http://localhost:5001/api/workers/login",{workerId:n._id,password:s});e.data.worker?(localStorage.setItem("employee",JSON.stringify(e.data.worker)),p("/employee/".concat(n._id,"/dashboard"))):f("Login failed")}catch(t){t.response&&t.response.data&&t.response.data.error?f(t.response.data.error):f("Invalid password")}finally{d(!1)}},children:[(0,Pe.jsxs)("div",{className:"mb-4",children:[(0,Pe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),(0,Pe.jsxs)("div",{className:"relative",children:[(0,Pe.jsx)("input",{type:c?"text":"password",value:s,onChange:e=>l(e.target.value),className:"w-full border border-gray-300 p-3 rounded focus:ring-2 focus:ring-blue-500 outline-none pr-10",placeholder:"Enter password",required:!0,autoFocus:!0}),(0,Pe.jsx)("button",{type:"button",onClick:()=>u(!c),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-500 hover:text-gray-700",children:c?(0,Pe.jsx)("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Pe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"})}):(0,Pe.jsxs)("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[(0,Pe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),(0,Pe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]})]}),(0,Pe.jsxs)("div",{className:"flex justify-between",children:[(0,Pe.jsx)("button",{type:"button",onClick:()=>{o(!1),r(null),l(""),u(!1),f("")},className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-100",children:"Back"}),(0,Pe.jsx)("button",{type:"submit",disabled:A,className:"px-4 py-2 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 transition disabled:opacity-50",children:A?"Verifying...":"Login"})]})]})]})]})})]})},RD=e=>{let{worker:t,onLogout:n}=e;const r=te(),[a,o]=(0,i.useState)(!1);return(0,Pe.jsxs)(Pe.Fragment,{children:[(0,Pe.jsxs)("div",{className:"bg-gray-800 text-white w-64 min-h-screen fixed left-0 top-0 bottom-0 overflow-y-auto",children:[(0,Pe.jsxs)("div",{className:"p-4 border-b border-gray-700",children:[(0,Pe.jsx)("h1",{className:"text-xl font-bold",children:"Repair Shop"}),(0,Pe.jsx)("p",{className:"text-sm text-gray-400",children:"Employee Portal"})]}),(0,Pe.jsx)("div",{className:"p-4 border-b border-gray-700",children:(0,Pe.jsxs)("div",{className:"flex items-center",children:[(0,Pe.jsx)("div",{className:"bg-gray-200 border-2 border-dashed rounded-xl w-16 h-16"}),(0,Pe.jsxs)("div",{className:"ml-3",children:[(0,Pe.jsx)("p",{className:"font-medium",children:null===t||void 0===t?void 0:t.name}),(0,Pe.jsx)("p",{className:"text-sm text-gray-400",children:null===t||void 0===t?void 0:t.role})]})]})}),(0,Pe.jsxs)("nav",{className:"mt-4",children:[(0,Pe.jsxs)(je,{to:"/employee/".concat(null===t||void 0===t?void 0:t._id,"/dashboard"),className:"flex items-center px-4 py-3 text-sm font-medium transition ".concat((e=>r.pathname===e)("/employee/".concat(null===t||void 0===t?void 0:t._id,"/dashboard"))?"bg-gray-900 text-white border-l-4 border-blue-500":"text-gray-300 hover:bg-gray-700 hover:text-white"),children:[(0,Pe.jsx)("svg",{className:"mr-3 h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Pe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),"Dashboard"]}),(0,Pe.jsxs)(je,{to:"/employee/".concat(null===t||void 0===t?void 0:t._id,"/attendance"),className:"flex items-center px-4 py-3 text-sm font-medium text-gray-300 hover:bg-gray-700 hover:text-white transition",children:[(0,Pe.jsxs)("svg",{className:"mr-3 h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[(0,Pe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),(0,Pe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),"Attendance"]})]}),(0,Pe.jsx)("div",{className:"absolute bottom-0 w-full p-4 border-t border-gray-700",children:(0,Pe.jsxs)("button",{onClick:()=>{o(!0)},className:"w-full flex items-center p-3 text-left hover:bg-gray-800 rounded transition text-red-400 hover:text-red-300",children:[(0,Pe.jsx)("svg",{className:"mr-3 h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Pe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),"Logout"]})})]}),a&&(0,Pe.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Pe.jsxs)("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md mx-4",children:[(0,Pe.jsx)("div",{className:"border-b border-gray-200 px-6 py-4",children:(0,Pe.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Confirm Logout"})}),(0,Pe.jsxs)("div",{className:"px-6 py-4",children:[(0,Pe.jsx)("div",{className:"mb-6",children:(0,Pe.jsx)("p",{className:"text-gray-700",children:"Are you sure you want to logout?"})}),(0,Pe.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,Pe.jsx)("button",{onClick:()=>{o(!1)},className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition",children:"Cancel"}),(0,Pe.jsx)("button",{onClick:()=>{n()},className:"px-4 py-2 bg-red-600 text-white rounded-lg font-semibold hover:bg-red-700 transition",children:"Logout"})]})]})]})})]})};var HD=function(e,t){return(HD=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function zD(e,t){function n(){this.constructor=e}HD(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function KD(e,t,n,r){return new(n||(n=Promise))(function(i,a){function o(e){try{l(r.next(e))}catch(e){a(e)}}function s(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(o,s)}l((r=r.apply(e,t||[])).next())})}function WD(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}var VD=function(){function e(e){this.global=e,this.flags={},this.flagRegistry={},this.urlFlags={},this.populateURLFlags()}return e.prototype.setPlatform=function(e,t){null!=this.platform&&console.warn("Platform "+this.platformName+" has already been set. Overwriting the platform with "+t+"."),this.platformName=e,this.platform=t},e.prototype.registerFlag=function(e,t,n){if(this.flagRegistry[e]={evaluationFn:t,setHook:n},null!=this.urlFlags[e]){var r=this.urlFlags[e];console.warn("Setting feature override from URL "+e+": "+r+"."),this.set(e,r)}},e.prototype.get=function(e){return e in this.flags||(this.flags[e]=this.evaluateFlag(e)),this.flags[e]},e.prototype.getNumber=function(e){return this.get(e)},e.prototype.getBool=function(e){return this.get(e)},e.prototype.getFlags=function(){return this.flags},Object.defineProperty(e.prototype,"features",{get:function(){return this.flags},enumerable:!0,configurable:!0}),e.prototype.set=function(e,t){if(null==this.flagRegistry[e])throw new Error("Cannot set flag "+e+" as it has not been registered.");this.flags[e]=t,null!=this.flagRegistry[e].setHook&&this.flagRegistry[e].setHook(t)},e.prototype.evaluateFlag=function(e){if(null==this.flagRegistry[e])throw new Error("Cannot evaluate flag '"+e+"': no evaluation function found.");return this.flagRegistry[e].evaluationFn()},e.prototype.setFlags=function(e){this.flags=Object.assign({},e)},e.prototype.reset=function(){this.flags={},this.urlFlags={},this.populateURLFlags()},e.prototype.populateURLFlags=function(){var e=this;if(void 0!==this.global&&void 0!==this.global.location&&void 0!==this.global.location.search){var t,n,r=(t=this.global.location.search,n={},t.replace(/[?&]([^=?&]+)(?:=([^&]*))?/g,function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return function(e,t,n){e[decodeURIComponent(t)]=decodeURIComponent(n||"")}(n,t[0],t[1]),t.join("=")}),n);"tfjsflags"in r&&r.tfjsflags.split(",").forEach(function(t){var n=t.split(":"),r=n[0],i=n[1];e.urlFlags[r]=function(e,t){if("true"===(t=t.toLowerCase())||"false"===t)return"true"===t;if(""+ +t===t)return+t;throw new Error("Could not parse value flag value "+t+" for flag "+e+".")}(r,i)})}},e}();function GD(){return qD}var qD=null,XD=new Map,YD=new Map;function JD(e,t){var n=tT(e,t);return XD.get(n)}function ZD(e){for(var t=XD.entries(),n=[];;){var r=t.next(),i=r.done,a=r.value;if(i)break;var o=a[0],s=a[1];o.split("_")[0]===e&&n.push(s)}return n}function $D(e){var t=e.kernelName,n=e.backendName,r=tT(t,n);if(XD.has(r))throw new Error("The kernel '"+t+"' for backend '"+n+"' is already registered");XD.set(r,e)}function eT(e){var t=e.kernelName;YD.has(t)&&console.warn("Overriding the gradient for '"+t+"'"),YD.set(t,e)}function tT(e,t){return t+"_"+e}function nT(e){for(var t=e.length,n=0,r=0;t>0;)r=Math.random()*t|0,n=e[--t],e[t]=e[r],e[r]=n}function rT(e,t,n){return Math.max(e,Math.min(t,n))}function iT(e){return e%2==0?e:e+1}function aT(e){for(var t=0,n=0;n<e.length;n++)t+=e[n];return t}function oT(e,t){if(!e)throw new Error("string"==typeof t?t:t())}function sT(e,t,n){void 0===n&&(n=""),oT(AT(e,t),function(){return n+" Shapes "+e+" and "+t+" must match"})}function lT(e){oT(null!=e,function(){return"The input to the tensor constructor must be a non-null value."})}function cT(e,t,n){if(void 0===t&&(t=[]),void 0===n&&(n=!1),null==t&&(t=[]),Array.isArray(e)||NT(e)&&!n)for(var r=0;r<e.length;++r)cT(e[r],t,n);else t.push(e);return t}function uT(e){if(0===e.length)return 1;for(var t=e[0],n=1;n<e.length;n++)t*=e[n];return t}function AT(e,t){if(e===t)return!0;if(null==e||null==t)return!1;if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function dT(e){return e%1==0}function hT(e){if(null!=Math.tanh)return Math.tanh(e);if(e===1/0)return 1;if(e===-1/0)return-1;var t=Math.exp(2*e);return(t-1)/(t+1)}function fT(e){var t=Math.ceil(Math.sqrt(e));return[t,Math.ceil(e/t)]}function pT(e,t){return t<=e.length?e:e+" ".repeat(t-e.length)}function gT(e,t,n){return void 0===t&&(t=function(e){return 0}),new Promise(function(r,i){var a=0,o=function(){if(e())r();else{a++;var s=t(a);null!=n&&a>=n?i():setTimeout(o,s)}};o()})}function mT(e,t){for(var n=1,r=-1,i=0;i<e.length;++i)if(e[i]>=0)n*=e[i];else if(-1===e[i]){if(-1!==r)throw Error("Shapes can only have 1 implicit size. Found -1 at dim "+r+" and dim "+i);r=i}else if(e[i]<0)throw Error("Shapes can not be < 0. Found "+e[i]+" at dim "+i);if(-1===r){if(t>0&&t!==n)throw Error("Size("+t+") must match the product of shape "+e);return e}if(0===n)throw Error("Cannot infer the missing size in ["+e+"] when there are 0 elements");if(t%n!=0)throw Error("The implicit shape can't be a fractional number. Got "+t+" / "+n);var a=e.slice();return a[r]=t/n,a}function vT(e,t){var n=t.length;return oT((e=null==e?t.map(function(e,t){return t}):[].concat(e)).every(function(e){return e>=-n&&e<n}),function(){return"All values in axis param must be in range [-"+n+", "+n+") but got axis "+e}),oT(e.every(function(e){return dT(e)}),function(){return"All values in axis param must be integers but got axis "+e}),e.map(function(e){return e<0?n+e:e})}function yT(e,t){for(var n=[],r=[],i=null!=t&&Array.isArray(t)&&0===t.length,a=null==t||i?null:vT(t,e).sort(),o=0,s=0;s<e.length;++s){if(null!=a){if(a[o]===s&&1!==e[s])throw new Error("Can't squeeze axis "+s+" since its dim '"+e[s]+"' is not 1");(null==a[o]||a[o]>s)&&1===e[s]&&(n.push(e[s]),r.push(s)),a[o]<=s&&o++}1!==e[s]&&(n.push(e[s]),r.push(s))}return{newShape:n,keptDims:r}}function bT(e,t){var n=null;if(null==e||"float32"===e)n=new Float32Array(t);else if("int32"===e)n=new Int32Array(t);else{if("bool"!==e)throw new Error("Unknown data type "+e);n=new Uint8Array(t)}return n}function wT(e,t){var n=null;if(null==e||"float32"===e)n=new Float32Array(t);else if("int32"===e)n=new Int32Array(t);else if("bool"===e)n=new Uint8Array(t);else{if("string"!==e)throw new Error("Unknown data type "+e);n=new Array(t)}return n}function xT(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(isNaN(r)||!isFinite(r))throw Error("A tensor of type "+t+" being uploaded contains "+r+".")}}function BT(e){return"bool"===e||"complex64"===e||"float32"===e||"int32"===e||"string"===e}function CT(e,t){return"complex64"!==t&&("float32"!==t||"complex64"===e)&&("int32"!==t||"float32"===e||"complex64"===e)&&("bool"!==t||"bool"!==e)}function NT(e){return e instanceof Float32Array||e instanceof Int32Array||e instanceof Uint8Array}function kT(e){if("float32"===e||"int32"===e)return 4;if("complex64"===e)return 8;if("bool"===e)return 1;throw new Error("Unknown dtype "+e)}function _T(e){if(null==e)return 0;var t=0;return e.forEach(function(e){return t+=e.length}),t}function ET(e){return"string"==typeof e||e instanceof String}function ST(e){return"boolean"==typeof e}function FT(e){return"number"==typeof e}function IT(e){return Array.isArray(e)?IT(e[0]):e instanceof Float32Array?"float32":e instanceof Int32Array||e instanceof Uint8Array?"int32":FT(e)?"float32":ET(e)?"string":ST(e)?"bool":"float32"}function jT(e){return!!(e&&e.constructor&&e.call&&e.apply)}function UT(e,t){for(var n=t;n<e;++n)if(e%n==0)return n;return e}function OT(e){var t=e.length;if(t<2)return[];var n=new Array(t-1);n[t-2]=e[t-1];for(var r=t-3;r>=0;--r)n[r]=n[r+1]*e[r+1];return n}function PT(e,t,n){if("string"===t)throw new Error("Cannot convert a string[] to a TypedArray");if(Array.isArray(e)&&(e=cT(e)),n&&xT(e,t),function(e,t){return e instanceof Float32Array&&"float32"===t||e instanceof Int32Array&&"int32"===t||e instanceof Uint8Array&&"bool"===t}(e,t))return e;if(null==t||"float32"===t||"complex64"===t)return new Float32Array(e);if("int32"===t)return new Int32Array(e);if("bool"===t){for(var r=new Uint8Array(e.length),i=0;i<r.length;++i)0!==Math.round(e[i])&&(r[i]=1);return r}throw new Error("Unknown data type "+t)}function LT(e,t){if(0===e.length)return t[0];var n=e.reduce(function(e,t){return e*t});if(0===n)return[];if(n!==t.length)throw new Error("["+e+"] does not match the input size.");return function e(t,n,r){var i=new Array;if(1===n.length)for(var a=n[0],o=0;o<a;o++)i[o]=r[t+o];else{a=n[0];var s=n.slice(1),l=s.reduce(function(e,t){return e*t});for(o=0;o<a;o++)i[o]=e(t+o*l,s,r)}return i}(0,e,t)}function DT(e,t){for(var n=TT(e,t),r=0;r<n.length;r++)n[r]=1;return n}function TT(e,t){if(null==t||"float32"===t||"complex64"===t)return new Float32Array(e);if("int32"===t)return new Int32Array(e);if("bool"===t)return new Uint8Array(e);throw new Error("Unknown data type "+t)}function MT(){return GD().platform.now()}function QT(e){e.forEach(function(t){oT(Number.isInteger(t)&&t>=0,function(){return"Tensor must have a shape comprised of positive integers but got shape ["+e+"]."})})}function RT(e,t){return void 0===t&&(t="utf-8"),t=t||"utf-8",GD().platform.encode(e,t)}function HT(e,t){return void 0===t&&(t="utf-8"),t=t||"utf-8",GD().platform.decode(e,t)}function zT(e,t,n){if(0===t)return 0;if(1===t)return e[0];for(var r=e[e.length-1],i=0;i<e.length-1;++i)r+=n[i]*e[i];return r}function KT(e,t,n){if(0===t)return[];if(1===t)return[e];for(var r=new Array(t),i=0;i<r.length-1;++i)r[i]=Math.floor(e/n[i]),e-=r[i]*n[i];return r[r.length-1]=e,r}Object.freeze({shuffle:nT,clamp:rT,nearestLargerEven:iT,sum:aT,randUniform:function(e,t){var n=Math.random();return t*n+(1-n)*e},distSquared:function(e,t){for(var n=0,r=0;r<e.length;r++){var i=Number(e[r])-Number(t[r]);n+=i*i}return n},assert:oT,assertShapesMatch:sT,assertNonNull:lT,flatten:cT,sizeFromShape:uT,isScalarShape:function(e){return 0===e.length},arraysEqual:AT,isInt:dT,tanh:hT,sizeToSquarishShape:fT,createShuffledIndices:function(e){for(var t=new Uint32Array(e),n=0;n<e;++n)t[n]=n;return nT(t),t},rightPad:pT,repeatedTry:gT,inferFromImplicitShape:mT,parseAxisParam:vT,squeezeShape:yT,getTypedArrayFromDType:bT,getArrayFromDType:wT,checkConversionForErrors:xT,isValidDtype:BT,hasEncodingLoss:CT,isTypedArray:NT,bytesPerElement:kT,bytesFromStringArray:_T,isString:ET,isBoolean:ST,isNumber:FT,inferDtype:IT,isFunction:jT,nearestDivisor:UT,computeStrides:OT,toTypedArray:PT,toNestedArray:LT,makeOnesTypedArray:DT,makeZerosTypedArray:TT,now:MT,assertNonNegativeIntegerDimensions:QT,fetch:function(e,t){return GD().platform.fetch(e,t)},encodeString:RT,decodeString:HT,locToIndex:zT,indexToLoc:KT});var WT=function(){function e(e,t){this.backendTimer=e,this.logger=t,null==t&&(this.logger=new VT)}return e.prototype.profileKernel=function(e,t,n){var r,i=this,a=this.backendTimer.time(function(){r=n()});return r.forEach(function(n){n.data().then(function(r){!function(e,t,n){if("float32"!==t)return!1;for(var r=0;r<e.length;r++){var i=e[r];if(isNaN(i)||!isFinite(i))return console.warn("Found "+i+" in the result of '"+n+"'"),!0}}(r,n.dtype,e),a.then(function(a){var o="";null!=a.getExtraProfileInfo&&(o=a.getExtraProfileInfo()),i.logger.logKernelProfile(e,n,r,a.kernelMs,t,o)})})}),r},e}(),VT=function(){function e(){}return e.prototype.logKernelProfile=function(e,t,n,r,i,a){var o="number"==typeof r?pT(r+"ms",9):r.error,s=pT(e,25),l=t.rank,c=t.size,u=pT(t.shape.toString(),14),A="";for(var d in i){var h=i[d].shape||t.shape,f=h.length;A+=d+": "+f+"D "+(f>0?h:"")+" "}console.log("%c"+s+"\t%c"+o+"\t%c"+l+"D "+u+"\t%c"+c+"\t%c"+A+"\t%c"+a,"font-weight:bold","color:red","color:blue","color: orange","color: green","color: steelblue")},e}();function GT(e,t,n){return pT(Array.isArray(e)?parseFloat(e[0].toFixed(7))+" + "+parseFloat(e[1].toFixed(7))+"j":ET(e)?"'"+e+"'":"bool"===n?qT(e):parseFloat(e.toFixed(7)).toString(),t)}function qT(e){return 0===e?"false":"true"}function XT(e){for(var t=[],n=0;n<e.length;n+=2)t.push([e[n],e[n+1]]);return t}var YT=function(){function e(e,t,n){var r=this;if(this.dtype=t,this.shape=e.slice(),this.size=uT(e),null!=n){var i=n.length;oT(i===this.size,function(){return"Length of values '"+i+"' does not match the size inferred by the shape '"+r.size+"'."})}if("complex64"===t)throw new Error("complex64 dtype TensorBuffers are not supported. Please create a TensorBuffer for the real and imaginary parts separately and call tf.complex(real, imag).");this.values=n||wT(t,this.size),this.strides=OT(e)}return e.prototype.set=function(e){for(var t=this,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];0===n.length&&(n=[0]),oT(n.length===this.rank,function(){return"The number of provided coordinates ("+n.length+") must match the rank ("+t.rank+")"});var i=this.locToIndex(n);this.values[i]=e},e.prototype.get=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];0===e.length&&(e=[0]);for(var n=0,r=0,i=e;r<i.length;r++){var a=i[r];if(a<0||a>=this.shape[n]){var o="Requested out of range element at "+e+".   Buffer shape="+this.shape;throw new Error(o)}n++}for(var s=e[e.length-1],l=0;l<e.length-1;++l)s+=this.strides[l]*e[l];return this.values[s]},e.prototype.locToIndex=function(e){if(0===this.rank)return 0;if(1===this.rank)return e[0];for(var t=e[e.length-1],n=0;n<e.length-1;++n)t+=this.strides[n]*e[n];return t},e.prototype.indexToLoc=function(e){if(0===this.rank)return[];if(1===this.rank)return[e];for(var t=new Array(this.shape.length),n=0;n<t.length-1;++n)t[n]=Math.floor(e/this.strides[n]),e-=t[n]*this.strides[n];return t[t.length-1]=e,t},Object.defineProperty(e.prototype,"rank",{get:function(){return this.shape.length},enumerable:!0,configurable:!0}),e.prototype.toTensor=function(){return JT().makeTensor(this.values,this.shape,this.dtype)},e}(),JT=null,ZT=null,$T=null,eM=function(){function e(e,t,n,r){this.kept=!1,this.isDisposedInternal=!1,this.shape=e.slice(),this.dtype=t||"float32",this.size=uT(e),this.strides=OT(e),this.dataId=n,this.id=r,this.rankType=this.rank<5?this.rank.toString():"higher"}return e.prototype.flatten=function(){return this.throwIfDisposed(),this.as1D()},e.prototype.asScalar=function(){return this.throwIfDisposed(),oT(1===this.size,function(){return"The array must have only 1 element."}),this.reshape([])},e.prototype.as1D=function(){return this.throwIfDisposed(),this.reshape([this.size])},e.prototype.as2D=function(e,t){return this.throwIfDisposed(),this.reshape([e,t])},e.prototype.as3D=function(e,t,n){return this.throwIfDisposed(),this.reshape([e,t,n])},e.prototype.as4D=function(e,t,n,r){return this.throwIfDisposed(),this.reshape([e,t,n,r])},e.prototype.as5D=function(e,t,n,r,i){return this.throwIfDisposed(),this.reshape([e,t,n,r,i])},e.prototype.asType=function(e){return this.throwIfDisposed(),ZT.cast(this,e)},Object.defineProperty(e.prototype,"rank",{get:function(){return this.shape.length},enumerable:!0,configurable:!0}),e.prototype.buffer=function(){return KD(this,void 0,void 0,function(){var e;return WD(this,function(t){switch(t.label){case 0:return[4,this.data()];case 1:return e=t.sent(),[2,ZT.buffer(this.shape,this.dtype,e)]}})})},e.prototype.bufferSync=function(){return ZT.buffer(this.shape,this.dtype,this.dataSync())},e.prototype.array=function(){return KD(this,void 0,void 0,function(){var e;return WD(this,function(t){switch(t.label){case 0:return[4,this.data()];case 1:return e=t.sent(),[2,LT(this.shape,e)]}})})},e.prototype.arraySync=function(){return LT(this.shape,this.dataSync())},e.prototype.data=function(){return KD(this,void 0,void 0,function(){var e,t;return WD(this,function(n){switch(n.label){case 0:return this.throwIfDisposed(),e=JT().read(this.dataId),"string"!==this.dtype?[3,2]:[4,e];case 1:t=n.sent();try{return[2,t.map(function(e){return HT(e)})]}catch(e){throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}case 2:return[2,e]}})})},e.prototype.dataSync=function(){this.throwIfDisposed();var e=JT().readSync(this.dataId);if("string"===this.dtype)try{return e.map(function(e){return HT(e)})}catch(e){throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}return e},e.prototype.bytes=function(){return KD(this,void 0,void 0,function(){var e;return WD(this,function(t){switch(t.label){case 0:return this.throwIfDisposed(),[4,JT().read(this.dataId)];case 1:return e=t.sent(),"string"===this.dtype?[2,e]:[2,new Uint8Array(e.buffer)]}})})},e.prototype.dispose=function(){this.isDisposed||(JT().disposeTensor(this),this.isDisposedInternal=!0)},Object.defineProperty(e.prototype,"isDisposed",{get:function(){return this.isDisposedInternal},enumerable:!0,configurable:!0}),e.prototype.throwIfDisposed=function(){if(this.isDisposed)throw new Error("Tensor is disposed.")},e.prototype.toFloat=function(){return this.asType("float32")},e.prototype.toInt=function(){return this.asType("int32")},e.prototype.toBool=function(){return this.asType("bool")},e.prototype.print=function(e){return void 0===e&&(e=!1),ZT.print(this,e)},e.prototype.reshape=function(e){return this.throwIfDisposed(),ZT.reshape(this,e)},e.prototype.reshapeAs=function(e){return this.throwIfDisposed(),this.reshape(e.shape)},e.prototype.expandDims=function(e){return void 0===e&&(e=0),ZT.expandDims(this,e)},e.prototype.cumsum=function(e,t,n){return void 0===e&&(e=0),void 0===t&&(t=!1),void 0===n&&(n=!1),ZT.cumsum(this,e,t,n)},e.prototype.squeeze=function(e){return this.throwIfDisposed(),ZT.squeeze(this,e)},e.prototype.clone=function(){return this.throwIfDisposed(),ZT.clone(this)},e.prototype.oneHot=function(e,t,n){return this.throwIfDisposed(),ZT.oneHot(this,e,t,n)},e.prototype.toString=function(e){return void 0===e&&(e=!1),function(e,t,n,r){var i=OT(t),a=function(e,t,n,r){var i=uT(t),a=r[r.length-1],o=new Array(a).fill(0),s=t.length,l="complex64"===n?XT(e):e;if(s>1)for(var c=0;c<i/a;c++)for(var u=c*a,A=0;A<a;A++)o[A]=Math.max(o[A],GT(l[u+A],0,n).length);return o}(e,t,n,i),o=t.length,s=function e(t,n,r,i,a,o){void 0===o&&(o=!0);var s="complex64"===r?2:1,l=n[0],c=n.length;if(0===c)return"complex64"===r?[GT(XT(t)[0],0,r)]:"bool"===r?[qT(t[0])]:[t[0].toString()];if(1===c){if(l>20){var u=3*s,A=Array.from(t.slice(0,u)),d=Array.from(t.slice((l-3)*s,l*s));return"complex64"===r&&(A=XT(A),d=XT(d)),["["+A.map(function(e,t){return GT(e,a[t],r)}).join(", ")+", ..., "+d.map(function(e,t){return GT(e,a[l-3+t],r)}).join(", ")+"]"]}return["["+("complex64"===r?XT(t):Array.from(t)).map(function(e,t){return GT(e,a[t],r)}).join(", ")+"]"]}var h=n.slice(1),f=i.slice(1),p=i[0]*s,g=[];if(l>20){for(var m=0;m<3;m++){var v=(y=m*p)+p;g.push.apply(g,e(t.slice(y,v),h,r,f,a,!1))}for(g.push("..."),m=l-3;m<l;m++)v=(y=m*p)+p,g.push.apply(g,e(t.slice(y,v),h,r,f,a,m===l-1))}else for(m=0;m<l;m++){var y;v=(y=m*p)+p,g.push.apply(g,e(t.slice(y,v),h,r,f,a,m===l-1))}var b=2===c?",":"";for(g[0]="["+g[0]+b,m=1;m<g.length-1;m++)g[m]=" "+g[m]+b;var w=",\n";for(m=2;m<c;m++)w+="\n";return g[g.length-1]=" "+g[g.length-1]+"]"+(o?"":w),g}(e,t,n,i,a),l=["Tensor"];return r&&(l.push("  dtype: "+n),l.push("  rank: "+o),l.push("  shape: ["+t+"]"),l.push("  values:")),l.push(s.map(function(e){return"    "+e}).join("\n")),l.join("\n")}(this.dataSync(),this.shape,this.dtype,e)},e.prototype.tile=function(e){return this.throwIfDisposed(),ZT.tile(this,e)},e.prototype.gather=function(e,t){return void 0===t&&(t=0),this.throwIfDisposed(),ZT.gather(this,e,t)},e.prototype.matMul=function(e,t,n){return void 0===t&&(t=!1),void 0===n&&(n=!1),this.throwIfDisposed(),ZT.matMul(this,e,t,n)},e.prototype.dot=function(e){return this.throwIfDisposed(),ZT.dot(this,e)},e.prototype.norm=function(e,t,n){return void 0===e&&(e="euclidean"),void 0===t&&(t=null),void 0===n&&(n=!1),this.throwIfDisposed(),ZT.norm(this,e,t,n)},e.prototype.slice=function(e,t){return this.throwIfDisposed(),ZT.slice(this,e,t)},e.prototype.reverse=function(e){return this.throwIfDisposed(),ZT.reverse(this,e)},e.prototype.concat=function(t,n){return void 0===n&&(n=0),this.throwIfDisposed(),t instanceof e&&(t=[t]),ZT.concat([this].concat(t),n)},e.prototype.split=function(e,t){return void 0===t&&(t=0),this.throwIfDisposed(),ZT.split(this,e,t)},e.prototype.stack=function(e,t){return void 0===t&&(t=0),ZT.stack([this,e],t)},e.prototype.unstack=function(e){return void 0===e&&(e=0),ZT.unstack(this,e)},e.prototype.pad=function(e,t){return void 0===t&&(t=0),ZT.pad(this,e,t)},e.prototype.batchNormalization=function(e,t,n,r,i){return void 0===n&&(n=.001),$T("tf.batchNormalization() is going away. Use tf.batchNorm() instead, and note the positional argument change of scale, offset, and varianceEpsilon"),this.batchNorm(e,t,i,r,n)},e.prototype.batchNorm=function(e,t,n,r,i){return void 0===i&&(i=.001),this.throwIfDisposed(),ZT.batchNorm(this,e,t,n,r,i)},e.prototype.all=function(e,t){return void 0===e&&(e=null),void 0===t&&(t=!1),this.throwIfDisposed(),ZT.all(this,e,t)},e.prototype.any=function(e,t){return void 0===e&&(e=null),void 0===t&&(t=!1),this.throwIfDisposed(),ZT.any(this,e,t)},e.prototype.logSumExp=function(e,t){return void 0===e&&(e=null),void 0===t&&(t=!1),this.throwIfDisposed(),ZT.logSumExp(this,e,t)},e.prototype.sum=function(e,t){return void 0===e&&(e=null),void 0===t&&(t=!1),this.throwIfDisposed(),ZT.sum(this,e,t)},e.prototype.prod=function(e,t){return void 0===e&&(e=null),void 0===t&&(t=!1),this.throwIfDisposed(),ZT.prod(this,e,t)},e.prototype.mean=function(e,t){return void 0===e&&(e=null),void 0===t&&(t=!1),this.throwIfDisposed(),ZT.mean(this,e,t)},e.prototype.min=function(e,t){return void 0===e&&(e=null),void 0===t&&(t=!1),this.throwIfDisposed(),ZT.min(this,e,t)},e.prototype.max=function(e,t){return void 0===e&&(e=null),void 0===t&&(t=!1),this.throwIfDisposed(),ZT.max(this,e,t)},e.prototype.argMin=function(e){return void 0===e&&(e=null),this.throwIfDisposed(),ZT.argMin(this,e)},e.prototype.argMax=function(e){return void 0===e&&(e=null),this.throwIfDisposed(),ZT.argMax(this,e)},e.prototype.cast=function(e){return this.throwIfDisposed(),ZT.cast(this,e)},e.prototype.add=function(e){return this.throwIfDisposed(),ZT.add(this,e)},e.prototype.addStrict=function(e){return this.throwIfDisposed(),ZT.addStrict(this,e)},e.prototype.atan2=function(e){return this.throwIfDisposed(),ZT.atan2(this,e)},e.prototype.sub=function(e){return this.throwIfDisposed(),ZT.sub(this,e)},e.prototype.subStrict=function(e){return this.throwIfDisposed(),ZT.subStrict(this,e)},e.prototype.pow=function(e){return this.throwIfDisposed(),ZT.pow(this,e)},e.prototype.powStrict=function(e){return this.throwIfDisposed(),ZT.powStrict(this,e)},e.prototype.mul=function(e){return this.throwIfDisposed(),ZT.mul(this,e)},e.prototype.mulStrict=function(e){return this.throwIfDisposed(),ZT.mulStrict(this,e)},e.prototype.div=function(e){return this.throwIfDisposed(),ZT.div(this,e)},e.prototype.divNoNan=function(e){return this.throwIfDisposed(),ZT.divNoNan(this,e)},e.prototype.floorDiv=function(e){return this.throwIfDisposed(),ZT.floorDiv(this,e)},e.prototype.divStrict=function(e){return this.throwIfDisposed(),ZT.divStrict(this,e)},e.prototype.minimum=function(e){return this.throwIfDisposed(),ZT.minimum(this,e)},e.prototype.minimumStrict=function(e){return this.throwIfDisposed(),ZT.minimumStrict(this,e)},e.prototype.maximum=function(e){return this.throwIfDisposed(),ZT.maximum(this,e)},e.prototype.maximumStrict=function(e){return this.throwIfDisposed(),ZT.maximumStrict(this,e)},e.prototype.mod=function(e){return this.throwIfDisposed(),ZT.mod(this,e)},e.prototype.modStrict=function(e){return this.throwIfDisposed(),ZT.modStrict(this,e)},e.prototype.squaredDifferenceStrict=function(e){return this.throwIfDisposed(),ZT.squaredDifferenceStrict(this,e)},e.prototype.transpose=function(e){return this.throwIfDisposed(),ZT.transpose(this,e)},e.prototype.notEqual=function(e){return this.throwIfDisposed(),ZT.notEqual(this,e)},e.prototype.notEqualStrict=function(e){return this.throwIfDisposed(),ZT.notEqualStrict(this,e)},e.prototype.less=function(e){return this.throwIfDisposed(),ZT.less(this,e)},e.prototype.lessStrict=function(e){return this.throwIfDisposed(),ZT.lessStrict(this,e)},e.prototype.equal=function(e){return this.throwIfDisposed(),ZT.equal(this,e)},e.prototype.equalStrict=function(e){return this.throwIfDisposed(),ZT.equalStrict(this,e)},e.prototype.lessEqual=function(e){return this.throwIfDisposed(),ZT.lessEqual(this,e)},e.prototype.lessEqualStrict=function(e){return this.throwIfDisposed(),ZT.lessEqualStrict(this,e)},e.prototype.greater=function(e){return this.throwIfDisposed(),ZT.greater(this,e)},e.prototype.greaterStrict=function(e){return this.throwIfDisposed(),ZT.greaterStrict(this,e)},e.prototype.greaterEqual=function(e){return this.throwIfDisposed(),ZT.greaterEqual(this,e)},e.prototype.greaterEqualStrict=function(e){return this.throwIfDisposed(),ZT.greaterEqualStrict(this,e)},e.prototype.logicalAnd=function(e){return this.throwIfDisposed(),ZT.logicalAnd(this,e)},e.prototype.logicalOr=function(e){return this.throwIfDisposed(),ZT.logicalOr(this,e)},e.prototype.logicalNot=function(){return this.throwIfDisposed(),ZT.logicalNot(this)},e.prototype.logicalXor=function(e){return this.throwIfDisposed(),ZT.logicalXor(this,e)},e.prototype.where=function(e,t){return this.throwIfDisposed(),ZT.where(e,this,t)},e.prototype.neg=function(){return this.throwIfDisposed(),ZT.neg(this)},e.prototype.ceil=function(){return this.throwIfDisposed(),ZT.ceil(this)},e.prototype.floor=function(){return this.throwIfDisposed(),ZT.floor(this)},e.prototype.sign=function(){return this.throwIfDisposed(),ZT.sign(this)},e.prototype.isNaN=function(){return this.throwIfDisposed(),ZT.isNaN(this)},e.prototype.isInf=function(){return this.throwIfDisposed(),ZT.isInf(this)},e.prototype.isFinite=function(){return this.throwIfDisposed(),ZT.isFinite(this)},e.prototype.exp=function(){return this.throwIfDisposed(),ZT.exp(this)},e.prototype.expm1=function(){return this.throwIfDisposed(),ZT.expm1(this)},e.prototype.log=function(){return this.throwIfDisposed(),ZT.log(this)},e.prototype.log1p=function(){return this.throwIfDisposed(),ZT.log1p(this)},e.prototype.sqrt=function(){return this.throwIfDisposed(),ZT.sqrt(this)},e.prototype.rsqrt=function(){return this.throwIfDisposed(),ZT.rsqrt(this)},e.prototype.square=function(){return this.throwIfDisposed(),ZT.square(this)},e.prototype.reciprocal=function(){return this.throwIfDisposed(),ZT.reciprocal(this)},e.prototype.abs=function(){return this.throwIfDisposed(),ZT.abs(this)},e.prototype.clipByValue=function(e,t){return this.throwIfDisposed(),ZT.clipByValue(this,e,t)},e.prototype.relu=function(){return this.throwIfDisposed(),ZT.relu(this)},e.prototype.relu6=function(){return this.throwIfDisposed(),ZT.relu6(this)},e.prototype.elu=function(){return this.throwIfDisposed(),ZT.elu(this)},e.prototype.selu=function(){return this.throwIfDisposed(),ZT.selu(this)},e.prototype.leakyRelu=function(e){return void 0===e&&(e=.2),this.throwIfDisposed(),ZT.leakyRelu(this,e)},e.prototype.prelu=function(e){return this.throwIfDisposed(),ZT.prelu(this,e)},e.prototype.sigmoid=function(){return this.throwIfDisposed(),ZT.sigmoid(this)},e.prototype.logSigmoid=function(){return this.throwIfDisposed(),ZT.logSigmoid(this)},e.prototype.softplus=function(){return this.throwIfDisposed(),ZT.softplus(this)},e.prototype.zerosLike=function(){return this.throwIfDisposed(),ZT.zerosLike(this)},e.prototype.onesLike=function(){return this.throwIfDisposed(),ZT.onesLike(this)},e.prototype.sin=function(){return this.throwIfDisposed(),ZT.sin(this)},e.prototype.cos=function(){return this.throwIfDisposed(),ZT.cos(this)},e.prototype.tan=function(){return this.throwIfDisposed(),ZT.tan(this)},e.prototype.asin=function(){return this.throwIfDisposed(),ZT.asin(this)},e.prototype.acos=function(){return this.throwIfDisposed(),ZT.acos(this)},e.prototype.atan=function(){return this.throwIfDisposed(),ZT.atan(this)},e.prototype.sinh=function(){return this.throwIfDisposed(),ZT.sinh(this)},e.prototype.cosh=function(){return this.throwIfDisposed(),ZT.cosh(this)},e.prototype.tanh=function(){return this.throwIfDisposed(),ZT.tanh(this)},e.prototype.asinh=function(){return this.throwIfDisposed(),ZT.asinh(this)},e.prototype.acosh=function(){return this.throwIfDisposed(),ZT.acosh(this)},e.prototype.atanh=function(){return this.throwIfDisposed(),ZT.atanh(this)},e.prototype.erf=function(){return this.throwIfDisposed(),ZT.erf(this)},e.prototype.round=function(){return this.throwIfDisposed(),ZT.round(this)},e.prototype.step=function(e){return void 0===e&&(e=0),this.throwIfDisposed(),ZT.step(this,e)},e.prototype.softmax=function(e){return void 0===e&&(e=-1),this.throwIfDisposed(),ZT.softmax(this,e)},e.prototype.logSoftmax=function(e){return void 0===e&&(e=-1),this.throwIfDisposed(),ZT.logSoftmax(this,e)},e.prototype.resizeBilinear=function(e,t){return void 0===t&&(t=!1),this.throwIfDisposed(),ZT.image.resizeBilinear(this,e,t)},e.prototype.resizeNearestNeighbor=function(e,t){return void 0===t&&(t=!1),this.throwIfDisposed(),ZT.image.resizeNearestNeighbor(this,e,t)},e.prototype.conv1d=function(e,t,n,r,i,a){return void 0===r&&(r="NWC"),void 0===i&&(i=1),this.throwIfDisposed(),ZT.conv1d(this,e,t,n,r,i,a)},e.prototype.conv2d=function(e,t,n,r,i,a){return void 0===r&&(r="NHWC"),void 0===i&&(i=[1,1]),this.throwIfDisposed(),ZT.conv2d(this,e,t,n,r,i,a)},e.prototype.conv2dTranspose=function(e,t,n,r,i){return this.throwIfDisposed(),ZT.conv2dTranspose(this,e,t,n,r,i)},e.prototype.depthwiseConv2D=function(e,t,n,r,i,a){return void 0===r&&(r="NHWC"),void 0===i&&(i=[1,1]),this.throwIfDisposed(),ZT.depthwiseConv2d(this,e,t,n,r,i,a)},e.prototype.separableConv2d=function(e,t,n,r,i,a){return void 0===i&&(i=[1,1]),void 0===a&&(a="NHWC"),this.throwIfDisposed(),ZT.separableConv2d(this,e,t,n,r,i,a)},e.prototype.avgPool=function(e,t,n,r){return this.throwIfDisposed(),ZT.avgPool(this,e,t,n,r)},e.prototype.maxPool=function(e,t,n,r){return this.throwIfDisposed(),ZT.maxPool(this,e,t,n,r)},e.prototype.localResponseNormalization=function(e,t,n,r){return void 0===e&&(e=5),void 0===t&&(t=1),void 0===n&&(n=1),void 0===r&&(r=.5),ZT.localResponseNormalization(this,e,t,n,r)},e.prototype.pool=function(e,t,n,r,i){return this.throwIfDisposed(),ZT.pool(this,e,t,n,r,i)},e.prototype.variable=function(e,t,n){return void 0===e&&(e=!0),this.throwIfDisposed(),JT().makeVariable(this,e,t,n)},e.prototype.unsortedSegmentSum=function(e,t){return this.throwIfDisposed(),ZT.unsortedSegmentSum(this,e,t)},e.prototype.batchToSpaceND=function(e,t){return this.throwIfDisposed(),ZT.batchToSpaceND(this,e,t)},e.prototype.spaceToBatchND=function(e,t){return this.throwIfDisposed(),ZT.spaceToBatchND(this,e,t)},e.prototype.topk=function(e,t){return void 0===e&&(e=1),void 0===t&&(t=!0),this.throwIfDisposed(),ZT.topk(this,e,t)},e.prototype.stridedSlice=function(e,t,n,r,i,a,o,s){return void 0===r&&(r=0),void 0===i&&(i=0),void 0===a&&(a=0),void 0===o&&(o=0),void 0===s&&(s=0),this.throwIfDisposed(),ZT.stridedSlice(this,e,t,n,r,i,a,o,s)},e.prototype.depthToSpace=function(e,t){return this.throwIfDisposed(),ZT.depthToSpace(this,e,t)},e.prototype.fft=function(){return this.throwIfDisposed(),ZT.spectral.fft(this)},e.prototype.ifft=function(){return this.throwIfDisposed(),ZT.spectral.ifft(this)},e.prototype.rfft=function(){return this.throwIfDisposed(),ZT.spectral.rfft(this)},e.prototype.irfft=function(){return this.throwIfDisposed(),ZT.spectral.irfft(this)},e}();Object.defineProperty(eM,Symbol.hasInstance,{value:function(e){return!!e&&null!=e.dataId&&null!=e.shape&&null!=e.dtype}});var tM,nM,rM,iM,aM,oM=function(e){function t(t,n,r,i){var a=e.call(this,t.shape,t.dtype,t.dataId,i)||this;return a.trainable=n,a.name=r,a}return zD(t,e),t.prototype.assign=function(e){if(e.dtype!==this.dtype)throw new Error("dtype of the new value ("+e.dtype+") and previous value ("+this.dtype+") must match");if(!AT(e.shape,this.shape))throw new Error("shape of the new value ("+e.shape+") and previous value ("+this.shape+") must match");JT().disposeTensor(this),this.dataId=e.dataId,JT().incRef(this,null)},t.prototype.dispose=function(){JT().disposeVariable(this),this.isDisposedInternal=!0},t}(eM);Object.defineProperty(oM,Symbol.hasInstance,{value:function(e){return e instanceof eM&&null!=e.assign&&e.assign instanceof Function}}),function(e){e.R0="R0",e.R1="R1",e.R2="R2",e.R3="R3",e.R4="R4",e.R5="R5",e.R6="R6"}(tM||(tM={})),function(e){e.float32="float32",e.int32="int32",e.bool="int32",e.complex64="complex64"}(nM||(nM={})),function(e){e.float32="float32",e.int32="int32",e.bool="bool",e.complex64="complex64"}(rM||(rM={})),function(e){e.float32="float32",e.int32="float32",e.bool="float32",e.complex64="complex64"}(iM||(iM={})),function(e){e.float32="complex64",e.int32="complex64",e.bool="complex64",e.complex64="complex64"}(aM||(aM={}));var sM={float32:iM,int32:nM,bool:rM,complex64:aM};function lM(e,t){if("string"===e||"string"===t){if("string"===e&&"string"===t)return"string";throw new Error("Can not upcast "+e+" with "+t)}return sM[e][t]}function cM(e){return lM(e,"int32")}function uM(e,t){if(e.dtype===t.dtype)return[e,t];var n=lM(e.dtype,t.dtype);return[e.cast(n),t.cast(n)]}function AM(e,t){oT(e.dtype===t.dtype,function(){return"The dtypes of the first("+e.dtype+") and second("+t.dtype+") input must match"})}function dM(e){var t=[];return function e(t,n,r){if(null!=t)if(t instanceof eM)n.push(t);else if(i=t,Array.isArray(i)||"object"==typeof i){var i,a=t;for(var o in a){var s=a[o];r.has(s)||(r.add(s),e(s,n,r))}}}(e,t,new Set),t}Object.freeze({makeTypesMatch:uM,assertTypesMatch:AM,isTensorInList:function(e,t){return t.some(function(t){return t.id===e.id})},getTensorsInContainer:dM});var hM,fM=function(){function e(){this.registeredVariables={},this.nextTapeNodeId=0,this.numBytes=0,this.numTensors=0,this.numStringTensors=0,this.numDataBuffers=0,this.gradientDepth=0,this.kernelDepth=0,this.scopeStack=[],this.numDataMovesStack=[],this.nextScopeId=0,this.tensorInfo=new WeakMap,this.profiling=!1,this.activeProfile={newBytes:0,newTensors:0,peakBytes:0,kernels:[],result:null}}return e.prototype.dispose=function(){for(var e in this.registeredVariables)this.registeredVariables[e].dispose()},e}(),pM=function(){function e(e){this.ENV=e,this.registry={},this.registryFactory={},this.pendingBackendInitId=0,this.state=new fM}return e.prototype.ready=function(){return KD(this,void 0,void 0,function(){var e,t,n;return WD(this,function(r){switch(r.label){case 0:if(null!=this.pendingBackendInit)return[2,this.pendingBackendInit.then(function(){})];if(null!=this.backendInstance)return[2];e=this.getSortedBackends(),t=0,r.label=1;case 1:return t<e.length?(n=e[t],[4,this.initializeBackend(n).success]):[3,5];case 2:return r.sent()?[4,this.setBackend(n)]:[3,4];case 3:return r.sent(),[2];case 4:return t++,[3,1];case 5:throw new Error("Could not initialize any backends, all backend initializations failed.")}})})},Object.defineProperty(e.prototype,"backend",{get:function(){if(null!=this.pendingBackendInit)throw new Error("Backend '"+this.backendName+"' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods");if(null==this.backendInstance){var e=this.initializeBackendsAndReturnBest(),t=e.name;if(e.asyncInit)throw new Error("The highest priority backend '"+t+"' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods");this.setBackend(t)}return this.backendInstance},enumerable:!0,configurable:!0}),e.prototype.backendNames=function(){return Object.keys(this.registryFactory)},e.prototype.findBackend=function(e){if(!(e in this.registry)){if(!(e in this.registryFactory))return null;if(this.initializeBackend(e).asyncInit)return null}return this.registry[e]},e.prototype.findBackendFactory=function(e){return e in this.registryFactory?this.registryFactory[e].factory:null},e.prototype.registerBackend=function(e,t,n){return void 0===n&&(n=1),e in this.registryFactory?(console.warn(e+" backend was already registered. Reusing existing backend factory."),!1):(this.registryFactory[e]={factory:t,priority:n},!0)},e.prototype.setBackend=function(e){return KD(this,void 0,void 0,function(){var t,n,r;return WD(this,function(i){switch(i.label){case 0:if(null==this.registryFactory[e])throw new Error("Backend name '"+e+"' not found in registry");return this.backendName=e,null!=this.registry[e]?[3,4]:(this.backendInstance=null,t=this.initializeBackend(e),n=t.success,t.asyncInit?[4,n]:[3,2]);case 1:return r=i.sent(),[3,3];case 2:r=n,i.label=3;case 3:if(!r)return[2,!1];i.label=4;case 4:return this.backendInstance=this.registry[e],this.setupRegisteredKernels(),this.profiler=new WT(this.backendInstance),[2,!0]}})})},e.prototype.setupRegisteredKernels=function(){var e=this;ZD(this.backendName).forEach(function(t){null!=t.setupFunc&&t.setupFunc(e.backendInstance)})},e.prototype.disposeRegisteredKernels=function(e){var t=this;ZD(e).forEach(function(n){null!=n.disposeFunc&&n.disposeFunc(t.registry[e])})},e.prototype.initializeBackend=function(e){var t=this,n=this.registryFactory[e];if(null==n)throw new Error("Cannot initialize backend "+e+", no registration found.");try{var r=n.factory();if(Promise.resolve(r)===r){var i=++this.pendingBackendInitId,a=r.then(function(n){return!(i<t.pendingBackendInitId)&&(t.registry[e]=n,t.pendingBackendInit=null,!0)}).catch(function(n){return!(i<t.pendingBackendInitId)&&(t.pendingBackendInit=null,console.warn("Initialization of backend "+e+" failed"),console.warn(n.stack||n.message),!1)});return this.pendingBackendInit=a,{success:a,asyncInit:!0}}return this.registry[e]=r,{success:!0,asyncInit:!1}}catch(t){return console.warn("Initialization of backend "+e+" failed"),console.warn(t.stack||t.message),{success:!1,asyncInit:!1}}},e.prototype.removeBackend=function(e){if(!(e in this.registryFactory))throw new Error(e+" backend not found in registry");this.backendName===e&&null!=this.pendingBackendInit&&this.pendingBackendInitId++,e in this.registry&&(this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e]),delete this.registryFactory[e],this.backendName===e&&(this.pendingBackendInit=null,this.backendName=null,this.backendInstance=null)},e.prototype.getSortedBackends=function(){var e=this;if(0===Object.keys(this.registryFactory).length)throw new Error("No backend found in registry.");return Object.keys(this.registryFactory).sort(function(t,n){return e.registryFactory[n].priority-e.registryFactory[t].priority})},e.prototype.initializeBackendsAndReturnBest=function(){for(var e=this.getSortedBackends(),t=0;t<e.length;t++){var n=e[t],r=this.initializeBackend(n),i=r.success,a=r.asyncInit;if(a||i)return{name:n,asyncInit:a}}throw new Error("Could not initialize any backends, all backend initializations failed.")},e.prototype.moveData=function(e,t){var n=this.state.tensorInfo.get(t),r=n.backend,i=this.readSync(t);r.disposeData(t),n.backend=e,e.move(t,i,n.shape,n.dtype),this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack[this.state.numDataMovesStack.length-1]++},e.prototype.tidy=function(e,t){var n,r=this,i=null;if(null==t){if("function"!=typeof e)throw new Error("Please provide a function to tidy()");t=e}else{if("string"!=typeof e&&!(e instanceof String))throw new Error("When calling with two arguments, the first argument to tidy() must be a string");if("function"!=typeof t)throw new Error("When calling with two arguments, the 2nd argument to tidy() must be a function");i=e}return this.scopedRun(function(){return r.startScope(i)},function(){return r.endScope(n)},function(){return(n=t())instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),n})},e.prototype.scopedRun=function(e,t,n){e();try{var r=n();return t(),r}catch(e){throw t(),e}},e.prototype.nextTensorId=function(){return e.nextTensorId++},e.prototype.nextVariableId=function(){return e.nextVariableId++},e.prototype.clone=function(e){var t=this.makeTensorFromDataId(e.dataId,e.shape,e.dtype),n={x:e};return this.addTapeNode(this.state.activeScope.name,n,[t],function(e){return{x:function(){return e.toFloat()}}},[]),t},e.prototype.runKernel=function(e,t,n,r,i){return this.runKernelFunc(null,t,null,e,n,r,i)},e.prototype.shouldCheckForMemLeaks=function(){return this.ENV.getBool("IS_TEST")},e.prototype.checkKernelForMemLeak=function(e,t,n){var r=this.backend.numDataIds(),i=0;n.forEach(function(e){i+="complex64"===e.dtype?3:1});var a=this.state.numDataMovesStack[this.state.numDataMovesStack.length-1],o=r-t-i-a;if(o>0)throw new Error("Backend '"+this.backendName+"' has an internal memory leak ("+o+" data ids) after running '"+e+"'")},e.prototype.runKernelFunc=function(e,t,n,r,i,a,o){var s,l=this;void 0===a&&(a=[]),void 0===o&&(o=[]);var c=[],u=this.isTapeOn();null==r&&(r=null!=this.state.activeScope?this.state.activeScope.name:"");var A,d=function(e){u&&(c=e.map(function(e){return l.keep(l.clone(e))}))},h=this.state.numBytes,f=this.state.numTensors;this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack.push(0);var p,g=JD(r,this.backendName);return A=null!=g?function(){var e=l.backend.numDataIds();p=g.kernelFunc({inputs:t,attrs:i,backend:l.backend});var n=Array.isArray(p)?p:[p];l.shouldCheckForMemLeaks()&&l.checkKernelForMemLeak(r,e,n);var s=n.map(function(e){var t=e.dataId,n=e.shape,r=e.dtype;return l.makeTensorFromDataId(t,n,r)}),c=s.filter(function(e,t){return o[t]});return d((a||[]).slice().concat(c)),s}:function(){var t=l.backend.numDataIds();p=l.tidy(function(){return e(l.backend,d)});var n=Array.isArray(p)?p:[p];return l.shouldCheckForMemLeaks()&&l.checkKernelForMemLeak(r,t,n),n},this.scopedRun(function(){return l.state.kernelDepth++},function(){return l.state.kernelDepth--},function(){s=l.ENV.getBool("DEBUG")?l.profiler.profileKernel(r,t,function(){return A()}):A()}),u&&this.addTapeNode(r,t,s,n,c),this.state.profiling&&this.state.activeProfile.kernels.push({name:r,bytesAdded:this.state.numBytes-h,totalBytesSnapshot:this.state.numBytes,tensorsAdded:this.state.numTensors-f,totalTensorsSnapshot:this.state.numTensors,inputShapes:Object.keys(t).map(function(e){return t[e].shape}),outputShapes:s.map(function(e){return e.shape})}),Array.isArray(p)?s:s[0]},e.prototype.makeTensor=function(e,t,n,r){if(null==e)throw new Error("Values passed to engine.makeTensor() are null");n=n||"float32",r=r||this.backend;var i=e;"string"===n&&ET(e[0])&&(i=e.map(function(e){return RT(e)}));var a=r.write(i,t,n),o=new eM(t,n,a,this.nextTensorId());if(this.incRef(o,r),"string"===n){var s=this.state.tensorInfo.get(a),l=_T(i);this.state.numBytes+=l-s.bytes,s.bytes=l}return o},e.prototype.makeTensorFromDataId=function(e,t,n,r){var i=new eM(t,n=n||"float32",e,this.nextTensorId());return this.incRef(i,r),i},e.prototype.makeVariable=function(e,t,n,r){void 0===t&&(t=!0),n=n||this.nextVariableId().toString(),null!=r&&r!==e.dtype&&(e=e.asType(r));var i=new oM(e,t,n,this.nextTensorId());if(null!=this.state.registeredVariables[i.name])throw new Error("Variable with name "+i.name+" was already registered");return this.state.registeredVariables[i.name]=i,this.incRef(i,this.backend),i},e.prototype.incRef=function(e,t){var n=this.state.tensorInfo.has(e.dataId)?this.state.tensorInfo.get(e.dataId).refCount:0;if(this.state.numTensors++,"string"===e.dtype&&this.state.numStringTensors++,0===n){this.state.numDataBuffers++;var r=0;"complex64"!==e.dtype&&"string"!==e.dtype&&(r=e.size*kT(e.dtype)),this.state.tensorInfo.set(e.dataId,{backend:t||this.backend,dtype:e.dtype,shape:e.shape,bytes:r,refCount:0}),this.state.numBytes+=r}this.state.tensorInfo.get(e.dataId).refCount++,e instanceof oM||this.track(e)},e.prototype.disposeTensor=function(e){if(this.state.tensorInfo.has(e.dataId)){this.state.numTensors--,"string"===e.dtype&&this.state.numStringTensors--;var t=this.state.tensorInfo.get(e.dataId);t.refCount<=1?("complex64"!==e.dtype&&(this.state.numBytes-=t.bytes),this.state.numDataBuffers--,t.backend.disposeData(e.dataId),this.state.tensorInfo.delete(e.dataId)):this.state.tensorInfo.get(e.dataId).refCount--}},e.prototype.disposeVariables=function(){for(var e in this.state.registeredVariables){var t=this.state.registeredVariables[e];this.disposeVariable(t)}},e.prototype.disposeVariable=function(e){this.disposeTensor(e),null!=this.state.registeredVariables[e.name]&&delete this.state.registeredVariables[e.name]},e.prototype.memory=function(){var e=this.backend.memory();return e.numTensors=this.state.numTensors,e.numDataBuffers=this.state.numDataBuffers,e.numBytes=this.state.numBytes,this.state.numStringTensors>0&&(e.unreliable=!0,null==e.reasons&&(e.reasons=[]),e.reasons.push("Memory usage by string tensors is approximate (2 bytes per character)")),e},e.prototype.profile=function(e){return KD(this,void 0,void 0,function(){var t,n;return WD(this,function(r){return this.state.profiling=!0,t=this.state.numBytes,n=this.state.numTensors,this.state.activeProfile.kernels=[],this.state.activeProfile.result=e(),this.state.profiling=!1,this.state.activeProfile.peakBytes=Math.max.apply(Math,this.state.activeProfile.kernels.map(function(e){return e.totalBytesSnapshot})),this.state.activeProfile.newBytes=this.state.numBytes-t,this.state.activeProfile.newTensors=this.state.numTensors-n,[2,this.state.activeProfile]})})},e.prototype.isTapeOn=function(){return this.state.gradientDepth>0&&0===this.state.kernelDepth},e.prototype.addTapeNode=function(e,t,n,r,i){var a=this,o={id:this.state.nextTapeNodeId++,kernelName:e,inputs:t,outputs:n,saved:i},s=function(e){return YD.get(e)}(e);null!=s&&(r=s.gradFunc),null!=r&&(o.gradient=function(e){return e=e.map(function(e,t){if(null==e){var r=n[t],i=TT(r.size,r.dtype);return a.makeTensor(i,r.shape,r.dtype)}return e}),r(e.length>1?e:e[0],i)}),this.state.activeTape.push(o)},e.prototype.keep=function(e){return e.kept=!0,e},e.prototype.startTape=function(){0===this.state.gradientDepth&&(this.state.activeTape=[]),this.state.gradientDepth++},e.prototype.endTape=function(){this.state.gradientDepth--},e.prototype.startScope=function(e){var t={track:[],name:"unnamed scope",id:this.state.nextScopeId++};e&&(t.name=e),this.state.scopeStack.push(t),this.state.activeScope=t},e.prototype.endScope=function(e){for(var t=this,n=dM(e),r=new Set(n.map(function(e){return e.id})),i=0;i<this.state.activeScope.track.length;i++){var a=this.state.activeScope.track[i];a.kept||r.has(a.id)||a.dispose()}var o=this.state.scopeStack.pop();this.state.activeScope=0===this.state.scopeStack.length?null:this.state.scopeStack[this.state.scopeStack.length-1],n.forEach(function(e){e.kept||e.scopeId!==o.id||t.track(e)})},e.prototype.gradients=function(e,t,n,r){var i=this;if(void 0===r&&(r=!1),oT(t.length>0,function(){return"gradients() received an empty list of xs."}),null!=n&&"float32"!==n.dtype)throw new Error("dy must have 'float32' dtype, but has '"+n.dtype+"'");var a=this.scopedRun(function(){return i.startTape()},function(){return i.endTape()},function(){return i.tidy("forward",e)});oT(a instanceof eM,function(){return"The result y returned by f() must be a tensor."});var o=function(e,t,n){for(var r={},i={},a=0;a<t.length;a++)r[t[a].id]=!0;for(a=0;a<e.length;a++){var o=(f=e[a]).inputs;for(var s in o){for(var l=o[s],c=!1,u=0;u<t.length;u++)if(r[l.id]){f.outputs.forEach(function(e){return r[e.id]=!0}),c=!0,i[f.id]=!0;break}if(c)break}}var A={};A[n.id]=!0;var d={};for(a=e.length-1;a>=0;a--)for(o=(f=e[a]).inputs,u=0;u<f.outputs.length;u++)if(A[f.outputs[u].id]){for(var s in o)A[o[s].id]=!0,d[f.id]=!0;break}var h=[];for(a=0;a<e.length;a++){var f;if(i[(f=e[a]).id]&&d[f.id]){var p={};for(var s in f.inputs){var g=f.inputs[s];r[g.id]&&(p[s]=g)}var m=Object.assign({},f);m.inputs=p,m.outputs=f.outputs,h.push(m)}}return h}(this.state.activeTape,t,a);if(!r&&0===o.length&&t.length>0)throw new Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that the f you passed encloses all operations that lead from x to y.");return this.tidy("backward",function(){var e,r,s={};s[a.id]=null==n?(r=DT(uT(e=a.shape),"float32"),gM.makeTensor(r,e,"float32")):n,function(e,t,n){for(var r=function(r){var i=t[r],a=[];if(i.outputs.forEach(function(t){var n=e[t.id];null!=n?a.push(n):a.push(null)}),null==i.gradient)throw new Error("Cannot compute gradient: gradient function not found for "+i.kernelName+".");var o=i.gradient(a),s=function(t){if(!(t in o))throw new Error("Cannot backprop through input "+t+". Available gradients found: "+Object.keys(o)+".");var r=n(function(){return o[t]()});if("float32"!==r.dtype)throw new Error("Error in gradient for op "+i.kernelName+". The gradient of input "+t+" must have 'float32' dtype, but has '"+r.dtype+"'");var a=i.inputs[t];if(!AT(r.shape,a.shape))throw new Error("Error in gradient for op "+i.kernelName+". The gradient of input '"+t+"' has shape '"+r.shape+"', which does not match the shape of the input '"+a.shape+"'");if(null==e[a.id])e[a.id]=r;else{var s=e[a.id];e[a.id]=s.add(r),s.dispose()}};for(var l in i.inputs)s(l)},i=t.length-1;i>=0;i--)r(i)}(s,o,function(e){return i.tidy(e)});var l=t.map(function(e){return s[e.id]});return 0===i.state.gradientDepth&&(i.state.activeTape.forEach(function(e){for(var t=0,n=e.saved;t<n.length;t++)n[t].dispose()}),i.state.activeTape=null),{value:a,grads:l}})},e.prototype.customGrad=function(e){var t=this;return oT(jT(e),function(){return"The f passed in customGrad(f) must be a function."}),function(){for(var n,r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];oT(r.every(function(e){return e instanceof eM}),function(){return"The args passed in customGrad(f)(x1, x2,...) must all be tensors"});var a={};return r.forEach(function(e,t){a[t]=e}),t.runKernelFunc(function(t,i){return oT((n=e.apply(void 0,r.concat([i]))).value instanceof eM,function(){return"The function f passed in customGrad(f) must return an object where `obj.value` is a tensor"}),oT(jT(n.gradFunc),function(){return"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function."}),n.value},a,function(e,t){var i=n.gradFunc(e,t),a=Array.isArray(i)?i:[i];oT(a.length===r.length,function(){return"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns the same number of tensors as inputs passed to f(...)."}),oT(a.every(function(e){return e instanceof eM}),function(){return"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns a list of only tensors."});var o={};return a.forEach(function(e,t){o[t]=function(){return e}}),o})}},e.prototype.readSync=function(e){return this.state.tensorInfo.get(e).backend.readSync(e)},e.prototype.read=function(e){return this.state.tensorInfo.get(e).backend.read(e)},e.prototype.time=function(e){return KD(this,void 0,void 0,function(){var t,n;return WD(this,function(r){switch(r.label){case 0:return t=MT(),[4,this.backend.time(e)];case 1:return(n=r.sent()).wallMs=MT()-t,[2,n]}})})},e.prototype.track=function(e){return null!=this.state.activeScope&&(e.scopeId=this.state.activeScope.id,this.state.activeScope.track.push(e)),e},Object.defineProperty(e.prototype,"registeredVariables",{get:function(){return this.state.registeredVariables},enumerable:!0,configurable:!0}),e.prototype.reset=function(){for(var e in this.pendingBackendInitId++,this.state.dispose(),this.ENV.reset(),this.state=new fM,this.registry)this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e];this.backendName=null,this.backendInstance=null,this.pendingBackendInit=null},e.nextTensorId=0,e.nextVariableId=0,e}(),gM=function(){var e=function(){if(null==hM){var e=void 0;if("undefined"!=typeof window)e=window;else if("undefined"!=typeof n.g)e=n.g;else if("undefined"!=typeof process)e=process;else{if("undefined"==typeof self)throw new Error("Could not find a global object");e=self}hM=e}return hM}();if(null==e._tfengine){var t=new VD(e);e._tfengine=new pM(t)}return function(e){qD=e}(e._tfengine.ENV),JT=function(){return e._tfengine},e._tfengine}();function mM(){return"undefined"!=typeof window&&null!=window.document||"undefined"!=typeof WorkerGlobalScope}var vM=GD();vM.registerFlag("DEBUG",function(){return!1},function(e){e&&console.warn("Debugging mode is ON. The output of every math call will be downloaded to CPU and checked for NaNs. This significantly impacts performance.")}),vM.registerFlag("IS_BROWSER",function(){return mM()}),vM.registerFlag("IS_NODE",function(){return"undefined"!=typeof process&&void 0!==process.versions&&void 0!==process.versions.node}),vM.registerFlag("IS_CHROME",function(){return"undefined"!=typeof navigator&&null!=navigator&&null!=navigator.userAgent&&/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)}),vM.registerFlag("PROD",function(){return!1}),vM.registerFlag("TENSORLIKE_CHECK_SHAPE_CONSISTENCY",function(){return vM.getBool("DEBUG")}),vM.registerFlag("DEPRECATION_WARNINGS_ENABLED",function(){return!0}),vM.registerFlag("IS_TEST",function(){return!1});var yM,bM,wM,xM={},BM={alpha:!1,antialias:!1,premultipliedAlpha:!1,preserveDrawingBuffer:!1,depth:!1,stencil:!1,failIfMajorPerformanceCaveat:!0};function CM(e,t){xM[e]=t}function NM(e){e in xM||(xM[e]=function(e){if(1!==e&&2!==e)throw new Error("Cannot get WebGL rendering context, WebGL is disabled.");var t=function(e){if("undefined"!=typeof OffscreenCanvas&&2===e)return new OffscreenCanvas(300,150);if("undefined"!=typeof document)return document.createElement("canvas");throw new Error("Cannot create a canvas in this context")}(e);return t.addEventListener("webglcontextlost",function(t){t.preventDefault(),delete xM[e]},!1),1===e?t.getContext("webgl",BM)||t.getContext("experimental-webgl",BM):t.getContext("webgl2",BM)}(e));var t=xM[e];return t.isContextLost()?(delete xM[e],NM(e)):(t.disable(t.DEPTH_TEST),t.disable(t.STENCIL_TEST),t.disable(t.BLEND),t.disable(t.DITHER),t.disable(t.POLYGON_OFFSET_FILL),t.disable(t.SAMPLE_COVERAGE),t.enable(t.SCISSOR_TEST),t.enable(t.CULL_FACE),t.cullFace(t.BACK),xM[e])}function kM(e,t){return[t,e]}function _M(e){var t=uT(e);return fT(Math.ceil(t/4))}function EM(e,t){return[Math.max(1,Math.ceil(t/2)),Math.max(1,Math.ceil(e/2))]}function SM(e,t){var n,r,i,a,o,s,l,c,u,A=e;return 2===GD().getNumber("WEBGL_VERSION")?(n=A.R32F,r=A.R16F,i=A.RGBA16F,a=A.RGBA32F,o=A.RED,s=4,l=1,c=A.HALF_FLOAT,u=A.FLOAT):(n=e.RGBA,r=e.RGBA,i=e.RGBA,a=A.RGBA,o=e.RGBA,s=4,l=4,c=null!=t?t.HALF_FLOAT_OES:null,u=e.FLOAT),{internalFormatFloat:n,internalFormatHalfFloat:r,internalFormatPackedHalfFloat:i,internalFormatPackedFloat:a,textureFormatFloat:o,downloadTextureFormat:e.RGBA,downloadUnpackNumChannels:s,defaultNumChannels:l,textureTypeHalfFloat:c,textureTypeFloat:u}}function FM(e,t,n){var r=n();return t&&function(e){var t=e.getError();if(t!==e.NO_ERROR)throw new Error("WebGL Error: "+jM(e,t))}(e),r}!function(e){e[e.DENSE=0]="DENSE",e[e.SHARED_BATCH=1]="SHARED_BATCH"}(yM||(yM={})),function(e){e[e.RENDER=0]="RENDER",e[e.UPLOAD=1]="UPLOAD",e[e.PIXELS=2]="PIXELS",e[e.DOWNLOAD=3]="DOWNLOAD"}(bM||(bM={})),function(e){e[e.UNPACKED_FLOAT16=0]="UNPACKED_FLOAT16",e[e.UNPACKED_FLOAT32=1]="UNPACKED_FLOAT32",e[e.PACKED_4X1_UNSIGNED_BYTE=2]="PACKED_4X1_UNSIGNED_BYTE",e[e.PACKED_2X2_FLOAT32=3]="PACKED_2X2_FLOAT32",e[e.PACKED_2X2_FLOAT16=4]="PACKED_2X2_FLOAT16"}(wM||(wM={}));function IM(e){return!!(GD().getBool("WEBGL_RENDER_FLOAT32_ENABLED")||0===e||5.96e-8<Math.abs(e)&&Math.abs(e)<65504)}function jM(e,t){switch(t){case e.NO_ERROR:return"NO_ERROR";case e.INVALID_ENUM:return"INVALID_ENUM";case e.INVALID_VALUE:return"INVALID_VALUE";case e.INVALID_OPERATION:return"INVALID_OPERATION";case e.INVALID_FRAMEBUFFER_OPERATION:return"INVALID_FRAMEBUFFER_OPERATION";case e.OUT_OF_MEMORY:return"OUT_OF_MEMORY";case e.CONTEXT_LOST_WEBGL:return"CONTEXT_LOST_WEBGL";default:return"Unknown error code "+t}}function UM(e,t,n){return nQ(e,t,function(){return e.getExtension(n)},'Extension "'+n+'" not supported on this browser.')}function OM(e,t,n){var r=nQ(e,t,function(){return e.createShader(e.VERTEX_SHADER)},"Unable to create vertex WebGLShader.");if(FM(e,t,function(){return e.shaderSource(r,n)}),FM(e,t,function(){return e.compileShader(r)}),!1===e.getShaderParameter(r,e.COMPILE_STATUS))throw console.log(e.getShaderInfoLog(r)),new Error("Failed to compile vertex shader.");return r}function PM(e,t,n){var r=nQ(e,t,function(){return e.createShader(e.FRAGMENT_SHADER)},"Unable to create fragment WebGLShader.");if(FM(e,t,function(){return e.shaderSource(r,n)}),FM(e,t,function(){return e.compileShader(r)}),!1===e.getShaderParameter(r,e.COMPILE_STATUS))throw function(e,t){var n=TM.exec(t);if(null==n)return console.log("Couldn't parse line number in error: "+t),void console.log(e);for(var r=+n[1],i=e.split("\n"),a=i.length.toString().length+2,o=i.map(function(e,t){return pT((t+1).toString(),a)+e}),s=0,l=0;l<o.length;l++)s=Math.max(o[l].length,s);var c=o.slice(0,r-1),u=o.slice(r-1,r),A=o.slice(r);console.log(c.join("\n")),console.log(t.split("\n")[0]),console.log("%c "+pT(u[0],s),"border:1px solid red; background-color:#e3d2d2; color:#a61717"),console.log(A.join("\n"))}(n,e.getShaderInfoLog(r)),new Error("Failed to compile fragment shader.");return r}var LM,DM,TM=/ERROR: [0-9]+:([0-9]+):/g;function MM(e,t){return nQ(e,t,function(){return e.createProgram()},"Unable to create WebGLProgram.")}function QM(e,t,n){if(FM(e,t,function(){return e.linkProgram(n)}),!1===e.getProgramParameter(n,e.LINK_STATUS))throw console.log(e.getProgramInfoLog(n)),new Error("Failed to link vertex and fragment shaders.")}function RM(e,t,n){if(FM(e,t,function(){return e.validateProgram(n)}),!1===e.getProgramParameter(n,e.VALIDATE_STATUS))throw console.log(e.getProgramInfoLog(n)),new Error("Shader program validation failed.")}function HM(e,t,n){var r=nQ(e,t,function(){return e.createBuffer()},"Unable to create WebGLBuffer");return FM(e,t,function(){return e.bindBuffer(e.ARRAY_BUFFER,r)}),FM(e,t,function(){return e.bufferData(e.ARRAY_BUFFER,n,e.STATIC_DRAW)}),r}function zM(e,t,n){var r=nQ(e,t,function(){return e.createBuffer()},"Unable to create WebGLBuffer");return FM(e,t,function(){return e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,r)}),FM(e,t,function(){return e.bufferData(e.ELEMENT_ARRAY_BUFFER,n,e.STATIC_DRAW)}),r}function KM(e,t){return nQ(e,t,function(){return e.createTexture()},"Unable to create WebGLTexture.")}function WM(e,t){var n=GD().getNumber("WEBGL_MAX_TEXTURE_SIZE");if(e<=0||t<=0){var r="["+e+"x"+t+"]";throw new Error("Requested texture size "+r+" is invalid.")}if(e>n||t>n)throw r="["+e+"x"+t+"]",new Error("Requested texture size "+r+" greater than WebGL maximum on this browser / GPU ["+n+"x"+n+"].")}function VM(e,t){return nQ(e,t,function(){return e.createFramebuffer()},"Unable to create WebGLFramebuffer.")}function GM(e,t,n,r,i,a,o,s){var l=e.getAttribLocation(n,r);return-1!==l&&(FM(e,t,function(){return e.bindBuffer(e.ARRAY_BUFFER,i)}),FM(e,t,function(){return e.vertexAttribPointer(l,a,e.FLOAT,!1,o,s)}),FM(e,t,function(){return e.enableVertexAttribArray(l)}),!0)}function qM(e,t,n,r){rQ(e,r),FM(e,t,function(){return e.activeTexture(e.TEXTURE0+r)}),FM(e,t,function(){return e.bindTexture(e.TEXTURE_2D,n)})}function XM(e,t,n,r){return nQ(e,t,function(){return e.getUniformLocation(n,r)},'uniform "'+r+'" not present in program.')}function YM(e,t,n){return e.getUniformLocation(t,n)}function JM(e,t,n,r,i,a){FM(e,t,function(){return qM(e,t,r,a)}),FM(e,t,function(){return e.uniform1i(i,a)})}function ZM(e,t,n,r){FM(e,t,function(){return e.bindFramebuffer(e.FRAMEBUFFER,r)}),FM(e,t,function(){return e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,n,0)})}function $M(e,t,n){FM(e,t,function(){return e.bindFramebuffer(e.FRAMEBUFFER,n)}),FM(e,t,function(){return e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,null,0)})}function eQ(e){var t=e.checkFramebufferStatus(e.FRAMEBUFFER);if(t!==e.FRAMEBUFFER_COMPLETE)throw new Error("Error binding framebuffer: "+tQ(e,t))}function tQ(e,t){switch(t){case e.FRAMEBUFFER_INCOMPLETE_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_ATTACHMENT";case e.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT";case e.FRAMEBUFFER_INCOMPLETE_DIMENSIONS:return"FRAMEBUFFER_INCOMPLETE_DIMENSIONS";case e.FRAMEBUFFER_UNSUPPORTED:return"FRAMEBUFFER_UNSUPPORTED";default:return"unknown error "+t}}function nQ(e,t,n,r){var i=FM(e,t,function(){return n()});if(null==i)throw new Error(r);return i}function rQ(e,t){var n=e.MAX_COMBINED_TEXTURE_IMAGE_UNITS-1,r=t+e.TEXTURE0;if(r<e.TEXTURE0||r>n)throw new Error("textureUnit must be in [gl.TEXTURE0, gl.TEXTURE"+n+"].")}function iQ(e,t){return void 0===t&&(t=2),uT(e.slice(0,e.length-t))}function aQ(e){if(0===e.length)throw Error("Cannot get rows and columns of an empty shape array.");return[e.length>1?e[e.length-2]:1,e[e.length-1]]}function oQ(e){var t=[1,1,1];return 0===e.length||1===e.length&&1===e[0]||(t=[iQ(e)].concat(aQ(e))),t}function sQ(e,t){var n;void 0===t&&(t=!1);var r=GD().getNumber("WEBGL_MAX_TEXTURE_SIZE");if(t&&(r*=2,1===(e=e.map(function(t,n){return n>=e.length-2?iT(e[n]):e[n]})).length&&(e=[2,e[0]])),2!==e.length){var i=yT(e);e=i.newShape}var a=uT(e);if(e.length<=1&&a<=r)return[1,a];if(2===e.length&&e[0]<=r&&e[1]<=r)return e;if(3===e.length&&e[0]*e[1]<=r&&e[2]<=r)return[e[0]*e[1],e[2]];if(3===e.length&&e[0]<=r&&e[1]*e[2]<=r)return[e[0],e[1]*e[2]];if(4===e.length&&e[0]*e[1]*e[2]<=r&&e[3]<=r)return[e[0]*e[1]*e[2],e[3]];if(4===e.length&&e[0]<=r&&e[1]*e[2]*e[3]<=r)return[e[0],e[1]*e[2]*e[3]];if(t){var o=iQ(e),s=2,l=2;return e.length&&(s=(n=aQ(e))[0],l=n[1]),fT(a=o*(s/2)*(l/2)).map(function(e){return 2*e})}return fT(a)}function lQ(e){return e%2==0}function cQ(e,t){if(AT(e=e.slice(-2),t=t.slice(-2)))return!0;if(!e.length||!t.length)return!0;if(0===e[0]||0===e[1]||0===t[0]||0===t[1])return!0;if(e.length!==t.length){var n=e.slice(-1)[0],r=t.slice(-1)[0];if(n===r)return!0;if(lQ(n)&&lQ(r)&&(1===e[0]||1===t[0]))return!0}return e[1]===t[1]&&lQ(e[0])&&lQ(t[0])}function uQ(e){if(null==LM){var t=NM(e);LM=t.getParameter(t.MAX_TEXTURE_SIZE)}return LM}function AQ(e){if(null==DM){var t=NM(e);DM=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS)}return Math.min(16,DM)}function dQ(e){if(0===e)return 0;var t=NM(e);return hQ(t,"EXT_disjoint_timer_query_webgl2")&&2===e?2:hQ(t,"EXT_disjoint_timer_query")?1:0}function hQ(e,t){return null!=e.getExtension(t)}function fQ(e){try{if(null!=NM(e))return!0}catch(e){return!1}return!1}function pQ(e){if(0===e)return!1;var t=NM(e);if(1===e){if(!hQ(t,"OES_texture_float"))return!1}else if(!hQ(t,"EXT_color_buffer_float"))return!1;return mQ(t)}function gQ(e){if(0===e)return!1;var t=NM(e);if(1!==e){if(hQ(t,"EXT_color_buffer_float"))return mQ(t);if(hQ(t,"EXT_color_buffer_half_float")){var n=t.getExtension("EXT_color_buffer_half_float");return function(e,t){var n=SM(e,t),r=e.createTexture();e.bindTexture(e.TEXTURE_2D,r),e.texImage2D(e.TEXTURE_2D,0,n.internalFormatHalfFloat,1,1,0,n.textureFormatFloat,n.textureTypeHalfFloat,null);var i=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,i),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,r,0);var a=e.checkFramebufferStatus(e.FRAMEBUFFER)===e.FRAMEBUFFER_COMPLETE;return e.bindTexture(e.TEXTURE_2D,null),e.bindFramebuffer(e.FRAMEBUFFER,null),e.deleteTexture(r),e.deleteFramebuffer(i),a}(t,n)}return!1}return!!hQ(t,"OES_texture_float")&&!!hQ(t,"WEBGL_color_buffer_float")&&mQ(t)}function mQ(e){var t=SM(e),n=e.createTexture();e.bindTexture(e.TEXTURE_2D,n),e.texImage2D(e.TEXTURE_2D,0,t.internalFormatFloat,1,1,0,t.textureFormatFloat,t.textureTypeFloat,null);var r=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,r),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,n,0);var i=e.checkFramebufferStatus(e.FRAMEBUFFER)===e.FRAMEBUFFER_COMPLETE;return e.bindTexture(e.TEXTURE_2D,null),e.bindFramebuffer(e.FRAMEBUFFER,null),e.deleteTexture(n),e.deleteFramebuffer(r),i}function vQ(e){return 2===e&&null!=NM(e).fenceSync}var yQ=Object.freeze({callAndCheck:FM,canBeRepresented:IM,getWebGLErrorMessage:jM,getExtensionOrThrow:UM,createVertexShader:OM,createFragmentShader:PM,createProgram:MM,linkProgram:QM,validateProgram:RM,createStaticVertexBuffer:HM,createStaticIndexBuffer:zM,getNumChannels:function(){return 2===GD().getNumber("WEBGL_VERSION")?1:4},createTexture:KM,validateTextureSize:WM,createFramebuffer:VM,bindVertexBufferToProgramAttribute:GM,bindTextureUnit:qM,unbindTextureUnit:function(e,t,n){rQ(e,n),FM(e,t,function(){return e.activeTexture(e.TEXTURE0+n)}),FM(e,t,function(){return e.bindTexture(e.TEXTURE_2D,null)})},getProgramUniformLocationOrThrow:XM,getProgramUniformLocation:YM,bindTextureToProgramUniformSampler:JM,bindCanvasToFramebuffer:function(e,t){FM(e,t,function(){return e.bindFramebuffer(e.FRAMEBUFFER,null)}),FM(e,t,function(){return e.viewport(0,0,e.canvas.width,e.canvas.height)}),FM(e,t,function(){return e.scissor(0,0,e.canvas.width,e.canvas.height)})},bindColorTextureToFramebuffer:ZM,unbindColorTextureFromFramebuffer:$M,validateFramebuffer:eQ,getFramebufferErrorMessage:tQ,getBatchDim:iQ,getRowsCols:aQ,getShapeAs3D:oQ,getTextureShapeFromLogicalShape:sQ,isReshapeFree:cQ,getWebGLMaxTextureSize:uQ,resetMaxTextureSize:function(){LM=null},resetMaxTexturesInShader:function(){DM=null},getMaxTexturesInShader:AQ,getWebGLDisjointQueryTimerVersion:dQ,hasExtension:hQ,isWebGLVersionEnabled:fQ,isCapableOfRenderingToFloatTexture:pQ,isDownloadFloatTextureEnabled:gQ,isWebGLFenceEnabled:vQ}),bQ=GD();function wQ(e){GD().getBool("DEPRECATION_WARNINGS_ENABLED")&&console.warn(e+" You can disable deprecation warnings with tf.disableDeprecationWarnings().")}function xQ(e,t){return gM.tidy(e,t)}function BQ(e){dM(e).forEach(function(e){return e.dispose()})}function CQ(e){return gM.setBackend(e)}function NQ(){return gM.ready()}function kQ(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];GD().getBool("IS_TEST")||console.warn.apply(console,e)}function _Q(e,t){var n=e;if(NT(e))return"string"===t?[]:[e.length];if(!Array.isArray(e))return[];for(var r=[];Array.isArray(n)||NT(n)&&"string"!==t;)r.push(n.length),n=n[0];return Array.isArray(e)&&GD().getBool("TENSORLIKE_CHECK_SHAPE_CONSISTENCY")&&function e(t,n,r){if(r=r||[],Array.isArray(t)||NT(t)){oT(n.length>0,function(){return"Element arr["+r.join("][")+"] should be a primitive, but is an array of "+t.length+" elements"}),oT(t.length===n[0],function(){return"Element arr["+r.join("][")+"] should have "+n[0]+" elements, but has "+t.length+" elements"});for(var i=n.slice(1),a=0;a<t.length;++a)e(t[a],i,r.concat(a))}else oT(0===n.length,function(){return"Element arr["+r.join("][")+"] is a primitive, but should be an array/TypedArray of "+n[0]+" elements"})}(e,r,[]),r}function EQ(e,t,n,r){if(null!=e&&("numeric"!==e&&e!==t||"numeric"===e&&"string"===t))throw new Error("Argument '"+n+"' passed to '"+r+"' must be "+e+" tensor, but got "+t+" tensor")}function SQ(e,t,n,r){if(void 0===r&&(r="numeric"),e instanceof eM)return EQ(r,e.dtype,t,n),e;var i=IT(e);if("string"!==i&&["bool","int32","float32"].indexOf(r)>=0&&(i=r),EQ(r,i,t,n),null==e||!NT(e)&&!Array.isArray(e)&&"number"!=typeof e&&"boolean"!=typeof e&&"string"!=typeof e){var a=null==e?"null":e.constructor.name;throw new Error("Argument '"+t+"' passed to '"+n+"' must be a Tensor or TensorLike, but got '"+a+"'")}var o=_Q(e,i);NT(e)||Array.isArray(e)||(e=[e]);var s="string"!==i?PT(e,i,GD().getBool("DEBUG")):cT(e,[],!0);return gM.makeTensor(s,o,i)}function FQ(e,t,n,r){if(void 0===r&&(r="numeric"),!Array.isArray(e))throw new Error("Argument "+t+" passed to "+n+" must be a `Tensor[]` or `TensorLike[]`");return e.map(function(e,r){return SQ(e,t+"["+r+"]",n)},r)}function IQ(e,t){for(var n=0;n<e.length;++n)if(e[e.length-n-1]!==t-1-n)return!1;return!0}function jQ(e,t,n){for(var r=e.length+t.length,i=[],a=0,o=0,s=0;s<r;s++)-1===n.indexOf(s)?i.push(e[a++]):i.push(t[o++]);return i}function UQ(e,t){for(var n=[],r=e.length,i=0;i<r;i++)-1===t.indexOf(i)&&n.push(e[i]);return[n,t.map(function(t){return e[t]})]}function OQ(e,t){return jQ(e,t.map(function(e){return 1}),t)}function PQ(e,t,n){oT(IQ(t,n),function(){return e+" supports only inner-most axes for now. Got axes "+t+" and rank-"+n+" input."})}function LQ(e,t){if(IQ(e,t))return null;for(var n=[],r=0;r<t;++r)-1===e.indexOf(r)&&n.push(r);return e.forEach(function(e){return n.push(e)}),n}function DQ(e){return e.map(function(e,t){return[t,e]}).sort(function(e,t){return e[1]-t[1]}).map(function(e){return e[0]})}function TQ(e,t){for(var n=[],r=t-e;r<t;++r)n.push(r);return n}function MQ(e,t){var n=e[0].length;e.forEach(function(e,t){oT(e.length===n,function(){return"Error in concat"+n+"D: rank of tensors["+t+"] must be the same as the rank of the rest ("+n+")"})}),oT(t>=0&&t<n,function(){return"Error in concat"+n+"D: axis must be between 0 and "+(n-1)+"."});var r=e[0];e.forEach(function(e,i){for(var a=0;a<n;a++)oT(a===t||e[a]===r[a],function(){return"Error in concat"+n+"D: Shape of tensors["+i+"] ("+e+") does not match the shape of the rest ("+r+") along the non-concatenated axis "+i+"."})})}function QQ(e,t){for(var n=e[0].slice(),r=1;r<e.length;r++)n[t]+=e[r][t];return n}function RQ(e){var t=Object.keys(e);if(1!==t.length)throw new Error("Please provide an object with a single key (operation name) mapping to a function. Got an object with "+t.length+" keys.");var n=t[0],r=e[n];n.endsWith("_")&&(n=n.substring(0,n.length-1));var i=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];gM.startScope(n);try{var i=r.apply(void 0,e);return i instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),gM.endScope(i),i}catch(e){throw gM.endScope(null),e}};return Object.defineProperty(i,"name",{value:n,configurable:!0}),i}bQ.registerFlag("HAS_WEBGL",function(){return bQ.getNumber("WEBGL_VERSION")>0}),bQ.registerFlag("WEBGL_VERSION",function(){return fQ(2)?2:fQ(1)?1:0}),bQ.registerFlag("WEBGL_BUFFER_SUPPORTED",function(){return 2===bQ.get("WEBGL_VERSION")}),bQ.registerFlag("WEBGL_CPU_FORWARD",function(){return!0}),bQ.registerFlag("WEBGL_FORCE_F16_TEXTURES",function(){return!1}),bQ.registerFlag("WEBGL_PACK",function(){return bQ.getBool("HAS_WEBGL")}),bQ.registerFlag("WEBGL_PACK_NORMALIZATION",function(){return bQ.getBool("WEBGL_PACK")}),bQ.registerFlag("WEBGL_PACK_CLIP",function(){return bQ.getBool("WEBGL_PACK")}),bQ.registerFlag("WEBGL_PACK_DEPTHWISECONV",function(){return!1}),bQ.registerFlag("WEBGL_PACK_BINARY_OPERATIONS",function(){return bQ.getBool("WEBGL_PACK")}),bQ.registerFlag("WEBGL_PACK_UNARY_OPERATIONS",function(){return bQ.getBool("WEBGL_PACK")}),bQ.registerFlag("WEBGL_PACK_ARRAY_OPERATIONS",function(){return bQ.getBool("WEBGL_PACK")}),bQ.registerFlag("WEBGL_PACK_IMAGE_OPERATIONS",function(){return bQ.getBool("WEBGL_PACK")}),bQ.registerFlag("WEBGL_PACK_REDUCE",function(){return bQ.getBool("WEBGL_PACK")}),bQ.registerFlag("WEBGL_LAZILY_UNPACK",function(){return bQ.getBool("WEBGL_PACK")}),bQ.registerFlag("WEBGL_CONV_IM2COL",function(){return bQ.getBool("WEBGL_PACK")}),bQ.registerFlag("WEBGL_MAX_TEXTURE_SIZE",function(){return uQ(bQ.getNumber("WEBGL_VERSION"))}),bQ.registerFlag("WEBGL_MAX_TEXTURES_IN_SHADER",function(){return AQ(bQ.getNumber("WEBGL_VERSION"))}),bQ.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION",function(){var e=bQ.getNumber("WEBGL_VERSION");return 0===e?0:dQ(e)}),bQ.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE",function(){return bQ.getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0&&(e=navigator.userAgent||navigator.vendor||window.opera,!(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4))));var e}),bQ.registerFlag("WEBGL_RENDER_FLOAT32_CAPABLE",function(){return pQ(bQ.getNumber("WEBGL_VERSION"))}),bQ.registerFlag("WEBGL_RENDER_FLOAT32_ENABLED",function(){return!bQ.getBool("WEBGL_FORCE_F16_TEXTURES")&&bQ.getBool("WEBGL_RENDER_FLOAT32_CAPABLE")}),bQ.registerFlag("WEBGL_DOWNLOAD_FLOAT_ENABLED",function(){return gQ(bQ.getNumber("WEBGL_VERSION"))}),bQ.registerFlag("WEBGL_FENCE_API_ENABLED",function(){return vQ(bQ.getNumber("WEBGL_VERSION"))}),bQ.registerFlag("WEBGL_SIZE_UPLOAD_UNIFORM",function(){return bQ.getBool("WEBGL_RENDER_FLOAT32_ENABLED")?4:0}),$T=wQ;var HQ=RQ({complex_:function(e,t){var n=SQ(e,"real","complex"),r=SQ(t,"imag","complex");return sT(n.shape,r.shape,"real and imag shapes, "+n.shape+" and "+r.shape+", must match in call to tf.complex()."),gM.runKernelFunc(function(e){return e.complex(n,r)},{$real:n,$imag:r})}}),zQ=RQ({real_:function(e){var t=SQ(e,"input","real");return gM.runKernelFunc(function(e){return e.real(t)},{$input:t})}}),KQ=RQ({imag_:function(e){var t=SQ(e,"input","imag");return gM.runKernelFunc(function(e){return e.imag(t)},{$input:t})}});function WQ(e,t,n){return VQ(e,t,_Q(e,n),n)}function VQ(e,t,n,r){if(null==r&&(r=IT(e)),"complex64"===r)throw new Error("Cannot construct a complex64 tensor directly. Please use tf.complex(real, imag).");if(!NT(e)&&!Array.isArray(e)&&"number"!=typeof e&&"boolean"!=typeof e&&"string"!=typeof e)throw new Error("values passed to tensor(values) must be a number/boolean/string or an array of numbers/booleans/strings, or a TypedArray");if(null!=t){QT(t);var i=uT(t),a=uT(n);oT(i===a,function(){return"Based on the provided shape, ["+t+"], the tensor should have "+i+" values but has "+a});for(var o=0;o<n.length;++o){var s=n[o],l=o!==n.length-1||s!==uT(t.slice(o));oT(n[o]===t[o]||!l,function(){return"Error creating a new Tensor. Inferred shape ("+n+") does not match the provided shape ("+t+"). "})}}return NT(e)||Array.isArray(e)||(e=[e]),t=t||n,e="string"!==r?PT(e,r,GD().getBool("DEBUG")):cT(e,[],!0),gM.makeTensor(e,t,r)}function GQ(e,t){if((NT(e)&&"string"!==t||Array.isArray(e))&&"complex64"!==t)throw new Error("Error creating a new Scalar: value must be a primitive (number|boolean|string)");if("string"===t&&NT(e)&&!(e instanceof Uint8Array))throw new Error("When making a scalar from encoded string, the value must be `Uint8Array`.");return VQ(e,[],[],t)}function qQ(e,t){lT(e);var n=_Q(e,t);if(1!==n.length)throw new Error("tensor1d() requires values to be a flat/TypedArray");return VQ(e,null,n,t)}function XQ(e,t,n){if(lT(e),null!=t&&2!==t.length)throw new Error("tensor2d() requires shape to have two numbers");var r=_Q(e,n);if(2!==r.length&&1!==r.length)throw new Error("tensor2d() requires values to be number[][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor2d() requires shape to be provided when `values` are a flat/TypedArray");return VQ(e,t,r,n)}function YQ(e,t,n){if(lT(e),null!=t&&3!==t.length)throw new Error("tensor3d() requires shape to have three numbers");var r=_Q(e,n);if(3!==r.length&&1!==r.length)throw new Error("tensor3d() requires values to be number[][][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor3d() requires shape to be provided when `values` are a flat array");return VQ(e,t,r,n)}function JQ(e,t,n){if(lT(e),null!=t&&4!==t.length)throw new Error("tensor4d() requires shape to have four numbers");var r=_Q(e,n);if(4!==r.length&&1!==r.length)throw new Error("tensor4d() requires values to be number[][][][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor4d() requires shape to be provided when `values` are a flat array");return VQ(e,t,r,n)}function ZQ(e,t){if(void 0===t&&(t="float32"),"complex64"===t){var n=ZQ(e,"float32"),r=$Q(e,"float32");return HQ(n,r)}var i=DT(uT(e),t);return gM.makeTensor(i,e,t)}function $Q(e,t){if(void 0===t&&(t="float32"),"complex64"===t){var n=$Q(e,"float32"),r=$Q(e,"float32");return HQ(n,r)}var i=TT(uT(e),t);return gM.makeTensor(i,e,t)}function eR(e,t,n){return gM.runKernelFunc(function(r){return r.fill(e,t,n)},{})}function tR(e,t,n,r){if(void 0===n&&(n=1),void 0===r&&(r="float32"),0===n)throw new Error("Cannot have a step of zero");if(e===t||e<t&&n<0||t<e&&n>1)return $Q([0],r);var i=TT(Math.abs(Math.ceil((t-e)/n)),r);t<e&&1===n&&(n=-1),i[0]=e;for(var a=1;a<i.length;a++)i[a]=i[a-1]+n;return qQ(i,r)}var nR=RQ({onesLike_:function(e){var t=SQ(e,"x","onesLike");if("complex64"===t.dtype){var n=nR(zQ(t)),r=rR(KQ(t));return HQ(n,r)}return gM.runKernelFunc(function(e){return e.onesLike(t)},{$x:t},function(e,t){return{$x:function(){return rR(e)}}})}}),rR=RQ({zerosLike_:function(e){var t=SQ(e,"x","zerosLike");return gM.runKernelFunc(function(e){return e.zerosLike(t)},{$x:t},function(e,t){return{$x:function(){return rR(e)}}})}}),iR=RQ({concat_:function(e,t){void 0===t&&(t=0),oT(e.length>=1,function(){return"Pass at least one tensor to concat"});var n=FQ(e,"tensors","concat");"complex64"===n[0].dtype&&n.forEach(function(e){if("complex64"!==e.dtype)throw new Error("Cannot concatenate complex64 tensors with a tensor\n          with dtype "+e.dtype+". ")}),t=vT(t,n[0].shape)[0];var r=QQ(n.map(function(e){return e.shape}),t);if(0===uT(r))return WQ([],r);if(1===(n=n.filter(function(e){return e.size>0})).length)return n[0];var i=n.map(function(e){return e.shape});MQ(i,t);var a=n,o={axis:t};return gM.runKernelFunc(function(e){return e.concat(n,t)},a,function(e){var n=i.map(function(e){return e[t]});return cR(e,n,t).map(function(e){return function(){return e}})},"Concat",o)}}),aR=RQ({concat1d_:function(e){return iR(e,0)}}),oR=RQ({concat2d_:function(e,t){return iR(e,t)}}),sR=RQ({concat3d_:function(e,t){return iR(e,t)}}),lR=RQ({concat4d_:function(e,t){return iR(e,t)}}),cR=RQ({split_:function(e,t,n){void 0===n&&(n=0);var r,i=SQ(e,"x","split");return n=vT(n,i.shape)[0],"number"==typeof t?(oT(i.shape[n]%t==0,function(){return"Number of splits must evenly divide the axis."}),r=new Array(t).fill(i.shape[n]/t)):(oT(i.shape[n]===t.reduce(function(e,t){return e+t}),function(){return"The sum of sizes must match the size of the axis dimension."}),r=t),gM.runKernelFunc(function(e){return e.split(i,r,n)},{$x:i},function(e){return{$x:function(){return iR(e,n)}}})}});function uR(e,t){return e(t={exports:{}},t.exports),t.exports}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof n.g?n.g:"undefined"!=typeof self&&self;var AR=uR(function(e){!function(e,t){function n(e){var t,n=this,r=(t=4022871197,function(e){e=e.toString();for(var n=0;n<e.length;n++){var r=.02519603282416938*(t+=e.charCodeAt(n));r-=t=r>>>0,t=(r*=t)>>>0,t+=4294967296*(r-=t)}return 2.3283064365386963e-10*(t>>>0)});n.next=function(){var e=2091639*n.s0+2.3283064365386963e-10*n.c;return n.s0=n.s1,n.s1=n.s2,n.s2=e-(n.c=0|e)},n.c=1,n.s0=r(" "),n.s1=r(" "),n.s2=r(" "),n.s0-=r(e),n.s0<0&&(n.s0+=1),n.s1-=r(e),n.s1<0&&(n.s1+=1),n.s2-=r(e),n.s2<0&&(n.s2+=1),r=null}function r(e,t){return t.c=e.c,t.s0=e.s0,t.s1=e.s1,t.s2=e.s2,t}function i(e,t){var i=new n(e),a=t&&t.state,o=i.next;return o.int32=function(){return 4294967296*i.next()|0},o.double=function(){return o()+11102230246251565e-32*(2097152*o()|0)},o.quick=o,a&&("object"==typeof a&&r(a,i),o.state=function(){return r(i,{})}),o}t&&t.exports?t.exports=i:this.alea=i}(0,e)}),dR=uR(function(e){!function(e,t){function n(e){var t=this,n="";t.x=0,t.y=0,t.z=0,t.w=0,t.next=function(){var e=t.x^t.x<<11;return t.x=t.y,t.y=t.z,t.z=t.w,t.w^=t.w>>>19^e^e>>>8},e===(0|e)?t.x=e:n+=e;for(var r=0;r<n.length+64;r++)t.x^=0|n.charCodeAt(r),t.next()}function r(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t}function i(e,t){var i=new n(e),a=t&&t.state,o=function(){return(i.next()>>>0)/4294967296};return o.double=function(){do{var e=((i.next()>>>11)+(i.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},o.int32=i.next,o.quick=o,a&&("object"==typeof a&&r(a,i),o.state=function(){return r(i,{})}),o}t&&t.exports?t.exports=i:this.xor128=i}(0,e)}),hR=uR(function(e){!function(e,t){function n(e){var t=this,n="";t.next=function(){var e=t.x^t.x>>>2;return t.x=t.y,t.y=t.z,t.z=t.w,t.w=t.v,(t.d=t.d+362437|0)+(t.v=t.v^t.v<<4^e^e<<1)|0},t.x=0,t.y=0,t.z=0,t.w=0,t.v=0,e===(0|e)?t.x=e:n+=e;for(var r=0;r<n.length+64;r++)t.x^=0|n.charCodeAt(r),r==n.length&&(t.d=t.x<<10^t.x>>>4),t.next()}function r(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t.v=e.v,t.d=e.d,t}function i(e,t){var i=new n(e),a=t&&t.state,o=function(){return(i.next()>>>0)/4294967296};return o.double=function(){do{var e=((i.next()>>>11)+(i.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},o.int32=i.next,o.quick=o,a&&("object"==typeof a&&r(a,i),o.state=function(){return r(i,{})}),o}t&&t.exports?t.exports=i:this.xorwow=i}(0,e)}),fR=uR(function(e){!function(e,t){function n(e){var t=this;t.next=function(){var e,n,r=t.x,i=t.i;return e=r[i],n=(e^=e>>>7)^e<<24,n^=(e=r[i+1&7])^e>>>10,n^=(e=r[i+3&7])^e>>>3,n^=(e=r[i+4&7])^e<<7,e=r[i+7&7],n^=(e^=e<<13)^e<<9,r[i]=n,t.i=i+1&7,n},function(e,t){var n,r=[];if(t===(0|t))r[0]=t;else for(t=""+t,n=0;n<t.length;++n)r[7&n]=r[7&n]<<15^t.charCodeAt(n)+r[n+1&7]<<13;for(;r.length<8;)r.push(0);for(n=0;n<8&&0===r[n];++n);for(8==n?r[7]=-1:r[n],e.x=r,e.i=0,n=256;n>0;--n)e.next()}(t,e)}function r(e,t){return t.x=e.x.slice(),t.i=e.i,t}function i(e,t){null==e&&(e=+new Date);var i=new n(e),a=t&&t.state,o=function(){return(i.next()>>>0)/4294967296};return o.double=function(){do{var e=((i.next()>>>11)+(i.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},o.int32=i.next,o.quick=o,a&&(a.x&&r(a,i),o.state=function(){return r(i,{})}),o}t&&t.exports?t.exports=i:this.xorshift7=i}(0,e)}),pR=uR(function(e){!function(e,t){function n(e){var t=this;t.next=function(){var e,n,r=t.w,i=t.X,a=t.i;return t.w=r=r+1640531527|0,n=i[a+34&127],e=i[a=a+1&127],n^=n<<13,e^=e<<17,n^=n>>>15,e^=e>>>12,n=i[a]=n^e,t.i=a,n+(r^r>>>16)|0},function(e,t){var n,r,i,a,o,s=[],l=128;for(t===(0|t)?(r=t,t=null):(t+="\0",r=0,l=Math.max(l,t.length)),i=0,a=-32;a<l;++a)t&&(r^=t.charCodeAt((a+32)%t.length)),0===a&&(o=r),r^=r<<10,r^=r>>>15,r^=r<<4,r^=r>>>13,a>=0&&(o=o+1640531527|0,i=0==(n=s[127&a]^=r+o)?i+1:0);for(i>=128&&(s[127&(t&&t.length||0)]=-1),i=127,a=512;a>0;--a)r=s[i+34&127],n=s[i=i+1&127],r^=r<<13,n^=n<<17,r^=r>>>15,n^=n>>>12,s[i]=r^n;e.w=o,e.X=s,e.i=i}(t,e)}function r(e,t){return t.i=e.i,t.w=e.w,t.X=e.X.slice(),t}function i(e,t){null==e&&(e=+new Date);var i=new n(e),a=t&&t.state,o=function(){return(i.next()>>>0)/4294967296};return o.double=function(){do{var e=((i.next()>>>11)+(i.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},o.int32=i.next,o.quick=o,a&&(a.X&&r(a,i),o.state=function(){return r(i,{})}),o}t&&t.exports?t.exports=i:this.xor4096=i}(0,e)}),gR=uR(function(e){!function(e,t){function n(e){var t=this,n="";t.next=function(){var e=t.b,n=t.c,r=t.d,i=t.a;return e=e<<25^e>>>7^n,n=n-r|0,r=r<<24^r>>>8^i,i=i-e|0,t.b=e=e<<20^e>>>12^n,t.c=n=n-r|0,t.d=r<<16^n>>>16^i,t.a=i-e|0},t.a=0,t.b=0,t.c=-1640531527,t.d=1367130551,e===Math.floor(e)?(t.a=e/4294967296|0,t.b=0|e):n+=e;for(var r=0;r<n.length+20;r++)t.b^=0|n.charCodeAt(r),t.next()}function r(e,t){return t.a=e.a,t.b=e.b,t.c=e.c,t.d=e.d,t}function i(e,t){var i=new n(e),a=t&&t.state,o=function(){return(i.next()>>>0)/4294967296};return o.double=function(){do{var e=((i.next()>>>11)+(i.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},o.int32=i.next,o.quick=o,a&&("object"==typeof a&&r(a,i),o.state=function(){return r(i,{})}),o}t&&t.exports?t.exports=i:this.tychei=i}(0,e)}),mR=uR(function(e){!function(t,r){var i,a=this,o=256,s="random",l=r.pow(o,6),c=r.pow(2,52),u=2*c,A=255;function d(e,n,A){var d=[],m=p(function e(t,n){var r,i=[],a=typeof t;if(n&&"object"==a)for(r in t)try{i.push(e(t[r],n-1))}catch(e){}return i.length?i:"string"==a?t:t+"\0"}((n=1==n?{entropy:!0}:n||{}).entropy?[e,g(t)]:null==e?function(){try{var e;return i&&(e=i.randomBytes)?e=e(o):(e=new Uint8Array(o),(a.crypto||a.msCrypto).getRandomValues(e)),g(e)}catch(e){var n=a.navigator,r=n&&n.plugins;return[+new Date,a,r,a.screen,g(t)]}}():e,3),d),v=new h(d),y=function(){for(var e=v.g(6),t=l,n=0;e<c;)e=(e+n)*o,t*=o,n=v.g(1);for(;e>=u;)e/=2,t/=2,n>>>=1;return(e+n)/t};return y.int32=function(){return 0|v.g(4)},y.quick=function(){return v.g(4)/4294967296},y.double=y,p(g(v.S),t),(n.pass||A||function(e,t,n,i){return i&&(i.S&&f(i,v),e.state=function(){return f(v,{})}),n?(r[s]=e,t):e})(y,m,"global"in n?n.global:this==r,n.state)}function h(e){var t,n=e.length,r=this,i=0,a=r.i=r.j=0,s=r.S=[];for(n||(e=[n++]);i<o;)s[i]=i++;for(i=0;i<o;i++)s[i]=s[a=A&a+e[i%n]+(t=s[i])],s[a]=t;(r.g=function(e){for(var t,n=0,i=r.i,a=r.j,s=r.S;e--;)t=s[i=A&i+1],n=n*o+s[A&(s[i]=s[a=A&a+t])+(s[a]=t)];return r.i=i,r.j=a,n})(o)}function f(e,t){return t.i=e.i,t.j=e.j,t.S=e.S.slice(),t}function p(e,t){for(var n,r=e+"",i=0;i<r.length;)t[A&i]=A&(n^=19*t[A&i])+r.charCodeAt(i++);return g(t)}function g(e){return String.fromCharCode.apply(0,e)}if(r["seed"+s]=d,p(r.random(),t),e.exports){e.exports=d;try{i=n(385)}catch(e){}}}([],Math)});mR.alea=AR,mR.xor128=dR,mR.xorwow=hR,mR.xorshift7=fR,mR.xor4096=pR,mR.tychei=gR;var vR=mR.alea,yR=function(){function e(e,t,n,r,i){this.mean=e,this.stdDev=t,this.dtype=n,this.nextVal=NaN,this.truncated=r,this.truncated&&(this.upper=this.mean+2*this.stdDev,this.lower=this.mean-2*this.stdDev);var a=i||Math.random();this.random=vR(a.toString())}return e.prototype.nextValue=function(){if(!isNaN(this.nextVal)){var e=this.nextVal;return this.nextVal=NaN,e}for(var t,n,r=!1;!r;){var i=void 0,a=void 0,o=void 0;do{o=(i=2*this.random()-1)*i+(a=2*this.random()-1)*a}while(o>=1||0===o);var s=Math.sqrt(-2*Math.log(o)/o);t=this.mean+this.stdDev*i*s,n=this.mean+this.stdDev*a*s,this.truncated&&!this.isValidTruncated(t)||(r=!0)}return this.truncated&&!this.isValidTruncated(n)||(this.nextVal=this.convertValue(n)),this.convertValue(t)},e.prototype.convertValue=function(e){return null==this.dtype||"float32"===this.dtype?e:Math.round(e)},e.prototype.isValidTruncated=function(e){return e<=this.upper&&e>=this.lower},e}(),bR=function(){function e(e,t,n,r){this.alpha=e,this.beta=1/t,this.dtype=n;var i=r||Math.random();this.randu=vR(i.toString()),this.randn=new yR(0,1,n,!1,this.randu()),this.d=e<1?e+2/3:e-1/3,this.c=1/Math.sqrt(9*this.d)}return e.prototype.nextValue=function(){for(var e,t,n,r,i,a;;){do{r=this.randn.nextValue(),a=1+this.c*r}while(a<=0);if(a*=a*a,t=1-.331*(e=r*r)*e,n=.5*e+this.d*(1-a+Math.log(a)),(i=this.randu())<t||Math.log(i)<n)break}return a=1/this.beta*this.d*a,this.alpha<1&&(a*=Math.pow(this.randu(),1/this.alpha)),this.convertValue(a)},e.prototype.convertValue=function(e){return"float32"===this.dtype?e:Math.round(e)},e}(),wR=function(){function e(e,t,n,r){var i=this;if(void 0===e&&(e=0),void 0===t&&(t=1),this.canReturnFloat=function(){return null==i.dtype||"float32"===i.dtype},this.min=e,this.range=t-e,this.dtype=n,null==r&&(r=Math.random()),"number"==typeof r&&(r=r.toString()),!this.canReturnFloat()&&this.range<=1)throw new Error("The difference between "+e+" - "+t+" <= 1 and dtype is not float");this.random=vR(r)}return e.prototype.convertValue=function(e){return this.canReturnFloat()?e:Math.round(e)},e.prototype.nextValue=function(){return this.convertValue(this.min+this.range*this.random())},e}();function xR(e,t,n){return void 0===t&&(t="float32"),t=t||"float32",QT(e),new YT(e,t,n)}var BR=RQ({batchToSpaceND_:function(e,t,n){var r=SQ(e,"x","batchToSpaceND"),i=t.reduce(function(e,t){return e*t});return oT(r.rank>=1+t.length,function(){return"input rank is "+r.rank+" but should be > than blockShape.length "+t.length}),oT(n.length===t.length,function(){return"crops.length is "+n.length+" but should be equal to blockShape.length  "+t.length}),oT(r.shape[0]%i==0,function(){return"input tensor batch is "+r.shape[0]+" but is not divisible by the product of the elements of blockShape "+t.join(" * ")+" === "+i}),gM.runKernelFunc(function(e){return e.batchToSpaceND(r,t,n)},{$x:r},function(e){return{$x:function(){return e.spaceToBatchND(t,n)}}})}}),CR=RQ({broadcastTo_:function(e,t){var n=SQ(e,"broadcastTo","x"),r=n.shape;if(t.some(function(e){return!(e>0)||e%1!=0}))throw new Error("broadcastTo(): Invalid broadcast shape ["+t+"].");if(t.length<n.rank)throw new Error("broadcastTo(): shape.length="+t.length+" < input.rank="+n.rank+".");if(t.length>n.rank){for(var i=n.shape.slice();i.length<t.length;)i.unshift(1);n=n.reshape(i)}for(var a=Array.from(t),o=t.length-1;o>=0;o--)if(n.shape[o]===t[o])a[o]=1;else if(1!==n.shape[o])throw new Error("broadcastTo(): ["+r+"] cannot be broadcast to ["+t+"].");var s=a.map(function(e,t){return e>1?t:-1}).filter(function(e){return e>=0});return 0===s.length?n.clone():gM.runKernelFunc(function(e){return e.tile(n,a)},{input:n},function(e){return{input:function(){return e.sum(s,!0)}}})}}),NR=RQ({cast_:function(e,t){var n=SQ(e,"x","cast");if(!BT(t))throw new Error("Failed to cast to unknown dtype "+t);if("string"===t&&"string"!==n.dtype||"string"!==t&&"string"===n.dtype)throw new Error("Only strings can be casted to strings");var r={dtype:t};return gM.runKernelFunc(function(e){return e.cast(n,t)},{x:n},function(e){return{x:function(){return e.clone()}}},"Cast",r)}}),kR=RQ({clone_:function(e){var t=SQ(e,"x","clone",null);return gM.runKernelFunc(function(){return gM.makeTensorFromDataId(t.dataId,t.shape,t.dtype)},{$x:t},function(e){return{$x:function(){return e.toFloat()}}})}}),_R=RQ({cumsum_:function(e,t,n,r){void 0===t&&(t=0),void 0===n&&(n=!1),void 0===r&&(r=!1);var i=SQ(e,"x","cumsum"),a=LQ([t|=0],i.rank),o=i;null!=a&&(o=i.transpose(a));var s=TQ(1,i.rank)[0],l=gM.runKernelFunc(function(e){return e.cumsum(o,s,n,r)},{permutedX:o},function(e){return{permutedX:function(){return e.cumsum(t,n,!r)}}});return null!=a&&(l=l.transpose(a)),l}}),ER=RQ({depthToSpace_:function(e,t,n){void 0===n&&(n="NHWC");var r=SQ(e,"x","depthToSpace"),i="NHWC"===n?r.shape[1]:r.shape[2],a="NHWC"===n?r.shape[2]:r.shape[3],o="NHWC"===n?r.shape[3]:r.shape[1];return oT(i*t>=0,function(){return"Negative dimension size caused by overflow when multiplying\n      "+i+" and "+t+"  for depthToSpace with input shape\n      "+r.shape}),oT(a*t>=0,function(){return"Negative dimension size caused by overflow when multiplying\n      "+a+" and "+t+" for depthToSpace with input shape\n          "+r.shape}),oT(o%(t*t)==0,function(){return"Dimension size must be evenly divisible by "+t*t+" but is "+o+" for depthToSpace with input shape "+r.shape}),gM.runKernelFunc(function(e){return e.depthToSpace(r,t,n)},{$x:r})}}),SR=RQ({expandDims_:function(e,t){void 0===t&&(t=0);var n=SQ(e,"x","expandDims",null);oT(t<=n.rank,function(){return"Axis must be <= rank of the tensor"});var r=n.shape.slice();return t<0&&(oT(-(n.rank+1)<=t,function(){return"Axis must be in the interval ["+-(n.rank+1)+", "+n.rank+"]"}),t=n.rank+t+1),r.splice(t,0,1),HR(n,r)}}),FR=RQ({eye_:function(e,t,n,r){void 0===r&&(r="float32"),null==t&&(t=e);for(var i=xR([e,t],r),a=e<=t?e:t,o=0;o<a;++o)i.set(1,o,o);var s=i.toTensor().as2D(e,t);if(null==n)return s;if(1===n.length)return VR(SR(s,0),[n[0],1,1]);if(2===n.length)return VR(SR(SR(s,0),0),[n[0],n[1],1,1]);if(3===n.length)return VR(SR(SR(SR(s,0),0),0),[n[0],n[1],n[2],1,1]);throw new Error("eye() currently supports only 1D and 2D batchShapes, but received "+n.length+"D.")}}),IR=RQ({multinomial_:function(e,t,n,r){void 0===r&&(r=!1);var i=SQ(e,"logits","multinomial"),a=i.size,o=i.rank;if(a<2)throw new Error("Error in multinomial: you need at least 2 outcomes, but got "+a+".");if(o>2)throw new Error("Rank of probabilities must be 1 or 2, but is "+o);n=n||Math.random();var s=1===o?i.as2D(1,-1):i,l=gM.runKernelFunc(function(e){return e.multinomial(s,r,t,n)},{logits2D:s});return 1===o?l.as1D():l}}),jR=RQ({oneHot_:function(e,t,n,r){if(void 0===n&&(n=1),void 0===r&&(r=0),t<2)throw new Error("Error in oneHot: depth must be >=2, but it is "+t);var i=SQ(e,"indices","oneHot","int32"),a=i.shape.concat([t]);return i=i.flatten(),gM.runKernelFunc(function(e){return e.oneHot(i,t,n,r)},{$indices:i},function(e){return{$indices:function(){return $Q(i.shape,"float32")}}}).reshape(a)}}),UR=RQ({pad_:function(e,t,n){void 0===n&&(n=0);var r=SQ(e,"x","pad");if(0===r.rank)throw new Error("pad(scalar) is not defined. Pass non-scalar to pad");var i={paddings:t,constantValue:n};return gM.runKernelFunc(function(e){return e.pad(r,t,n)},{x:r},function(e){var n=t.map(function(e){return e[0]});return{x:function(){return e.slice(n,r.shape)}}},"PadV2",i)}}),OR=RQ({pad1d_:function(e,t,n){return void 0===n&&(n=0),oT(2===t.length,function(){return"Invalid number of paddings. Must be length of 2."}),UR(e,[t],n)}}),PR=RQ({pad2d_:function(e,t,n){return void 0===n&&(n=0),oT(2===t.length&&2===t[0].length&&2===t[1].length,function(){return"Invalid number of paddings. Must be length of 2 each."}),UR(e,t,n)}}),LR=RQ({pad3d_:function(e,t,n){return void 0===n&&(n=0),oT(3===t.length&&2===t[0].length&&2===t[1].length&&2===t[2].length,function(){return"Invalid number of paddings. Must be length of 2 each."}),UR(e,t,n)}}),DR=RQ({pad4d_:function(e,t,n){return void 0===n&&(n=0),oT(4===t.length&&2===t[0].length&&2===t[1].length&&2===t[2].length&&2===t[3].length,function(){return"Invalid number of paddings. Must be length of 2 each."}),UR(e,t,n)}}),TR=RQ({rand_:function(e,t,n){var r=uT(e),i=null;if(null==n||"float32"===n)i=new Float32Array(r);else if("int32"===n)i=new Int32Array(r);else{if("bool"!==n)throw new Error("Unknown data type "+n);i=new Uint8Array(r)}for(var a=0;a<r;a++)i[a]=t();return gM.makeTensor(i,e,n)}}),MR=RQ({randomNormal_:function(e,t,n,r,i){if(void 0===t&&(t=0),void 0===n&&(n=1),null!=r&&"bool"===r)throw new Error("Unsupported data type "+r);for(var a=new yR(t,n,r,!1,i),o=xR(e,r),s=0;s<o.values.length;s++)o.values[s]=a.nextValue();return o.toTensor()}}),QR=RQ({randomGamma_:function(e,t,n,r,i){if(void 0===n&&(n=1),void 0===r&&(r="float32"),null==n&&(n=1),null==r&&(r="float32"),"float32"!==r&&"int32"!==r)throw new Error("Unsupported data type "+r);for(var a=new bR(t,n,r,i),o=xR(e,r),s=0;s<o.values.length;s++)o.values[s]=a.nextValue();return o.toTensor()}}),RR=RQ({randomUniform_:function(e,t,n,r,i){void 0===t&&(t=0),void 0===n&&(n=1),void 0===r&&(r="float32");for(var a=xR(e,r),o=new wR(t,n,null,i),s=0;s<a.values.length;s++)a.values[s]=o.nextValue();return a.toTensor()}}),HR=RQ({reshape_:function(e,t){var n=SQ(e,"x","reshape",null);t=mT(t,n.size),oT(n.size===uT(t),function(){return"new shape and old shape must have the same number of elements."});var r={shape:t};return gM.runKernelFunc(function(e){return e.reshape(n,t)},{x:n},function(e){return{x:function(){return e.reshape(n.shape)}}},"Reshape",r)}}),zR=RQ({spaceToBatchND_:function(e,t,n){var r=SQ(e,"x","spaceToBatchND");return oT(r.rank>=1+t.length,function(){return"input rank "+r.rank+" should be > than [blockShape] "+t.length}),oT(n.length===t.length,function(){return"paddings.shape[0] "+n.length+" must be equal to [blockShape] "+t.length}),oT(r.shape.reduce(function(e,r,i){return i>0&&i<=t.length?e&&(r+n[i-1][0]+n[i-1][1])%t[i-1]==0:e},!0),function(){return"input spatial dimensions "+r.shape.slice(1)+" with paddings "+n.toString()+" must be divisible by blockShapes "+t.toString()}),gM.runKernelFunc(function(e){return e.spaceToBatchND(r,t,n)},{$x:r},function(e){return{$x:function(){return e.batchToSpaceND(t,n)}}})}}),KR=RQ({squeeze_:function(e,t){var n=SQ(e,"x","squeeze");return HR(n,yT(n.shape,t).newShape)}}),WR=RQ({stack_:function(e,t){void 0===t&&(t=0);var n=FQ(e,"tensors","stack");if(oT(n.length>=1,function(){return"Pass at least one tensor to tf.stack"}),1===n.length)return n[0].expandDims(t);var r=n[0].rank,i=n[0].shape,a=n[0].dtype;oT(t<=r,function(){return"Axis must be <= rank of the tensor"}),n.forEach(function(e){sT(i,e.shape,"All tensors passed to stack must have matching shapes")}),n.forEach(function(e){oT(a===e.dtype,function(){return"All tensors passed to stack must have matching dtypes"})});var o=n.map(function(e){return e.expandDims(t)});return iR(o,t)}}),VR=RQ({tile_:function(e,t){var n=SQ(e,"x","tile",null);oT(n.rank===t.length,function(){return"Error in transpose: rank of input "+n.rank+" must match length of reps "+t+"."});var r=[n],i={reps:t};return gM.runKernelFunc(function(e,r){var i=e.tile(n,t);return r([n]),i},{x:n},function(e,n){var r=n[0];return{x:function(){var n=rR(r);if(1===r.rank)for(var i=0;i<t[0];++i)n=n.add(e.slice([i*r.shape[0]],[r.shape[0]]));else if(2===r.rank)for(i=0;i<t[0];++i)for(var a=0;a<t[1];++a)n=n.add(e.slice([i*r.shape[0],a*r.shape[1]],[r.shape[0],r.shape[1]]));else if(3===r.rank)for(i=0;i<t[0];++i)for(a=0;a<t[1];++a)for(var o=0;o<t[2];++o)n=n.add(e.slice([i*r.shape[0],a*r.shape[1],o*r.shape[2]],[r.shape[0],r.shape[1],r.shape[2]]));else{if(4!==r.rank)throw new Error("Gradient for tile operation is not implemented for rank-"+r.rank+" tensors yet.");for(i=0;i<t[0];++i)for(a=0;a<t[1];++a)for(o=0;o<t[2];++o)for(var s=0;s<t[3];++s)n=n.add(e.slice([i*r.shape[0],a*r.shape[1],o*r.shape[2],s*r.shape[3]],[r.shape[0],r.shape[1],r.shape[2],r.shape[3]]))}return n}}},"Tile",i,r)}}),GR=RQ({truncatedNormal_:function(e,t,n,r,i){if(void 0===t&&(t=0),void 0===n&&(n=1),null!=r&&"bool"===r)throw new Error("Unsupported data type "+r);for(var a=new yR(t,n,r,!0,i),o=xR(e,r),s=0;s<o.values.length;s++)o.values[s]=a.nextValue();return o.toTensor()}}),qR=RQ({unstack_:function(e,t){void 0===t&&(t=0),t=t||0;var n=SQ(e,"x","unstack");oT(t>=-n.shape.length&&t<n.shape.length,function(){return"Axis = "+t+" is not in [-"+n.shape.length+", "+n.shape.length+")"}),t<0&&(t+=n.shape.length);var r={axis:t};return gM.runKernelFunc(function(e){return e.unstack(n,t)},{x:n},function(e){return{x:function(){return WR(e,t)}}},"Unpack",r)}});function XR(e,t,n,r){void 0===r&&(r=!0);var i=[];if(r)(i=i.concat(t.slice(0))).push(e[0]/n),i=i.concat(e.slice(1));else{i=i.concat(e[0]);for(var a=t.length,o=0;o<a;++o)i=i.concat([e[o+1]/t[o],t[o]]);i=i.concat(e.slice(a+1))}return i}function YR(e,t,n){void 0===n&&(n=!0);var r=[];if(n){r.push(t);for(var i=t+1;i<e;++i)i<=2*t?(r.push(i),r.push(i-(t+1))):r.push(i)}else{var a=[],o=[];for(i=1;i<e;++i)i>=2*t+1||i%2==1?o.push(i):a.push(i);r.push.apply(r,a),r.push(0),r.push.apply(r,o)}return r}function JR(e,t,n,r){void 0===r&&(r=!0);var i=[];r?i.push(e[0]/n):i.push(e[0]*n);for(var a=1;a<e.length;++a)a<=t.length?r?i.push(t[a-1]*e[a]):i.push(e[a]/t[a-1]):i.push(e[a]);return i}function ZR(e,t){for(var n=[0],r=0;r<t;++r)n.push(e[r][0]);return n}function $R(e,t,n){for(var r=e.slice(0,1),i=0;i<n;++i)r.push(e[i+1]-t[i][0]-t[i][1]);return r}function eH(e,t){if(e.rank<1)throw new Error("tf.gatherND() expects the input to be rank 1 or higher, but the rank was "+e.rank+".");if(t.rank<1)throw new Error("tf.gatherND() expects the indices to be rank 1 or higher, but the rank was "+t.rank+".");if("int32"!==t.dtype)throw new Error("tf.gatherND() expects the indices to be int32 type, but the dtype was "+t.dtype+".");if(t.shape[t.rank-1]>e.rank)throw new Error("index innermost dimension length must be <= tensor rank; saw: "+t.shape[t.rank-1]+" vs. "+e.rank);if(0===e.size)throw new Error("Requested more than 0 entries, but input is empty. Input shape: "+e.shape+".");for(var n=t.shape,r=n[n.length-1],i=1,a=0;a<n.length-1;++a)i*=n[a];var o=e.shape,s=n.slice();s.pop();var l=1;for(a=r;a<e.rank;++a)l*=o[a],s.push(o[a]);var c=OT(e.shape).map(function(e){return e/l}).concat([1]).slice(0,r);return[s,i,l,c]}Object.freeze({prepareAndValidate:eH});function tH(e){return e<=30?e:UT(e,Math.floor(Math.sqrt(e)))}function nH(e,t,n){var r=t.rank>1?t.shape[t.rank-1]:1,i=t.rank>1?t.rank-1:1,a="Must have updates.shape = indices.shape[:batchDim] + shape[sliceDim:], got updates.shape: "+n.shape+", indices.shape: "+t.shape+", shape: "+e+", sliceDim: "+r+", and batchDim: "+i+".";if(n.rank<i)throw new Error(a+" update.rank < "+i+". ");if(e.length<r+(n.rank-i))throw new Error(a+" Output shape length < "+(r+(n.rank-i)));if(n.rank!==i+e.length-r)throw new Error(a+" update.rank != "+(i+e.length-r));for(var o=0;o<i;++o)if(n.shape[o]!==t.shape[o])throw new Error(a+" updates.shape["+o+"] ("+n.shape[o]+") != indices.shape["+o+"] ("+t.shape[o]+").");for(o=0;o<n.rank-i;++o)if(n.shape[o+i]!==e[o+r])throw new Error(a+" updates.shape["+(o+i)+"] ("+n.shape[o+i]+") != shape["+(o+i)+"] ("+e[o+i]+")")}function rH(e,t,n){if(t.rank<1)throw new Error("tf.scatterND() expects the indices to be rank 1 or higher, but the rank was "+t.rank+".");if(e.rank<1)throw new Error("tf.scatterND() expects the updates to be rank 1 or higher, but the rank was "+e.rank+".");if("int32"!==t.dtype)throw new Error("The dtype of 'indices' should be int32, but got dtype: "+t.dtype);if(n.length<1)throw new Error("Output rank must be greater or equal to 1, but got shape: "+n);if(0===n.length){if(0===t.size)throw new Error("Indices specified for empty output. indices shape: "+t.shape);if(0===e.size)throw new Error("Updates specified for empty output. updates shape: "+e.shape)}nH(n,t,e)}function iH(e,t,n){for(var r=t.shape.length,i=r>1?t.shape[r-1]:1,a=n.length,o=1,s=i;s<a;++s)o*=n[s];var l=i<1?1:i;return{sliceRank:i,numUpdates:uT(t.shape)/l,sliceSize:o,strides:OT(n.slice(0,i)).concat([1]),outputSize:uT(n)}}Object.freeze({validateUpdateShape:nH,validateInput:rH,calculateShapes:iH});function aH(e,t,n){oT(e.rank===t.length,function(){return"Error in slice"+e.rank+"D: Length of begin "+t+" must match the rank of the array ("+e.rank+")."}),oT(e.rank===n.length,function(){return"Error in slice"+e.rank+"D: Length of size "+n+" must match the rank of the array ("+e.rank+")."});for(var r=function(r){oT(t[r]+n[r]<=e.shape[r],function(){return"Error in slice"+e.rank+"D: begin["+r+"] + size["+r+"] ("+(t[r]+n[r])+") would overflow input.shape["+r+"] ("+e.shape[r]+")"})},i=0;i<e.rank;++i)r(i)}function oH(e){for(var t=[],n=0;e>0;)1&e&&t.push(n),e/=2,n++;return t}function sH(e,t,n){for(var r=[],i=0;i<e.length;i++)r[i]=Math.ceil((t[i]-e[i])/n[i]);return r}function lH(e,t,n,r,i){var a=t[i],o=n[i]||1;(e&1<<i||null==a)&&(a=o>0?Number.MIN_SAFE_INTEGER:Number.MAX_SAFE_INTEGER);var s=r[i];return a<0&&(a+=s),rT(0,a,s-1)}function cH(e,t,n,r,i){var a=t[i],o=n[i]||1;(e&1<<i||null==a)&&(a=o>0?Number.MAX_SAFE_INTEGER:Number.MIN_SAFE_INTEGER);var s=r[i];return a<0&&(a+=s),o>0?rT(0,a,s):rT(-1,a,s-1)}function uH(e,t,n){for(var r=n.length,i=0;i<n.length;i++)if(n[i]>1){r=i;break}for(i=r+1;i<n.length;i++)if(t[i]>0||n[i]!==e[i])return!1;return!0}function AH(e,t){for(var n=e.length>0?e[e.length-1]:1,r=0;r<e.length-1;r++)n+=e[r]*t[r];return n}Object.freeze({assertParamsValid:aH,maskToAxes:oH,computeOutShape:sH,startForAxis:lH,stopForAxis:cH,isSliceContinous:uH,computeFlatOffset:AH});function dH(e){return gM.customGrad(e)}var hH=RQ({softmax_:function(e,t){void 0===t&&(t=-1);var n=SQ(e,"logits","softmax","float32");if(-1===t&&(t=n.rank-1),t!==n.rank-1)throw Error("Softmax along a non-last dimension is not yet supported. Logits was rank "+n.rank+" and dim was "+t);return gM.runKernelFunc(function(e,r){var i=e.softmax(n,t);return r([i]),i},{logits:n},function(e,n){var r=n[0],i=e.mul(r);return{logits:function(){return i.sub(i.sum([t],!0).mul(r))}}},"Softmax",{dim:t},[],[!0])}}),fH=RQ({logSoftmax_:function(e,t){void 0===t&&(t=-1);var n=SQ(e,"logits","logSoftmax");if(-1===t&&(t=n.rank-1),t!==n.rank-1)throw Error("Log Softmax along a non-last dimension is not yet supported. Logits was rank "+n.rank+" and axis was "+t);return dH(function(e,n){var r=e.max(t,!0),i=e.sub(r),a=i.toFloat().sub(i.exp().sum(t,!0).log());return n([a]),{value:a,gradFunc:function(e,n){var r=n[0].exp();return e.sub(e.sum(t,!0).mul(r))}}})(n)}}),pH=function(){function e(e,t){this.backend=e,this.dataMover=t,this.data=new WeakMap,this.dataIdsCount=0}return e.prototype.get=function(e){return this.data.has(e)||this.dataMover.moveData(this.backend,e),this.data.get(e)},e.prototype.set=function(e,t){this.dataIdsCount++,this.data.set(e,t)},e.prototype.has=function(e){return this.data.has(e)},e.prototype.delete=function(e){return this.dataIdsCount--,this.data.delete(e)},e.prototype.numDataIds=function(){return this.dataIdsCount},e}(),gH=function(){function e(){}return e.prototype.time=function(e){return mH("time")},e.prototype.read=function(e){return mH("read")},e.prototype.readSync=function(e){return mH("readSync")},e.prototype.numDataIds=function(){return mH("numDataIds")},e.prototype.disposeData=function(e){return mH("disposeData")},e.prototype.write=function(e,t,n){return mH("write")},e.prototype.move=function(e,t,n,r){return mH("move")},e.prototype.memory=function(){return mH("memory")},e.prototype.floatPrecision=function(){return mH("floatPrecision")},e.prototype.epsilon=function(){return 32===this.floatPrecision()?1e-7:1e-4},e.prototype.batchMatMul=function(e,t,n,r){return mH("batchMatMul")},e.prototype.fusedBatchMatMul=function(e){return e.a,e.b,e.transposeA,e.transposeB,e.bias,e.activation,e.preluActivationWeights,mH("fusedBatchMatMul")},e.prototype.slice=function(e,t,n){return mH("slice")},e.prototype.stridedSlice=function(e,t,n,r){return mH("stridedSlice")},e.prototype.unstack=function(e,t){return mH("unstack")},e.prototype.reverse=function(e,t){return mH("reverse")},e.prototype.concat=function(e,t){return mH("concat")},e.prototype.neg=function(e){return mH("neg")},e.prototype.add=function(e,t){return mH("add")},e.prototype.addN=function(e){return mH("addN")},e.prototype.subtract=function(e,t){return mH("subtract")},e.prototype.multiply=function(e,t){return mH("multiply")},e.prototype.realDivide=function(e,t){return mH("realDivide")},e.prototype.floorDiv=function(e,t){return mH("floorDiv")},e.prototype.sum=function(e,t){return mH("sum")},e.prototype.prod=function(e,t){return mH("prod")},e.prototype.unsortedSegmentSum=function(e,t,n){return mH("unsortedSegmentSum")},e.prototype.argMin=function(e,t){return mH("argMin")},e.prototype.argMax=function(e,t){return mH("argMax")},e.prototype.equal=function(e,t){return mH("equal")},e.prototype.notEqual=function(e,t){return mH("notEqual")},e.prototype.less=function(e,t){return mH("less")},e.prototype.lessEqual=function(e,t){return mH("lessEqual")},e.prototype.greater=function(e,t){return mH("greater")},e.prototype.greaterEqual=function(e,t){return mH("greaterEqual")},e.prototype.logicalNot=function(e){return mH("logicalNot")},e.prototype.logicalAnd=function(e,t){return mH("logicalAnd")},e.prototype.logicalOr=function(e,t){return mH("logicalOr")},e.prototype.where=function(e){return mH("where")},e.prototype.select=function(e,t,n){return mH("select")},e.prototype.topk=function(e,t,n){return mH("topk")},e.prototype.min=function(e,t){return mH("min")},e.prototype.minimum=function(e,t){return mH("minimum")},e.prototype.mod=function(e,t){return mH("mod")},e.prototype.max=function(e,t){return mH("max")},e.prototype.maximum=function(e,t){return mH("maximum")},e.prototype.all=function(e,t){return mH("all")},e.prototype.any=function(e,t){return mH("any")},e.prototype.squaredDifference=function(e,t){return mH("squaredDifference")},e.prototype.ceil=function(e){return mH("ceil")},e.prototype.floor=function(e){return mH("floor")},e.prototype.round=function(e){return mH("round")},e.prototype.sign=function(e){return mH("sign")},e.prototype.isNaN=function(e){return mH("isNaN")},e.prototype.isInf=function(e){return mH("isInf")},e.prototype.isFinite=function(e){return mH("isFinite")},e.prototype.pow=function(e,t){return mH("pow")},e.prototype.exp=function(e){return mH("exp")},e.prototype.expm1=function(e){return mH("expm1")},e.prototype.softmax=function(e,t){return mH("softmax")},e.prototype.log=function(e){return mH("log")},e.prototype.log1p=function(e){return mH("log1p")},e.prototype.sqrt=function(e){return mH("sqrt")},e.prototype.rsqrt=function(e){return mH("rsqrt")},e.prototype.square=function(e){return mH("square")},e.prototype.reciprocal=function(e){return mH("reciprocal")},e.prototype.relu=function(e){return mH("relu")},e.prototype.relu6=function(e){return mH("relu6")},e.prototype.prelu=function(e,t){return mH("prelu")},e.prototype.elu=function(e){return mH("elu")},e.prototype.eluDer=function(e,t){return mH("eluDer")},e.prototype.selu=function(e){return mH("selu")},e.prototype.int=function(e){return mH("int")},e.prototype.clip=function(e,t,n){return mH("clip")},e.prototype.abs=function(e){return mH("abs")},e.prototype.complexAbs=function(e){return mH("complexAbs")},e.prototype.sigmoid=function(e){return mH("sigmoid")},e.prototype.softplus=function(e){return mH("softplus")},e.prototype.sin=function(e){return mH("sin")},e.prototype.cos=function(e){return mH("cos")},e.prototype.tan=function(e){return mH("tan")},e.prototype.asin=function(e){return mH("asin")},e.prototype.acos=function(e){return mH("acos")},e.prototype.atan=function(e){return mH("atan")},e.prototype.atan2=function(e,t){return mH("atan2")},e.prototype.sinh=function(e){return mH("sinh")},e.prototype.cosh=function(e){return mH("cosh")},e.prototype.tanh=function(e){return mH("tanh")},e.prototype.asinh=function(e){return mH("asinh")},e.prototype.acosh=function(e){return mH("acosh")},e.prototype.atanh=function(e){return mH("atanh")},e.prototype.erf=function(e){return mH("erf")},e.prototype.step=function(e,t){return mH("step")},e.prototype.fusedConv2d=function(e){return e.input,e.filter,e.convInfo,e.bias,e.activation,e.preluActivationWeights,mH("fusedConv2d")},e.prototype.conv2d=function(e,t,n){return mH("conv2d")},e.prototype.conv2dDerInput=function(e,t,n){return mH("conv2dDerInput")},e.prototype.conv2dDerFilter=function(e,t,n){return mH("conv2dDerFilter")},e.prototype.fusedDepthwiseConv2D=function(e){return e.input,e.filter,e.convInfo,e.bias,e.activation,e.preluActivationWeights,mH("fusedDepthwiseConv2D")},e.prototype.depthwiseConv2D=function(e,t,n){return mH("depthwiseConv2D")},e.prototype.depthwiseConv2DDerInput=function(e,t,n){return mH("depthwiseConv2DDerInput")},e.prototype.depthwiseConv2DDerFilter=function(e,t,n){return mH("depthwiseConv2DDerFilter")},e.prototype.conv3d=function(e,t,n){return mH("conv3d")},e.prototype.conv3dDerInput=function(e,t,n){return mH("conv3dDerInput")},e.prototype.conv3dDerFilter=function(e,t,n){return mH("conv3dDerFilter")},e.prototype.maxPool=function(e,t){return mH("maxPool")},e.prototype.maxPoolBackprop=function(e,t,n,r){return mH("maxPoolBackprop")},e.prototype.avgPool=function(e,t){return mH("avgPool")},e.prototype.avgPoolBackprop=function(e,t,n){return mH("avgPoolBackprop")},e.prototype.avgPool3d=function(e,t){return mH("avgPool3d")},e.prototype.avgPool3dBackprop=function(e,t,n){return mH("avgPool3dBackprop")},e.prototype.maxPool3d=function(e,t){return mH("maxPool3d")},e.prototype.maxPool3dBackprop=function(e,t,n,r){return mH("maxPool3dBackprop")},e.prototype.reshape=function(e,t){return mH("reshape")},e.prototype.cast=function(e,t){return mH("cast")},e.prototype.tile=function(e,t){return mH("tile")},e.prototype.pad=function(e,t,n){return mH("pad")},e.prototype.transpose=function(e,t){return mH("transpose")},e.prototype.gather=function(e,t,n){return mH("gather")},e.prototype.gatherND=function(e,t){return mH("gatherND")},e.prototype.scatterND=function(e,t,n){return mH("scatterND")},e.prototype.batchToSpaceND=function(e,t,n){return mH("batchToSpaceND")},e.prototype.spaceToBatchND=function(e,t,n){return mH("spaceToBatchND")},e.prototype.resizeBilinear=function(e,t,n,r){return mH("resizeBilinear")},e.prototype.resizeBilinearBackprop=function(e,t,n){return mH("resizeBilinearBackprop")},e.prototype.resizeNearestNeighbor=function(e,t,n,r){return mH("resizeNearestNeighbor")},e.prototype.resizeNearestNeighborBackprop=function(e,t,n){return mH("resizeNearestNeighborBackprop")},e.prototype.batchNormalization=function(e,t,n,r,i,a){return mH("batchNormalization")},e.prototype.localResponseNormalization4D=function(e,t,n,r,i){return mH("localResponseNormalization4D")},e.prototype.LRNGrad=function(e,t,n,r,i,a,o){return mH("LRNGrad")},e.prototype.multinomial=function(e,t,n,r){return mH("multinomial")},e.prototype.oneHot=function(e,t,n,r){return mH("oneHot")},e.prototype.cumsum=function(e,t,n,r){return mH("cumsum")},e.prototype.nonMaxSuppression=function(e,t,n,r,i){return mH("nonMaxSuppression")},e.prototype.fft=function(e){return mH("fft")},e.prototype.ifft=function(e){return mH("ifft")},e.prototype.complex=function(e,t){return mH("complex")},e.prototype.real=function(e){return mH("real")},e.prototype.imag=function(e){return mH("imag")},e.prototype.cropAndResize=function(e,t,n,r,i,a){return mH("cropAndResize")},e.prototype.depthToSpace=function(e,t,n){return mH("depthToSpace")},e.prototype.split=function(e,t,n){return mH("split")},e.prototype.sparseToDense=function(e,t,n,r){return mH("sparseToDense")},e.prototype.diag=function(e){return mH("diag")},e.prototype.fill=function(e,t,n){return mH("fill")},e.prototype.onesLike=function(e){return mH("onesLike")},e.prototype.zerosLike=function(e){return mH("zerosLike")},e.prototype.linspace=function(e,t,n){return mH("linspace")},e.prototype.dispose=function(){return mH("dispose")},e}();function mH(e){throw new Error("'"+e+"' not yet implemented or not found in the registry. Did you forget to import the kernel?")}function vH(e,t){for(var n=e.length,r=[],i=0;i<n;i++){var a=n-1-i,o=e[a]||1;(t[t.length-1-i]||1)>1&&1===o&&r.unshift(a)}return r}function yH(e,t){for(var n=[],r=0;r<t.length;r++){var i=e[e.length-r-1],a=t.length-r-1,o=t[a];(null==i||1===i&&o>1)&&n.unshift(a)}return n}function bH(e,t){for(var n=[],r=Math.max(e.length,t.length),i=0;i<r;i++){var a=e[e.length-i-1];null==a&&(a=1);var o=t[t.length-i-1];if(null==o&&(o=1),1===a)n.unshift(o);else if(1===o)n.unshift(a);else{if(a!==o)throw Error("Operands could not be broadcast together with shapes "+e+" and "+t+".");n.unshift(a)}}return n}function wH(e,t,n,r,i,a,o){void 0===o&&(o="channelsLast");var s,l=kH(t),c=l[0],u=l[1];if("channelsLast"===o)s=[c,u,e[3],e[3]];else{if("channelsFirst"!==o)throw new Error("Unknown dataFormat "+o);s=[c,u,e[1],e[1]]}return BH(e,s,n,r,i,a,!1,o)}function xH(e,t,n,r,i,a,o){void 0===o&&(o="NDHWC");var s,l,c=_H(t),u=c[0],A=c[1],d=c[2];if("NDHWC"===o)l="channelsLast",s=[u,A,d,e[4],e[4]];else{if("NCDHW"!==o)throw new Error("Unknown dataFormat "+o);l="channelsFirst",s=[u,A,d,e[1],e[1]]}return CH(e,s,n,r,i,!1,l,a)}function BH(e,t,n,r,i,a,o,s){void 0===o&&(o=!1),void 0===s&&(s="channelsLast");var l=[-1,-1,-1,-1],c=l[0],u=l[1],A=l[2],d=l[3];if("channelsLast"===s)c=e[0],u=e[1],A=e[2],d=e[3];else{if("channelsFirst"!==s)throw new Error("Unknown dataFormat "+s);c=e[0],d=e[1],u=e[2],A=e[3]}var h,f=t[0],p=t[1],g=t[3],m=kH(n),v=m[0],y=m[1],b=kH(r),w=b[0],x=b[1],B=EH(f,w),C=EH(p,x),N=function(e,t,n,r,i,a,o,s){var l,c,u;if("number"==typeof e){l={top:e,bottom:e,left:e,right:e,type:0===e?"VALID":"NUMBER"};var A=function(e,t,n,r,i){null==r&&(r=NH(e,t,n));var a=e[1],o=SH((e[0]-t+2*r)/n+1,i);oT(dT(o),function(){return"The output # of rows ("+o+") must be an integer. Change the stride and/or zero pad parameters"});var s=SH((a-t+2*r)/n+1,i);return oT(dT(s),function(){return"The output # of columns ("+s+") must be an integer. Change the stride and/or zero pad parameters"}),[o,s]}([t,n],a,r,e,s);c=A[0],u=A[1]}else if("same"===e){c=Math.ceil(t/r),u=Math.ceil(n/i);var d=Math.max(0,(c-1)*r+a-t),h=Math.max(0,(u-1)*i+o-n),f=Math.floor(d/2),p=d-f,g=Math.floor(h/2);l={top:f,bottom:p,left:g,right:h-g,type:"SAME"}}else{if("valid"!==e)throw Error("Unknown padding parameter: "+e);l={top:0,bottom:0,left:0,right:0,type:"VALID"},c=Math.ceil((t-a+1)/r),u=Math.ceil((n-o+1)/i)}return{padInfo:l,outHeight:c,outWidth:u}}(i,u,A,v,y,B,C,a),k=N.padInfo,_=N.outHeight,E=N.outWidth,S=o?g*d:g;return"channelsFirst"===s?h=[c,S,_,E]:"channelsLast"===s&&(h=[c,_,E,S]),{batchSize:c,dataFormat:s,inHeight:u,inWidth:A,inChannels:d,outHeight:_,outWidth:E,outChannels:S,padInfo:k,strideHeight:v,strideWidth:y,filterHeight:f,filterWidth:p,effectiveFilterHeight:B,effectiveFilterWidth:C,dilationHeight:w,dilationWidth:x,inShape:e,outShape:h,filterShape:t}}function CH(e,t,n,r,i,a,o,s){void 0===a&&(a=!1),void 0===o&&(o="channelsLast");var l=[-1,-1,-1,-1,-1],c=l[0],u=l[1],A=l[2],d=l[3],h=l[4];if("channelsLast"===o)c=e[0],u=e[1],A=e[2],d=e[3],h=e[4];else{if("channelsFirst"!==o)throw new Error("Unknown dataFormat "+o);c=e[0],h=e[1],u=e[2],A=e[3],d=e[4]}var f,p=t[0],g=t[1],m=t[2],v=t[4],y=_H(n),b=y[0],w=y[1],x=y[2],B=_H(r),C=B[0],N=B[1],k=B[2],_=EH(p,C),E=EH(g,N),S=EH(m,k),F=function(e,t,n,r,i,a,o,s,l,c,u){var A,d,h,f;if("number"==typeof e){A={top:e,bottom:e,left:e,right:e,front:e,back:e,type:0===e?"VALID":"NUMBER"};var p=function(e,t,n,r,i,a){null==i&&(i=NH(e,t,r));var o=e[1],s=e[2],l=SH((e[0]-t+2*i)/r+1,a);oT(dT(l),function(){return"The output # of depths ("+l+") must be an integer. Change the stride and/or zero pad parameters"});var c=SH((o-t+2*i)/r+1,a);oT(dT(c),function(){return"The output # of rows ("+c+") must be an integer. Change the stride and/or zero pad parameters"});var u=SH((s-t+2*i)/r+1,a);return oT(dT(u),function(){return"The output # of columns ("+u+") must be an integer. Change the stride and/or zero pad parameters"}),[l,c,u,1]}([t,n,r,1],s,0,i,e,u);d=p[0],h=p[1],f=p[2]}else if("same"===e){var g=((d=Math.ceil(t/i))-1)*i+s-t,m=((h=Math.ceil(n/a))-1)*a+l-n,v=((f=Math.ceil(r/o))-1)*o+c-r,y=Math.floor(g/2),b=g-y,w=Math.floor(m/2),x=m-w,B=Math.floor(v/2);A={top:w,bottom:x,left:B,right:v-B,front:y,back:b,type:"SAME"}}else{if("valid"!==e)throw Error("Unknown padding parameter: "+e);A={top:0,bottom:0,left:0,right:0,front:0,back:0,type:"VALID"},d=Math.ceil((t-s+1)/i),h=Math.ceil((n-l+1)/a),f=Math.ceil((r-c+1)/o)}return{padInfo:A,outDepth:d,outHeight:h,outWidth:f}}(i,u,A,d,b,w,x,_,E,S,s),I=F.padInfo,j=F.outDepth,U=F.outHeight,O=F.outWidth,P=a?v*h:v;return"channelsFirst"===o?f=[c,P,j,U,O]:"channelsLast"===o&&(f=[c,j,U,O,P]),{batchSize:c,dataFormat:o,inDepth:u,inHeight:A,inWidth:d,inChannels:h,outDepth:j,outHeight:U,outWidth:O,outChannels:P,padInfo:I,strideDepth:b,strideHeight:w,strideWidth:x,filterDepth:p,filterHeight:g,filterWidth:m,effectiveFilterDepth:_,effectiveFilterHeight:E,effectiveFilterWidth:S,dilationDepth:C,dilationHeight:N,dilationWidth:k,inShape:e,outShape:f,filterShape:t}}function NH(e,t,n,r){void 0===r&&(r=1);var i=EH(t,r);return Math.floor((e[0]*(n-1)-n+i)/2)}function kH(e){return"number"==typeof e?[e,e,e]:2===e.length?[e[0],e[1],1]:e}function _H(e){return"number"==typeof e?[e,e,e]:e}function EH(e,t){return t<=1?e:e+(e-1)*(t-1)}function SH(e,t){if(!t)return e;switch(t){case"round":return Math.round(e);case"ceil":return Math.ceil(e);case"floor":return Math.floor(e);default:throw new Error("Unknown roundingMode "+t)}}function FH(e){var t=kH(e),n=t[0],r=t[1],i=t[2];return 1===n&&1===r&&1===i}function IH(e,t){return FH(e)||FH(t)}function jH(e){if("NHWC"===e)return"channelsLast";if("NCHW"===e)return"channelsFirst";throw new Error("Unknown dataFormat "+e)}function UH(e,t,n){if("complex64"===t){if("complex64"===e.dtype)return e.clone();var r=$Q(e.shape),i=e.toFloat(),a=n.complex(i,r);return r.dispose(),i.dispose(),a}if(!CT(e.dtype,t))return gM.makeTensorFromDataId(e.dataId,e.shape,t);if("complex64"===e.dtype){var o=n.real(e);return a=o.cast(t),o.dispose(),a}if("int32"===t)return n.int(e);if("bool"===t){var s=GQ(0,e.dtype);return a=n.notEqual(e,s),s.dispose(),a}throw new Error("Error in Cast: failed to cast "+e.dtype+" to "+t)}function OH(e,t){return gM.makeTensorFromDataId(e.dataId,t,e.dtype)}function PH(e,t,n){var r=(t-e)/(n-1),i=TT(n,"float32");i[0]=e;for(var a=1;a<i.length;a++)i[a]=i[a-1]+r;return qQ(i,"float32")}Object.freeze({castTensor:UH,reshapeTensor:OH,linspaceImpl:PH,upcastType:lM,axesAreInnerMostDims:IQ,combineLocations:jQ,computeOutAndReduceShapes:UQ,expandShapeToKeepDim:OQ,assertAxesAreInnerMostDims:PQ,getAxesPermutation:LQ,getUndoAxesPermutation:DQ,getInnerMostAxes:TQ,getBroadcastDims:vH,getReductionAxes:yH,assertAndGetBroadcastShape:bH,assertParamsConsistent:MQ,computeOutShape:QQ,computePool2DInfo:wH,computePool3DInfo:xH,computeConv2DInfo:BH,computeConv3DInfo:CH,computeDefaultPad:NH,tupleValuesAreOne:FH,eitherStridesOrDilationsAreOne:IH,convertConv2DDataFormat:jH,PARALLELIZE_THRESHOLD:30,computeOptimalWindowSize:tH});function LH(e,t){if(e.length!==t.length)throw new Error("Cannot merge real and imag arrays of different lengths. real:"+e.length+", imag: "+t.length+".");for(var n=new Float32Array(2*e.length),r=0;r<n.length;r+=2)n[r]=e[r/2],n[r+1]=t[r/2];return n}function DH(e,t){return{real:e[2*t],imag:e[2*t+1]}}function TH(e,t,n,r){e[2*r]=t,e[2*r+1]=n}function MH(e,t,n){var r=(n?2:-2)*Math.PI*(e/t);return{real:Math.cos(r),imag:Math.sin(r)}}function QH(e,t,n){var r=function(e,t,n){return function(e,t,n){for(var r=0,i=e.length,a=0,o=!1;r<i;){var s=n(t,e[a=r+(i-r>>>1)]);s>0?r=a+1:(i=a,o=!s)}return o?r:-r-1}(e,t,n||RH)}(e,t,n),i=r<0?-(r+1):r;e.splice(i,0,t)}function RH(e,t){return e>t?1:e<t?-1:0}function HH(e,t,n,r,i){return KH(e,t,n,r,i,0).selectedIndices}function zH(e,t,n,r,i,a){var o=KH(e,t,n,r,i,a,!0);return o.numValidOutputs.dispose(),{selectedIndices:o.selectedIndices,selectedScores:o.selectedScores}}function KH(e,t,n,r,i,a,o,s){void 0===o&&(o=!1),void 0===s&&(s=!1);for(var l=Array.from(t).map(function(e,t){return{score:e,boxIndex:t,suppressBeginIndex:0}}).filter(function(e){return e.score>i}).sort(GH),c=a>0?-.5/a:0,u=[],A=[];u.length<n&&l.length>0;){var d=l.pop(),h=d.score,f=d.boxIndex,p=d.suppressBeginIndex;if(h<i)break;for(var g=!1,m=u.length-1;m>=p;--m){var v=WH(e,f,u[m]);if(v>=r){g=!0;break}if(d.score=d.score*VH(r,c,v),d.score<=i)break}d.suppressBeginIndex=u.length,g||(d.score===h?(u.push(f),A.push(d.score)):d.score>i&&QH(l,d,GH))}var y=u.length;return s&&(u.fill(0,y),A.fill(0,y)),{selectedIndices:qQ(u,"int32"),selectedScores:qQ(A,"float32"),numValidOutputs:GQ(y,"int32")}}function WH(e,t,n){var r=e.subarray(4*t,4*t+4),i=e.subarray(4*n,4*n+4),a=Math.min(r[0],r[2]),o=Math.min(r[1],r[3]),s=Math.max(r[0],r[2]),l=Math.max(r[1],r[3]),c=Math.min(i[0],i[2]),u=Math.min(i[1],i[3]),A=Math.max(i[0],i[2]),d=Math.max(i[1],i[3]),h=(s-a)*(l-o),f=(A-c)*(d-u);if(h<=0||f<=0)return 0;var p=Math.max(a,c),g=Math.max(o,u),m=Math.min(s,A),v=Math.min(l,d),y=Math.max(m-p,0)*Math.max(v-g,0);return y/(h+f-y)}function VH(e,t,n){var r=Math.exp(t*n*n);return n<=e?r:0}function GH(e,t){return e.score-t.score||e.score===t.score&&t.boxIndex-e.boxIndex}function qH(e,t,n){var r=new Array(e.rank).fill(0),i=e.shape.slice();return t.map(function(t){i[n]=t;var a=e.slice(r,i);return r[n]+=t,a})}function XH(e,t){for(var n=new Array(e.rank),r=0;r<n.length;r++)n[r]=e.shape[r]*t[r];var i=xR(n,e.dtype);for(r=0;r<i.values.length;++r){for(var a=i.indexToLoc(r),o=new Array(e.rank),s=0;s<o.length;s++)o[s]=a[s]%e.shape[s];var l=e.locToIndex(o);i.values[r]=e.values[l]}return i.toTensor()}function YH(e,t,n,r,i){for(var a=t[t.length-1],o=[e.length/a,a],s=o[0],l=o[1],c=bT(n,s*r),u=bT("int32",s*r),A=0;A<s;A++){for(var d=A*l,h=e.subarray(d,d+l),f=[],p=0;p<h.length;p++)f.push({value:h[p],index:p});f.sort(function(e,t){return t.value-e.value});var g=A*r,m=c.subarray(g,g+r),v=u.subarray(g,g+r);for(p=0;p<r;p++)m[p]=f[p].value,v[p]=f[p].index}var y=t.slice();return y[y.length-1]=r,[WQ(c,y,n),WQ(u,y,"int32")]}function JH(e,t){for(var n=[],r=0;r<t.length;r++)t[r]&&n.push(r);var i=xR(e,"int32"),a=xR([n.length,e.length],"int32");for(r=0;r<n.length;r++){var o=i.indexToLoc(n[r]),s=r*e.length;a.values.set(o,s)}return a.toTensor()}var ZH=function(e,t){this.outputShape=[],this.outputShape=e,this.variableNames=t.map(function(e,t){return"T"+t});var n=[];this.variableNames.forEach(function(e){n.push("float v"+e+" = get"+e+"AtOutCoords();")});var r=this.variableNames.map(function(e){return"v"+e}).join(" + ");this.userCode="\n      void main() {\n        "+n.join("\n        ")+"\n\n        float result = "+r+";\n        setOutput(result);\n      }\n    "},$H=function(e,t){this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.variableNames=t.map(function(e,t){return"T"+t});var n=[];this.variableNames.forEach(function(e){n.push("vec4 v"+e+" = get"+e+"AtOutCoords();")});var r=this.variableNames.map(function(e){return"v"+e}).join(" + ");this.userCode="\n      void main() {\n        "+n.join("\n        ")+"\n\n        vec4 result = "+r+";\n        setOutput(result);\n      }\n    "},ez=function(e,t,n){this.variableNames=["A"];var r=e.windowSize,i=e.batchSize,a=e.inSize,o=Math.ceil(a/r);n||this.variableNames.push("bestIndicesA"),this.outputShape=[i,o];var s="max"===t?">":"<",l=n?"inOffset + i;":"round(getBestIndicesA(batch, inOffset + i));";this.userCode="\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * "+r+";\n\n        int bestIndex = inOffset;\n        float bestValue = getA(batch, bestIndex);\n\n        for (int i = 0; i < "+r+"; i++) {\n          int inIdx = "+l+";\n          float candidate = getA(batch, inIdx);\n          if (candidate "+s+" bestValue) {\n            bestValue = candidate;\n            bestIndex = inIdx;\n          }\n        }\n        setOutput(float(bestIndex));\n      }\n    "};function tz(e,t){return["x","y","z","w","u","v"].slice(0,t).map(function(t){return e+"."+t})}function nz(e,t){return 1===t?[e]:tz(e,t)}function rz(){var e,t,n,r,i,a,o,s,l,c;return 2===GD().getNumber("WEBGL_VERSION")?(e="#version 300 es",t="in",n="out",r="in",i="texture",a="outputColor",o="out vec4 outputColor;",s="\n      bool isnan_custom(float val) {\n        return (val > 0.0 || val < 0.0) ? false : val != 0.0;\n      }\n\n      bvec4 isnan_custom(vec4 val) {\n        return bvec4(isnan_custom(val.x),\n          isnan_custom(val.y), isnan_custom(val.z), isnan_custom(val.w));\n      }\n\n      #define isnan(value) isnan_custom(value)\n    ",l="",c="\n      #define round(value) newRound(value)\n      int newRound(float value) {\n        return int(floor(value + 0.5));\n      }\n\n      ivec4 newRound(vec4 value) {\n        return ivec4(floor(value + vec4(0.5)));\n      }\n    "):(e="",t="attribute",n="varying",r="varying",i="texture2D",a="gl_FragColor",o="",s="\n      #define isnan(value) isnan_custom(value)\n      bool isnan_custom(float val) {\n        return (val > 0. || val < 1. || val == 0.) ? false : true;\n      }\n      bvec4 isnan_custom(vec4 val) {\n        return bvec4(isnan(val.x), isnan(val.y), isnan(val.z), isnan(val.w));\n      }\n    ",l="\n      uniform float INFINITY;\n\n      bool isinf(float val) {\n        return abs(val) == INFINITY;\n      }\n      bvec4 isinf(vec4 val) {\n        return equal(abs(val), vec4(INFINITY));\n      }\n    ",c="\n      int round(float value) {\n        return int(floor(value + 0.5));\n      }\n\n      ivec4 round(vec4 value) {\n        return ivec4(floor(value + vec4(0.5)));\n      }\n    "),{version:e,attribute:t,varyingVs:n,varyingFs:r,texture2D:i,output:a,defineOutput:o,defineSpecialNaN:s,defineSpecialInf:l,defineRound:c}}function iz(e,t,n){void 0===n&&(n="index");var r=OT(t);return r.map(function(t,i){return"int "+e[i]+" = "+n+" / "+t+"; "+(i===r.length-1?"int "+e[i+1]+" = "+n+" - "+e[i]+" * "+t:"index -= "+e[i]+" * "+t)+";"}).join("")}function az(e){var t=OT(e).map(function(e){return e.toString()});return"\n  int getFlatIndex(ivec3 coords) {\n    return coords.x * "+t[0]+" + coords.y * "+t[1]+" + coords.z;\n  }\n"}var oz="\n  const float FLOAT_MAX = 1.70141184e38;\n  const float FLOAT_MIN = 1.17549435e-38;\n\n  lowp vec4 encode_float(highp float v) {\n    if (isnan(v)) {\n      return vec4(255, 255, 255, 255);\n    }\n\n    highp float av = abs(v);\n\n    if(av < FLOAT_MIN) {\n      return vec4(0.0, 0.0, 0.0, 0.0);\n    } else if(v > FLOAT_MAX) {\n      return vec4(0.0, 0.0, 128.0, 127.0) / 255.0;\n    } else if(v < -FLOAT_MAX) {\n      return vec4(0.0, 0.0,  128.0, 255.0) / 255.0;\n    }\n\n    highp vec4 c = vec4(0,0,0,0);\n\n    highp float e = floor(log2(av));\n    highp float m = exp2(fract(log2(av))) - 1.0;\n\n    c[2] = floor(128.0 * m);\n    m -= c[2] / 128.0;\n    c[1] = floor(32768.0 * m);\n    m -= c[1] / 32768.0;\n    c[0] = floor(8388608.0 * m);\n\n    highp float ebias = e + 127.0;\n    c[3] = floor(ebias / 2.0);\n    ebias -= c[3] * 2.0;\n    c[2] += floor(ebias) * 128.0;\n\n    c[3] += 128.0 * step(0.0, -v);\n\n    return c / 255.0;\n  }\n";function sz(e,t,n,r){var i=[];e.forEach(function(e){var t=uT(e.shapeInfo.logicalShape);e.shapeInfo.isUniform?i.push("uniform float "+e.name+(t>1?"["+t+"]":"")+";"):(i.push("uniform sampler2D "+e.name+";"),i.push("uniform int offset"+e.name+";"))});var a,o,s=i.join("\n"),l=e.map(function(e){return function(e,t,n){void 0===n&&(n=!1);var r="";r+=n?cz(e):lz(e);var i=e.shapeInfo.logicalShape,a=t.logicalShape;return i.length<=a.length&&(r+=n?function(e,t){var n,r=e.name,i=r.charAt(0).toUpperCase()+r.slice(1),a="get"+i+"AtOutCoords",o=e.shapeInfo.logicalShape.length,s=t.logicalShape.length,l=vH(e.shapeInfo.logicalShape,t.logicalShape),c=gz(s),u=s-o,A=["x","y","z","w","u","v"];n=0===o?"":s<2&&l.length>=1?"coords = 0;":l.map(function(e){return"coords."+A[e+u]+" = 0;"}).join("\n");var d;d=s<2&&o>0?"coords":e.shapeInfo.logicalShape.map(function(e,t){return"coords."+A[t+u]}).join(", ");var h="return outputValue;",f=1===uT(e.shapeInfo.logicalShape),p=1===uT(t.logicalShape);if(1!==o||f||p){if(f&&!p)h=1===s?"\n        return vec4(outputValue.x, outputValue.x, 0., 0.);\n      ":"\n        return vec4(outputValue.x);\n      ";else if(l.length){var g=o-2,m=o-1;l.indexOf(g)>-1&&l.indexOf(m)>-1?h="return vec4(outputValue.x);":l.indexOf(g)>-1?h="return vec4(outputValue.x, outputValue.y, outputValue.x, outputValue.y);":l.indexOf(m)>-1&&(h="return vec4(outputValue.xx, outputValue.zz);")}}else h="\n      return vec4(outputValue.xy, outputValue.xy);\n    ";return"\n    vec4 "+a+"() {\n      "+c+" coords = getOutputCoords();\n      "+n+"\n      vec4 outputValue = get"+i+"("+d+");\n      "+h+"\n    }\n  "}(e,t):function(e,t){var n=e.name,r=n.charAt(0).toUpperCase()+n.slice(1),i="get"+r+"AtOutCoords",a=t.texShape,o=e.shapeInfo.texShape,s=e.shapeInfo.logicalShape.length,l=t.logicalShape.length;if(!e.shapeInfo.isUniform&&s===l&&null==e.shapeInfo.flatOffset&&AT(o,a))return"\n      float "+i+"() {\n        return sampleTexture("+n+", resultUV);\n      }\n    ";var c,u=gz(l),A=vH(e.shapeInfo.logicalShape,t.logicalShape),d=l-s,h=["x","y","z","w","u","v"];c=0===s?"":l<2&&A.length>=1?"coords = 0;":A.map(function(e){return"coords."+h[e+d]+" = 0;"}).join("\n");var f;return f=l<2&&s>0?"coords":e.shapeInfo.logicalShape.map(function(e,t){return"coords."+h[t+d]}).join(", "),"\n    float "+i+"() {\n      "+u+" coords = getOutputCoords();\n      "+c+"\n      return get"+r+"("+f+");\n    }\n  "}(e,t)),r}(e,t,r)}).join("\n"),c=t.texShape,u=rz(),A=function(e){return"\n    float sampleTexture(sampler2D textureSampler, vec2 uv) {\n      return "+e.texture2D+"(textureSampler, uv).r;\n    }\n  "}(u),d=function(e){return e.version+"\n    precision highp float;\n    precision highp int;\n    precision highp sampler2D;\n    "+e.varyingFs+" vec2 resultUV;\n    "+e.defineOutput+"\n    const vec2 halfCR = vec2(0.5, 0.5);\n\n    struct ivec5\n    {\n      int x;\n      int y;\n      int z;\n      int w;\n      int u;\n    };\n\n    struct ivec6\n    {\n      int x;\n      int y;\n      int z;\n      int w;\n      int u;\n      int v;\n    };\n\n    uniform float NAN;\n    "+e.defineSpecialNaN+"\n    "+e.defineSpecialInf+"\n    "+e.defineRound+"\n\n    int imod(int x, int y) {\n      return x - y * (x / y);\n    }\n\n    int idiv(int a, int b, float sign) {\n      int res = a / b;\n      int mod = imod(a, b);\n      if (sign < 0. && mod != 0) {\n        res -= 1;\n      }\n      return res;\n    }\n\n    //Based on the work of Dave Hoskins\n    //https://www.shadertoy.com/view/4djSRW\n    #define HASHSCALE1 443.8975\n    float random(float seed){\n      vec2 p = resultUV * seed;\n      vec3 p3  = fract(vec3(p.xyx) * HASHSCALE1);\n      p3 += dot(p3, p3.yzx + 19.19);\n      return fract((p3.x + p3.y) * p3.z);\n    }\n\n    "+uz+"\n    "+Az+"\n    "+dz+"\n  "}(u);return t.isPacked?(a=function(e,t){switch(e.length){case 0:return"\n    int getOutputCoords() {\n      return 0;\n    }\n  ";case 1:return function(e,t){var n=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)];return 1===n[0]?"\n      int getOutputCoords() {\n        return 2 * int(resultUV.x * "+n[1]+".0);\n      }\n    ":1===n[1]?"\n      int getOutputCoords() {\n        return 2 * int(resultUV.y * "+n[0]+".0);\n      }\n    ":"\n    int getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+n[0]+", "+n[1]+"));\n      return 2 * (resTexRC.x * "+n[1]+" + resTexRC.y);\n    }\n  "}(0,t);case 2:return function(e,t){var n=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)];if(AT(e,t))return"\n      ivec2 getOutputCoords() {\n        return 2 * ivec2(resultUV.yx * vec2("+n[0]+", "+n[1]+"));\n      }\n    ";var r=Math.ceil(e[1]/2);return"\n    ivec2 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+n[0]+", "+n[1]+"));\n\n      int index = resTexRC.x * "+n[1]+" + resTexRC.y;\n      int r = 2 * (index / "+r+");\n      int c = imod(index, "+r+") * 2;\n\n      return ivec2(r, c);\n    }\n  "}(e,t);case 3:return n=e,r=t,i=[Math.ceil(r[0]/2),Math.ceil(r[1]/2)],o=(a=Math.ceil(n[2]/2))*Math.ceil(n[1]/2),"\n    ivec3 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+i[0]+", "+i[1]+"));\n      int index = resTexRC.x * "+i[1]+" + resTexRC.y;\n\n      int b = index / "+o+";\n      index -= b * "+o+";\n\n      int r = 2 * (index / "+a+");\n      int c = imod(index, "+a+") * 2;\n\n      return ivec3(b, r, c);\n    }\n  ";default:return function(e,t){for(var n=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)],r=Math.ceil(e[e.length-1]/2),i=r*Math.ceil(e[e.length-2]/2),a=i,o="",s="b, r, c",l=2;l<e.length-1;l++)o="\n      int b"+l+" = index / "+(a*=e[e.length-l-1])+";\n      index -= b"+l+" * "+a+";\n    "+o,s="b"+l+", "+s;return"\n    ivec"+e.length+" getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+n[0]+", "+n[1]+"));\n      int index = resTexRC.x * "+n[1]+" + resTexRC.y;\n\n      "+o+"\n\n      int b = index / "+i+";\n      index -= b * "+i+";\n\n      int r = 2 * (index / "+r+");\n      int c = imod(index, "+r+") * 2;\n\n      return ivec"+e.length+"("+s+");\n    }\n  "}(e,t)}var n,r,i,a,o}(t.logicalShape,c),o=function(e){return"\n    void setOutput(vec4 val) {\n      "+e.output+" = val;\n    }\n  "}(u)):(a=function(e,t){switch(e.length){case 0:return"\n    int getOutputCoords() {\n      return 0;\n    }\n  ";case 1:return function(e,t){return 1===t[0]?"\n      int getOutputCoords() {\n        return int(resultUV.x * "+t[1]+".0);\n      }\n    ":1===t[1]?"\n      int getOutputCoords() {\n        return int(resultUV.y * "+t[0]+".0);\n      }\n    ":"\n    int getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+t[0]+", "+t[1]+"));\n      return resTexRC.x * "+t[1]+" + resTexRC.y;\n    }\n  "}(0,t);case 2:return function(e,t){return AT(e,t)?"\n      ivec2 getOutputCoords() {\n        return ivec2(resultUV.yx * vec2("+t[0]+", "+t[1]+"));\n      }\n    ":1===e[1]?"\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2("+t[0]+", "+t[1]+"));\n        int index = resTexRC.x * "+t[1]+" + resTexRC.y;\n        return ivec2(index, 0);\n      }\n    ":1===e[0]?"\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2("+t[0]+", "+t[1]+"));\n        int index = resTexRC.x * "+t[1]+" + resTexRC.y;\n        return ivec2(0, index);\n      }\n    ":"\n    ivec2 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+t[0]+", "+t[1]+"));\n      int index = resTexRC.x * "+t[1]+" + resTexRC.y;\n      int r = index / "+e[1]+";\n      int c = index - r * "+e[1]+";\n      return ivec2(r, c);\n    }\n  "}(e,t);case 3:return n=t,r=iz(["r","c","d"],e),"\n    ivec3 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+n[0]+", "+n[1]+"));\n      int index = resTexRC.x * "+n[1]+" + resTexRC.y;\n      "+r+"\n      return ivec3(r, c, d);\n    }\n  ";case 4:return function(e,t){var n=iz(["r","c","d","d2"],e);return"\n    ivec4 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2("+t[0]+", "+t[1]+"));\n      int index = resTexRC.x * "+t[1]+" + resTexRC.y;\n      "+n+"\n      return ivec4(r, c, d, d2);\n    }\n  "}(e,t);case 5:return function(e,t){var n=iz(["r","c","d","d2","d3"],e);return"\n    ivec5 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx * vec2("+t[0]+",\n                             "+t[1]+"));\n\n      int index = resTexRC.x * "+t[1]+" + resTexRC.y;\n\n      "+n+"\n\n      ivec5 outShape = ivec5(r, c, d, d2, d3);\n      return outShape;\n    }\n  "}(e,t);case 6:return function(e,t){var n=iz(["r","c","d","d2","d3","d4"],e);return"\n    ivec6 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2("+t[0]+", "+t[1]+"));\n      int index = resTexRC.x * "+t[1]+" + resTexRC.y;\n\n      "+n+"\n\n      ivec6 result = ivec6(r, c, d, d2, d3, d4);\n      return result;\n    }\n  "}(e,t);default:throw new Error(e.length+"-D output sampling is not yet supported")}var n,r}(t.logicalShape,c),o=function(e){return"\n    void setOutput(float val) {\n      "+e.output+" = vec4(val, 0, 0, 0);\n    }\n  "}(u)),r&&(d+=hz),[d,A,o,s,a,l,n].join("\n")}function lz(e){var t=e.shapeInfo.logicalShape;switch(t.length){case 0:return function(e){var t=e.name,n="get"+t.charAt(0).toUpperCase()+t.slice(1);if(e.shapeInfo.isUniform)return"float "+n+"() {return "+t+";}";var r=e.shapeInfo.texShape,i=r[0],a=r[1];if(1===i&&1===a)return"\n      float "+n+"() {\n        return sampleTexture("+t+", halfCR);\n      }\n    ";var o=e.shapeInfo.texShape;return"\n    float "+n+"() {\n      vec2 uv = uvFromFlat("+o[0]+", "+o[1]+", "+fz(t)+");\n      return sampleTexture("+t+", uv);\n    }\n  "}(e);case 1:return function(e){var t=e.name,n="get"+t.charAt(0).toUpperCase()+t.slice(1);if(e.shapeInfo.isUniform)return"\n      float "+n+"(int index) {\n        "+pz(e)+"\n      }\n    ";var r=e.shapeInfo.texShape,i=r[0],a=r[1];if(1===a&&1===i)return"\n      float "+n+"(int index) {\n        return sampleTexture("+t+", halfCR);\n      }\n    ";var o=fz(t);return 1===a?"\n      float "+n+"(int index) {\n        vec2 uv = vec2(0.5, (float(index + "+o+") + 0.5) / "+i+".0);\n        return sampleTexture("+t+", uv);\n      }\n    ":1===i?"\n      float "+n+"(int index) {\n        vec2 uv = vec2((float(index + "+o+") + 0.5) / "+a+".0, 0.5);\n        return sampleTexture("+t+", uv);\n      }\n    ":"\n    float "+n+"(int index) {\n      vec2 uv = uvFromFlat("+i+", "+a+", index + "+o+");\n      return sampleTexture("+t+", uv);\n    }\n  "}(e);case 2:return function(e){var t=e.shapeInfo.logicalShape,n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),i=e.shapeInfo.texShape;if(null!=i&&AT(t,i)){var a=i[0];return"\n    float "+r+"(int row, int col) {\n      vec2 uv = (vec2(col, row) + halfCR) / vec2("+i[1]+".0, "+a+".0);\n      return sampleTexture("+n+", uv);\n    }\n  "}var o=yT(t),s=o.newShape,l=o.keptDims,c=s;if(c.length<t.length)return"\n      "+lz(mz(e,c))+"\n      float "+r+"(int row, int col) {\n        return "+r+"("+vz(["row","col"],l)+");\n      }\n    ";if(e.shapeInfo.isUniform)return"\n      float "+r+"(int row, int col) {\n        int index = round(dot(vec2(row, col), vec2("+t[1]+", 1)));\n        "+pz(e)+"\n      }\n    ";var u=i[0],A=i[1],d=fz(n);return 1===A?"\n    float "+r+"(int row, int col) {\n      float index = dot(vec3(row, col, "+d+"), vec3("+t[1]+", 1, 1));\n      vec2 uv = vec2(0.5, (index + 0.5) / "+u+".0);\n      return sampleTexture("+n+", uv);\n    }\n  ":1===u?"\n    float "+r+"(int row, int col) {\n      float index = dot(vec3(row, col, "+d+"), vec3("+t[1]+", 1, 1));\n      vec2 uv = vec2((index + 0.5) / "+A+".0, 0.5);\n      return sampleTexture("+n+", uv);\n    }\n  ":"\n  float "+r+"(int row, int col) {\n    // Explicitly use integer operations as dot() only works on floats.\n    int index = row * "+t[1]+" + col + "+d+";\n    vec2 uv = uvFromFlat("+u+", "+A+", index);\n    return sampleTexture("+n+", uv);\n  }\n"}(e);case 3:return function(e){var t=e.shapeInfo.logicalShape,n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),i=t[1]*t[2],a=t[2],o=yT(t),s=o.newShape,l=o.keptDims,c=s;if(c.length<t.length)return"\n        "+lz(mz(e,c))+"\n        float "+r+"(int row, int col, int depth) {\n          return "+r+"("+vz(["row","col","depth"],l)+");\n        }\n      ";if(e.shapeInfo.isUniform)return"\n      float "+r+"(int row, int col, int depth) {\n        int index = round(dot(vec3(row, col, depth),\n                          vec3("+i+", "+a+", 1)));\n        "+pz(e)+"\n      }\n    ";var u=e.shapeInfo.texShape,A=u[0],d=u[1],h=e.shapeInfo.flatOffset;return d===i&&null==h?"\n        float "+r+"(int row, int col, int depth) {\n          float texR = float(row);\n          float texC = dot(vec2(col, depth), vec2("+a+", 1));\n          vec2 uv = (vec2(texC, texR) + halfCR) /\n                     vec2("+d+".0, "+A+".0);\n          return sampleTexture("+n+", uv);\n        }\n      ":d===a&&null==h?"\n    float "+r+"(int row, int col, int depth) {\n      float texR = dot(vec2(row, col), vec2("+t[1]+", 1));\n      float texC = float(depth);\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2("+d+".0, "+A+".0);\n      return sampleTexture("+n+", uv);\n    }\n  ":"\n      float "+r+"(int row, int col, int depth) {\n        // Explicitly use integer operations as dot() only works on floats.\n        int index = row * "+i+" + col * "+a+" + depth + "+fz(n)+";\n        vec2 uv = uvFromFlat("+A+", "+d+", index);\n        return sampleTexture("+n+", uv);\n      }\n  "}(e);case 4:return function(e){var t=e.shapeInfo.logicalShape,n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),i=t[3],a=t[2]*i,o=t[1]*a,s=yT(t),l=s.newShape,c=s.keptDims;if(l.length<t.length)return"\n      "+lz(mz(e,l))+"\n      float "+r+"(int row, int col, int depth, int depth2) {\n        return "+r+"("+vz(["row","col","depth","depth2"],c)+");\n      }\n    ";if(e.shapeInfo.isUniform)return"\n      float "+r+"(int row, int col, int depth, int depth2) {\n        int index = round(dot(vec4(row, col, depth, depth2),\n                          vec4("+o+", "+a+", "+i+", 1)));\n        "+pz(e)+"\n      }\n    ";var u=e.shapeInfo.flatOffset,A=e.shapeInfo.texShape,d=A[0],h=A[1];return h===o&&null==u?"\n      float "+r+"(int row, int col, int depth, int depth2) {\n        float texR = float(row);\n        float texC =\n            dot(vec3(col, depth, depth2),\n                vec3("+a+", "+i+", 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2("+h+".0, "+d+".0);\n        return sampleTexture("+n+", uv);\n      }\n    ":h===i&&null==u?"\n      float "+r+"(int row, int col, int depth, int depth2) {\n        float texR = dot(vec3(row, col, depth),\n                         vec3("+t[1]*t[2]+", "+t[2]+", 1));\n        float texC = float(depth2);\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2("+h+".0, "+d+".0);\n        return sampleTexture("+n+", uv);\n      }\n    ":"\n    float "+r+"(int row, int col, int depth, int depth2) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * "+o+" + col * "+a+" +\n          depth * "+i+" + depth2;\n      vec2 uv = uvFromFlat("+d+", "+h+", index + "+fz(n)+");\n      return sampleTexture("+n+", uv);\n    }\n  "}(e);case 5:return function(e){var t=e.shapeInfo.logicalShape,n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),i=t[4],a=t[3]*i,o=t[2]*a,s=t[1]*o,l=yT(t),c=l.newShape,u=l.keptDims;if(c.length<t.length)return"\n      "+lz(mz(e,c))+"\n      float "+r+"(int row, int col, int depth, int depth2, int depth3) {\n        return "+r+"("+vz(["row","col","depth","depth2","depth3"],u)+");\n      }\n    ";if(e.shapeInfo.isUniform)return"\n      float "+r+"(int row, int col, int depth, int depth2, int depth3) {\n        float index = dot(\n          vec4(row, col, depth, depth2),\n          vec4("+s+", "+o+", "+a+", "+i+")) +\n          depth3;\n        "+pz(e)+"\n      }\n    ";var A=e.shapeInfo.flatOffset,d=e.shapeInfo.texShape,h=d[0],f=d[1];return f===s&&null==A?"\n      float "+r+"(int row, int col, int depth, int depth2, int depth3) {\n        int texR = row;\n        float texC = dot(vec4(col, depth, depth2, depth3),\n                         vec4("+o+", "+a+", "+i+", 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2("+f+".0, "+h+".0);\n        return sampleTexture("+n+", uv);\n      }\n    ":f===i&&null==A?"\n      float "+r+"(int row, int col, int depth, int depth2, int depth3) {\n        float texR = dot(\n          vec4(row, col, depth, depth2),\n          vec4("+t[1]*t[2]*t[3]+",\n               "+t[2]*t[3]+", "+t[3]+", 1));\n        int texC = depth3;\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2("+f+".0, "+h+".0);\n        return sampleTexture("+n+", uv);\n      }\n    ":"\n    float "+r+"(int row, int col, int depth, int depth2, int depth3) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * "+s+" + col * "+o+" + depth * "+a+" +\n          depth2 * "+i+" + depth3 + "+fz(n)+";\n      vec2 uv = uvFromFlat("+h+", "+f+", index);\n      return sampleTexture("+n+", uv);\n    }\n  "}(e);case 6:return function(e){var t=e.shapeInfo.logicalShape,n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),i=yT(t),a=i.newShape,o=i.keptDims;if(a.length<t.length)return"\n      "+lz(mz(e,a))+"\n      float "+r+"(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        return "+r+"("+vz(["row","col","depth","depth2","depth3","depth4"],o)+");\n      }\n    ";var s=t[5],l=t[4]*s,c=t[3]*l,u=t[2]*c,A=t[1]*u;if(e.shapeInfo.isUniform)return"\n      float "+r+"(int row, int col, int depth,\n                  int depth2, int depth3, int depth4) {\n        int index = round(dot(\n          vec4(row, col, depth, depth2),\n          vec4("+A+", "+u+", "+c+", "+l+")) +\n          dot(\n            vec2(depth3, depth4),\n            vec2("+s+", 1)));\n        "+pz(e)+"\n      }\n    ";var d=e.shapeInfo.flatOffset,h=e.shapeInfo.texShape,f=h[0],p=h[1];return p===A&&null==d?"\n      float "+r+"(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        int texR = row;\n        float texC = dot(vec4(col, depth, depth2, depth3),\n          vec4("+u+", "+c+", "+l+", "+s+")) +\n               float(depth4);\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2("+p+".0, "+f+".0);\n        return sampleTexture("+n+", uv);\n      }\n    ":p===s&&null==d?"\n      float "+r+"(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        float texR = dot(vec4(row, col, depth, depth2),\n          vec4("+t[1]*t[2]*t[3]*t[4]+",\n               "+t[2]*t[3]*t[4]+",\n               "+t[3]*t[4]+",\n               "+t[4]+")) + float(depth3);\n        int texC = depth4;\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2("+p+".0, "+f+".0);\n        return sampleTexture("+n+", uv);\n      }\n    ":"\n    float "+r+"(int row, int col, int depth,\n                  int depth2, int depth3, int depth4) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * "+A+" + col * "+u+" + depth * "+c+" +\n          depth2 * "+l+" + depth3 * "+s+" + depth4 + "+fz(n)+";\n      vec2 uv = uvFromFlat("+f+", "+p+", index);\n      return sampleTexture("+n+", uv);\n    }\n  "}(e);default:throw new Error(t.length+"-D input sampling is not yet supported")}}function cz(e){var t;switch(e.shapeInfo.logicalShape.length){case 0:return"\n    vec4 "+("get"+(t=e.name).charAt(0).toUpperCase()+t.slice(1))+"() {\n      return "+rz().texture2D+"("+t+", halfCR);\n    }\n  ";case 1:return function(e){var t=e.name,n="get"+t.charAt(0).toUpperCase()+t.slice(1),r=e.shapeInfo.texShape,i=[Math.ceil(r[0]/2),Math.ceil(r[1]/2)],a=rz();return"\n    vec4 "+n+"(int index) {\n      vec2 uv = packedUVfrom1D(\n        "+i[0]+", "+i[1]+", index);\n      return "+a.texture2D+"("+t+", uv);\n    }\n  "}(e);case 2:return function(e){var t=e.shapeInfo.logicalShape,n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),i=e.shapeInfo.texShape,a=i[0],o=i[1],s=rz();if(null!=i&&AT(t,i))return"\n      vec4 "+r+"(int row, int col) {\n        vec2 uv = (vec2(col, row) + halfCR) / vec2("+o+".0, "+a+".0);\n\n        return "+s.texture2D+"("+n+", uv);\n      }\n    ";var l=[Math.ceil(i[0]/2),Math.ceil(i[1]/2)];return"\n    vec4 "+r+"(int row, int col) {\n      vec2 uv = packedUVfrom2D("+Math.ceil(t[1]/2)+", "+l[0]+", "+l[1]+", row, col);\n      return "+s.texture2D+"("+n+", uv);\n    }\n  "}(e);case 3:return function(e){var t=e.shapeInfo.logicalShape,n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),i=e.shapeInfo.texShape,a=[Math.ceil(i[0]/2),Math.ceil(i[1]/2)];if(1===t[0])return"\n        "+cz(mz(e,t.slice(1)))+"\n        vec4 "+r+"(int b, int row, int col) {\n          return "+r+"("+vz(["b","row","col"],[1,2])+");\n        }\n      ";var o=a[0],s=a[1],l=Math.ceil(t[2]/2);return"\n    vec4 "+r+"(int b, int row, int col) {\n      vec2 uv = packedUVfrom3D(\n        "+o+", "+s+", "+l*Math.ceil(t[1]/2)+", "+l+", b, row, col);\n      return "+rz().texture2D+"("+n+", uv);\n    }\n  "}(e);default:return function(e){for(var t=e.shapeInfo.logicalShape,n=t.length,r=e.name,i="get"+r.charAt(0).toUpperCase()+r.slice(1),a=e.shapeInfo.texShape,o=[Math.ceil(a[0]/2),Math.ceil(a[1]/2)],s=o[0],l=o[1],c=Math.ceil(t[n-1]/2),u=c*Math.ceil(t[n-2]/2),A="int b, int row, int col",d="b * "+u+" + (row / 2) * "+c+" + (col / 2)",h=2;h<n-1;h++)A="int b"+h+", "+A,d="b"+h+" * "+(u*=t[n-h-1])+" + "+d;return"\n    vec4 "+i+"("+A+") {\n      int index = "+d+";\n      int texR = index / "+l+";\n      int texC = index - texR * "+l+";\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2("+l+", "+s+");\n      return "+rz().texture2D+"("+r+", uv);\n    }\n  "}(e)}}var uz="\nvec2 uvFromFlat(int texNumR, int texNumC, int index) {\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\nvec2 packedUVfrom1D(int texNumR, int texNumC, int index) {\n  int texelIndex = index / 2;\n  int texR = texelIndex / texNumC;\n  int texC = texelIndex - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",Az="\nvec2 packedUVfrom2D(int texelsInLogicalRow, int texNumR,\n  int texNumC, int row, int col) {\n  int texelIndex = (row / 2) * texelsInLogicalRow + (col / 2);\n  int texR = texelIndex / texNumC;\n  int texC = texelIndex - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",dz="\nvec2 packedUVfrom3D(int texNumR, int texNumC,\n    int texelsInBatch, int texelsInLogicalRow, int b,\n    int row, int col) {\n  int index = b * texelsInBatch + (row / 2) * texelsInLogicalRow + (col / 2);\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",hz="\n  float getChannel(vec4 frag, vec2 innerDims) {\n    vec2 modCoord = mod(innerDims, 2.);\n    return modCoord.x == 0. ?\n      (modCoord.y == 0. ? frag.r : frag.g) :\n      (modCoord.y == 0. ? frag.b : frag.a);\n  }\n  float getChannel(vec4 frag, int dim) {\n    float modCoord = mod(float(dim), 2.);\n    return modCoord == 0. ? frag.r : frag.g;\n  }\n";function fz(e){return"offset"+e}function pz(e){var t=e.name,n=uT(e.shapeInfo.logicalShape);return n<2?"return "+t+";":"\n    for (int i = 0; i < "+n+"; i++) {\n      if (i == index) {\n        return "+t+"[i];\n      }\n    }\n  "}function gz(e){if(e<=1)return"int";if(2===e)return"ivec2";if(3===e)return"ivec3";if(4===e)return"ivec4";if(5===e)return"ivec5";if(6===e)return"ivec6";throw Error("GPU for rank "+e+" is not yet supported")}function mz(e,t){var n=JSON.parse(JSON.stringify(e));return n.shapeInfo.logicalShape=t,n}function vz(e,t){return t.map(function(t){return e[t]}).join(", ")}var yz=function(e,t,n,r){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,oT(e.length>2,function(){return"Packed arg"+(n.charAt(0).toUpperCase()+n.slice(1))+" supports only inputs with rank above 2."});var i=e[e.length-1],a=Math.ceil(i/t);this.outputShape=e.slice(0,-1),a>1&&this.outputShape.push(a),r||this.variableNames.push("bestIndicesA");var o,s,l=this.outputShape,c=l.length,u=gz(c),A=nz("coords",c);if(1===a){var d=gz(s=c+1);o="\n        "+d+" sourceLocR = "+d+"("+A.join()+", 0);\n        ++"+A[c-1]+";\n        "+d+" sourceLocG = "+d+"("+A.join()+", 0);\n        ++"+A[c-2]+";\n        "+d+" sourceLocA = "+d+"("+A.join()+", 0);\n        --"+A[c-1]+";\n        "+d+" sourceLocB = "+d+"("+A.join()+", 0);\n        --"+A[c-2]+";"}else s=c,o="\n        "+u+" sourceLocR = coords;\n        ++"+A[c-1]+";\n        "+u+" sourceLocG = coords;\n        ++"+A[c-2]+";\n        "+u+" sourceLocA = coords;\n        --"+A[c-1]+";\n        "+u+" sourceLocB = coords;\n        --"+A[c-2]+";";var h=["x","y","z","w","u","v"].slice(0,s),f="."+h[s-1],p=h.map(function(e){return"int "+e}),g=nz("sourceLocR",s-1).concat("inIdx.r"),m=nz("sourceLocG",s-1).concat("inIdx.g"),v=nz("sourceLocB",s-1).concat("inIdx.b"),y=nz("sourceLocA",s-1).concat("inIdx.a"),b="max"===n?"greaterThan":"lessThan",w=r?"":"\n          inIdx = round(vec4(getBestIndicesAChannel("+g.join()+"),\n                             getBestIndicesAChannel("+m.join()+"),\n                             getBestIndicesAChannel("+v.join()+"),\n                             getBestIndicesAChannel("+y.join()+")));",x="vec4(\n            getAChannel("+g.join()+"),\n            hasNextCol ? getAChannel("+m.join()+") : 0.,\n            hasNextRow ? getAChannel("+v.join()+") : 0.,\n            hasNextRow && hasNextCol ? getAChannel("+y.join()+") : 0.)",B=r?"":"\n      float getBestIndicesAChannel("+p.join()+") {\n        return getChannel(getBestIndicesA("+h.join()+"),\n                                          vec2("+h.slice(-2).join()+"));\n      }";this.userCode="\n      float getAChannel("+p.join()+") {\n        return getChannel(getA("+h.join()+"),\n                               vec2("+h.slice(-2).join()+"));\n      }\n      "+B+"\n      void main() {\n        "+u+" coords = getOutputCoords();\n        bool hasNextCol = "+A[c-1]+" < "+(l[c-1]-1)+";\n        bool hasNextRow = "+A[c-2]+" < "+(l[c-2]-1)+";\n        "+o+"\n        ivec4 srcIdx = ivec4(sourceLocR"+f+", sourceLocG"+f+",\n          sourceLocB"+f+", sourceLocA"+f+") * "+t+";\n        ivec4 inIdx = srcIdx;\n        vec4 bestIndex = vec4(inIdx);\n        vec4 bestValue = "+x+";\n\n        for (int i = 0; i < "+t+"; i++) {\n          inIdx = srcIdx;\n          "+w+"\n          vec4 candidate = "+x+";\n          bvec4 nan = isnan(candidate);\n          bvec4 replace = bvec4(\n            vec4("+b+"(candidate, bestValue)) * (vec4(1.0) - vec4(nan)));\n\n          bestValue = vec4(replace.x  ? candidate.x : bestValue.x,\n                           replace.y  ? candidate.y : bestValue.y,\n                           replace.z  ? candidate.z : bestValue.z,\n                           replace.w  ? candidate.w : bestValue.w);\n          bestIndex = mix(bestIndex, vec4(inIdx), vec4(replace));\n          srcIdx++;\n        }\n        setOutput(bestIndex);\n      }\n    "},bz=function(e){this.variableNames=["dy"],this.outputShape=e.inShape;var t=e.filterHeight,n=e.filterWidth,r=e.strideHeight,i=e.strideWidth,a=e.dilationHeight,o=e.dilationWidth,s=e.effectiveFilterHeight,l=e.effectiveFilterWidth,c=s-1-e.padInfo.top,u=l-1-e.padInfo.left,A=1/(t*n);this.userCode="\n      const ivec2 pads = ivec2("+c+", "+u+");\n      const float avgMultiplier = float("+A+");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n\n        ivec2 dyRCCorner = coords.yz - pads;\n        int dyRCorner = dyRCCorner.x;\n        int dyCCorner = dyRCCorner.y;\n\n        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < "+s+";\n            wR += "+a+") {\n          float dyR = float(dyRCorner + wR) / "+r+".0;\n\n          if (dyR < 0.0 || dyR >= "+e.outHeight+".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          for (int wC = 0; wC < "+l+";\n            wC+= "+o+") {\n            float dyC = float(dyCCorner + wC) / "+i+".0;\n\n            if (dyC < 0.0 || dyC >= "+e.outWidth+".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            float dyValue = getDy(b, idyR, idyC, d);\n\n            dotProd += dyValue * avgMultiplier;\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},wz=function(e){this.variableNames=["dy"],this.outputShape=e.inShape;var t=e.filterDepth,n=e.filterHeight,r=e.filterWidth,i=e.strideDepth,a=e.strideHeight,o=e.strideWidth,s=e.dilationDepth,l=e.dilationHeight,c=e.dilationWidth,u=e.effectiveFilterDepth,A=e.effectiveFilterHeight,d=e.effectiveFilterWidth,h=u-1-e.padInfo.front,f=A-1-e.padInfo.top,p=d-1-e.padInfo.left,g=1/(t*n*r);this.userCode="\n      const ivec3 pads = ivec3("+h+", "+f+", "+p+");\n      const float avgMultiplier = float("+g+");\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int ch = coords.u;\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyDCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        // Convolve dy(?, ?, ?, d) with pos mask(:, :, :, ch) to get\n        // dx(xD, xR, xC, ch).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int wD = 0; wD < "+u+";\n            wD += "+s+") {\n          float dyD = float(dyDCorner + wD) / "+i+".0;\n\n          if (dyD < 0.0 || dyD >= "+e.outDepth+".0 || fract(dyD) > 0.0) {\n            continue;\n          }\n          int idyD = int(dyD);\n\n          for (int wR = 0; wR < "+A+";\n              wR += "+l+") {\n            float dyR = float(dyRCorner + wR) / "+a+".0;\n\n            if (dyR < 0.0 || dyR >= "+e.outHeight+".0 ||\n                fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            for (int wC = 0; wC < "+d+";\n                wC += "+c+") {\n              float dyC = float(dyCCorner + wC) / "+o+".0;\n\n              if (dyC < 0.0 || dyC >= "+e.outWidth+".0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              float dyValue = getDy(batch, idyD, idyR, idyC, ch);\n\n              dotProd += dyValue * avgMultiplier;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},xz=function(e,t,n,r,i,a){this.outputShape=[],this.variableNames=["x","mean","variance"],bH(e,t),bH(e,n);var o="0.0";null!=r&&(bH(e,r),this.variableNames.push("offset"),o="getOffsetAtOutCoords()");var s="1.0";null!=i&&(bH(e,i),this.variableNames.push("scale"),s="getScaleAtOutCoords()"),this.outputShape=e,this.userCode="\n      void main() {\n        float x = getXAtOutCoords();\n        float mean = getMeanAtOutCoords();\n        float variance = getVarianceAtOutCoords();\n        float offset = "+o+";\n        float scale = "+s+";\n        float inv = scale * inversesqrt(variance + float("+a+"));\n        setOutput(dot(vec3(x, -mean, offset), vec3(inv, inv, 1)));\n      }\n    "},Bz=function(e,t,n,r,i,a){this.packedInputs=!0,this.packedOutput=!0,this.variableNames=["x","mean","variance"],bH(e,t),bH(e,n);var o="vec4(0.0)";null!=r&&(bH(e,r),this.variableNames.push("offset"),o="getOffsetAtOutCoords()");var s="vec4(1.0)";null!=i&&(bH(e,i),this.variableNames.push("scale"),s="getScaleAtOutCoords()"),this.outputShape=e,this.userCode="\n      void main() {\n        vec4 offset = "+o+";\n        vec4 scale = "+s+";\n\n        vec4 x = getXAtOutCoords();\n        vec4 mean = getMeanAtOutCoords();\n        vec4 variance = getVarianceAtOutCoords();\n\n        vec4 inv = scale * inversesqrt(variance + vec4("+a+"));\n\n        setOutput((x - mean) * inv + offset);\n      }\n    "},Cz=function(e,t,n){this.variableNames=["AReal","AImag","BReal","BImag"],this.outputShape=bH(t,n),this.userCode="\n      float binaryOpComplex(\n          float areal, float aimag, float breal, float bimag) {\n        "+e+"\n      }\n\n      void main() {\n        float areal = getARealAtOutCoords();\n        float aimag = getAImagAtOutCoords();\n        float breal = getBRealAtOutCoords();\n        float bimag = getBImagAtOutCoords();\n        setOutput(binaryOpComplex(areal, aimag, breal, bimag));\n      }\n    "},Nz="return a + b;",kz="return a - b;",_z="return a * b;",Ez="return (a < 0.) ? b * a : a;",Sz=function(e,t,n){this.variableNames=["A","B"],this.outputShape=bH(t,n),this.userCode="\n      float binaryOperation(float a, float b) {\n        "+e+"\n      }\n\n      void main() {\n        float a = getAAtOutCoords();\n        float b = getBAtOutCoords();\n        setOutput(binaryOperation(a, b));\n      }\n    "},Fz="\n  vec4 aLessThanZero = vec4(lessThan(a, vec4(0.)));\n  return (aLessThanZero * (b * a)) + ((vec4(1.0) - aLessThanZero) * a);\n",Iz=function(e,t,n,r){void 0===r&&(r=!1),this.variableNames=["A","B"],this.supportsBroadcasting=!0,this.packedInputs=!0,this.packedOutput=!0,this.outputShape=bH(t,n);var i=this.outputShape.length,a="";if(r)if(0===i||1===uT(this.outputShape))a="\n          result.y = 0.;\n          result.z = 0.;\n          result.w = 0.;\n        ";else if(a="\n          "+gz(i)+" coords = getOutputCoords();\n        ",1===i)a+="\n            result.y = (coords + 1) >= "+this.outputShape[0]+" ? 0. : result.y;\n            result.z = 0.;\n            result.w = 0.;\n          ";else{var o=nz("coords",i);a+="\n            bool nextRowOutOfBounds =\n              ("+o[i-2]+" + 1) >= "+this.outputShape[i-2]+";\n            bool nextColOutOfBounds =\n              ("+o[i-1]+" + 1) >= "+this.outputShape[i-1]+";\n            result.y = nextColOutOfBounds ? 0. : result.y;\n            result.z = nextRowOutOfBounds ? 0. : result.z;\n            result.w = nextColOutOfBounds || nextRowOutOfBounds ? 0. : result.w;\n          "}this.userCode="\n      vec4 binaryOperation(vec4 a, vec4 b) {\n        "+e+"\n      }\n\n      void main() {\n        vec4 a = getAAtOutCoords();\n        vec4 b = getBAtOutCoords();\n\n        vec4 result = binaryOperation(a, b);\n        "+a+"\n\n        setOutput(result);\n      }\n    "},jz=function(){function e(e){this.variableNames=["A"],this.outputShape=e,this.userCode="\n      uniform float minVal;\n      uniform float maxVal;\n\n      void main() {\n        float value = getAAtOutCoords();\n        if (isnan(value)) {\n          setOutput(value);\n          return;\n        }\n\n        setOutput(clamp(value, minVal, maxVal));\n      }\n    "}return e.prototype.getCustomSetupFunc=function(e,t){var n=this;return function(r,i){null==n.minLoc&&(n.minLoc=r.getUniformLocationNoThrow(i,"minVal"),n.maxLoc=r.getUniformLocationNoThrow(i,"maxVal")),r.gl.uniform1f(n.minLoc,e),r.gl.uniform1f(n.maxLoc,t)}},e}(),Uz=function(){function e(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.userCode="\n      uniform float minVal;\n      uniform float maxVal;\n\n      void main() {\n        vec4 value = getAAtOutCoords();\n\n        if (any(isnan(value))) {\n          setOutput(value);\n          return;\n        }\n\n        setOutput(clamp(value, vec4(minVal), vec4(maxVal)));\n      }\n    "}return e.prototype.getCustomSetupFunc=function(e,t){var n=this;return function(r,i){null==n.minLoc&&(n.minLoc=r.getUniformLocationNoThrow(i,"minVal"),n.maxLoc=r.getUniformLocationNoThrow(i,"maxVal")),r.gl.uniform1f(n.minLoc,e),r.gl.uniform1f(n.maxLoc,t)}},e}(),Oz=function(e){this.variableNames=["real","imag"],this.outputShape=e,this.userCode="\n      void main() {\n        float re = abs(getRealAtOutCoords());\n        float im = abs(getImagAtOutCoords());\n        float mx = max(re, im);\n\n        // sadly the length function in glsl is not underflow-safe\n        // (at least not on Intel GPUs). So the safe solution is\n        // to ensure underflow-safety in all cases.\n        setOutput(\n          mx == 0.0 ? 0.0 : mx * length(vec2(1, min(re, im)/mx))\n        );\n      }\n    "},Pz=function(e){this.outputShape=[],this.outputShape=QQ(e,1),this.variableNames=e.map(function(e,t){return"T"+t});var t=new Array(e.length-1);t[0]=e[0][1];for(var n=1;n<t.length;n++)t[n]=t[n-1]+e[n][1];var r=["if (yC < "+t[0]+") setOutput(getT0(yR, yC));"];for(n=1;n<t.length;n++){var i=t[n-1];r.push("else if (yC < "+t[n]+") setOutput(getT"+n+"(yR, yC-"+i+"));")}var a=t.length,o=t[t.length-1];r.push("else setOutput(getT"+a+"(yR, yC-"+o+"));"),this.userCode="\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int yR = coords.x;\n        int yC = coords.y;\n\n        "+r.join("\n        ")+"\n      }\n    "},Lz=function(e,t){this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[],this.outputShape=QQ(e,t);var n=this.outputShape,r=n.length,i=gz(r),a=nz("coords",r),o=["x","y","z","w","u","v"].slice(0,r);this.variableNames=e.map(function(e,t){return"T"+t});var s=new Array(e.length-1);s[0]=e[0][t];for(var l=1;l<s.length;l++)s[l]=s[l-1]+e[l][t];var c=o[t],u=o.slice(-2),A=o.join(),d="if ("+c+" < "+s[0]+") {\n        return getChannel(\n            getT0("+A+"), vec2("+u.join()+"));\n        }";for(l=1;l<s.length;l++){var h=s[l-1];d+="\n        if ("+c+" < "+s[l]+"  && "+c+" >= "+s[l-1]+") {\n          return getChannel(\n            getT"+l+"("+Dz(o,c,h)+"),\n            vec2("+Dz(u,c,h)+"));\n        }"}var f=s.length,p=s[s.length-1];d+="\n        return getChannel(\n          getT"+f+"("+Dz(o,c,p)+"),\n          vec2("+Dz(u,c,p)+"));",this.userCode="\n      float getValue("+o.map(function(e){return"int "+e})+") {\n        "+d+"\n      }\n\n      void main() {\n        "+i+" coords = getOutputCoords();\n        vec4 result = vec4(getValue("+a+"), 0., 0., 0.);\n\n        "+a[r-1]+" = "+a[r-1]+" + 1;\n        if ("+a[r-1]+" < "+n[r-1]+") {\n          result.g = getValue("+a+");\n        }\n\n        "+a[r-2]+" = "+a[r-2]+" + 1;\n        if ("+a[r-2]+" < "+n[r-2]+") {\n          result.a = getValue("+a+");\n        }\n\n        "+a[r-1]+" = "+a[r-1]+" - 1;\n        if ("+a[r-2]+" < "+n[r-2]+" &&\n            "+a[r-1]+" < "+n[r-1]+") {\n          result.b = getValue("+a+");\n        }\n        setOutput(result);\n      }\n    "};function Dz(e,t,n){var r=e.indexOf(t);return e.map(function(e,t){return t===r?e+" - "+n:e}).join()}var Tz=function(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;var t=e.strideHeight,n=e.strideWidth,r=e.padInfo.top,i=e.padInfo.left,a="channelsLast"===e.dataFormat;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int wR = coords.x;\n        int wC = coords.y;\n        int d1 = coords.z;\n        int d2 = coords.w;\n\n        // Convolve x(?, ?, d1) with dy(:, :, d2) to get dw(wR, wC, d1, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int b = 0; b < "+e.batchSize+"; b++) {\n          for (int yR = 0; yR < "+e.outHeight+"; yR++) {\n            int xR = wR + yR * "+t+" - "+r+";\n\n            if (xR < 0 || xR >= "+e.inHeight+") {\n              continue;\n            }\n\n            for (int yC = 0; yC < "+e.outWidth+"; yC++) {\n              int xC = wC + yC * "+n+" - "+i+";\n\n              if (xC < 0 || xC >= "+e.inWidth+") {\n                continue;\n              }\n\n              if ("+a+") {\n                float dyValue = getDy(b, yR, yC, d2);\n                float xValue = getX(b, xR, xC, d1);\n                dotProd += (xValue * dyValue);\n              } else {\n                float dyValue = getDy(b, d2, yR, yC);\n                float xValue = getX(b, d1, xR, xC);\n                dotProd += (xValue * dyValue);\n              }\n\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},Mz=function(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;var t=e.filterHeight,n=e.filterWidth,r=e.strideHeight,i=e.strideWidth,a="channelsLast"===e.dataFormat,o=t-1-e.padInfo.top,s=n-1-e.padInfo.left,l=a?1:2,c=a?2:3,u=a?3:1;this.userCode="\n      const ivec2 pads = ivec2("+o+", "+s+");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d1 = coords["+u+"];\n\n        ivec2 dyCorner = ivec2(coords["+l+"], coords["+c+"]) - pads;\n        int dyRCorner = dyCorner.x;\n        int dyCCorner = dyCorner.y;\n\n        // Convolve dy(?, ?, d2) with w(:, :, d1, d2) to compute dx(xR, xC, d1).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < "+t+"; wR++) {\n          float dyR = float(dyRCorner + wR) / "+r+".0;\n\n          if (dyR < 0.0 || dyR >= "+e.outHeight+".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          int wRPerm = "+t+" - 1 - wR;\n\n          for (int wC = 0; wC < "+n+"; wC++) {\n            float dyC = float(dyCCorner + wC) / "+i+".0;\n\n            if (dyC < 0.0 || dyC >= "+e.outWidth+".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            int wCPerm = "+n+" - 1 - wC;\n\n            for (int d2 = 0; d2 < "+e.outChannels+"; d2++) {\n\n              if ("+a+") {\n                float xValue = getDy(batch, idyR, idyC, d2);\n                float wValue = getW(wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              } else {\n                float xValue = getDy(batch, d2, idyR, idyC);\n                float wValue = getW(wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              }\n\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},Qz=function(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;var t=e.strideDepth,n=e.strideHeight,r=e.strideWidth,i=e.padInfo.front,a=e.padInfo.top,o=e.padInfo.left;this.userCode="\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int wF = coords.x;\n        int wR = coords.y;\n        int wC = coords.z;\n        int d1 = coords.w;\n        int d2 = coords.u;\n\n        float dotProd = 0.0;\n\n        for (int b = 0; b < "+e.batchSize+"; b++) {\n          for (int yF = 0; yF < "+e.outDepth+"; yF++) {\n            int xF = wF + yF * "+t+" - "+i+";\n\n            if (xF < 0 || xF >= "+e.inDepth+") {\n              continue;\n            }\n\n            for (int yR = 0; yR < "+e.outHeight+"; yR++) {\n              int xR = wR + yR * "+n+" - "+a+";\n\n              if (xR < 0 || xR >= "+e.inHeight+") {\n                continue;\n              }\n\n              for (int yC = 0; yC < "+e.outWidth+"; yC++) {\n                int xC = wC + yC * "+r+" - "+o+";\n\n                if (xC < 0 || xC >= "+e.inWidth+") {\n                  continue;\n                }\n\n                float dyValue = getDy(b, yF, yR, yC, d2);\n                float xValue = getX(b, xF, xR, xC, d1);\n                dotProd += (xValue * dyValue);\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},Rz=function(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;var t=e.filterDepth,n=e.filterHeight,r=e.filterWidth,i=e.strideDepth,a=e.strideHeight,o=e.strideWidth,s=t-1-e.padInfo.front,l=n-1-e.padInfo.top,c=r-1-e.padInfo.left;this.userCode="\n      const ivec3 pads = ivec3("+s+", "+l+", "+c+");\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int d1 = coords.u;\n\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyFCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        float dotProd = 0.0;\n        for (int wF = 0; wF < "+t+"; wF++) {\n          float dyF = float(dyFCorner + wF) / "+i+".0;\n\n          if (dyF < 0.0 || dyF >= "+e.outDepth+".0 || fract(dyF) > 0.0) {\n            continue;\n          }\n          int idyF = int(dyF);\n\n          int wFPerm = "+t+" - 1 - wF;\n\n          for (int wR = 0; wR < "+n+"; wR++) {\n            float dyR = float(dyRCorner + wR) / "+a+".0;\n\n            if (dyR < 0.0 || dyR >= "+e.outHeight+".0 ||\n              fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            int wRPerm = "+n+" - 1 - wR;\n\n            for (int wC = 0; wC < "+r+"; wC++) {\n              float dyC = float(dyCCorner + wC) / "+o+".0;\n\n              if (dyC < 0.0 || dyC >= "+e.outWidth+".0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              int wCPerm = "+r+" - 1 - wC;\n\n              for (int d2 = 0; d2 < "+e.outChannels+"; d2++) {\n                float xValue = getDy(batch, idyF, idyR, idyC, d2);\n                float wValue = getW(wFPerm, wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},Hz=function(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;var t=e.strideHeight,n=e.strideWidth,r=e.padInfo.top,i=e.padInfo.left,a=e.outChannels/e.inChannels;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int wR = coords.x;\n        int wC = coords.y;\n        int d1 = coords.z;\n        int dm = coords.w;\n        int d2 = d1 * "+a+" + dm;\n\n        float dotProd = 0.0;\n\n        // TO DO: Vec4 over the batch size\n        for (int b = 0; b < "+e.batchSize+"; b++) {\n          for (int yR = 0; yR < "+e.outHeight+"; yR++) {\n            int xR = wR + yR * "+t+" - "+r+";\n\n            if (xR < 0 || xR >= "+e.inHeight+") {\n              continue;\n            }\n\n            for (int yC = 0; yC < "+e.outWidth+"; yC++) {\n              int xC = wC + yC * "+n+" - "+i+";\n\n              if (xC < 0 || xC >= "+e.inWidth+") {\n                continue;\n              }\n\n              float dyValue = getDy(b, yR, yC, d2);\n              float xValue = getX(b, xR, xC, d1);\n              dotProd += (xValue * dyValue);\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},zz=function(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;var t=e.filterHeight,n=e.filterWidth,r=e.strideHeight,i=e.strideWidth,a=t-1-e.padInfo.top,o=n-1-e.padInfo.left,s=e.outChannels/e.inChannels;this.userCode="\n      const ivec2 pads = ivec2("+a+", "+o+");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d1 = coords[3];\n        ivec2 dyCorner = coords.yz - pads;\n        int dyRCorner = dyCorner.x;\n        int dyCCorner = dyCorner.y;\n\n        float dotProd = 0.0;\n\n        for (int wR = 0; wR < "+t+"; wR++) {\n          float dyR = float(dyRCorner + wR) / "+r+".0;\n\n          if (dyR < 0.0 || dyR >= "+e.outHeight+".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          int wRPerm = "+t+" - 1 - wR;\n\n          for (int wC = 0; wC < "+n+"; wC++) {\n            float dyC = float(dyCCorner + wC) / "+i+".0;\n\n            if (dyC < 0.0 || dyC >= "+e.outWidth+".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            int wCPerm = "+n+" - 1 - wC;\n\n            // TO DO: Vec4 over the channelMul\n            for (int dm = 0; dm < "+s+"; dm++) {\n              int d2 = d1 * "+s+" + dm;\n              float xValue = getDy(batch, idyR, idyC, d2);\n              float wValue = getW(wRPerm, wCPerm, d1, dm);\n              dotProd += xValue * wValue;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},Kz=function(e,t,n,r){void 0===t&&(t=!1),void 0===n&&(n=null),void 0===r&&(r=!1),this.variableNames=["x","W"],this.outputShape=e.outShape;var i=e.padInfo.top,a=e.padInfo.left,o=e.strideHeight,s=e.strideWidth,l=e.dilationHeight,c=e.dilationWidth,u=e.filterHeight,A=e.filterWidth,d=4*Math.floor(e.inChannels/4),h=e.inChannels%4,f="channelsLast"===e.dataFormat,p=f?1:2,g=f?2:3,m=f?3:1,v="",y="";n&&(v=r?"float activation(float a) {\n          float b = getPreluActivationWeightsAtOutCoords();\n          "+n+"\n        }":"\n          float activation(float x) {\n            "+n+"\n          }\n        ",y="result = activation(result);");var b=t?"result += getBiasAtOutCoords();":"";t&&this.variableNames.push("bias"),r&&this.variableNames.push("preluActivationWeights"),this.userCode="\n      "+v+"\n\n      const ivec2 strides = ivec2("+o+", "+s+");\n      const ivec2 pads = ivec2("+i+", "+a+");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d2 = coords["+m+"];\n\n        ivec2 xRCCorner =\n            ivec2(coords["+p+"], coords["+g+"]) * strides - pads;\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // Convolve x(?, ?, d1) with w(:, :, d1, d2) to get y(yR, yC, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < "+u+"; wR++) {\n          int xR = xRCorner + wR * "+l+";\n\n          if (xR < 0 || xR >= "+e.inHeight+") {\n            continue;\n          }\n\n          for (int wC = 0; wC < "+A+"; wC++) {\n            int xC = xCCorner + wC * "+c+";\n\n            if (xC < 0 || xC >= "+e.inWidth+") {\n              continue;\n            }\n\n            for (int d1 = 0; d1 < "+d+"; d1 += 4) {\n              vec4 wValues = vec4(\n                getW(wR, wC, d1, d2),\n                getW(wR, wC, d1 + 1, d2),\n                getW(wR, wC, d1 + 2, d2),\n                getW(wR, wC, d1 + 3, d2)\n              );\n\n              if ("+f+") {\n                vec4 xValues = vec4(\n                  getX(batch, xR, xC, d1),\n                  getX(batch, xR, xC, d1 + 1),\n                  getX(batch, xR, xC, d1 + 2),\n                  getX(batch, xR, xC, d1 + 3)\n                );\n                dotProd += dot(xValues, wValues);\n              } else {\n                vec4 xValues = vec4(\n                  getX(batch, d1, xR, xC),\n                  getX(batch, d1 + 1, xR, xC),\n                  getX(batch, d1 + 2, xR, xC),\n                  getX(batch, d1 + 3, xR, xC)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n            }\n\n            if ("+(1===h)+") {\n\n              if ("+f+") {\n                dotProd +=\n                    getX(batch, xR, xC, "+d+") *\n                    getW(wR, wC, "+d+", d2);\n              } else {\n                dotProd +=\n                    getX(batch, "+d+", xR, xC) *\n                    getW(wR, wC, "+d+", d2);\n              }\n\n            } else if ("+(2===h)+") {\n              vec2 wValues = vec2(\n                getW(wR, wC, "+d+", d2),\n                getW(wR, wC, "+d+" + 1, d2)\n              );\n\n              if ("+f+") {\n                vec2 xValues = vec2(\n                  getX(batch, xR, xC, "+d+"),\n                  getX(batch, xR, xC, "+d+" + 1)\n                );\n                dotProd += dot(xValues, wValues);\n              } else {\n                vec2 xValues = vec2(\n                  getX(batch, "+d+", xR, xC),\n                  getX(batch, "+d+" + 1, xR, xC)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n\n            } else if ("+(3===h)+") {\n              vec3 wValues = vec3(\n                getW(wR, wC, "+d+", d2),\n                getW(wR, wC, "+d+" + 1, d2),\n                getW(wR, wC, "+d+" + 2, d2)\n              );\n\n              if ("+f+") {\n                vec3 xValues = vec3(\n                  getX(batch, xR, xC, "+d+"),\n                  getX(batch, xR, xC, "+d+" + 1),\n                  getX(batch, xR, xC, "+d+" + 2)\n                );\n                dotProd += dot(xValues, wValues);\n              } else {\n                vec3 xValues = vec3(\n                  getX(batch, "+d+", xR, xC),\n                  getX(batch, "+d+" + 1, xR, xC),\n                  getX(batch, "+d+" + 2, xR, xC)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n\n            }\n          }\n        }\n\n        float result = dotProd;\n        "+b+"\n        "+y+"\n        setOutput(result);\n      }\n    "},Wz=function(e){this.variableNames=["x","W"],this.outputShape=e.outShape;var t=e.padInfo.front,n=e.padInfo.top,r=e.padInfo.left,i=e.strideDepth,a=e.strideHeight,o=e.strideWidth,s=e.dilationDepth,l=e.dilationHeight,c=e.dilationWidth,u=e.filterDepth,A=e.filterHeight,d=e.filterWidth,h=4*Math.floor(e.inChannels/4),f=e.inChannels%4;this.userCode="\n      const ivec3 strides = ivec3("+i+", "+a+", "+o+");\n      const ivec3 pads = ivec3("+t+", "+n+", "+r+");\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int d2 = coords.u;\n\n        ivec3 xFRCCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n        int xFCorner = xFRCCorner.x;\n        int xRCorner = xFRCCorner.y;\n        int xCCorner = xFRCCorner.z;\n\n        // Convolve x(?, ?, ?, d1) with w(:, :, :, d1, d2) to get\n        // y(yF, yR, yC, d2). ? = to be determined. : = across all\n        // values in that axis.\n        float dotProd = 0.0;\n        for (int wF = 0; wF < "+u+"; wF++) {\n          int xF = xFCorner + wF * "+s+";\n\n          if (xF < 0 || xF >= "+e.inDepth+") {\n            continue;\n          }\n\n          for (int wR = 0; wR < "+A+"; wR++) {\n            int xR = xRCorner + wR * "+l+";\n\n            if (xR < 0 || xR >= "+e.inHeight+") {\n              continue;\n            }\n\n            for (int wC = 0; wC < "+d+"; wC++) {\n              int xC = xCCorner + wC * "+c+";\n\n              if (xC < 0 || xC >= "+e.inWidth+") {\n                continue;\n              }\n\n              for (int d1 = 0; d1 < "+h+"; d1 += 4) {\n                vec4 xValues = vec4(\n                  getX(batch, xF, xR, xC, d1),\n                  getX(batch, xF, xR, xC, d1 + 1),\n                  getX(batch, xF, xR, xC, d1 + 2),\n                  getX(batch, xF, xR, xC, d1 + 3)\n                );\n                vec4 wValues = vec4(\n                  getW(wF, wR, wC, d1, d2),\n                  getW(wF, wR, wC, d1 + 1, d2),\n                  getW(wF, wR, wC, d1 + 2, d2),\n                  getW(wF, wR, wC, d1 + 3, d2)\n                );\n\n                dotProd += dot(xValues, wValues);\n              }\n\n              if ("+(1===f)+") {\n                dotProd +=\n                  getX(batch, xF, xR, xC, "+h+") *\n                  getW(wF, wR, wC, "+h+", d2);\n              } else if ("+(2===f)+") {\n                vec2 xValues = vec2(\n                  getX(batch, xF, xR, xC, "+h+"),\n                  getX(batch, xF, xR, xC, "+h+" + 1)\n                );\n                vec2 wValues = vec2(\n                  getW(wF, wR, wC, "+h+", d2),\n                  getW(wF, wR, wC, "+h+" + 1, d2)\n                );\n                dotProd += dot(xValues, wValues);\n              } else if ("+(3===f)+") {\n                vec3 xValues = vec3(\n                  getX(batch, xF, xR, xC, "+h+"),\n                  getX(batch, xF, xR, xC, "+h+" + 1),\n                  getX(batch, xF, xR, xC, "+h+" + 2)\n                );\n                vec3 wValues = vec3(\n                  getW(wF, wR, wC, "+h+", d2),\n                  getW(wF, wR, wC, "+h+" + 1, d2),\n                  getW(wF, wR, wC, "+h+" + 2, d2)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},Vz=function(e,t,n,r){void 0===t&&(t=!1),void 0===n&&(n=null),void 0===r&&(r=!1),this.variableNames=["x","W"],this.outputShape=e.outShape;var i=e.inHeight,a=e.inWidth,o=e.padInfo.top,s=e.padInfo.left,l=e.strideHeight,c=e.strideWidth,u=e.dilationHeight,A=e.dilationWidth,d=e.filterHeight,h=e.filterWidth,f=e.outChannels/e.inChannels,p="",g="";n&&(p=r?"float activation(float a) {\n          float b = getPreluActivationWeightsAtOutCoords();\n          "+n+"\n        }":"\n          float activation(float x) {\n            "+n+"\n          }\n        ",g="result = activation(result);");var m=t?"result += getBiasAtOutCoords();":"";t&&this.variableNames.push("bias"),r&&this.variableNames.push("preluActivationWeights"),this.userCode="\n      "+p+"\n\n      const ivec2 strides = ivec2("+l+", "+c+");\n      const ivec2 pads = ivec2("+o+", "+s+");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords.x;\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int d2 = coords.w;\n        int d1 = d2 / "+f+";\n        int q = d2 - d1 * "+f+";\n\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // Convolve x(?, ?, d1) with w(:, :, d1, q) to get y(yR, yC, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        // TO DO(dsmilkov): Flatten the two for loops and vec4 the operations.\n        for (int wR = 0; wR < "+d+"; wR++) {\n          int xR = xRCorner + wR * "+u+";\n\n          if (xR < 0 || xR >= "+i+") {\n            continue;\n          }\n\n          for (int wC = 0; wC < "+h+"; wC++) {\n            int xC = xCCorner + wC * "+A+";\n\n            if (xC < 0 || xC >= "+a+") {\n              continue;\n            }\n\n            float xVal = getX(batch, xR, xC, d1);\n            float wVal = getW(wR, wC, d1, q);\n            dotProd += xVal * wVal;\n          }\n        }\n\n        float result = dotProd;\n        "+m+"\n        "+g+"\n        setOutput(result);\n      }\n    "},Gz=function(e,t,n,r){void 0===t&&(t=!1),void 0===n&&(n=null),void 0===r&&(r=!1),this.variableNames=["x","W"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e.outShape;for(var i=e.inHeight,a=e.inWidth,o=e.padInfo.top,s=e.padInfo.left,l=e.strideHeight,c=e.strideWidth,u=e.dilationHeight,A=e.dilationWidth,d=e.filterHeight,h=e.filterWidth,f=h,p="int xR; int xC; int xCOffset;",g=0;g<d;g++)for(var m=0;m<h;m++)p+="\n          vec4 xTexelR"+g+"C"+2*m+" = vec4(0.);\n          vec4 wR"+g+"C"+m+" = vec4(0.);\n          vec4 xR"+g+"C"+m+" = vec4(0.);";for(g=0;g<d;g++)for(var v=0;v<f;v++){if(p+="\n          xR = xRCorner + "+g*u+";\n          xC = xCCorner + "+(m=2*v)*A+";\n        ",1===c){if(m<h&&(p+=s%2==1?"\n                xCOffset = xC + 1;\n                if(xR >= 0 && xR < "+i+" && xCOffset >= 0 && xCOffset < "+a+") {\n                  xTexelR"+g+"C"+m+" = getX(batch, xR, xCOffset, d1);\n\n                  // Need to manually clear unused channels in case\n                  // we're reading from recycled texture.\n                  if(xCOffset + 1 >= "+a+") {\n                    xTexelR"+g+"C"+m+".zw = vec2(0.);\n                  }\n                } else {\n                  xTexelR"+g+"C"+m+" = vec4(0.);\n                }\n\n                xCOffset = xC + 1 - 2;\n                if(xR >= 0 && xR < "+i+" && xCOffset >= 0 && xCOffset < "+a+") {\n                  vec4 previous = getX(batch, xR, xCOffset, d1);\n\n                  // Need to manually clear unused channels in case\n                  // we're reading from recycled texture.\n                  if(xCOffset + 1 >= "+a+") {\n                    previous.zw = vec2(0.);\n                  }\n\n                  xR"+g+"C"+m+" = vec4(previous.zw, xTexelR"+g+"C"+m+".xy);\n                } else {\n                  xR"+g+"C"+m+" = vec4(0, 0, xTexelR"+g+"C"+m+".xy);\n                }\n              ":"\n                if(xR >= 0 && xR < "+i+" && xC >= 0 && xC < "+a+") {\n                  xTexelR"+g+"C"+m+" = getX(batch, xR, xC, d1);\n                } else {\n                  xTexelR"+g+"C"+m+" = vec4(0.);\n                }\n\n                xR"+g+"C"+m+" = xTexelR"+g+"C"+m+";\n              ",m+1<h)){var y=s%2==0?iT(A):A;A%2==0&&s%2==1||A%2!=0&&s%2!=1?(p+="\n                  xCOffset = xC + "+s%2+" + "+y+";\n\n                  if(xR >= 0 && xR < "+i+" &&\n                    xCOffset >= 0 && xCOffset < "+a+") {\n                    xTexelR"+g+"C"+(m+2)+" = getX(batch, xR, xCOffset, d1);\n                  }\n                ",A>1&&(p+="\n                    xCOffset -= 2;\n                    if(xR >= 0 && xR < "+i+" &&\n                      xCOffset >= 0 && xCOffset < "+a+") {\n                      xTexelR"+g+"C"+m+" = getX(batch, xR, xCOffset, d1);\n                    } else {\n                      xTexelR"+g+"C"+m+" = vec4(0.);\n                    }\n                  "),p+="\n                  xR"+g+"C"+(m+1)+" = vec4(\n                    xTexelR"+g+"C"+m+".zw, xTexelR"+g+"C"+(m+2)+".xy);\n                "):p+="\n                  xCOffset = xC + "+y+";\n\n                  if(xR >= 0 && xR < "+i+" &&\n                    xCOffset >= 0 && xCOffset < "+a+") {\n                    xTexelR"+g+"C"+(m+2)+" = getX(batch, xR, xCOffset, d1);\n                  }\n\n                  xR"+g+"C"+(m+1)+" = xTexelR"+g+"C"+(m+2)+";\n                "}}else m<h&&(p+="\n              if(xR >= 0 && xR < "+i+") {\n            ",s%2==1?(p+="\n                xCOffset = xC + 1 - "+c+";\n                if(xCOffset >= 0 && xCOffset < "+a+") {\n                  xTexelR"+g+"C"+m+" = getX(batch, xR, xCOffset, d1);\n                } else {\n                  xTexelR"+g+"C"+m+" = vec4(0.);\n                }\n\n                if(xC + 1 >= 0 && xC + 1 < "+a+") {\n                  xTexelR"+g+"C"+(m+2)+" = getX(batch, xR, xC + 1, d1);\n                } else {\n                  xTexelR"+g+"C"+(m+2)+" = vec4(0.);\n                }\n\n                xR"+g+"C"+m+" = vec4(\n                  xTexelR"+g+"C"+m+".zw, xTexelR"+g+"C"+(m+2)+".zw);\n              ",m+1<h&&(p+="\n                  vec4 final = vec4(0.);\n                  xCOffset = xC + 1 + "+c+";\n                  if(xCOffset >= 0 && xCOffset < "+a+") {\n                    final = getX(batch, xR, xCOffset, d1);\n                  }\n                  xR"+g+"C"+(m+1)+" = vec4(xTexelR"+g+"C"+(m+2)+".xy, final.xy);\n                ")):(p+="\n                if(xC >= 0 && xC < "+a+") {\n                  xTexelR"+g+"C"+m+" = getX(batch, xR, xC, d1);\n                } else {\n                  xTexelR"+g+"C"+m+" = vec4(0.);\n                }\n\n                xCOffset = xC + "+c+";\n                if(xCOffset >= 0 && xCOffset < "+a+") {\n                  xTexelR"+g+"C"+(m+2)+" = getX(batch, xR, xCOffset, d1);\n                } else {\n                  xTexelR"+g+"C"+(m+2)+" = vec4(0.);\n                }\n\n                xR"+g+"C"+m+" = vec4(\n                  xTexelR"+g+"C"+m+".xy, xTexelR"+g+"C"+(m+2)+".xy);\n              ",m+1<h&&(p+="\n                  xR"+g+"C"+(m+1)+" = vec4(\n                    xTexelR"+g+"C"+m+".zw, xTexelR"+g+"C"+(m+2)+".zw);\n                ")),p+="}");m<h&&(p+="\n            vec4 wTexelR"+g+"C"+m+" = getW("+g+", "+m+", d1, q);\n            wR"+g+"C"+m+" = vec4(wTexelR"+g+"C"+m+".xz, wTexelR"+g+"C"+m+".xz);\n          ",m+1<h&&(p+="\n              vec4 wTexelR"+g+"C"+(m+1)+" = getW("+g+", "+(m+1)+", d1, q);\n              wR"+g+"C"+(m+1)+" =\n                vec4(wTexelR"+g+"C"+(m+1)+".xz, wTexelR"+g+"C"+(m+1)+".xz);"))}for(g=0;g<d;g++)for(m=0;m<h;m++)p+="dotProd += xR"+g+"C"+m+" * wR"+g+"C"+m+";";var b="",w="";n&&(b=r?"vec4 activation(vec4 a) {\n          vec4 b = getPreluActivationWeightsAtOutCoords();\n          "+n+"\n        }":"vec4 activation(vec4 x) {\n          "+n+"\n        }",w="result = activation(result);");var x=t?"result += getBiasAtOutCoords();":"";t&&this.variableNames.push("bias"),r&&this.variableNames.push("preluActivationWeights"),this.userCode="\n      "+b+"\n\n      const ivec2 strides = ivec2("+l+", "+c+");\n      const ivec2 pads = ivec2("+o+", "+s+");\n\n      void main() {\n\n        ivec4 coords = getOutputCoords();\n        int batch = coords.x;\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int d2 = coords.w;\n        int d1 = d2;\n        int q = 0;\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        vec4 dotProd = vec4(0.);\n\n        "+p+"\n\n        vec4 result = dotProd;\n        "+x+"\n        "+w+"\n        setOutput(result);\n      }\n    "},qz=function(e,t,n,r,i){this.variableNames=["Image","Boxes","BoxInd"],this.outputShape=[];var a=e[0],o=e[1],s=e[2],l=e[3],c=t[0],u=n[0],A=n[1];this.outputShape=[c,u,A,l];var d="bilinear"===r?1:0,h=[o-1+".0",s-1+".0"],f=h[0],p=h[1],g=u>1?[""+(o-1)/(u-1),"(y2-y1) * height_ratio","y1*"+f+" + float(y)*(height_scale)"]:["0.0","0.0","0.5 * (y1+y2) * "+f],m=g[0],v=g[1],y=g[2],b=A>1?[""+(s-1)/(A-1),"(x2-x1) * width_ratio","x1*"+p+" + float(x)*(width_scale)"]:["0.0","0.0","0.5 * (x1+x2) * "+p],w=b[0],x=b[1],B=b[2];this.userCode="\n      const float height_ratio = float("+m+");\n      const float width_ratio = float("+w+");\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int y = coords[1];\n        int x = coords[2];\n        int d = coords[3];\n\n        // get box vals\n        float y1 = getBoxes(b,0);\n        float x1 = getBoxes(b,1);\n        float y2 = getBoxes(b,2);\n        float x2 = getBoxes(b,3);\n\n        // get image in batch index\n        int bInd = round(getBoxInd(b));\n        if(bInd < 0 || bInd >= "+a+") {\n          return;\n        }\n\n        float height_scale = "+v+";\n        float width_scale = "+x+";\n\n        float in_y = "+y+";\n        if( in_y < 0.0 || in_y > "+f+" ) {\n          setOutput(float("+i+"));\n          return;\n        }\n        float in_x = "+B+";\n        if( in_x < 0.0 || in_x > "+p+" ) {\n          setOutput(float("+i+"));\n          return;\n        }\n\n        vec2 sourceFracIndexCR = vec2(in_x,in_y);\n        if("+d+" == 1) {\n          // Compute the four integer indices.\n          ivec2 sourceFloorCR = ivec2(sourceFracIndexCR);\n          ivec2 sourceCeilCR = ivec2(ceil(sourceFracIndexCR));\n\n          float topLeft = getImage(b, sourceFloorCR.y, sourceFloorCR.x, d);\n          float bottomLeft = getImage(b, sourceCeilCR.y, sourceFloorCR.x, d);\n          float topRight = getImage(b, sourceFloorCR.y, sourceCeilCR.x, d);\n          float bottomRight = getImage(b, sourceCeilCR.y, sourceCeilCR.x, d);\n\n          vec2 fracCR = sourceFracIndexCR - vec2(sourceFloorCR);\n\n          float top = topLeft + (topRight - topLeft) * fracCR.x;\n          float bottom = bottomLeft + (bottomRight - bottomLeft) * fracCR.x;\n          float newValue = top + (bottom - top) * fracCR.y;\n          setOutput(newValue);\n        } else {\n          // Compute the coordinators of nearest neighbor point.\n          ivec2 sourceNearestCR = ivec2(floor(\n            sourceFracIndexCR + vec2(0.5,0.5)));\n          float newValue = getImage(b, sourceNearestCR.y, sourceNearestCR.x, d);\n          setOutput(newValue);\n        }\n      }\n    "},Xz=function(e,t,n){this.variableNames=["x"],this.outputShape=e;var r=e.length,i=e[e.length-1],a=n?"<":">";this.userCode="\n      int getIndex(int i) {\n        "+(n?"return "+i+" -i - 1;":"return i;")+"\n      }\n\n      void main() {\n        "+gz(r)+" coords = getOutputCoords();\n        int end = "+Yz(r,"coords")+";\n        float val = 0.0;\n        for (int i = "+i+" - 1; i >= 0; i -= 1) {\n          int idx = getIndex(i);\n          if (idx "+a+" end) {\n            continue;\n          }\n          if (idx == end && "+t+") {\n            continue;\n          }\n          "+Yz(r,"coords")+" = idx;\n          val += getX("+function(e,t){if(1===e)return""+t;if(2===e)return t+".x, "+t+".y";if(3===e)return t+".x, "+t+".y, "+t+".z";if(4===e)return t+".x, "+t+".y, "+t+".z, "+t+".w";throw Error("Cumulative sum for rank "+e+" is not yet supported")}(r,"coords")+");\n        }\n        setOutput(val);\n      }\n    "};function Yz(e,t){if(1===e)return""+t;if(2===e)return t+".y";if(3===e)return t+".z";if(4===e)return t+".w";throw Error("Cumulative sum for rank "+e+" is not yet supported")}var Jz=function(e){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outPackingScheme=yM.DENSE;var t=_M(e),n=rz();this.outputShape=e,this.userCode="\n      ivec3 outCoordsFromFlatIndex(int index) {\n        "+iz(["r","c","d"],e)+"\n        return ivec3(r, c, d);\n      }\n\n      void main() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n          vec2("+t[0]+", "+t[1]+"));\n        int index = 4 * (resTexRC.x * "+t[1]+" + resTexRC.y);\n\n        vec4 result = vec4(0.);\n\n        for (int i=0; i<4; i++) {\n          int flatIndex = index + i;\n          ivec3 rc = outCoordsFromFlatIndex(flatIndex);\n          result[i] = getA(rc.x, rc.y, rc.z);\n        }\n\n        "+n.output+" = result;\n      }\n    "},Zz=function(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outPackingScheme=yM.DENSE;var t=_M(e),n=rz();this.outputShape=e,this.userCode="\n      ivec3 outCoordsFromFlatIndex(int index) {\n        "+iz(["r","c","d"],e)+"\n        return ivec3(r, c, d);\n      }\n\n      void main() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n          vec2("+t[0]+", "+t[1]+"));\n        int index = 4 * (resTexRC.x * "+t[1]+" + resTexRC.y);\n\n        vec4 result = vec4(0.);\n\n        for (int i=0; i<4; i++) {\n          int flatIndex = index + i;\n          ivec3 rc = outCoordsFromFlatIndex(flatIndex);\n          result[i] = getChannel(getA(rc.x, rc.y, rc.z), vec2(rc.y, rc.z));\n        }\n\n        "+n.output+" = result;\n      }\n    "},$z=function(){function e(e,t,n){this.variableNames=["x"],this.outputShape=[],this.outputShape=e,this.blockSize=t,this.dataFormat=n,this.userCode="\n    void main() {\n      ivec4 coords = getOutputCoords();\n      int b = coords[0];\n      int h = "+this.getHeightCoordString()+";\n      int w = "+this.getWidthCoordString()+";\n      int d = "+this.getDepthCoordString()+";\n\n      int in_h = h / "+t+";\n      int offset_h = imod(h, "+t+");\n      int in_w = w / "+t+";\n      int offset_w = imod(w, "+t+");\n      int offset_d = (offset_h * "+t+" + offset_w) *\n        "+this.getOutputDepthSize()+";\n      int in_d = d + offset_d;\n\n      float result = "+this.getInputSamplingString()+";\n      setOutput(result);\n    }\n  "}return e.prototype.getHeightCoordString=function(){return"NHWC"===this.dataFormat?"coords[1]":"coords[2]"},e.prototype.getWidthCoordString=function(){return"NHWC"===this.dataFormat?"coords[2]":"coords[3]"},e.prototype.getDepthCoordString=function(){return"NHWC"===this.dataFormat?"coords[3]":"coords[1]"},e.prototype.getOutputDepthSize=function(){return"NHWC"===this.dataFormat?this.outputShape[3]:this.outputShape[1]},e.prototype.getInputSamplingString=function(){return"NHWC"===this.dataFormat?"getX(b, in_h, in_w, in_d)":"getX(b, in_d, in_h, in_w)"},e}(),eK=function(e){this.variableNames=["X"],this.outputShape=[e,e],this.userCode="\n      void main() {\n          ivec2 coords = getOutputCoords();\n          float val = coords[0] == coords[1] ? getX(coords[0]) : 0.0;\n          setOutput(val);\n      }\n    "},tK=function(e){this.variableNames=["A"],this.outTexUsage=bM.DOWNLOAD;var t=rz();this.outputShape=e,this.userCode="\n      "+oz+"\n\n      void main() {\n        float x = getAAtOutCoords();\n        "+t.output+" = encode_float(x);\n      }\n    "},nK=function(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outTexUsage=bM.DOWNLOAD;var t=rz();this.outputShape=e,this.userCode="\n      "+oz+"\n\n      void main() {\n        ivec3 coords = getOutputCoords();\n        float x = getChannel(getAAtOutCoords(), vec2(coords.y, coords.z));\n        "+t.output+" = encode_float(x);\n      }\n    "},rK=function(e,t,n){void 0===n&&(n=!1),this.variableNames=["A"];var r=rz(),i=t[0],a=t[1];this.outputShape=e;var o="result";n&&(o="floor(result * 255. + 0.5)"),this.userCode="\n      "+az(e)+"\n\n      void main() {\n        ivec3 coords = getOutputCoords();\n\n        int flatIndex = getFlatIndex(coords);\n        int offset = imod(flatIndex, 4);\n\n        flatIndex = idiv(flatIndex, 4, 1.);\n        \n        int r = flatIndex / "+a+";\n        int c = imod(flatIndex, "+a+");\n        vec2 uv = (vec2(c, r) + halfCR) / vec2("+a+".0, "+i+".0);\n        vec4 values = "+r.texture2D+"(A, uv);\n\n        float result;\n\n        if(offset == 0) {\n          result = values[0];\n        } else if(offset == 1) {\n          result = values[1];\n        } else if(offset == 2) {\n          result = values[2];\n        } else {\n          result = values[3];\n        }\n\n        "+r.output+" = vec4("+o+", 0., 0., 0.);\n      }\n    "},iK=function(e,t,n){void 0===n&&(n=!1),this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0;var r=rz(),i=t[0],a=t[1];this.outputShape=e;var o="",s="result";n&&(s="floor(result * 255. + 0.5)");for(var l=0;l<=1;l++)for(var c=0;c<=1;c++){var u=2*l+c;o+="\n          localCoords = coords;\n          if(localCoords[2] + "+c+" < "+e[2]+") {\n            localCoords[2] += "+c+";\n            if(localCoords[1] + "+l+" < "+e[1]+") {\n              localCoords[1] += "+l+";\n\n              flatIndex = getFlatIndex(localCoords);\n              offset = imod(flatIndex, 4);\n\n              flatIndex = idiv(flatIndex, 4, 1.);\n\n              r = flatIndex / "+a+";\n              c = imod(flatIndex, "+a+");\n              uv = (vec2(c, r) + halfCR) / vec2("+a+".0, "+i+".0);\n              values = "+r.texture2D+"(A, uv);\n\n              if(offset == 0) {\n                result["+u+"] = values[0];\n              } else if(offset == 1) {\n                result["+u+"] = values[1];\n              } else if(offset == 2) {\n                result["+u+"] = values[2];\n              } else {\n                result["+u+"] = values[3];\n              }\n            }\n          }\n        "}this.userCode="\n      "+az(e)+"\n\n      void main() {\n        ivec3 coords = getOutputCoords();\n\n        vec4 result = vec4(0.);\n        int flatIndex, r, c, offset;\n        ivec3 localCoords;\n        vec2 uv;\n        vec4 values;\n\n        "+o+"\n\n        "+r.output+" = "+s+";\n      }\n    "},aK=function(e,t,n){this.variableNames=["real","imag"];var r=t[1];this.outputShape=t;var i=n?"2.0 * "+Math.PI:"-2.0 * "+Math.PI,a=n?r+".0":"1.0";this.userCode="\n      const float exponentMultiplier = "+i+";\n\n      float unaryOpComplex(float real, float expR, float imag, float expI) {\n        "+e+"\n      }\n\n      float mulMatDFT(int batch, int index) {\n        float indexRatio = float(index) / float("+r+");\n        float exponentMultiplierTimesIndexRatio =\n            exponentMultiplier * indexRatio;\n\n        float result = 0.0;\n\n        for (int i = 0; i < "+r+"; i++) {\n          // x = (-2|2 * PI / N) * index * i;\n          float x = exponentMultiplierTimesIndexRatio * float(i);\n          float expR = cos(x);\n          float expI = sin(x);\n          float real = getReal(batch, i);\n          float imag = getImag(batch, i);\n\n          result +=\n              unaryOpComplex(real, expR, imag, expI) / "+a+";\n        }\n\n        return result;\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        setOutput(mulMatDFT(coords[0], coords[1]));\n      }\n    "},oK=function(){function e(e,t){this.outputShape=[],this.variableNames=["x"],this.outputShape=e,this.userCode="\n      uniform float value;\n      void main() {\n        // Input can be obtained from uniform value.\n        setOutput(value);\n      }\n    "}return e.prototype.getCustomSetupFunc=function(e){var t=this;return function(n,r){null==t.valueLoc&&(t.valueLoc=n.getUniformLocationNoThrow(r,"value")),n.gl.uniform1f(t.valueLoc,e)}},e}(),sK=function(e,t,n){this.variableNames=["A","indices"];var r=e.slice();r[n]=t,this.outputShape=r,this.rank=r.length;var i=gz(this.rank),a=function(e,t){var n=e.length;if(n>4)throw Error("Gather for rank "+n+" is not yet supported");if(1===n)return"int(getIndices(resRC))";for(var r=["resRC.x","resRC.y","resRC.z","resRC.w"],i=[],a=0;a<e.length;a++)a===t?i.push("int(getIndices("+r[a]+"))"):i.push(""+r[a]);return i.join()}(e,n);this.userCode="\n      void main() {\n        "+i+" resRC = getOutputCoords();\n        setOutput(getA("+a+"));\n      }\n    "},lK=function(e,t,n){this.sliceDim=e,this.strides=t,this.variableNames=["x","indices"],this.outputShape=n;var r=gz(t.length),i=gz(n.length),a=this.sliceDim>1?"strides[j]":"strides";this.userCode="\n        "+r+" strides = "+r+"("+this.strides+");\n         void main() {\n          "+i+" coords = getOutputCoords();\n          int flattenIndex = 0;\n          for (int j = 0; j < "+this.sliceDim+"; j++) {\n            int index = round(getIndices(coords[0], j));\n            flattenIndex += index * "+a+";\n          }\n          setOutput(getX(flattenIndex, coords[1]));\n        }\n      "};function cK(e,t){var n=rz();return OM(e,t,n.version+"\n    precision highp float;\n    "+n.attribute+" vec3 clipSpacePos;\n    "+n.attribute+" vec2 uv;\n    "+n.varyingVs+" vec2 resultUV;\n\n    void main() {\n      gl_Position = vec4(clipSpacePos, 1);\n      resultUV = uv;\n    }")}function uK(e,t){return HM(e,t,new Float32Array([-1,1,0,0,1,-1,-1,0,0,0,1,1,0,1,1,1,-1,0,1,0]))}function AK(e,t){return zM(e,t,new Uint16Array([0,1,2,2,1,3]))}function dK(e,t,n,r,i,a,o){WM(n,r);var s=KM(e,t),l=e.TEXTURE_2D;return FM(e,t,function(){return e.bindTexture(l,s)}),FM(e,t,function(){return e.texParameteri(l,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE)}),FM(e,t,function(){return e.texParameteri(l,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE)}),FM(e,t,function(){return e.texParameteri(l,e.TEXTURE_MIN_FILTER,e.NEAREST)}),FM(e,t,function(){return e.texParameteri(l,e.TEXTURE_MAG_FILTER,e.NEAREST)}),FM(e,t,function(){return e.texImage2D(l,0,i,n,r,0,a,o,null)}),FM(e,t,function(){return e.bindTexture(e.TEXTURE_2D,null)}),s}function hK(e,t,n,r,i){var a=kM(n,r);return dK(e,t,a[0],a[1],i.internalFormatFloat,i.textureFormatFloat,e.FLOAT)}function fK(e,t,n,r,i){var a=kM(n,r);return dK(e,t,a[0],a[1],i.internalFormatHalfFloat,i.textureFormatFloat,i.textureTypeHalfFloat)}function pK(e,t,n,r,i){var a=kM(n,r);return dK(e,t,a[0],a[1],e.RGBA,e.RGBA,e.UNSIGNED_BYTE)}function gK(e,t,n,r,i){var a=EM(n,r);return dK(e,t,a[0],a[1],i.internalFormatPackedFloat,e.RGBA,e.FLOAT)}function mK(e,t,n,r,i){var a=EM(n,r);return dK(e,t,a[0],a[1],i.internalFormatPackedHalfFloat,e.RGBA,i.textureTypeHalfFloat)}function vK(e,t,n,r){return FM(e,t,function(){return e.bindBuffer(e.ARRAY_BUFFER,r)}),GM(e,t,n,"clipSpacePos",r,3,20,0)&&GM(e,t,n,"uv",r,2,20,12)}function yK(e,t,n,r,i,a,o){var s,l,c;FM(e,t,function(){return e.bindTexture(e.TEXTURE_2D,n)}),a instanceof Uint8Array?(s=new Uint8Array(r*i*4),l=e.UNSIGNED_BYTE,c=e.RGBA):(s=new Float32Array(r*i*4),l=e.FLOAT,c=o.internalFormatPackedFloat),s.set(a),FM(e,t,function(){return e.texImage2D(e.TEXTURE_2D,0,c,r,i,0,e.RGBA,l,s)}),FM(e,t,function(){return e.bindTexture(e.TEXTURE_2D,null)})}function bK(e,t,n,r){FM(e,t,function(){return e.bindTexture(e.TEXTURE_2D,n)}),r.data instanceof Uint8Array?FM(e,t,function(){return e.texImage2D(e.TEXTURE_2D,0,e.RGBA,r.width,r.height,0,e.RGBA,e.UNSIGNED_BYTE,r.data)}):FM(e,t,function(){return e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,r)}),FM(e,t,function(){return e.bindTexture(e.TEXTURE_2D,null)})}function wK(e,t,n,r,i){var a=e.createBuffer();FM(e,t,function(){return e.bindBuffer(e.PIXEL_PACK_BUFFER,a)});var o=16*n*r;return FM(e,t,function(){return e.bufferData(e.PIXEL_PACK_BUFFER,o,e.STREAM_READ)}),FM(e,t,function(){return e.readPixels(0,0,r,n,e.RGBA,e.FLOAT,0)}),FM(e,t,function(){return e.bindBuffer(e.PIXEL_PACK_BUFFER,null)}),a}function xK(e,t,n){var r=e,i=new Float32Array(n);return r.bindBuffer(r.PIXEL_PACK_BUFFER,t),r.getBufferSubData(r.PIXEL_PACK_BUFFER,0,i),r.bindBuffer(r.PIXEL_PACK_BUFFER,null),i}function BK(e,t,n,r,i){var a=kM(n,r),o=a[0],s=a[1],l=new Uint8Array(n*r*4);return FM(e,t,function(){return e.readPixels(0,0,o,s,i.downloadTextureFormat,e.UNSIGNED_BYTE,l)}),new Float32Array(l.buffer)}function CK(e,t,n,r,i,a,o,s){var l=e,c=new Float32Array(function(e,t){var n=EM(e,t);return n[0]*n[1]*4}(a,o));return l.bindBuffer(l.PIXEL_PACK_BUFFER,t),l.getBufferSubData(l.PIXEL_PACK_BUFFER,0,c),l.bindBuffer(l.PIXEL_PACK_BUFFER,null),c}function NK(e,t,n,r){var i=new Float32Array(n*r*4);return FM(e,t,function(){return e.readPixels(0,0,r,n,e.RGBA,e.FLOAT,i)}),i}var kK=Object.freeze({createVertexShader:cK,createVertexBuffer:uK,createIndexBuffer:AK,createFloat32MatrixTexture:hK,createFloat16MatrixTexture:fK,createUnsignedBytesMatrixTexture:pK,createPackedMatrixTexture:gK,createFloat16PackedMatrixTexture:mK,bindVertexProgramAttributeStreams:vK,uploadDenseMatrixToTexture:yK,uploadPixelDataToTexture:bK,createBufferFromOutputTexture:wK,downloadFloat32MatrixFromBuffer:xK,downloadByteEncodedFloatMatrixFromOutputTexture:BK,downloadPackedMatrixFromBuffer:CK,downloadMatrixFromPackedOutputTexture:NK}),_K=function(){function e(e){this.outputTexture=null,this.program=null,this.disposed=!1,this.vertexAttrsAreBound=!1,this.itemsToPoll=[];var t=GD().getNumber("WEBGL_VERSION");null!=e?(this.gl=e,CM(t,e)):this.gl=NM(t);var n="WEBGL_color_buffer_float";if(1===GD().getNumber("WEBGL_VERSION")){if(this.textureFloatExtension=UM(this.gl,this.debug,"OES_texture_float"),hQ(this.gl,"OES_texture_half_float"))this.textureHalfFloatExtension=UM(this.gl,this.debug,"OES_texture_half_float");else if(GD().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support half float textures, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.");if(this.colorBufferFloatExtension=this.gl.getExtension(n),hQ(this.gl,"EXT_color_buffer_half_float"))this.colorBufferHalfFloatExtension=UM(this.gl,this.debug,"EXT_color_buffer_half_float");else if(GD().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support color renderable half floats, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.")}else if(n="EXT_color_buffer_float",hQ(this.gl,n))this.colorBufferFloatExtension=this.gl.getExtension(n);else{if(!hQ(this.gl,"EXT_color_buffer_half_float"))throw new Error("GL context does not support color renderable floats");this.colorBufferHalfFloatExtension=this.gl.getExtension("EXT_color_buffer_half_float")}this.vertexBuffer=uK(this.gl,this.debug),this.indexBuffer=AK(this.gl,this.debug),this.framebuffer=VM(this.gl,this.debug),this.textureConfig=SM(this.gl,this.textureHalfFloatExtension)}return Object.defineProperty(e.prototype,"debug",{get:function(){return GD().getBool("DEBUG")},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){var e=this;if(!this.disposed){null!=this.program&&console.warn("Disposing a GPGPUContext that still has a bound WebGLProgram. This is probably a resource leak, delete the program with GPGPUContext.deleteProgram before disposing."),null!=this.outputTexture&&console.warn("Disposing a GPGPUContext that still has a bound output matrix texture.  This is probably a resource leak, delete the output matrix texture with GPGPUContext.deleteMatrixTexture before disposing.");var t=this.gl;FM(t,this.debug,function(){return t.finish()}),FM(t,this.debug,function(){return t.bindFramebuffer(t.FRAMEBUFFER,null)}),FM(t,this.debug,function(){return t.deleteFramebuffer(e.framebuffer)}),FM(t,this.debug,function(){return t.bindBuffer(t.ARRAY_BUFFER,null)}),FM(t,this.debug,function(){return t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,null)}),FM(t,this.debug,function(){return t.deleteBuffer(e.indexBuffer)}),this.disposed=!0}},e.prototype.createFloat32MatrixTexture=function(e,t){return this.throwIfDisposed(),hK(this.gl,this.debug,e,t,this.textureConfig)},e.prototype.createFloat16MatrixTexture=function(e,t){return this.throwIfDisposed(),fK(this.gl,this.debug,e,t,this.textureConfig)},e.prototype.createUnsignedBytesMatrixTexture=function(e,t){return this.throwIfDisposed(),pK(this.gl,this.debug,e,t,this.textureConfig)},e.prototype.uploadPixelDataToTexture=function(e,t){this.throwIfDisposed(),bK(this.gl,this.debug,e,t)},e.prototype.uploadDenseMatrixToTexture=function(e,t,n,r){this.throwIfDisposed(),yK(this.gl,this.debug,e,t,n,r,this.textureConfig)},e.prototype.createFloat16PackedMatrixTexture=function(e,t){return this.throwIfDisposed(),mK(this.gl,this.debug,e,t,this.textureConfig)},e.prototype.createPackedMatrixTexture=function(e,t){return this.throwIfDisposed(),gK(this.gl,this.debug,e,t,this.textureConfig)},e.prototype.deleteMatrixTexture=function(e){var t=this;this.throwIfDisposed(),this.outputTexture===e&&($M(this.gl,this.debug,this.framebuffer),this.outputTexture=null),FM(this.gl,this.debug,function(){return t.gl.deleteTexture(e)})},e.prototype.downloadByteEncodedFloatMatrixFromOutputTexture=function(e,t,n){var r=this;return this.downloadMatrixDriver(e,function(){return BK(r.gl,r.debug,t,n,r.textureConfig)})},e.prototype.downloadPackedMatrixFromBuffer=function(e,t,n,r,i,a){return CK(this.gl,e,0,0,0,i,a,this.textureConfig)},e.prototype.downloadFloat32MatrixFromBuffer=function(e,t){return xK(this.gl,e,t)},e.prototype.createBufferFromTexture=function(e,t,n){this.bindTextureToFrameBuffer(e);var r=wK(this.gl,this.debug,t,n,this.textureConfig);return this.unbindTextureToFrameBuffer(),r},e.prototype.createAndWaitForFence=function(){var e=this.createFence(this.gl);return this.pollFence(e)},e.prototype.createFence=function(e){var t,n,r=this;if(GD().getBool("WEBGL_FENCE_API_ENABLED")){var i=e,a=i.fenceSync(i.SYNC_GPU_COMMANDS_COMPLETE,0);e.flush(),n=function(){var e=i.clientWaitSync(a,0,0);return e===i.ALREADY_SIGNALED||e===i.CONDITION_SATISFIED},t=a}else GD().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0?(t=this.beginQuery(),this.endQuery(),n=function(){return r.isQueryAvailable(t,GD().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))}):n=function(){return!0};return{query:t,isFencePassed:n}},e.prototype.downloadMatrixFromPackedTexture=function(e,t,n){var r=this;return this.downloadMatrixDriver(e,function(){return NK(r.gl,r.debug,t,n)})},e.prototype.createProgram=function(e){this.throwIfDisposed();var t=this.gl,n=PM(t,this.debug,e),r=cK(t,this.debug),i=MM(t,this.debug);return FM(t,this.debug,function(){return t.attachShader(i,r)}),FM(t,this.debug,function(){return t.attachShader(i,n)}),QM(t,this.debug,i),this.debug&&RM(t,this.debug,i),this.vertexAttrsAreBound||(this.setProgram(i),this.vertexAttrsAreBound=vK(t,this.debug,this.program,this.vertexBuffer)),i},e.prototype.deleteProgram=function(e){var t=this;this.throwIfDisposed(),e===this.program&&(this.program=null),null!=e&&FM(this.gl,this.debug,function(){return t.gl.deleteProgram(e)})},e.prototype.setProgram=function(e){var t=this;this.throwIfDisposed(),this.program=e,null!=this.program&&this.debug&&RM(this.gl,this.debug,this.program),FM(this.gl,this.debug,function(){return t.gl.useProgram(e)})},e.prototype.getUniformLocation=function(e,t,n){return void 0===n&&(n=!0),this.throwIfDisposed(),n?XM(this.gl,this.debug,e,t):YM(this.gl,e,t)},e.prototype.getAttributeLocation=function(e,t){var n=this;return this.throwIfDisposed(),FM(this.gl,this.debug,function(){return n.gl.getAttribLocation(e,t)})},e.prototype.getUniformLocationNoThrow=function(e,t){return this.throwIfDisposed(),this.gl.getUniformLocation(e,t)},e.prototype.setInputMatrixTexture=function(e,t,n){this.throwIfDisposed(),this.throwIfNoProgram(),JM(this.gl,this.debug,this.program,e,t,n)},e.prototype.setOutputMatrixTexture=function(e,t,n){this.setOutputMatrixTextureDriver(e,n,t)},e.prototype.setOutputPackedMatrixTexture=function(e,t,n){this.throwIfDisposed();var r=EM(t,n),i=r[0],a=r[1];this.setOutputMatrixTextureDriver(e,i,a)},e.prototype.setOutputMatrixWriteRegion=function(e,t,n,r){this.setOutputMatrixWriteRegionDriver(n,e,r,t)},e.prototype.setOutputPackedMatrixWriteRegion=function(e,t,n,r){throw new Error("setOutputPackedMatrixWriteRegion not implemented.")},e.prototype.debugValidate=function(){null!=this.program&&RM(this.gl,this.debug,this.program),eQ(this.gl)},e.prototype.executeProgram=function(){this.throwIfDisposed(),this.throwIfNoProgram();var e=this.gl;this.debug&&this.debugValidate(),FM(e,this.debug,function(){return e.drawElements(e.TRIANGLES,6,e.UNSIGNED_SHORT,0)})},e.prototype.blockUntilAllProgramsCompleted=function(){var e=this;this.throwIfDisposed(),FM(this.gl,this.debug,function(){return e.gl.finish()})},e.prototype.getQueryTimerExtension=function(){return null==this.disjointQueryTimerExtension&&(this.disjointQueryTimerExtension=UM(this.gl,this.debug,2===GD().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")?"EXT_disjoint_timer_query_webgl2":"EXT_disjoint_timer_query")),this.disjointQueryTimerExtension},e.prototype.getQueryTimerExtensionWebGL2=function(){return this.getQueryTimerExtension()},e.prototype.getQueryTimerExtensionWebGL1=function(){return this.getQueryTimerExtension()},e.prototype.beginQuery=function(){if(2===GD().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")){var e=this.gl,t=this.getQueryTimerExtensionWebGL2(),n=e.createQuery();return e.beginQuery(t.TIME_ELAPSED_EXT,n),n}var r=this.getQueryTimerExtensionWebGL1(),i=r.createQueryEXT();return r.beginQueryEXT(r.TIME_ELAPSED_EXT,i),i},e.prototype.endQuery=function(){if(2!==GD().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")){var e=this.getQueryTimerExtensionWebGL1();e.endQueryEXT(e.TIME_ELAPSED_EXT)}else{var t=this.gl,n=this.getQueryTimerExtensionWebGL2();t.endQuery(n.TIME_ELAPSED_EXT)}},e.prototype.waitForQueryAndGetTime=function(e){return KD(this,void 0,void 0,function(){var t=this;return WD(this,function(n){switch(n.label){case 0:return[4,gT(function(){return t.disposed||t.isQueryAvailable(e,GD().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))})];case 1:return n.sent(),[2,this.getQueryTime(e,GD().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))]}})})},e.prototype.getQueryTime=function(e,t){if(0===t)return null;if(2===t){var n=this.gl;return n.getQueryParameter(e,n.QUERY_RESULT)/1e6}var r=this.getQueryTimerExtensionWebGL1();return r.getQueryObjectEXT(e,r.QUERY_RESULT_EXT)/1e6},e.prototype.isQueryAvailable=function(e,t){if(0===t)return!0;if(2===t){var n=this.gl,r=this.getQueryTimerExtensionWebGL2(),i=n.getQueryParameter(e,n.QUERY_RESULT_AVAILABLE);return null==this.disjoint&&(this.disjoint=this.gl.getParameter(r.GPU_DISJOINT_EXT)),i&&!this.disjoint}return i=(r=this.getQueryTimerExtensionWebGL1()).getQueryObjectEXT(e,r.QUERY_RESULT_AVAILABLE_EXT),null==this.disjoint&&(this.disjoint=this.gl.getParameter(r.GPU_DISJOINT_EXT)),i&&!this.disjoint},e.prototype.pollFence=function(e){var t=this;return new Promise(function(n){t.addItemToPoll(function(){return e.isFencePassed()},function(){return n()})})},e.prototype.pollItems=function(){for(var e=function(e){for(var t=0;t<e.length&&e[t]();++t);return t-1}(this.itemsToPoll.map(function(e){return e.isDoneFn})),t=0;t<=e;++t)(0,this.itemsToPoll[t].resolveFn)();this.itemsToPoll=this.itemsToPoll.slice(e+1)},e.prototype.addItemToPoll=function(e,t){var n=this;this.itemsToPoll.push({isDoneFn:e,resolveFn:t}),this.itemsToPoll.length>1||gT(function(){return n.pollItems(),0===n.itemsToPoll.length})},e.prototype.bindTextureToFrameBuffer=function(e){this.throwIfDisposed(),ZM(this.gl,this.debug,e,this.framebuffer),this.debug&&eQ(this.gl)},e.prototype.unbindTextureToFrameBuffer=function(){null!=this.outputTexture?(ZM(this.gl,this.debug,this.outputTexture,this.framebuffer),this.debug&&eQ(this.gl)):$M(this.gl,this.debug,this.framebuffer)},e.prototype.downloadMatrixDriver=function(e,t){this.bindTextureToFrameBuffer(e);var n=t();return this.unbindTextureToFrameBuffer(),n},e.prototype.setOutputMatrixTextureDriver=function(e,t,n){this.throwIfDisposed();var r=this.gl;ZM(r,this.debug,e,this.framebuffer),this.debug&&eQ(r),this.outputTexture=e,FM(r,this.debug,function(){return r.viewport(0,0,t,n)}),FM(r,this.debug,function(){return r.scissor(0,0,t,n)})},e.prototype.setOutputMatrixWriteRegionDriver=function(e,t,n,r){var i=this;this.throwIfDisposed(),FM(this.gl,this.debug,function(){return i.gl.scissor(e,t,n,r)})},e.prototype.throwIfDisposed=function(){if(this.disposed)throw new Error("Attempted to use disposed GPGPUContext.")},e.prototype.throwIfNoProgram=function(){if(null==this.program)throw new Error("No GPU program is currently set.")},e}();function EK(e,t){if(e.length!==t.length)throw Error("Binary was compiled with "+e.length+" inputs, but was executed with "+t.length+" inputs");e.forEach(function(e,n){var r=e.logicalShape,i=t[n],a=i.shape;if(!AT(r,a))throw Error("Binary was compiled with different shapes than the current args. Shapes "+r+" and "+a+" must match");if(!e.isUniform||!i.isUniform){var o=e.texShape,s=i.isUniform?null:i.texData.texShape;if(!AT(o,s))throw Error("Binary was compiled with different texture shapes than the current args. Shape "+o+" and "+s+" must match")}})}var SK=function(e,t,n){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e;for(var r=n.filterWidth,i=n.inChannels,a=n.strideWidth,o=n.strideHeight,s=n.padInfo,l=n.outWidth,c=n.dilationWidth,u=n.dilationHeight,A=n.dataFormat,d=s.left,h=s.top,f=i*r,p=rz(),g="channelsLast"===A,m=g?0:1,v=g?1:2,y="",b=0;b<=1;b++)for(var w=0;w<=1;w++)y+="\n          blockIndex = rc.y + "+w+";\n          pos = rc.x + "+b+";\n\n          if(blockIndex < "+e[1]+" && pos < "+e[0]+") {\n            offsetY = int(blockIndex / ("+l+")) * "+o+" - "+h+";\n            d0 = offsetY + "+u+" * (pos / "+f+");\n\n            if(d0 < "+t[m]+" && d0 >= 0) {\n\n              offsetX = int(mod(float(blockIndex), "+l+".) * "+a+". - "+d+".);\n              d1 = offsetX + "+c+" * (int(mod(float(pos), "+f+".) / "+i+".));\n\n              if(d1 < "+t[v]+" && d1 >= 0) {\n\n                ch = int(mod(float(pos), "+i+".));\n\n                if ("+g+") {\n                  innerDims = vec2(d1, ch);\n                  result["+(2*b+w)+"] = getChannel(\n                    getA(d0, int(innerDims.x),\n                    int(innerDims.y)), innerDims);\n                } else {\n                  innerDims = vec2(d0, d1);\n                  result["+(2*b+w)+"] = getChannel(\n                    getA(ch, int(innerDims.x),\n                    int(innerDims.y)), innerDims);\n                }\n              }\n            }\n          }\n        ";this.userCode="\n      void main() {\n        ivec2 rc = getOutputCoords();\n\n        vec4 result = vec4(0);\n\n        int blockIndex, pos, offsetY, d0, offsetX, d1, ch;\n        vec2 innerDims;\n\n        "+y+"\n\n        "+p.output+" = result;\n      }\n    "},FK=function(e,t,n,r,i){this.variableNames=["x"],this.outputShape=[];var a,o=t,s=e[3]-1;this.outputShape=e;var l="float("+n+") + float("+r+") * sum";a=.5===i?"inversesqrt("+l+")":1===i?"1.0/("+l+")":"exp(log("+l+") * float(-"+i+"));",this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int r = coords[1];\n        int c = coords[2];\n        int d = coords[3];\n        float x = getX(b, r, c, d);\n        float sum = 0.0;\n        for (int j = -"+o+"; j <= "+o+"; j++) {\n          int idx = d + j;\n          if (idx >= 0 && idx <=  "+s+") {\n            float z = getX(b, r, c, idx);\n            sum += z * z;\n          }\n        }\n        float val = x * "+a+";\n        setOutput(val);\n      }\n    "},IK=function(e,t,n,r,i){this.variableNames=["inputImage","outputImage","dy"],this.outputShape=[],this.outputShape=e,this.depth=e[3],this.depthRadius=t,this.bias=n,this.alpha=r,this.beta=i,this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int r = coords[1];\n        int c = coords[2];\n\n        float result = 0.0;\n        for (int d = 0; d < "+this.depth+"; ++d) {\n          int depthBegin = int(max(0.0, float(d - "+t+")));\n          int depthEnd = int(min(float("+this.depth+"),\n              float(d + "+t+" + 1)));\n\n          const int MIN_DEPTH_BEGIN = 0;\n          const int MAX_DEPTH_END = "+this.depth+";\n\n          float norm = 0.0;\n          for (int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k) {\n            if (k < depthBegin){\n              continue;\n            }\n            else if (k >= depthBegin && k < depthEnd) {\n              norm += getInputImage(b, r, c, k) * getInputImage(b, r, c, k);\n            }\n            else {\n              break;\n            }\n          }\n\n          norm = float("+r+") * norm + float("+n+");\n\n          for(int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k){\n            if (k < depthBegin){\n              continue;\n            }\n            else if (k >= depthBegin && k < depthEnd){\n              float dyi = -2.0 * float("+r+")\n                * float("+i+")\n                * getInputImage(b ,r ,c, k) * getOutputImage(b, r, c, d)\n                / norm;\n              if (k == d) {\n                dyi += pow(norm, -1.0 * "+i+");\n              }\n              if (k == coords[3]) {\n                dyi *= getDy(b, r, c, d);\n                result += dyi;\n              }\n            }\n            else {\n              break;\n            }\n          }\n      }\n      setOutput(result);\n      }\n    "},jK=function(e,t,n,r,i){this.variableNames=["x"],this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0;var a,o=t,s=e[3]-1;this.outputShape=e;var l="float("+n+") + float("+r+") * sum";a=.5===i?"inversesqrt("+l+")":1===i?"1.0/("+l+")":"exp(log("+l+") * float(-"+i+"));",this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords.x;\n        int r = coords.y;\n        int c = coords.z;\n        int d = coords.w;\n\n        bool hasNextCol = d < "+this.outputShape[3]+";\n        bool hasNextRow = c < "+this.outputShape[2]+";\n\n        vec4 sum = vec4(0.);\n        vec4 xFragAtOutputCoords = getX(b, r, c, d);\n\n        vec4 xAtOutputCoords = vec4(\n          getChannel(xFragAtOutputCoords, vec2(c, d)),\n          hasNextCol ?\n            getChannel(xFragAtOutputCoords, vec2(c, d + 1)) : 0.0,\n          hasNextRow ?\n            getChannel(xFragAtOutputCoords , vec2(c + 1, d)) : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getChannel(xFragAtOutputCoords, vec2(c + 1, d + 1)) : 0.0\n        );\n\n        int firstChannel = d - "+o+";\n        vec2 cache = vec2(0.);\n        if(firstChannel >= 0){\n          vec4 firstChannelFrag = getX(b, r, c, firstChannel);\n          cache.x = getChannel(firstChannelFrag, vec2(c, firstChannel));\n            if(hasNextRow){\n              cache.y = getChannel(firstChannelFrag, vec2(c + 1, firstChannel));\n            }\n        }\n\n        ivec2 depth = ivec2(d, d + 1);\n        for (int j = - "+o+"; j <= "+o+"; j++) {\n          ivec2 idx = depth + j;\n          bvec2 aboveLowerBound = greaterThanEqual(idx, ivec2(0));\n          bvec2 belowUpperBound = lessThanEqual(idx, ivec2("+s+"));\n\n          bool depthInRange = aboveLowerBound.x && belowUpperBound.x;\n          bool depthPlusOneInRange = aboveLowerBound.y && belowUpperBound.y;\n\n          if(depthInRange || depthPlusOneInRange){\n            vec4 z = vec4(0.);\n            vec4 xFragAtCurrentDepth;\n            z.xz = cache.xy;\n            if(depthPlusOneInRange && hasNextCol){\n              xFragAtCurrentDepth = idx.y != d ?\n                getX(b, r, c, idx.y) : xFragAtOutputCoords;\n              z.y = getChannel(xFragAtCurrentDepth, vec2(c, idx.y));\n              if(hasNextRow){\n                z.w = getChannel(xFragAtCurrentDepth, vec2(c + 1, idx.y));\n              }\n            }\n            cache.xy = z.yw;\n            sum += z * z;\n          }\n        }\n        vec4 result = xAtOutputCoords * "+a+";\n        setOutput(result);\n      }\n    "},UK=function(e){this.variableNames=["dy","maxPos"],this.outputShape=e.inShape;var t=e.strideHeight,n=e.strideWidth,r=e.dilationHeight,i=e.effectiveFilterHeight,a=e.effectiveFilterWidth,o=i-1-e.padInfo.top,s=a-1-e.padInfo.left,l=i*a-1;this.userCode="\n      const ivec2 pads = ivec2("+o+", "+s+");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n\n        ivec2 dyRCCorner = coords.yz - pads;\n        int dyRCorner = dyRCCorner.x;\n        int dyCCorner = dyRCCorner.y;\n\n        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < "+i+";\n          wR += "+r+") {\n          float dyR = float(dyRCorner + wR) / "+t+".0;\n\n          if (dyR < 0.0 || dyR >= "+e.outHeight+".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          for (int wC = 0; wC < "+a+"; wC++) {\n            float dyC = float(dyCCorner + wC) / "+n+".0;\n\n            if (dyC < 0.0 || dyC >= "+e.outWidth+".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            float dyValue = getDy(b, idyR, idyC, d);\n            int maxPosValue = "+l+" - int(getMaxPos(b, idyR, idyC, d));\n\n            // Get the current value, check it against the value from the\n            // position matrix.\n            int curPosValue = wR * "+a+" + wC;\n            float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);\n\n            dotProd += dyValue * mask;\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},OK=function(e){this.variableNames=["dy","maxPos"],this.outputShape=e.inShape;var t=e.strideDepth,n=e.strideHeight,r=e.strideWidth,i=e.dilationDepth,a=e.dilationHeight,o=e.dilationWidth,s=e.effectiveFilterDepth,l=e.effectiveFilterHeight,c=e.effectiveFilterWidth,u=s-1-e.padInfo.front,A=l-1-e.padInfo.top,d=c-1-e.padInfo.left,h=s*l*c-1;this.userCode="\n      const ivec3 pads = ivec3("+u+", "+A+", "+d+");\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int ch = coords.u;\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyDCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        // Convolve dy(?, ?, ?, ch) with pos mask(:, :, :, d) to get\n        // dx(xD, xR, xC, ch).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int wD = 0; wD < "+s+";\n           wD += "+i+") {\n          float dyD = float(dyDCorner + wD) / "+t+".0;\n\n          if (dyD < 0.0 || dyD >= "+e.outDepth+".0 || fract(dyD) > 0.0) {\n            continue;\n          }\n          int idyD = int(dyD);\n\n          for (int wR = 0; wR < "+l+";\n              wR += "+a+") {\n            float dyR = float(dyRCorner + wR) / "+n+".0;\n\n            if (dyR < 0.0 || dyR >= "+e.outHeight+".0 ||\n                fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            for (int wC = 0; wC < "+c+";\n                wC += "+o+") {\n              float dyC = float(dyCCorner + wC) / "+r+".0;\n\n              if (dyC < 0.0 || dyC >= "+e.outWidth+".0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              float dyValue = getDy(batch, idyD, idyR, idyC, ch);\n              int maxPosValue = "+h+" -\n                  int(getMaxPos(batch, idyD, idyR, idyC, ch));\n\n              // Get the current value, check it against the value from the\n              // position matrix.\n              int curPosValue =\n                  wD * "+l+" * "+c+" +\n                  wR * "+c+" + wC;\n              float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);\n\n              dotProd += dyValue * mask;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},PK=function(e,t,n,r,i,a,o){void 0===n&&(n=!1),void 0===r&&(r=!1),void 0===i&&(i=!1),void 0===a&&(a=null),void 0===o&&(o=!1),this.variableNames=["matrixA","matrixB"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t;var s=n?e[1]:e[2],l=Math.ceil(s/2),c=n?"i * 2, rc.y":"rc.y, i * 2",u=r?"rc.z, i * 2":"i * 2, rc.z",A=n?["a.xxyy","a.zzww"]:["a.xxzz","a.yyww"],d=r?["b.xzxz","b.ywyw"]:["b.xyxy","b.zwzw"],h="",f="";a&&(h=o?"vec4 activation(vec4 a) {\n          vec4 b = getPreluActivationWeightsAtOutCoords();\n          "+a+"\n        }":"vec4 activation(vec4 x) {\n          "+a+"\n        }",f="result = activation(result);");var p=i?"result += getBiasAtOutCoords();":"";i&&this.variableNames.push("bias"),o&&this.variableNames.push("preluActivationWeights"),this.userCode="\n      "+h+"\n\n      const float sharedDimension = "+l+".0;\n\n      vec4 dot2x2ARowBCol(ivec3 rc) {\n        vec4 result = vec4(0);\n        for (int i = 0; i < "+l+"; i++) {\n          vec4 a = getMatrixA(rc.x, "+c+");\n          vec4 b = getMatrixB(rc.x, "+u+");\n\n          // These swizzled products need to be separately added.\n          // See: https://github.com/tensorflow/tfjs/issues/1735\n          result += ("+A[0]+" * "+d[0]+");\n          result += ("+A[1]+" * "+d[1]+");\n        }\n        return result;\n      }\n\n      void main() {\n        ivec3 rc = getOutputCoords();\n        vec4 result = dot2x2ARowBCol(rc);\n\n        "+p+"\n\n        "+f+"\n\n        setOutput(result);\n      }\n    "},LK=function(){function e(e,t,n){this.variableNames=["probs"],this.outputShape=[e,n],this.userCode="\n      uniform float seed;\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n\n        float r = random(seed);\n        float cdf = 0.0;\n\n        for (int i = 0; i < "+(t-1)+"; i++) {\n          cdf += getProbs(batch, i);\n\n          if (r < cdf) {\n            setOutput(float(i));\n            return;\n          }\n        }\n\n        // If no other event happened, last event happened.\n        setOutput(float("+(t-1)+"));\n      }\n    "}return e.prototype.getCustomSetupFunc=function(e){var t=this;return function(n,r){null==t.seedLoc&&(t.seedLoc=n.getUniformLocation(r,"seed")),n.gl.uniform1f(t.seedLoc,e)}},e}(),DK=function(e,t,n,r){this.variableNames=["indices"],this.outputShape=[e,t],this.userCode="\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int index = round(getIndices(coords.x));\n        setOutput(mix(float("+r+"), float("+n+"),\n                      float(index == coords.y)));\n      }\n    "},TK=function(e){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outputShape=e;var t=e.length;if(0===t)this.userCode="\n        void main() {\n          setOutput(vec4(getA(), 0., 0., 0.));\n        }\n      ";else{var n=nz("rc",t),r=gz(t),i=function(e,t,n){if(1===e)return"rc > "+t[0];for(var r="",i=e-2;i<e;i++)r+=n[i]+" >= "+t[i],i<e-1&&(r+="||");return r}(t,e,n),a=function(e,t,n,r){if(1===e)return"";var i=r.slice(-2);return"\n    int r = "+i[0]+";\n    int c = "+i[1]+";\n    int rp1 = r + 1;\n    int cp1 = c + 1;\n\n    bool cEdge = cp1 >= "+t+";\n    bool rEdge = rp1 >= "+n+";\n  "}(t,e[e.length-1],e[e.length-2],n),o=function(e,t){var n=e.length,r=function(e,t){for(var n=[],r=0;r<=1;r++)for(var i=0;i<=1;i++){for(var a=(0===r?"r":"rp1")+", "+(0===i?"c":"cp1"),o=2;o<e;o++)a=t[t.length-1-o]+","+a;n.push(a)}return n}(n,t);return 1===n?"getA(rc),\n            rc + 1 >= "+e[0]+" ? 0. : getA(rc + 1),\n            0, 0":"getA("+r[0]+"),\n          cEdge ? 0. : getA("+r[1]+"),\n          rEdge ? 0. : getA("+r[2]+"),\n          rEdge || cEdge ? 0. : getA("+r[3]+")"}(e,n);this.userCode="\n        void main() {\n          "+r+" rc = getOutputCoords();\n\n          if("+i+") {\n            setOutput(vec4(0));\n          } else {\n            "+a+"\n\n            setOutput(vec4("+o+"));\n          }\n        }\n      "}},MK=function(e,t,n){this.variableNames=["x"],this.outputShape=t.map(function(t,n){return t[0]+e[n]+t[1]});var r=e.length,i=gz(r),a=t.map(function(e){return e[0]}).join(","),o=t.map(function(t,n){return t[0]+e[n]}).join(","),s=["coords[0]","coords[1]","coords[2]","coords[3]"].slice(0,r);this.userCode=1!==r?"\n      "+i+" start = "+i+"("+a+");\n      "+i+" end = "+i+"("+o+");\n\n      void main() {\n        "+i+" outC = getOutputCoords();\n        if (any(lessThan(outC, start)) || any(greaterThanEqual(outC, end))) {\n          setOutput(float("+n+"));\n        } else {\n          "+i+" coords = outC - start;\n          setOutput(getX("+s+"));\n        }\n      }\n    ":"\n        int start = "+a+";\n        int end = "+o+";\n\n        void main() {\n          int outC = getOutputCoords();\n          if (outC < start || outC >= end) {\n            setOutput(float("+n+"));\n          } else {\n            setOutput(getX(outC - start));\n          }\n        }\n      "},QK=function(e,t,n){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t.map(function(t,n){return t[0]+e[n]+t[1]});for(var r=e.length,i=gz(r),a=t.map(function(e){return e[0]}).join(","),o=t.map(function(t,n){return t[0]+e[n]}).join(","),s=nz("rc",r),l=nz("source",r),c=s[r-1]+" < "+this.outputShape[r-1],u=1===r?"source":"vec2("+l.slice(-2).join()+")",A=[i+" rc = outputLoc;",s[r-1]+" += 1;\n       if("+c+") {\n      ",1===r?"":"}\n       rc = outputLoc;\n       "+s[r-2]+" += 1;\n       if("+s[r-2]+" < "+this.outputShape[r-2]+") {",1===r?"":"  "+s[r-1]+" += 1;\n         if("+c+") {"],d=1===r?"rc < start || rc >= end":"any(lessThan(rc, start)) || any(greaterThanEqual(rc, end))",h="",f=0,p=1===r?2:4;f<p;f++)h+="\n        "+A[f]+"\n        if ("+d+") {\n          result["+f+"] = float("+n+");\n        } else {\n          "+i+" source = rc - start;\n          result["+f+"] = getChannel(getX("+l.join()+"), "+u+");\n        }\n      ";h+=1===r?"} ":"}}",this.userCode="\n      const "+i+" start = "+i+"("+a+");\n      const "+i+" end = "+i+"("+o+");\n\n      void main() {\n        "+i+" outputLoc = getOutputCoords();\n        vec4 result = vec4(0.);\n        "+h+"\n        setOutput(result);\n      }\n    "},RK=function(e,t,n){if(this.variableNames=["x"],"avg"===t&&n)throw new Error("Cannot compute positions for average pool.");var r=e.filterWidth,i=e.strideHeight,a=e.strideWidth,o=e.dilationHeight,s=e.dilationWidth,l=e.effectiveFilterHeight,c=e.effectiveFilterWidth,u=e.padInfo.top,A=e.padInfo.left;this.outputShape=e.outShape;var d="avg"===t,h="0.0";if(d||(h="-1.0 / 1e-20"),n)this.userCode="\n        const ivec2 strides = ivec2("+i+", "+a+");\n        const ivec2 pads = ivec2("+u+", "+A+");\n\n        void main() {\n          ivec4 coords = getOutputCoords();\n          int batch = coords[0];\n          int d = coords[3];\n\n          ivec2 xRCCorner = coords.yz * strides - pads;\n          int xRCorner = xRCCorner.x;\n          int xCCorner = xRCCorner.y;\n\n          // max/min x(?, ?, d) to get y(yR, yC, d).\n          // ? = to be determined\n          float minMaxValue = 0.0;\n          float minMaxValueFound = 0.0;\n          int minMaxPosition = 0;\n          float avgValue = 0.0;\n\n          for (int wR = 0; wR < "+l+";\n              wR += "+o+") {\n            int xR = xRCorner + wR;\n\n            if (xR < 0 || xR >= "+e.inHeight+") {\n              continue;\n            }\n\n            for (int wC = 0; wC < "+c+";\n                wC += "+s+") {\n              int xC = xCCorner + wC;\n\n              if (xC < 0 || xC >= "+e.inWidth+") {\n                continue;\n              }\n\n              float value = getX(batch, xR, xC, d);\n\n              // If a min / max value has already been found, use it. If not,\n              // use the current value.\n              float currMinMaxValue = mix(\n                  value, minMaxValue, minMaxValueFound);\n              if (value >= currMinMaxValue) {\n                minMaxValue = value;\n                minMaxValueFound = 1.0;\n                minMaxPosition = wR * "+c+" + wC;\n              }\n            }\n          }\n          setOutput(float(minMaxPosition));\n        }\n      ";else{var f=t+"("+t+"("+t+"(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";"avg"===t&&(f="avgValue / count");var p=4*Math.floor(r/4),g=r%4,m="\n      if ("+d+") {\n        avgValue += dot(values, ones);\n      } else {\n        minMaxValue = max(values, minMaxValue);\n      }\n    ";this.userCode="\n      const ivec2 strides = ivec2("+i+", "+a+");\n      const ivec2 pads = ivec2("+u+", "+A+");\n      const float initializationValue = "+h+";\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float count = 0.0;\n\n      float getValue(int batch, int xR, int xC, int d) {\n        if (xC < 0 || xC >= "+e.inWidth+") {\n          return initializationValue;\n        }\n        count += 1.0;\n        return getX(batch, xR, xC, d);\n      }\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d = coords[3];\n\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // max/min x(?, ?, d) to get y(yR, yC, d).\n        // ? = to be determined\n        vec4 minMaxValue = vec4("+h+");\n        float avgValue = 0.0;\n        count = 0.0;\n\n        for (int wR = 0; wR < "+l+";\n            wR += "+o+") {\n          int xR = xRCorner + wR;\n\n          if (xR < 0 || xR >= "+e.inHeight+") {\n            continue;\n          }\n\n          for (int wC = 0; wC < "+p+"; wC += 4) {\n            int xC = xCCorner + wC * "+s+";\n\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + "+s+", d),\n              getValue(batch, xR, xC + 2 * "+s+", d),\n              getValue(batch, xR, xC + 3 * "+s+", d)\n            );\n\n            "+m+"\n          }\n\n          int xC = xCCorner + "+p+";\n          if ("+(1===g)+") {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              initializationValue,\n              initializationValue,\n              initializationValue\n            );\n\n            "+m+"\n          } else if ("+(2===g)+") {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + "+s+", d),\n              initializationValue,\n              initializationValue\n            );\n\n            "+m+"\n          } else if ("+(3===g)+") {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + "+s+", d),\n              getValue(batch, xR, xC + 2 * "+s+", d),\n              initializationValue\n            );\n\n            "+m+"\n          }\n        }\n        setOutput("+f+");\n      }\n    "}},HK=function(e,t,n){if(this.variableNames=["x"],"avg"===t&&n)throw new Error("Cannot compute positions for average pool.");var r=e.filterWidth,i=e.strideDepth,a=e.strideHeight,o=e.strideWidth,s=e.dilationDepth,l=e.dilationHeight,c=e.dilationWidth,u=e.effectiveFilterDepth,A=e.effectiveFilterHeight,d=e.effectiveFilterWidth,h=e.padInfo.front,f=e.padInfo.top,p=e.padInfo.left;this.outputShape=e.outShape;var g="avg"===t,m="0.0";if(g||(m="-1.0 / 1e-20"),n)this.userCode="\n        const ivec3 strides =\n            ivec3("+i+", "+a+", "+o+");\n        const ivec3 pads = ivec3("+h+", "+f+", "+p+");\n\n        void main() {\n          ivec5 coords = getOutputCoords();\n          int batch = coords.x;\n          int ch = coords.u;\n\n          ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n          int xDCorner = xCorner.x;\n          int xRCorner = xCorner.y;\n          int xCCorner = xCorner.z;\n\n          // max/min x(?, ?, ?, ch) to get y(yD, yR, yC, ch).\n          // ? = to be determined\n          float minMaxValue = 0.0;\n          float minMaxValueFound = 0.0;\n          int minMaxPosition = 0;\n\n          for (int wD = 0; wD < "+u+";\n              wD += "+s+") {\n            int xD = xDCorner + wD;\n\n            if (xD < 0 || xD >= "+e.inDepth+") {\n              continue;\n            }\n\n            for (int wR = 0; wR < "+A+";\n                wR += "+l+") {\n              int xR = xRCorner + wR;\n\n              if (xR < 0 || xR >= "+e.inHeight+") {\n                continue;\n              }\n\n              for (int wC = 0; wC < "+d+";\n                  wC += "+c+") {\n                int xC = xCCorner + wC;\n\n                if (xC < 0 || xC >= "+e.inWidth+") {\n                  continue;\n                }\n\n                float value = getX(batch, xD, xR, xC, ch);\n\n                // If a min / max value has already been found, use it. If not,\n                // use the current value.\n                float currMinMaxValue = mix(\n                    value, minMaxValue, minMaxValueFound);\n                if (value >= currMinMaxValue) {\n                  minMaxValue = value;\n                  minMaxValueFound = 1.0;\n                  minMaxPosition =\n                      wD * "+A+" * "+d+" +\n                      wR * "+d+" + wC;;\n                }\n              }\n            }\n          }\n          setOutput(float(minMaxPosition));\n        }\n      ";else{var v=t+"("+t+"("+t+"(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";"avg"===t&&(v="avgValue / count");var y=4*Math.floor(r/4),b=r%4,w="\n      if ("+g+") {\n        avgValue += dot(values, ones);\n      } else {\n        minMaxValue = max(values, minMaxValue);\n      }\n    ";this.userCode="\n      const ivec3 strides =\n        ivec3("+i+", "+a+", "+o+");\n      const ivec3 pads = ivec3("+h+", "+f+", "+p+");\n      const float initializationValue = "+m+";\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float count = 0.0;\n\n      float getValue(int batch, int xD, int xR, int xC, int ch) {\n        if (xC < 0 || xC >= "+e.inWidth+") {\n          return initializationValue;\n        }\n        count += 1.0;\n        return getX(batch, xD, xR, xC, ch);\n      }\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int ch = coords.u;\n\n        ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n        int xDCorner = xCorner.x;\n        int xRCorner = xCorner.y;\n        int xCCorner = xCorner.z;\n\n        // max/min x(?, ?, ?, d) to get y(yD, yR, yC, ch).\n        // ? = to be determined\n        vec4 minMaxValue = vec4("+m+");\n        float avgValue = 0.0;\n        count = 0.0;\n\n        for (int wD = 0; wD < "+u+";\n            wD += "+s+") {\n          int xD = xDCorner + wD;\n\n          if (xD < 0 || xD >= "+e.inDepth+") {\n            continue;\n          }\n\n          for (int wR = 0; wR < "+A+";\n            wR += "+l+") {\n            int xR = xRCorner + wR;\n\n            if (xR < 0 || xR >= "+e.inHeight+") {\n              continue;\n            }\n\n            for (int wC = 0; wC < "+y+"; wC += 4) {\n              int xC = xCCorner + wC * "+c+";\n\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                getValue(batch, xD, xR, xC + "+c+", ch),\n                getValue(batch, xD, xR, xC + 2 * "+c+", ch),\n                getValue(batch, xD, xR, xC + 3 * "+c+", ch)\n              );\n\n              "+w+"\n            }\n\n            int xC = xCCorner + "+y+";\n            if ("+(1===b)+") {\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                initializationValue,\n                initializationValue,\n                initializationValue\n              );\n\n              "+w+"\n            } else if ("+(2===b)+") {\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                getValue(batch, xD, xR, xC + "+c+", ch),\n                initializationValue,\n                initializationValue\n              );\n\n              "+w+"\n            } else if ("+(3===b)+") {\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                getValue(batch, xD, xR, xC + "+c+", ch),\n                getValue(batch, xD, xR, xC + 2 * "+c+", ch),\n                initializationValue\n              );\n\n              "+w+"\n            }\n          }\n          setOutput("+v+");\n        }\n      }\n    "}},zK=function(e,t){this.variableNames=["x"];var n=e.windowSize,r=e.batchSize,i=e.inSize,a=Math.ceil(i/n);this.outputShape=[r,a];var o="0.0",s="";"prod"===t?o="1.0":"min"===t?(o="1.0 / 1e-20",s="min"):"max"===t&&(o="-1.0 / 1e-20",s="max");var l=t+"("+t+"("+t+"(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";"sum"===t?l="sumValue":"prod"===t?l="prodValue":"all"===t?l="allValue":"any"===t&&(l="anyValue");var c=4*Math.floor(n/4),u=n%4,A="\n      if ("+("sum"===t)+") {\n        sumValue += dot(values, ones);\n      } else if ("+("prod"===t)+") {\n        vec2 tmp = vec2(values[0], values[1]) * vec2(values[2], values[3]);\n        prodValue *= tmp[0] * tmp[1];\n      } else {\n        minMaxValue = "+s+"(values, minMaxValue);\n      }\n    ",d="vec4";"all"===t?(o="1.0",A="\n        bool reducedAllValue = all(values);\n        float floatedReducedAllValue = float(reducedAllValue);\n        allValue = float(allValue >= 1.0 && floatedReducedAllValue >= 1.0);\n      ",d="bvec4"):"any"===t&&(o="0.0",A="\n        bool reducedAnyValue = any(values);\n        float floatedReducedAnyValue = float(reducedAnyValue);\n        anyValue = float(anyValue >= 1.0 || floatedReducedAnyValue >= 1.0);\n      ",d="bvec4");var h="";i%n>0&&(h="\n        if (inIdx < 0 || inIdx >= "+i+") {\n          return initializationValue;\n        }\n      "),this.userCode="\n      const float initializationValue = "+o+";\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float getValue(int batch, int inIdx) {\n        "+h+"\n        return getX(batch, inIdx);\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * "+n+";\n\n        vec4 minMaxValue = vec4("+o+");\n        float prodValue = 1.0;\n        float sumValue = 0.0;\n        float allValue = 1.0;\n        float anyValue = 0.0;\n\n        for (int i = 0; i < "+c+"; i += 4) {\n          int inIdx = inOffset + i;\n          "+d+" values = "+d+"(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            getValue(batch, inIdx + 3)\n          );\n\n          "+A+"\n        }\n\n        int inIdx = inOffset + "+c+";\n        if ("+(1===u)+") {\n          "+d+" values = "+d+"(\n            getValue(batch, inIdx),\n            initializationValue,\n            initializationValue,\n            initializationValue\n          );\n\n          "+A+"\n        } else if ("+(2===u)+") {\n          "+d+" values = "+d+"(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            initializationValue,\n            initializationValue\n          );\n\n          "+A+"\n        } else if ("+(3===u)+") {\n          "+d+" values = "+d+"(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            initializationValue\n          );\n\n          "+A+"\n        }\n        setOutput("+l+");\n      }\n    "},KK=function(e,t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e;for(var n="",r=0;r<4;r++){var i="thisRC = rc;";r%2==1&&(i+="thisRC.z += 1;"),r>1&&(i+="thisRC.y += 1;"),n+="\n        "+i+"\n        "+(r>0?"if(thisRC.y < rows && thisRC.z < cols){":"")+"\n          int flatIndex = getFlatIndex(thisRC);\n\n          ivec3 inputRC = inputCoordsFromReshapedOutCoords(flatIndex);\n          vec2 inputRCInnerDims = vec2(float(inputRC.y),float(inputRC.z));\n\n          result["+r+"] =\n            getChannel(getA(inputRC.x, inputRC.y, inputRC.z), inputRCInnerDims);\n        "+(r>0?"}":"")+"\n      "}this.userCode="\n      \n    ivec3 inputCoordsFromReshapedOutCoords(int index) {\n      "+iz(["r","c","d"],t)+"\n      return ivec3(r, c, d);\n    }\n  \n      "+az(e)+"\n\n      void main() {\n        ivec3 rc = getOutputCoords();\n\n        vec4 result = vec4(0.);\n\n        ivec3 thisRC;\n        int rows = "+e[1]+";\n        int cols = "+e[2]+";\n\n        "+n+"\n\n        setOutput(result);\n      }\n    "},WK=function(e,t,n){this.variableNames=["dy"],this.outputShape=[],this.outputShape=t.shape;var r=t.shape,i=r[1],a=r[2],o=e.shape,s=o[1],l=o[2],c=[n&&s>1?i-1:i,n&&l>1?a-1:a],u=[n&&s>1?s-1:s,n&&l>1?l-1:l],A=c[0]/u[0],d=c[1]/u[1],h=1/A,f=1/d,p=2*Math.ceil(h)+2,g=2*Math.ceil(f)+2;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        int r = coords[1];\n        int c = coords[2];\n\n        float accumulator = 0.0;\n\n        const float heightScale = float("+A+");\n        const float widthScale = float("+d+");\n\n        const float invHeightScale = float("+h+");\n        const float invWidthScale = float("+f+");\n\n        const int winHeight = int("+p+");\n        const int winWidth = int("+g+");\n\n        // Compute bounds for where in dy we will look\n        float startRLerp = floor(float(r) * invHeightScale);\n        int startDyR = int(startRLerp - float(winHeight / 2));\n\n        float startCLerp = floor(float(c) * invWidthScale);\n        int startDyC = int(startCLerp - float(winWidth / 2));\n\n        // Loop over dy\n        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {\n          int dyR = dyROffset + startDyR;\n\n          // Guard against the window exceeding the bounds of dy\n          if (dyR < 0 || dyR >= "+s+") {\n            continue;\n          }\n\n          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {\n            int dyC = dyCOffset + startDyC;\n\n            // Guard against the window exceeding the bounds of dy\n            if (dyC < 0 || dyC >= "+l+") {\n              continue;\n            }\n\n            float dxR = float(dyR) * heightScale;\n            int topDxRIndex = int(floor(dxR));\n            int bottomDxRIndex = int(min(ceil(dxR), "+(i-1)+".0));\n            float dxRLerp = dxR - float(topDxRIndex);\n            float inverseDxRLerp = 1.0 - dxRLerp;\n\n            float dxC = float(dyC) * widthScale;\n            int leftDxCIndex = int(floor(dxC));\n            int rightDxCIndex = int(min(ceil(dxC), "+(a-1)+".0));\n            float dxCLerp = dxC - float(leftDxCIndex);\n            float inverseDxCLerp = 1.0 - dxCLerp;\n\n            if (r == topDxRIndex && c == leftDxCIndex) {\n              // topLeft\n              accumulator +=\n                getDy(b, dyR, dyC, d) * inverseDxRLerp * inverseDxCLerp;\n            }\n\n            if (r == topDxRIndex && c == rightDxCIndex) {\n              // topRight\n              accumulator += getDy(b, dyR, dyC, d) * inverseDxRLerp * dxCLerp;\n            }\n\n            if (r == bottomDxRIndex && c == leftDxCIndex) {\n              // bottomLeft\n              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * inverseDxCLerp;\n            }\n\n            if (r == bottomDxRIndex && c == rightDxCIndex) {\n              // bottomRight\n              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * dxCLerp;\n            }\n          }\n        }\n        // End loop over dy\n\n        setOutput(accumulator);\n      }\n    "},VK=function(e,t,n,r){this.variableNames=["A"],this.outputShape=[];var i=e[0],a=e[1],o=e[2],s=e[3];this.outputShape=[i,t,n,s];var l=[r&&t>1?a-1:a,r&&n>1?o-1:o],c=[r&&t>1?t-1:t,r&&n>1?n-1:n];this.userCode="\n      const vec2 effectiveInputOverOutputRatioRC = vec2(\n          "+l[0]/c[0]+",\n          "+l[1]/c[1]+");\n      const vec2 inputShapeRC = vec2("+a+".0, "+o+".0);\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        ivec2 yRC = coords.yz;\n\n        // Fractional source index.\n        vec2 sourceFracIndexRC = vec2(yRC) * effectiveInputOverOutputRatioRC;\n\n        // Compute the four integer indices.\n        ivec2 sourceFloorRC = ivec2(sourceFracIndexRC);\n        ivec2 sourceCeilRC = ivec2(\n          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));\n\n        float topLeft = getA(b, sourceFloorRC.x, sourceFloorRC.y, d);\n        float bottomLeft = getA(b, sourceCeilRC.x, sourceFloorRC.y, d);\n        float topRight = getA(b, sourceFloorRC.x, sourceCeilRC.y, d);\n        float bottomRight = getA(b, sourceCeilRC.x, sourceCeilRC.y, d);\n\n        vec2 fracRC = sourceFracIndexRC - vec2(sourceFloorRC);\n\n        float top = topLeft + (topRight - topLeft) * fracRC.y;\n        float bottom = bottomLeft + (bottomRight - bottomLeft) * fracRC.y;\n        float newValue = top + (bottom - top) * fracRC.x;\n\n        setOutput(newValue);\n      }\n    "},GK=function(e,t,n,r){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[];var i=e[0],a=e[1],o=e[2],s=e[3];this.outputShape=[i,t,n,s];var l=[r&&t>1?a-1:a,r&&n>1?o-1:o],c=[r&&t>1?t-1:t,r&&n>1?n-1:n];this.userCode="\n      const vec3 effectiveInputOverOutputRatioRC = vec3(\n          "+l[0]/c[0]+",\n          "+l[1]/c[1]+",\n          "+l[1]/c[1]+");\n      const vec3 inputShapeRC = vec3("+a+".0, "+o+".0,\n                                     "+o+".0);\n\n      float getAValue(int b, int r, int c, int d) {\n        return getChannel(getA(b, r, c, d), vec2(c, d));\n      }\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        // Calculate values for next column in yRC.z.\n        ivec3 yRC = coords.yzz + ivec3(0, 0, 1);\n\n        // Fractional source index.\n        vec3 sourceFracIndexRC = vec3(yRC) * effectiveInputOverOutputRatioRC;\n\n        // Compute the four integer indices.\n        ivec3 sourceFloorRC = ivec3(sourceFracIndexRC);\n        ivec3 sourceCeilRC = ivec3(\n          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));\n\n        // Should we calculate next column and row elements in 2x2 packed cell.\n        bool hasNextCol = d < "+(s-1)+";\n        bool hasNextRow = coords.z < "+(n-1)+";\n\n        // In parallel, construct four corners for all four components in\n        // packed 2x2 cell.\n        vec4 topLeft = vec4(\n          getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d),\n          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d + 1) : 0.0);\n\n        vec4 bottomLeft = vec4(\n          getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d),\n          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d + 1) : 0.0);\n\n        vec4 topRight = vec4(\n          getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d),\n          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d + 1) : 0.0);\n\n        vec4 bottomRight = vec4(\n          getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d),\n          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d + 1) : 0.0);\n\n        vec3 fracRC = sourceFracIndexRC - vec3(sourceFloorRC);\n\n        vec4 top = mix(topLeft, topRight, fracRC.yyzz);\n        vec4 bottom = mix(bottomLeft, bottomRight, fracRC.yyzz);\n        vec4 newValue = mix(top, bottom, fracRC.x);\n\n        setOutput(newValue);\n      }\n    "},qK=function(e,t,n){this.variableNames=["dy"],this.outputShape=[],this.outputShape=t.shape;var r=t.shape,i=r[1],a=r[2],o=e.shape,s=o[1],l=o[2],c=[n&&s>1?i-1:i,n&&l>1?a-1:a],u=[n&&s>1?s-1:s,n&&l>1?l-1:l],A=c[0]/u[0],d=c[1]/u[1],h=1/A,f=1/d,p=2*Math.ceil(h)+2,g=2*Math.ceil(f)+2;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        int r = coords[1];\n        int c = coords[2];\n\n        float accumulator = 0.0;\n\n        const float heightScale = float("+A+");\n        const float widthScale = float("+d+");\n\n        const float invHeightScale = float("+h+");\n        const float invWidthScale = float("+f+");\n\n        const int winHeight = int("+p+");\n        const int winWidth = int("+g+");\n\n        // Compute bounds for where in dy we will look\n        float startRLerp = floor(float(r) * invHeightScale);\n        int startDyR = int(floor(startRLerp - float(winHeight / 2)));\n\n        float startCLerp = floor(float(c) * invWidthScale);\n        int startDyC = int(floor(startCLerp - float(winWidth / 2)));\n\n        // Loop over dy\n        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {\n          int dyR = dyROffset + startDyR;\n\n          // Guard against the window exceeding the bounds of dy\n          if (dyR < 0 || dyR >= "+s+") {\n            continue;\n          }\n\n          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {\n            int dyC = dyCOffset + startDyC;\n\n            // Guard against the window exceeding the bounds of dy\n            if (dyC < 0 || dyC >= "+l+") {\n              continue;\n            }\n\n            float sourceFracRow =\n              float("+c[0]+") *\n                (float(dyR) / float("+u[0]+"));\n\n            float sourceFracCol =\n                float("+c[1]+") *\n                  (float(dyC) / float("+u[1]+"));\n\n            int sourceNearestRow = int(min(\n                float(int("+i+") - 1),\n                "+n+" ? float(round(sourceFracRow)) :\n                                  float(floor(sourceFracRow))));\n\n            int sourceNearestCol = int(min(\n                float(int("+a+") - 1),\n                "+n+" ? float(round(sourceFracCol)) :\n                                  float(floor(sourceFracCol))));\n\n            if (r == sourceNearestRow && c == sourceNearestCol) {\n              accumulator += getDy(b, dyR, dyC, d);\n            }\n          }\n        }\n        // End loop over dy\n\n        setOutput(accumulator);\n      }\n    "},XK=function(e,t,n,r){this.variableNames=["A"],this.outputShape=[];var i=e[0],a=e[1],o=e[2],s=e[3];this.outputShape=[i,t,n,s];var l=[r&&t>1?a-1:a,r&&n>1?o-1:o],c=[r&&t>1?t-1:t,r&&n>1?n-1:n],u=r?"0.5":"0.0";this.userCode="\n      const vec2 effectiveInputOverOutputRatioRC = vec2(\n          "+l[0]/c[0]+",\n          "+l[1]/c[1]+");\n      const vec2 inputShapeRC = vec2("+a+".0, "+o+".0);\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        ivec2 yRC = coords.yz;\n\n        // Fractional source index.\n        vec2 sourceFracIndexRC = vec2(yRC) * effectiveInputOverOutputRatioRC;\n\n        // Compute the coordinators of nearest neighbor point.\n        ivec2 sourceNearestRC = ivec2(\n          min(inputShapeRC - 1.0, floor(sourceFracIndexRC + "+u+")));\n\n        float newValue = getA(b, sourceNearestRC.x, sourceNearestRC.y, d);\n\n        setOutput(newValue);\n      }\n    "},YK=function(e,t){this.variableNames=["x"];var n=e.length;if(n>4)throw new Error("WebGL backend: Reverse of rank-"+n+" tensor is not yet supported");if(this.outputShape=e,1!==n){var r=e.map(function(n,r){return function(n){return-1!==t.indexOf(n)&&1!==e[n]?e[n]+" - coords["+n+"] - 1":"coords["+n+"]"}(r)}).join(","),i=gz(n);this.userCode="\n      void main() {\n        "+i+" coords = getOutputCoords();\n        setOutput(getX("+r+"));\n      }\n    "}else this.userCode="\n        void main() {\n          int coord = getOutputCoords();\n          setOutput(getX("+e[0]+" - coord - 1));\n        }\n      "},JK=function(e,t){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0;var n=e.length;if(n>4)throw new Error("WebGL backend: Reverse of rank-"+n+" tensor is not yet supported");this.outputShape=e;var r=nz("rc",n),i=r[n-1]+" + 1 < "+this.outputShape[n-1],a=r[n-2]+" + 1 < "+this.outputShape[n-2],o=gz(n);function s(n){var r=e.map(function(r,i){return function(n,r){return-1!==t.indexOf(n)&&1!==e[n]?e[n]+" - "+r[n]+" - 1":""+r[n]}(i,n)});return"getChannel(getX("+r.join(",")+"), vec2("+r.slice(-2).join(",")+"))"}this.userCode=1===n?"\n        void main(){\n          int rc = getOutputCoords();\n          vec4 result = vec4(0.);\n          result.r = getChannel(getX("+e[0]+" - rc - 1),\n            "+e[0]+" - rc - 1);\n          if("+i+"){\n              result.g = getChannel(getX("+e[0]+" - (rc  + 1) - 1),\n                "+e[0]+" - (rc  + 1) - 1);\n          }\n          setOutput(result);\n        }\n      ":"\n        void main() {\n          "+o+" rc = getOutputCoords();\n          vec4 result = vec4(0.);\n          result.r = "+function(e){return s(e)}(r.slice())+";\n          if("+i+"){\n            result.g = "+function(e){return e[n-1]="("+e[n-1]+" + 1)",s(e)}(r.slice())+";\n          }\n          if("+a+") {\n            result.b = "+function(e){return e[n-2]="("+e[n-2]+" + 1)",s(e)}(r.slice())+";\n            if("+i+") {\n              result.a = "+function(e){return e[n-1]="("+e[n-1]+" + 1)",e[n-2]="("+e[n-2]+" + 1)",s(e)}(r.slice())+";\n            }\n          }\n          setOutput(result);\n        }\n    "},ZK=function(e,t,n,r,i,a,o){void 0===o&&(o=!0),this.variableNames=["updates","indices","defaultValue"],this.outputShape=a;var s=gz(i.length),l=gz(a.length),c="";1===n?c="i":2===n&&(c="i, j");var u="getIndices("+c+")",A="";1===r?A="i":2===r&&(A="i, coords[1]");var d="getUpdates("+A+")",h=t>1?"strides[j]":"strides";this.userCode="\n        "+s+" strides = "+s+"("+i+");\n\n        void main() {\n          "+l+" coords = getOutputCoords();\n          float sum = 0.0;\n          bool found = false;\n          for (int i = 0; i < "+e+"; i++) {\n            int flattenedIndex = 0;\n            for (int j = 0; j < "+t+"; j++) {\n              int index = round("+u+");\n              flattenedIndex += index * "+h+";\n            }\n            if (flattenedIndex == coords[0]) {\n              sum += "+d+";\n              found = true;\n            }\n          }\n          setOutput(mix(getDefaultValue(), sum, float(found)));\n        }\n      "},$K=function(e,t){this.variableNames=["x","segmentIds"];var n=e.windowSize,r=e.batchSize,i=e.inSize,a=e.numSegments,o=a*Math.ceil(i/n);this.outputShape=[r,o];var s=4*Math.floor(n/4),l=n%4,c="\n        sumValue += dot(values, segFilter);\n    ",u="";i%n>0&&(u="\n        if (inIdx < 0 || inIdx >= "+i+") {\n          return initializationValue;\n        }\n      ");var A="";i%n>0&&(A="\n        if (inIdx < 0 || inIdx >= "+i+") {\n          return -1.0;\n        }\n      "),this.userCode="\n      const float initializationValue = 0.0;\n\n      float getValue(int batch, int inIdx) {\n        "+u+"\n        return getX(batch, inIdx);\n      }\n\n      float getSegmentIdAtIndex(int inIdx) {\n        "+A+"\n        return getSegmentIds(inIdx);\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = int(floor(float(outIdx) / float(\n          "+a+")) * float("+n+"));\n        int currentSeg = int(mod(float(outIdx), float("+a+")));\n\n        float sumValue = 0.0;\n\n        for (int i = 0; i < "+s+"; i += 4) {\n          int inIdx = inOffset + i;\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            getValue(batch, inIdx + 3)\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 3)) == currentSeg ? 1 : 0\n          );\n\n          "+c+"\n        }\n\n        int inIdx = inOffset + "+s+";\n        if ("+(1===l)+") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            initializationValue,\n            initializationValue,\n            initializationValue\n          );\n\n          int inIdxSeg = int(getSegmentIdAtIndex(inIdx));\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            0,\n            0,\n            0\n          );\n\n          "+c+"\n        } else if ("+(2===l)+") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            initializationValue,\n            initializationValue\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n              0,\n              0\n          );\n\n          "+c+"\n        } else if ("+(3===l)+") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            initializationValue\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,\n            0\n          );\n\n          "+c+"\n        }\n        setOutput(sumValue);\n      }\n    "},eW=function(e,t,n){var r,i;if(this.variableNames=["c","a","b"],this.outputShape=t,n>4)throw Error("Where for rank "+n+" is not yet supported");if(1===n)i="resRC",r="resRC";else{for(var a=["resRC.x","resRC.y","resRC.z","resRC.w"],o=[],s=[],l=0;l<t.length;l++)s.push(""+a[l]),l<e&&o.push(""+a[l]);r=o.join(),i=s.join()}var c=gz(n);this.userCode="\n      void main() {\n        "+c+" resRC = getOutputCoords();\n        float cVal = getC("+r+");\n        if (cVal >= 1.0) {\n          setOutput(getA("+i+"));\n        } else {\n          setOutput(getB("+i+"));\n        }\n      }\n    "},tW=function(){function e(e){this.variableNames=["source"],this.outputShape=e,this.rank=e.length;var t,n=gz(this.rank),r="uniform int start["+this.rank+"];",i=function(e){if(1===e)return"sourceLoc";if(e<=6)return nW.slice(0,e).map(function(e){return"sourceLoc."+e}).join(",");throw Error("Slicing for rank "+e+" is not yet supported")}(this.rank);t="\n        "+n+" sourceLoc;\n        "+n+" coords = getOutputCoords();\n        "+e.map(function(e,t){return"sourceLoc."+nW[t]+" = start["+t+"] + coords."+nW[t]+";"}).join("\n")+"\n      ",this.userCode="\n      "+r+"\n      void main() {\n        "+t+"\n        setOutput(getSource("+i+"));\n      }\n    "}return e.prototype.getCustomSetupFunc=function(e){var t=this;if(e.length!==this.rank)throw Error("The rank ("+this.rank+") of the program must match the length of start ("+e.length+")");return function(n,r){null==t.startLoc&&(t.startLoc=n.getUniformLocationNoThrow(r,"start"),null==t.startLoc)||n.gl.uniform1iv(t.startLoc,e)}},e}(),nW=["x","y","z","w","u","v"],rW=function(){function e(e){this.variableNames=["source"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.rank=e.length;var t=gz(this.rank),n=nz("coords",this.rank),r=nz("sourceLoc",this.rank),i=1===this.rank?"sourceLoc":"vec2("+r.slice(-2).join()+")",a="getChannel(getSource("+r.join()+"), "+i+")",o="\n      result.x = "+a+";\n      if (++"+n[this.rank-1]+" < "+e[this.rank-1]+") {\n        ++"+r[this.rank-1]+";\n        result.y = "+a+";\n        --"+r[this.rank-1]+";\n      }\n    ",s=1===this.rank?"":"\n      --"+n[this.rank-1]+";\n      if (++"+n[this.rank-2]+" < "+e[this.rank-2]+") {\n        ++"+r[this.rank-2]+";\n        result.z = "+a+";\n        if (++"+n[this.rank-1]+" < "+e[this.rank-1]+") {\n          ++"+r[this.rank-1]+";\n          result.w = "+a+";\n        }\n      }\n    ",l=this.rank<=4?"sourceLoc = coords +\n            "+t+"("+e.map(function(e,t){return"start["+t+"]"}).join()+");":e.map(function(e,t){return r[t]+" = "+n[t]+" + start["+t+"];"}).join("\n");this.userCode="\n      uniform int start["+this.rank+"];\n      void main() {\n        "+t+" coords = getOutputCoords();\n        "+t+" sourceLoc;\n        "+l+"\n        vec4 result = vec4(0.);\n        "+o+"\n        "+s+"\n        setOutput(result);\n      }\n    "}return e.prototype.getCustomSetupFunc=function(e){var t=this;if(e.length!==this.rank)throw Error("The rank ("+this.rank+") of the program must match the length of start ("+e.length+")");return function(n,r){null==t.startLoc&&(t.startLoc=n.getUniformLocationNoThrow(r,"start"),null==t.startLoc)||n.gl.uniform1iv(t.startLoc,e)}},e}(),iW=function(e,t,n){this.variableNames=["x"],this.outputShape=n;var r=n.length,i=gz(n.length),a=gz(n.length),o="";if(1===r)o="coords * strides + begin";else{var s=0;o=n.map(function(e,t){return s++,1===n.length?"coords * strides["+t+"] + begin["+t+"]":"coords["+(s-1)+"] * strides["+t+"] + begin["+t+"]"}).join(",")}this.userCode="\n      "+i+" begin = "+i+"("+e+");\n      "+i+" strides = "+i+"("+t+");\n\n      void main() {\n        "+a+" coords = getOutputCoords();\n        setOutput(getX("+o+"));\n      }\n    "},aW=function(){function e(e){this.gpgpu=e,this.numUsedTextures=0,this.numFreeTextures=0,this.freeTextures={},this.logEnabled=!1,this.usedTextures={}}return e.prototype.acquireTexture=function(e,t,n){var r,i=oW(t,n),a=sW(e,i,n);if(a in this.freeTextures||(this.freeTextures[a]=[]),a in this.usedTextures||(this.usedTextures[a]=[]),this.freeTextures[a].length>0){this.numFreeTextures--,this.numUsedTextures++,this.log();var o=this.freeTextures[a].shift();return this.usedTextures[a].push(o),o}return this.numUsedTextures++,this.log(),i===wM.PACKED_2X2_FLOAT32?r=this.gpgpu.createPackedMatrixTexture(e[0],e[1]):i===wM.PACKED_2X2_FLOAT16?r=this.gpgpu.createFloat16PackedMatrixTexture(e[0],e[1]):i===wM.UNPACKED_FLOAT32?r=this.gpgpu.createFloat32MatrixTexture(e[0],e[1]):i===wM.UNPACKED_FLOAT16?r=this.gpgpu.createFloat16MatrixTexture(e[0],e[1]):i===wM.PACKED_4X1_UNSIGNED_BYTE&&(r=this.gpgpu.createUnsignedBytesMatrixTexture(e[0],e[1])),this.usedTextures[a].push(r),r},e.prototype.releaseTexture=function(e,t,n,r){if(null!=this.freeTextures){var i=sW(t,oW(n,r),r);i in this.freeTextures||(this.freeTextures[i]=[]),this.freeTextures[i].push(e),this.numFreeTextures++,this.numUsedTextures--;var a=this.usedTextures[i],o=a.indexOf(e);if(o<0)throw new Error("Cannot release a texture that was never provided by this texture manager");a.splice(o,1),this.log()}},e.prototype.log=function(){if(this.logEnabled){var e=this.numFreeTextures+this.numUsedTextures;console.log("Free/Used",this.numFreeTextures+" / "+this.numUsedTextures,"("+e+")")}},e.prototype.getNumUsedTextures=function(){return this.numUsedTextures},e.prototype.getNumFreeTextures=function(){return this.numFreeTextures},e.prototype.dispose=function(){var e=this;if(null!=this.freeTextures){for(var t in this.freeTextures)this.freeTextures[t].forEach(function(t){e.gpgpu.deleteMatrixTexture(t)});for(var t in this.usedTextures)this.usedTextures[t].forEach(function(t){e.gpgpu.deleteMatrixTexture(t)});this.freeTextures=null,this.usedTextures=null,this.numUsedTextures=0,this.numFreeTextures=0}},e}();function oW(e,t){if(e===bM.UPLOAD)return wM.PACKED_2X2_FLOAT32;if(e===bM.RENDER||null==e)return function(e){return GD().getBool("WEBGL_RENDER_FLOAT32_ENABLED")?e?wM.PACKED_2X2_FLOAT32:wM.UNPACKED_FLOAT32:e?wM.PACKED_2X2_FLOAT16:wM.UNPACKED_FLOAT16}(t);if(e===bM.DOWNLOAD||e===bM.PIXELS)return wM.PACKED_4X1_UNSIGNED_BYTE;throw new Error("Unknown logical texture type "+e)}function sW(e,t,n){return e[0]+"_"+e[1]+"_"+t+"_"+n}var lW=function(e,t){this.variableNames=["A"];for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e[r]*t[r];this.outputShape=n,this.rank=n.length;var i=gz(this.rank),a=function(e){var t=e.length;if(t>5)throw Error("Tile for rank "+t+" is not yet supported");if(1===t)return"imod(resRC, "+e[0]+")";for(var n=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u"],r=[],i=0;i<e.length;i++)r.push("imod("+n[i]+", "+e[i]+")");return r.join()}(e);this.userCode="\n      void main() {\n        "+i+" resRC = getOutputCoords();\n        setOutput(getA("+a+"));\n      }\n    "},cW=function(e,t){this.variableNames=["A"];for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e[t[r]];this.outputShape=n,this.rank=n.length;var i=gz(this.rank),a=function(e){var t=e.length;if(t>6)throw Error("Transpose for rank "+t+" is not yet supported");for(var n=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u","resRC.v"],r=new Array(t),i=0;i<e.length;i++)r[e[i]]=n[i];return r.join()}(t);this.userCode="\n    void main() {\n      "+i+" resRC = getOutputCoords();\n      setOutput(getA("+a+"));\n    }\n    "},uW=function(e,t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0;for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e[t[r]];if(this.outputShape=n,this.rank=n.length,this.rank>6)throw Error("Packed transpose for rank "+this.rank+" is not yet supported.");var i=gz(this.rank),a=tz("rc",this.rank),o=new Array(this.rank);for(r=0;r<t.length;r++)o[t[r]]=a[r];var s="vec2("+o.slice(-2).join()+")",l="++"+a[this.rank-1]+" < "+n[this.rank-1],c="getChannel(getA("+o.join()+"), "+s+")";this.userCode="\n    void main() {\n      "+i+" rc = getOutputCoords();\n      vec4 result = vec4(0.);\n      result[0] = "+c+";\n      if("+l+") {\n        result[1] = "+c+";\n      }\n      --"+a[this.rank-1]+";\n      if(++"+a[this.rank-2]+" < "+n[this.rank-2]+") {\n        result[2] = "+c+";\n        if("+l+") {\n          result[3] = "+c+";\n        }\n      }\n      setOutput(result);\n    }\n    "},AW=1.7580993408473768,dW=1.0507009873554805,hW=function(e,t){this.variableNames=["A"],this.outputShape=e,this.userCode="\n      float unaryOperation(float x) {\n        "+t+"\n      }\n\n      void main() {\n        float x = getAAtOutCoords();\n        float y = unaryOperation(x);\n\n        setOutput(y);\n      }\n    "},fW="if (isnan(x)) return x;",pW="return abs(x);",gW=fW+"\n  return (x < 0.0) ? 0.0 : x;\n",mW=fW+"\n  return (x < 0.0) ? 0.0 : min(6.0, x);\n",vW="return (x >= 0.0) ? x : (exp(x) - 1.0);",yW="\n  // Stable and Attracting Fixed Point (0, 1) for Normalized Weights.\n  // see: https://arxiv.org/abs/1706.02515\n  float scaleAlpha = "+AW+";\n  float scale = "+dW+";\n  return (x >= 0.0) ? scale * x : scaleAlpha * (exp(x) - 1.0);\n",bW="return -x;",wW="return ceil(x);",xW="return floor(x);",BW="return exp(x);",CW="return exp(x) - 1.0;",NW=fW+"\n  return sin(x);\n",kW=fW+"\n  return cos(x);\n",_W=fW+"\n  if (abs(x) > 1.) {\n    return NAN;\n  }\n  return asin(x);\n",EW=fW+"\n  if (abs(x) > 1.) {\n    return NAN;\n  }\n  return acos(x);\n",SW=fW+"\n  return atan(x);\n",FW=fW+"return log(x + sqrt(x * x + 1.0));",IW=fW+"\n  if (x < 1.0) return NAN;\n  return log(x + sqrt(x * x - 1.0));",jW=fW+"\n  if ((x < -1.0) || (x > 1.0)) return NAN;\n  return (log(1.0 + x) - log(1.0 - x)) / 2.0;",UW="return x;",OW="\n  vec4 result = x * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n",PW="\n  vec4 result = min(x, vec4(6.)) * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n",LW="\n  vec4 result;\n\n  result.r = (x.r >= 0.0) ? x.r : (exp(x.r) - 1.0);\n  result.g = (x.g >= 0.0) ? x.g : (exp(x.g) - 1.0);\n  result.b = (x.b >= 0.0) ? x.b : (exp(x.b) - 1.0);\n  result.a = (x.a >= 0.0) ? x.a : (exp(x.a) - 1.0);\n\n  return result;\n",DW=function(e,t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.userCode="\n      vec4 unaryOperation(vec4 x) {\n        "+t+"\n      }\n\n      void main() {\n        vec4 x = getAAtOutCoords();\n        vec4 y = unaryOperation(x);\n\n        setOutput(y);\n      }\n    "},TW=function(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outputShape=e;var t=e.length,n=nz("rc",t),r=gz(t),i=function(e,t){if(1===e)return"rc";for(var n="",r=0;r<e;r++)n+=t[r],r<e-1&&(n+=",");return n}(t,n),a=n.slice(-2),o=t<=1?"rc":"vec2("+a.join(",")+")";this.userCode="\n      void main() {\n        "+r+" rc = getOutputCoords();\n        vec4 packedInput = getA("+i+");\n\n        setOutput(getChannel(packedInput, "+o+"));\n      }\n    "},MW={};function QW(e,t){if(void 0===t&&(t=!1),"linear"===e)return"return x;";if("relu"===e)return t?OW:gW;if("elu"===e)return t?LW:vW;if("relu6"===e)return t?PW:mW;if("prelu"===e)return t?Fz:Ez;throw new Error("Activation "+e+" has not been implemented for the WebGL backend.")}var RW=function(e){function t(t){var n,r=e.call(this)||this;if(r.pendingRead=new WeakMap,r.pendingDisposal=new WeakSet,r.dataRefCount=new WeakMap,r.numBytesInGPU=0,r.uploadWaitMs=0,r.downloadWaitMs=0,r.warnedAboutMemory=!1,r.pendingDeletes=0,r.disposed=!1,!GD().getBool("HAS_WEBGL"))throw new Error("WebGL is not supported on this device");if(null==t){var i=NM(GD().getNumber("WEBGL_VERSION"));r.binaryCache=((n=GD().getNumber("WEBGL_VERSION"))in MW||(MW[n]={}),MW[n]),r.gpgpu=new _K(i),r.canvas=i.canvas,r.gpgpuCreatedLocally=!0}else r.gpgpu=t,r.binaryCache={},r.gpgpuCreatedLocally=!1,r.canvas=t.gl.canvas;return r.textureManager=new aW(r.gpgpu),r.numMBBeforeWarning=null==GD().global.screen?1024:GD().global.screen.height*GD().global.screen.width*window.devicePixelRatio*600/1024/1024,r.texData=new pH(r,gM),r}return zD(t,e),t.prototype.numDataIds=function(){return this.texData.numDataIds()+(this.cpuBackend?this.cpuBackend.numDataIds():0)-this.pendingDeletes},t.prototype.write=function(e,t,n){if(GD().getBool("DEBUG")&&this.checkNumericalProblems(e),"complex64"===n&&null!=e)throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");var r={};return this.texData.set(r,{shape:t,dtype:n,values:e,usage:bM.UPLOAD}),r},t.prototype.move=function(e,t,n,r){if(GD().getBool("DEBUG")&&this.checkNumericalProblems(t),"complex64"===r)throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");this.texData.set(e,{shape:n,dtype:r,values:t,usage:bM.UPLOAD})},t.prototype.readSync=function(e){var t=this.texData.get(e),n=t.values,r=t.dtype,i=t.complexTensors,a=t.slice,o=t.shape,s=t.isPacked;if(null!=a){var l;l=s?new DW(o,UW):new hW(o,UW);var c=this.runWebGLProgram(l,[{dataId:e,shape:o,dtype:r}],r),u=this.readSync(c.dataId);return this.disposeData(c.dataId),u}if(null!=n)return this.convertAndCacheOnCPU(e);if("string"===r)return n;var A,d,h=null!=this.activeTimers;return h&&(A=MT()),d="complex64"===r?LH(i.real.dataSync(),i.imag.dataSync()):this.getValuesFromTexture(e),h&&(this.downloadWaitMs+=MT()-A),this.convertAndCacheOnCPU(e,d)},t.prototype.read=function(e){return KD(this,void 0,void 0,function(){var t,n,r,i,a,o,s,l,c,u,A,d,h,f,p,g,m,v,y,b,w,x;return WD(this,function(B){switch(B.label){case 0:if(this.pendingRead.has(e))return t=this.pendingRead.get(e),[2,new Promise(function(e){return t.push(e)})];if(n=this.texData.get(e),r=n.values,i=n.shape,a=n.slice,o=n.dtype,s=n.complexTensors,l=n.isPacked,null!=a)return void 0,c=l?new DW(i,UW):new hW(i,UW),u=this.runWebGLProgram(c,[{dataId:e,shape:i,dtype:o}],o),A=this.read(u.dataId),this.disposeData(u.dataId),[2,A];if(null!=r)return[2,this.convertAndCacheOnCPU(e)];if(!GD().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")&&2===GD().getNumber("WEBGL_VERSION"))throw new Error("tensor.data() with WEBGL_DOWNLOAD_FLOAT_ENABLED=false and WEBGL_VERSION=2 not yet supported.");return d=null,"complex64"!==o&&GD().get("WEBGL_BUFFER_SUPPORTED")&&(h=this.decode(e),f=this.texData.get(h.dataId),d=(x=this.gpgpu).createBufferFromTexture.apply(x,[f.texture].concat(_M(i)))),this.pendingRead.set(e,[]),"complex64"===o?[3,2]:[4,this.gpgpu.createAndWaitForFence()];case 1:B.sent(),B.label=2;case 2:return"complex64"!==o?[3,4]:[4,Promise.all([s.real.data(),s.imag.data()])];case 3:return g=B.sent(),m=g[0],v=g[1],p=LH(m,v),[3,5];case 4:null==d?p=this.getValuesFromTexture(e):(y=uT(i),p=this.gpgpu.downloadFloat32MatrixFromBuffer(d,y)),B.label=5;case 5:return null!=h&&this.disposeData(h.dataId),b=this.convertAndCacheOnCPU(e,p),w=this.pendingRead.get(e),this.pendingRead.delete(e),w.forEach(function(e){return e(b)}),this.pendingDisposal.has(e)&&(this.pendingDisposal.delete(e),this.disposeData(e),this.pendingDeletes--),[2,b]}})})},t.prototype.checkNumericalProblems=function(e){if(null!=e)for(var t=0;t<e.length;t++){var n=e[t];if(!IM(n)){if(GD().getBool("WEBGL_RENDER_FLOAT32_CAPABLE"))throw Error("The value "+n+" cannot be represented with your current settings. Consider enabling float32 rendering: 'tf.env().set('WEBGL_RENDER_FLOAT32_ENABLED', true);'");throw Error("The value "+n+" cannot be represented on this device.")}}},t.prototype.getValuesFromTexture=function(e){var t,n=this.texData.get(e),r=n.shape,i=n.dtype,a=n.isPacked,o=uT(r);if(GD().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")){var s=this.decode(e),l=this.texData.get(s.dataId),c=(t=this.gpgpu).downloadMatrixFromPackedTexture.apply(t,[l.texture].concat(_M(r))).subarray(0,o);return this.disposeData(s.dataId),c}var u=GD().getBool("WEBGL_PACK")&&!0===a,A=u?oQ(r):r,d=u?new nK(A):new tK(A),h=this.runWebGLProgram(d,[{shape:A,dtype:i,dataId:e}],"float32"),f=this.texData.get(h.dataId),p=this.gpgpu.downloadByteEncodedFloatMatrixFromOutputTexture(f.texture,f.texShape[0],f.texShape[1]).subarray(0,o);return this.disposeData(h.dataId),p},t.prototype.time=function(e){return KD(this,void 0,void 0,function(){var t,n,r,i,a,o,s;return WD(this,function(l){switch(l.label){case 0:return t=this.activeTimers,n=[],r=!1,null==this.programTimersStack?(this.programTimersStack=n,r=!0):this.activeTimers.push(n),this.activeTimers=n,e(),i=cT(this.activeTimers.map(function(e){return e.query})).filter(function(e){return null!=e}),a=cT(this.activeTimers.map(function(e){return e.name})).filter(function(e){return null!=e}),this.activeTimers=t,r&&(this.programTimersStack=null),o={uploadWaitMs:this.uploadWaitMs,downloadWaitMs:this.downloadWaitMs,kernelMs:null,wallMs:null},GD().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?[4,Promise.all(i)]:[3,2];case 1:return s=l.sent(),o.kernelMs=aT(s),o.getExtraProfileInfo=function(){return s.map(function(e,t){return{name:a[t],ms:e}}).map(function(e){return e.name+": "+e.ms}).join(", ")},[3,3];case 2:o.kernelMs={error:"WebGL query timers are not supported in this environment."},l.label=3;case 3:return this.uploadWaitMs=0,this.downloadWaitMs=0,[2,o]}})})},t.prototype.memory=function(){return{unreliable:!1,numBytesInGPU:this.numBytesInGPU}},t.prototype.startTimer=function(){return GD().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?this.gpgpu.beginQuery():{startMs:MT(),endMs:null}},t.prototype.endTimer=function(e){return GD().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?(this.gpgpu.endQuery(),e):(e.endMs=MT(),e)},t.prototype.getQueryTime=function(e){return KD(this,void 0,void 0,function(){var t;return WD(this,function(n){return GD().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?[2,this.gpgpu.waitForQueryAndGetTime(e)]:[2,(t=e).endMs-t.startMs]})})},t.prototype.disposeData=function(e){if(!this.pendingDisposal.has(e)){if(this.pendingRead.has(e))return this.pendingDisposal.add(e),void this.pendingDeletes++;if(this.texData.has(e)){this.releaseGPUData(e);var t=this.texData.get(e).complexTensors;null!=t&&(t.real.dispose(),t.imag.dispose()),this.texData.delete(e)}}},t.prototype.releaseGPUData=function(e){var t=this.texData.get(e),n=t.texture,r=t.dtype,i=t.texShape,a=t.usage,o=t.isPacked,s=t.slice,l=s&&s.origDataId||e,c=this.dataRefCount.get(l);c>1?this.dataRefCount.set(l,c-1):(this.dataRefCount.delete(l),null!=n&&(this.numBytesInGPU-=this.computeBytes(i,r),this.textureManager.releaseTexture(n,i,a,o)));var u=this.texData.get(e);u.texture=null,u.texShape=null,u.isPacked=!1,u.slice=null},t.prototype.getTexture=function(e){return this.uploadToGPU(e),this.texData.get(e).texture},t.prototype.getDataInfo=function(e){return this.texData.get(e)},t.prototype.getCPUBackend=function(){return GD().getBool("WEBGL_CPU_FORWARD")?(null==this.cpuBackend&&(this.cpuBackend=gM.findBackend("cpu")),this.cpuBackend):null},t.prototype.shouldExecuteOnCPU=function(e,t){var n=this;return void 0===t&&(t=128),null!=this.getCPUBackend()&&e.every(function(e){return null==n.texData.get(e.dataId).texture&&e.size<t})},t.prototype.getGPGPUContext=function(){return this.gpgpu},t.prototype.complex=function(e,t){var n=this.makeOutput(e.shape,"complex64");return this.texData.get(n.dataId).complexTensors={real:gM.keep(e.clone()),imag:gM.keep(t.clone())},n},t.prototype.real=function(e){return this.texData.get(e.dataId).complexTensors.real.clone()},t.prototype.imag=function(e){return this.texData.get(e.dataId).complexTensors.imag.clone()},t.prototype.slice=function(e,t,n){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.slice(e,t,n);if(0===uT(n))return WQ([],n,e.dtype);var r=this.texData.get(e.dataId).isPacked,i=uH(e.shape,t,n);if(r||!i){var a=GD().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new rW(n):new tW(n),o=a.getCustomSetupFunc(t);return this.compileAndRun(a,[e],null,o)}return this.uploadToGPU(e.dataId),this.shallowSlice(e,t,n)},t.prototype.shallowSlice=function(e,t,n){var r=this.texData.get(e.dataId),i=this.makeOutput(n,e.dtype),a=this.texData.get(i.dataId);Object.assign(a,r),a.shape=n,a.dtype=e.dtype;var o=AH(t,e.strides);r.slice&&(o+=r.slice.flatOffset),a.slice={flatOffset:o,origDataId:r.slice&&r.slice.origDataId||e.dataId};var s=this.dataRefCount.get(a.slice.origDataId)||1;return this.dataRefCount.set(a.slice.origDataId,s+1),i},t.prototype.stridedSlice=function(e,t,n,r){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.stridedSlice(e,t,n,r);var i=sH(t,n,r);if(i.some(function(e){return 0===e}))return WQ([],i);var a=new iW(t,r,i);return this.compileAndRun(a,[e])},t.prototype.reverse=function(e,t){var n=GD().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new JK(e.shape,t):new YK(e.shape,t);return this.compileAndRun(n,[e])},t.prototype.concat=function(e,t){if("complex64"===e[0].dtype){var n=e.map(function(e){return zQ(e)}),r=e.map(function(e){return KQ(e)});return HQ(this.concat(n,t),this.concat(r,t))}if(this.shouldExecuteOnCPU(e))return this.cpuBackend.concat(e,t);if(1===e.length)return e[0];if(e.length>GD().getNumber("WEBGL_MAX_TEXTURES_IN_SHADER")){var i=Math.floor(e.length/2),a=this.concat(e.slice(0,i),t),o=this.concat(e.slice(i),t);return this.concat([a,o],t)}if(GD().getBool("WEBGL_PACK_ARRAY_OPERATIONS")&&e[0].rank>1){var s=new Lz(e.map(function(e){return e.shape}),t);return this.compileAndRun(s,e)}var l=QQ(e.map(function(e){return e.shape}),t),c=e.map(function(e){return e.as2D(-1,uT(e.shape.slice(t)))}),u=new Pz(c.map(function(e){return e.shape}));return this.compileAndRun(u,c).reshape(l)},t.prototype.neg=function(e){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.neg(e);if(GD().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,bW,e.dtype);var t=new hW(e.shape,bW);return this.compileAndRun(t,[e])},t.prototype.batchMatMul=function(e,t,n,r){var i=n?e.shape[2]:e.shape[1],a=r?t.shape[1]:t.shape[2],o=n?e.shape[1]:e.shape[2],s=e.shape[0];if((1===i||1===a)&&o>1e3){n&&(e=e.transpose([0,2,1])),r&&(t=t.transpose([0,2,1]));var l=1===a?e:e.as3D(s,o,1),c=1===a?2:1,u=1===a?t.as3D(s,1,o):t;return this.multiply(l,u).sum(c,!0)}var A=lM(e.dtype,t.dtype),d=new PK(e.shape,[s,i,a],n,r);return this.compileAndRun(d,[e,t],A)},t.prototype.fusedBatchMatMul=function(e){var t=e.a,n=e.b,r=e.transposeA,i=e.transposeB,a=e.bias,o=e.activation,s=e.preluActivationWeights,l=r?t.shape[2]:t.shape[1],c=i?n.shape[1]:n.shape[2],u=t.shape[0],A=lM(t.dtype,n.dtype),d=null!=a,h=null!=s,f=o?QW(o,!0):null,p=new PK(t.shape,[u,l,c],r,i,d,f,h),g=[t,n];return a&&g.push(a),s&&g.push(s),this.compileAndRun(p,g,A)},t.prototype.multiply=function(e,t){if("complex64"===e.dtype){var n=this.texData.get(e.dataId),r=this.texData.get(t.dataId),i=new Cz("return areal * breal - aimag * bimag;",e.shape,t.shape),a=new Cz("return areal * bimag + aimag * breal;",e.shape,t.shape),o=[this.makeComplexComponentTensorInfo(e,n.complexTensors.real),this.makeComplexComponentTensorInfo(e,n.complexTensors.imag),this.makeComplexComponentTensorInfo(t,r.complexTensors.real),this.makeComplexComponentTensorInfo(t,r.complexTensors.imag)],s=this.compileAndRun(i,o),l=this.compileAndRun(a,o),c=this.complex(s,l);return s.dispose(),l.dispose(),c}if(this.shouldExecuteOnCPU([e,t]))return this.cpuBackend.multiply(e,t);if(GD().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,_z,e.dtype);var u=new Sz(_z,e.shape,t.shape);return this.compileAndRun(u,[e,t],e.dtype)},t.prototype.batchNormalization=function(e,t,n,r,i,a){var o=[e,t,n],s=null;null!=a&&(s=a.shape,o.push(a));var l=null;if(null!=i&&(l=i.shape,o.push(i)),GD().getBool("WEBGL_PACK_NORMALIZATION")){var c=new Bz(e.shape,t.shape,n.shape,s,l,r);return this.compileAndRun(c,o)}var u=new xz(e.shape,t.shape,n.shape,s,l,r);return this.compileAndRun(u,o)},t.prototype.localResponseNormalization4D=function(e,t,n,r,i){var a=GD().getBool("WEBGL_PACK_NORMALIZATION")?new jK(e.shape,t,n,r,i):new FK(e.shape,t,n,r,i);return this.compileAndRun(a,[e])},t.prototype.LRNGrad=function(e,t,n,r,i,a,o){var s=new IK(t.shape,r,i,a,o);return this.compileAndRun(s,[t,n,e])},t.prototype.tile=function(e,t){if("string"===e.dtype){var n=this.readSync(e.dataId).map(function(e){return HT(e)});return XH(xR(e.shape,e.dtype,n),t)}var r=new lW(e.shape,t);return this.compileAndRun(r,[e])},t.prototype.pad=function(e,t,n){var r=GD().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new QK(e.shape,t,n):new MK(e.shape,t,n);return this.compileAndRun(r,[e])},t.prototype.transpose=function(e,t){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.transpose(e,t);var n=GD().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new uW(e.shape,t):new cW(e.shape,t);return this.compileAndRun(n,[e])},t.prototype.gather=function(e,t,n){if(this.shouldExecuteOnCPU([e,t]))return this.cpuBackend.gather(e,t,n);var r=new sK(e.shape,t.size,n);return this.compileAndRun(r,[e,t])},t.prototype.batchToSpaceND=function(e,t,n){oT(e.rank<=4,function(){return"batchToSpaceND for rank > 4 with a WebGL backend not implemented yet"});var r=t.reduce(function(e,t){return e*t}),i=XR(e.shape,t,r),a=YR(i.length,t.length),o=JR(e.shape,t,r),s=ZR(n,t.length),l=$R(o,n,t.length);return e.reshape(i).transpose(a).reshape(o).slice(s,l)},t.prototype.spaceToBatchND=function(e,t,n){oT(e.rank<=4,function(){return"spaceToBatchND for rank > 4 with a WebGL backend not implemented yet"});var r=t.reduce(function(e,t){return e*t}),i=[[0,0]];i.push.apply(i,n);for(var a=1+t.length;a<e.shape.length;++a)i.push([0,0]);var o=e.pad(i),s=XR(o.shape,t,r,!1),l=YR(s.length,t.length,!1),c=JR(o.shape,t,r,!1);return o.reshape(s).transpose(l).reshape(c)},t.prototype.reduce=function(e,t,n){var r=e.shape[0],i=e.shape[1],a=tH(i),o=new zK({windowSize:a,inSize:i,batchSize:r},t),s=this.compileAndRun(o,[e],n);return 1===s.shape[1]?s:this.reduce(s,t,n)},t.prototype.argReduce=function(e,t,n){void 0===n&&(n=null);var r=e.shape[0],i=e.shape[1];null!=n&&(r=n.shape[0],i=n.shape[1]);var a=tH(i),o=new ez({windowSize:a,inSize:i,batchSize:r},t,null==n),s=[e];null!=n&&s.push(n);var l=this.compileAndRun(o,s,"int32");return 1===l.shape[1]?l:this.argReduce(e,t,l)},t.prototype.argReducePacked=function(e,t,n){void 0===n&&(n=null);var r=null!=n?n.shape:e.shape,i=tH(r[r.length-1]),a=new yz(r,i,t,null==n),o=null==n?[e]:[e,n],s=this.compileAndRun(a,o,"int32");return s.rank===e.rank?this.argReducePacked(e,t,s):s},t.prototype.sum=function(e,t){PQ("sum",t,e.rank);var n=UQ(e.shape,t),r=n[0],i=uT(n[1]),a=e.as2D(-1,i),o=cM(e.dtype);return this.reduce(a,"sum",o).reshape(r)},t.prototype.prod=function(e,t){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.prod(e,t);var n=UQ(e.shape,t),r=n[0],i=uT(n[1]),a=e.as2D(-1,i),o=cM(e.dtype);return this.reduce(a,"prod",o).reshape(r)},t.prototype.unsortedSegmentSum=function(e,t,n){var r=0,i=LQ([r],e.rank),a=e;null!=i&&(a=e.transpose(i),r=TQ(1,e.rank)[0]);var o=function(e,t,n){for(var r=[],i=e.length,a=0;a<i;a++)a!==t?r.push(e[a]):r.push(n);return r}(a.shape,r,n),s=uT([a.shape[r]]),l=a.as2D(-1,s),c=cM(e.dtype),u=this.segOpCompute(l,"unsortedSegmentSum",t,c,n).reshape(o);return null!=i&&(u=u.transpose(DQ(i))),u},t.prototype.segOpCompute=function(e,t,n,r,i){var a=e.shape[0],o=e.shape[1],s=function(e,t){var n,r=!1;for(e<=30?(n=e,r=!0):n=UT(e,Math.floor(Math.sqrt(e)));!r;)n>t||n===e?r=!0:n=UT(e,n+1);return n}(o,i),l=new $K({windowSize:s,inSize:o,batchSize:a,numSegments:i},t),c=this.compileAndRun(l,[e,n],r);return c.shape[1]===i?c:(n=tR(0,i).tile([o/s]),this.segOpCompute(c,t,n,r,i))},t.prototype.argMinMaxReduce=function(e,t,n){var r=[t];if(PQ("arg"+n.charAt(0).toUpperCase()+n.slice(1),r,e.rank),!GD().getBool("WEBGL_PACK_REDUCE")||e.rank<=2){var i=UQ(e.shape,r),a=i[0],o=uT(i[1]),s=e.as2D(-1,o);return this.argReduce(s,n).reshape(a)}return this.argReducePacked(e,n)},t.prototype.argMin=function(e,t){return this.argMinMaxReduce(e,t,"min")},t.prototype.argMax=function(e,t){return this.argMinMaxReduce(e,t,"max")},t.prototype.cumsum=function(e,t,n,r){if(t!==e.rank-1)throw new Error("WebGL cumsum shader expects an inner-most axis="+(e.rank-1)+" but got axis="+t);var i=new Xz(e.shape,n,r);return this.compileAndRun(i,[e])},t.prototype.equal=function(e,t){if(GD().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,"\n  return vec4(equal(a, b));\n","bool");var n=new Sz("return float(a == b);",e.shape,t.shape);return this.compileAndRun(n,[e,t],"bool")},t.prototype.notEqual=function(e,t){if(GD().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,"\n  return vec4(notEqual(a, b));\n","bool");var n=new Sz("return float(a != b);",e.shape,t.shape);return this.compileAndRun(n,[e,t],"bool")},t.prototype.less=function(e,t){if(this.shouldExecuteOnCPU([e,t]))return this.cpuBackend.less(e,t);if(GD().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,"\n  return vec4(lessThan(a, b));\n","bool");var n=new Sz("return float(a < b);",e.shape,t.shape);return this.compileAndRun(n,[e,t],"bool")},t.prototype.lessEqual=function(e,t){if(GD().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,"\n  return vec4(lessThanEqual(a, b));\n","bool");var n=new Sz("return float(a <= b);",e.shape,t.shape);return this.compileAndRun(n,[e,t],"bool")},t.prototype.greater=function(e,t){if(this.shouldExecuteOnCPU([e,t]))return this.cpuBackend.greater(e,t);if(GD().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,"\n  return vec4(greaterThan(a, b));\n","bool");var n=new Sz("return float(a > b);",e.shape,t.shape);return this.compileAndRun(n,[e,t],"bool")},t.prototype.greaterEqual=function(e,t){if(GD().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,"\n  return vec4(greaterThanEqual(a, b));\n","bool");var n=new Sz("return float(a >= b);",e.shape,t.shape);return this.compileAndRun(n,[e,t],"bool")},t.prototype.logicalNot=function(e){var t=new hW(e.shape,"return float(!(x >= 1.0));");return this.compileAndRun(t,[e])},t.prototype.logicalAnd=function(e,t){if(GD().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,"\n  return vec4(\n    vec4(greaterThanEqual(a, vec4(1.0))) *\n    vec4(greaterThanEqual(b, vec4(1.0))));\n","bool");var n=new Sz("return float(a >= 1.0 && b >= 1.0);",e.shape,t.shape);return this.compileAndRun(n,[e,t],"bool")},t.prototype.logicalOr=function(e,t){if(GD().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,"\n  return min(\n    vec4(greaterThanEqual(a, vec4(1.0))) +\n    vec4(greaterThanEqual(b, vec4(1.0))),\n    vec4(1.0));\n","bool");var n=new Sz("return float(a >= 1.0 || b >= 1.0);",e.shape,t.shape);return this.compileAndRun(n,[e,t],"bool")},t.prototype.select=function(e,t,n){var r=new eW(e.rank,t.shape,t.rank);return this.compileAndRun(r,[e,t,n],lM(t.dtype,n.dtype))},t.prototype.where=function(e){kQ("tf.where() in webgl locks the UI thread. Call tf.whereAsync() instead");var t=e.dataSync();return JH(e.shape,t)},t.prototype.topk=function(e,t,n){return YH(e.dataSync(),e.shape,e.dtype,t)},t.prototype.min=function(e,t){PQ("min",t,e.rank);var n=UQ(e.shape,t),r=n[0],i=uT(n[1]),a=e.as2D(-1,i);return this.reduce(a,"min",a.dtype).reshape(r)},t.prototype.minimum=function(e,t){if(this.shouldExecuteOnCPU([e,t]))return this.cpuBackend.minimum(e,t);var n=GD().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new Iz("\n  vec4 result = vec4(min(a, b));\n  vec4 isNaN = min(vec4(isnan(a)) + vec4(isnan(b)), vec4(1.0));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n",e.shape,t.shape):new Sz("\n  if (isnan(a)) return a;\n  if (isnan(b)) return b;\n\n  return min(a, b);\n",e.shape,t.shape);return this.compileAndRun(n,[e,t])},t.prototype.mod=function(e,t){var n=GD().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new Iz("\n  vec4 result = mod(a, b);\n  vec4 isNaN = vec4(equal(b, vec4(0.0)));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n",e.shape,t.shape):new Sz("if (b == 0.0) return NAN;\n  return mod(a, b);",e.shape,t.shape);return this.compileAndRun(n,[e,t])},t.prototype.max=function(e,t){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.max(e,t);PQ("max",t,e.rank);var n=UQ(e.shape,t),r=n[0],i=uT(n[1]),a=e.as2D(-1,i);return this.reduce(a,"max",a.dtype).reshape(r)},t.prototype.maximum=function(e,t){if(this.shouldExecuteOnCPU([e,t]))return this.cpuBackend.maximum(e,t);var n=GD().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new Iz("\n  vec4 result = vec4(max(a, b));\n  vec4 isNaN = min(vec4(isnan(a)) + vec4(isnan(b)), vec4(1.0));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n",e.shape,t.shape):new Sz("\n  if (isnan(a)) return a;\n  if (isnan(b)) return b;\n\n  return max(a, b);\n",e.shape,t.shape);return this.compileAndRun(n,[e,t])},t.prototype.all=function(e,t){PQ("all",t,e.rank);var n=UQ(e.shape,t),r=n[0],i=uT(n[1]),a=e.as2D(-1,i);return this.reduce(a,"all",a.dtype).reshape(r)},t.prototype.any=function(e,t){PQ("any",t,e.rank);var n=UQ(e.shape,t),r=n[0],i=uT(n[1]),a=e.as2D(-1,i);return this.reduce(a,"any",a.dtype).reshape(r)},t.prototype.realDivide=function(e,t){if(GD().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,"\n  // vec4 one = vec4(equal(a, b));\n  // return one + (vec4(1.0) - one) * a / b;\n  vec4 result = a / b;\n  if(a.x == b.x) {\n    result.x = 1.;\n  }\n  if(a.y == b.y) {\n    result.y = 1.;\n  }\n  if(a.z == b.z) {\n    result.z = 1.;\n  }\n  if(a.w == b.w) {\n    result.w = 1.;\n  }\n\n  return result;\n","float32",!0);var n=new Sz("\nif (a == b) {\n  return 1.0;\n};\nreturn a / b;",e.shape,t.shape);return this.compileAndRun(n,[e,t],"float32")},t.prototype.floorDiv=function(e,t){if(GD().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,"\n  ivec4 ia = round(a);\n  ivec4 ib = round(b);\n  bvec4 cond = notEqual(ib, ivec4(0));\n  ivec4 result = ivec4(0);\n  vec4 s = sign(a) * sign(b);\n\n  // Windows (D3D) wants guaranteed non-zero int division at compile-time.\n  if (cond[0]) {\n    result[0] = idiv(ia[0], ib[0], s[0]);\n  }\n  if (cond[1]) {\n    result[1] = idiv(ia[1], ib[1], s[1]);\n  }\n  if (cond[2]) {\n    result[2] = idiv(ia[2], ib[2], s[2]);\n  }\n  if (cond[3]) {\n    result[3] = idiv(ia[3], ib[3], s[3]);\n  }\n  return vec4(result);\n","int32");var n=new Sz("\n  float s = sign(a) * sign(b);\n  int ia = round(a);\n  int ib = round(b);\n  if (ib != 0) {\n    // Windows (D3D) wants guaranteed non-zero int division at compile-time.\n    return float(idiv(ia, ib, s));\n  } else {\n    return NAN;\n  }\n",e.shape,t.shape);return this.compileAndRun(n,[e,t],"int32")},t.prototype.add=function(e,t){if("complex64"===e.dtype&&"complex64"===t.dtype)return this.complexSeparableBinaryOp(e,t,Nz);if(this.shouldExecuteOnCPU([e,t]))return this.cpuBackend.add(e,t);var n=lM(e.dtype,t.dtype);if(GD().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,Nz,n);var r=new Sz(Nz,e.shape,t.shape);return this.compileAndRun(r,[e,t],n)},t.prototype.packedUnaryOp=function(e,t,n){var r=new DW(e.shape,t);return this.compileAndRun(r,[e],n)},t.prototype.packedBinaryOp=function(e,t,n,r,i){void 0===i&&(i=!1);var a=new Iz(n,e.shape,t.shape,i);return this.compileAndRun(a,[e,t],r)},t.prototype.complexSeparableBinaryOp=function(e,t,n){var r=this,i=this.texData.get(e.dataId),a=this.texData.get(t.dataId),o=[[i.complexTensors.real,a.complexTensors.real],[i.complexTensors.imag,a.complexTensors.imag]].map(function(i){var a=i[0],o=i[1],s=r.makeComplexComponentTensorInfo(e,a),l=r.makeComplexComponentTensorInfo(t,o),c=new Sz(n,e.shape,t.shape);return r.compileAndRun(c,[s,l],lM(a.dtype,o.dtype))}),s=o[0],l=o[1],c=this.complex(s,l);return s.dispose(),l.dispose(),c},t.prototype.makeComplexComponentTensorInfo=function(e,t){return{dataId:t.dataId,dtype:t.dtype,shape:e.shape}},t.prototype.addN=function(e){if(1===e.length)return e[0];if(e.length>GD().get("WEBGL_MAX_TEXTURES_IN_SHADER")){var t=Math.floor(e.length/2),n=this.addN(e.slice(0,t)),r=this.addN(e.slice(t));return this.addN([n,r])}var i=e.map(function(e){return e.dtype}).reduce(function(e,t){return lM(e,t)}),a=e.map(function(e){return e.shape}),o=GD().getBool("WEBGL_PACK")?new $H(e[0].shape,a):new ZH(e[0].shape,a);return this.compileAndRun(o,e,i)},t.prototype.subtract=function(e,t){if("complex64"===e.dtype&&"complex64"===t.dtype)return this.complexSeparableBinaryOp(e,t,kz);if(this.shouldExecuteOnCPU([e,t]))return this.cpuBackend.subtract(e,t);var n=lM(e.dtype,t.dtype);if(GD().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,kz,e.dtype);var r=new Sz(kz,e.shape,t.shape);return this.compileAndRun(r,[e,t],n)},t.prototype.pow=function(e,t){var n=GD().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new Iz("\n  // isModRound1 has 1 for components with round(mod(b, 2.0)) == 1, 0 otherwise.\n  vec4 isModRound1 = vec4(equal(round(mod(b, 2.0)), ivec4(1)));\n  vec4 multiplier = sign(a) * isModRound1 + (vec4(1.0) - isModRound1);\n  vec4 result = multiplier * pow(abs(a), b);\n\n  // Ensure that a^0 = 1, including 0^0 = 1 as this correspond to TF and JS\n  bvec4 isExpZero = equal(b, vec4(0.0));\n  result.r = isExpZero.r ? 1.0 : result.r;\n  result.g = isExpZero.g ? 1.0 : result.g;\n  result.b = isExpZero.b ? 1.0 : result.b;\n  result.a = isExpZero.a ? 1.0 : result.a;\n\n  vec4 isNaN = vec4(lessThan(a, vec4(0.0))) * vec4(lessThan(floor(b), b));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n",e.shape,t.shape):new Sz("\nif(a < 0.0 && floor(b) < b){\n  return NAN;\n}\nif (b == 0.0) {\n  return 1.0;\n}\nreturn (round(mod(b, 2.0)) != 1) ?\n    pow(abs(a), b) : sign(a) * pow(abs(a), b);\n",e.shape,t.shape),r=lM(e.dtype,t.dtype);return this.compileAndRun(n,[e,t],r)},t.prototype.ceil=function(e){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.ceil(e);if(GD().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,wW,e.dtype);var t=new hW(e.shape,wW);return this.compileAndRun(t,[e])},t.prototype.floor=function(e){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.floor(e);if(GD().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,xW,e.dtype);var t=new hW(e.shape,xW);return this.compileAndRun(t,[e])},t.prototype.sign=function(e){var t=new hW(e.shape,"\n  if (isnan(x)) { return 0.0; }\n  return sign(x);\n");return this.compileAndRun(t,[e])},t.prototype.isNaN=function(e){var t=new hW(e.shape,"return float(isnan(x));");return this.compileAndRun(t,[e],"bool")},t.prototype.isInf=function(e){var t=new hW(e.shape,"return float(isinf(x));");return this.compileAndRun(t,[e],"bool")},t.prototype.isFinite=function(e){var t=new hW(e.shape,"return float(!isnan(x) && !isinf(x));");return this.compileAndRun(t,[e],"bool")},t.prototype.round=function(e){var t=new hW(e.shape,"\n  // OpenGL ES does not support round function.\n  // The algorithm is based on banker's rounding.\n  float base = floor(x);\n  if ((x - base) < 0.5) {\n    return floor(x);\n  } else if ((x - base) > 0.5) {\n    return ceil(x);\n  } else {\n    if (mod(base, 2.0) == 0.0) {\n      return base;\n    } else {\n      return base + 1.0;\n    }\n  }\n");return this.compileAndRun(t,[e])},t.prototype.exp=function(e){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.exp(e);if(GD().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,BW,e.dtype);var t=new hW(e.shape,BW);return this.compileAndRun(t,[e])},t.prototype.expm1=function(e){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.expm1(e);if(GD().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,CW,e.dtype);var t=new hW(e.shape,CW);return this.compileAndRun(t,[e])},t.prototype.softmax=function(e,t){var n=vT([t],e.shape),r=this.max(e,n),i=OQ(r.shape,n),a=this.subtract(e,r.reshape(i)),o=this.exp(a),s=this.sum(o,n).reshape(i);return this.realDivide(o,s)},t.prototype.log=function(e){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.log(e);if(GD().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,"\n  vec4 result = log(x);\n  vec4 isNaN = vec4(lessThan(x, vec4(0.0)));\n  result.r = isNaN.r == 1.0 ? NAN : result.r;\n  result.g = isNaN.g == 1.0 ? NAN : result.g;\n  result.b = isNaN.b == 1.0 ? NAN : result.b;\n  result.a = isNaN.a == 1.0 ? NAN : result.a;\n\n  return result;\n",e.dtype);var t=new hW(e.shape,"if (x < 0.0) return NAN;\n  return log(x);");return this.compileAndRun(t,[e])},t.prototype.log1p=function(e){var t=new hW(e.shape,"return log(1.0 + x);");return this.compileAndRun(t,[e])},t.prototype.sqrt=function(e){var t=new hW(e.shape,"return sqrt(x);");return this.compileAndRun(t,[e])},t.prototype.rsqrt=function(e){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.rsqrt(e);var t=new hW(e.shape,"return inversesqrt(x);");return this.compileAndRun(t,[e])},t.prototype.reciprocal=function(e){var t=new hW(e.shape,"return 1.0 / x;");return this.compileAndRun(t,[e])},t.prototype.relu=function(e){var t;return t=GD().getBool("WEBGL_PACK")?new DW(e.shape,OW):new hW(e.shape,gW),this.compileAndRun(t,[e])},t.prototype.relu6=function(e){var t;return t=GD().getBool("WEBGL_PACK")?new DW(e.shape,PW):new hW(e.shape,mW),this.compileAndRun(t,[e])},t.prototype.prelu=function(e,t){var n=GD().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new Iz(Fz,e.shape,t.shape):new Sz(Ez,e.shape,t.shape);return this.compileAndRun(n,[e,t])},t.prototype.elu=function(e){if(GD().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,LW,e.dtype);var t=new hW(e.shape,vW);return this.compileAndRun(t,[e])},t.prototype.eluDer=function(e,t){var n=GD().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new Iz("\n  vec4 bGTEZero = vec4(greaterThanEqual(b, vec4(0.)));\n  return (bGTEZero * a) + ((vec4(1.0) - bGTEZero) * (a * (b + vec4(1.0))));\n",e.shape,t.shape):new Sz("return (b >= 1.0) ? a : a * (b + 1.0);",e.shape,t.shape);return this.compileAndRun(n,[e,t])},t.prototype.selu=function(e){var t=new hW(e.shape,yW);return this.compileAndRun(t,[e])},t.prototype.int=function(e){var t=new hW(e.shape,"return float(int(x));");return this.compileAndRun(t,[e],"int32")},t.prototype.clip=function(e,t,n){var r,i=(r=GD().getBool("WEBGL_PACK_CLIP")?new Uz(e.shape):new jz(e.shape)).getCustomSetupFunc(t,n);return this.compileAndRun(r,[e],null,i)},t.prototype.abs=function(e){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.abs(e);if(GD().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,pW,e.dtype);var t=new hW(e.shape,pW);return this.compileAndRun(t,[e])},t.prototype.complexAbs=function(e){var t=this.texData.get(e.dataId),n=new Oz(e.shape),r=[this.makeComplexComponentTensorInfo(e,t.complexTensors.real),this.makeComplexComponentTensorInfo(e,t.complexTensors.imag)];return this.compileAndRun(n,r)},t.prototype.sigmoid=function(e){var t=new hW(e.shape,"return 1.0 / (1.0 + exp(-1.0 * x));");return this.compileAndRun(t,[e])},t.prototype.softplus=function(e){var t=new hW(e.shape,"\n  float epsilon = 1.1920928955078125e-7;\n  float threshold = log(epsilon) + 2.0;\n\n  bool too_large = x > -threshold;\n  bool too_small = x < threshold;\n\n  float result;\n  float exp_x = exp(x);\n\n  if (too_large){\n    result = x;\n  }\n  else if (too_small){\n    result = exp_x;\n  }\n  else{\n    result = log(exp_x + 1.0);\n  }\n  return result;\n");return this.compileAndRun(t,[e])},t.prototype.sin=function(e){var t=new hW(e.shape,NW);return this.compileAndRun(t,[e])},t.prototype.cos=function(e){var t=new hW(e.shape,kW);return this.compileAndRun(t,[e])},t.prototype.tan=function(e){var t=new hW(e.shape,"return tan(x);");return this.compileAndRun(t,[e])},t.prototype.asin=function(e){var t=new hW(e.shape,_W);return this.compileAndRun(t,[e])},t.prototype.acos=function(e){var t=new hW(e.shape,EW);return this.compileAndRun(t,[e])},t.prototype.atan=function(e){var t=new hW(e.shape,SW);return this.compileAndRun(t,[e])},t.prototype.atan2=function(e,t){var n=GD().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new Iz("\n  vec4 result = atan(a, b);\n  vec4 isNaN = min(vec4(isnan(a)) + vec4(isnan(b)), vec4(1.0));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n",e.shape,t.shape):new Sz("\n  if (isnan(a)) return a;\n  if (isnan(b)) return b;\n\n  return atan(a, b);\n",e.shape,t.shape);return this.compileAndRun(n,[e,t])},t.prototype.sinh=function(e){var t=new hW(e.shape,"\n  float e2x = exp(x);\n  return (e2x - 1.0 / e2x) / 2.0;\n");return this.compileAndRun(t,[e])},t.prototype.cosh=function(e){var t=new hW(e.shape,"\n  float e2x = exp(-x);\n  return (e2x + 1.0 / e2x) / 2.0;\n");return this.compileAndRun(t,[e])},t.prototype.tanh=function(e){var t=new hW(e.shape,"\n  float e2x = exp(-2.0 * abs(x));\n  return sign(x) * (1.0 - e2x) / (1.0 + e2x);\n");return this.compileAndRun(t,[e])},t.prototype.asinh=function(e){var t=new hW(e.shape,FW);return this.compileAndRun(t,[e])},t.prototype.acosh=function(e){var t=new hW(e.shape,IW);return this.compileAndRun(t,[e])},t.prototype.atanh=function(e){var t=new hW(e.shape,jW);return this.compileAndRun(t,[e])},t.prototype.erf=function(e){var t=new hW(e.shape,'\n  // Error function is calculated approximately with elementary function.\n  // See "Handbook of Mathematical Functions with Formulas,\n  // Graphs, and Mathematical Tables", Abramowitz and Stegun.\n  float p = 0.3275911;\n  float a1 = 0.254829592;\n  float a2 = -0.284496736;\n  float a3 = 1.421413741;\n  float a4 = -1.453152027;\n  float a5 = 1.061405429;\n\n  float sign = sign(x);\n  x = abs(x);\n  float t = 1.0 / (1.0 + p * x);\n  return sign * (1.0 - (((((a5*t + a4)*t) + a3)*t + a2)*t + a1)*t*exp(-x*x));\n');return this.compileAndRun(t,[e])},t.prototype.step=function(e,t){var n=new hW(e.shape,function(e){return void 0===e&&(e=0),fW+"\n    return x > 0.0 ? 1.0 : float("+e+");\n  "}(t));return this.compileAndRun(n,[e])},t.prototype.conv2dByMatMul=function(e,t,n,r,i,a){var o=e.shape,s=this.texData.get(e.dataId),l=n.inChannels,c=o[0]*o[1]*o[2],u=n.outChannels,A="channelsLast"===n.dataFormat,d=(1===c||1===u)&&l>1e3,h=o[2]%2!=0&&!!s.isPacked;if(d||!GD().getBool("WEBGL_LAZILY_UNPACK")||!GD().getBool("WEBGL_PACK_BINARY_OPERATIONS")||!h){var f=A?o[0]*o[1]*o[2]:o[0]*o[2]*o[3],p=this.reshape(e,[1,f,n.inChannels]),g=this.reshape(t,[1,n.inChannels,n.outChannels]);return this.reshape(this.fusedBatchMatMul({a:p,b:g,transposeA:!1,transposeB:!1,bias:r,activation:i,preluActivationWeights:a}),n.outShape)}var m=A?o[0]*o[1]*(o[2]+1):o[0]*o[2]*(o[3]+1),v={dataId:e.dataId,shape:[1,m,n.inChannels],dtype:e.dtype},y=s.shape;s.shape=s.shape.slice(),s.shape[s.shape.length-2]++,oT(cQ(s.shape,v.shape),function(){return"packed reshape "+s.shape+" to "+v.shape+" isn't free"});var b=this.reshape(t,[1,n.inChannels,n.outChannels]),w=this.fusedBatchMatMul({a:v,b:b,transposeA:!1,transposeB:!1,bias:r,activation:i,preluActivationWeights:a}),x=this.texData.get(w.dataId);return oT(x.isPacked,function(){return"batchMatMul result is expected to be packed"}),s.shape=y,x.shape=n.outShape,gM.makeTensorFromDataId(w.dataId,n.outShape,w.dtype)},t.prototype.conv2dWithIm2Row=function(e,t,n,r,i,a){var o=n.filterWidth,s=n.filterHeight,l=n.inChannels,c=n.outWidth,u=n.outHeight,A="channelsLast"===n.dataFormat,d=o*s*l,h=u*c,f=[d,h],p=e.squeeze([0]),g=t.reshape([1,d,-1]),m=new SK(f,p.shape,n),v=this.compileAndRun(m,[p]).reshape([1,f[0],f[1]]),y=null!=r,b=null!=a,w=i?QW(i,!0):null,x=new PK(v.shape,[1,h,n.outChannels],!0,!1,y,w,b),B=[v,g];r&&B.push(r),b&&B.push(a);var C=this.compileAndRun(x,B);return A?C.reshape([1,u,c,n.outChannels]):C.reshape([1,n.outChannels,u,c])},t.prototype.fusedConv2d=function(e){var t=e.input,n=e.filter,r=e.convInfo,i=e.bias,a=e.activation,o=e.preluActivationWeights;if(1===r.filterHeight&&1===r.filterWidth&&1===r.dilationHeight&&1===r.dilationWidth&&1===r.strideHeight&&1===r.strideWidth&&("SAME"===r.padInfo.type||"VALID"===r.padInfo.type))return this.conv2dByMatMul(t,n,r,i,a,o);if(GD().getBool("WEBGL_CONV_IM2COL")&&1===t.shape[0])return this.conv2dWithIm2Row(t,n,r,i,a,o);var s=null!=i,l=null!=o,c=a?QW(a,!1):null,u=new Kz(r,s,c,l),A=[t,n];return i&&A.push(i),o&&A.push(o),this.compileAndRun(u,A)},t.prototype.conv2d=function(e,t,n){if(1===n.filterHeight&&1===n.filterWidth&&1===n.dilationHeight&&1===n.dilationWidth&&1===n.strideHeight&&1===n.strideWidth&&("SAME"===n.padInfo.type||"VALID"===n.padInfo.type))return this.conv2dByMatMul(e,t,n);if(GD().getBool("WEBGL_CONV_IM2COL")&&1===e.shape[0])return this.conv2dWithIm2Row(e,t,n);var r=new Kz(n);return this.compileAndRun(r,[e,t])},t.prototype.conv2dDerInput=function(e,t,n){var r=new Mz(n);return this.compileAndRun(r,[e,t])},t.prototype.conv2dDerFilter=function(e,t,n){var r=new Tz(n);return this.compileAndRun(r,[e,t])},t.prototype.fusedDepthwiseConv2D=function(e){var t,n=e.input,r=e.filter,i=e.convInfo,a=e.bias,o=e.activation,s=e.preluActivationWeights,l=GD().getBool("WEBGL_PACK_DEPTHWISECONV")&&i.strideWidth<=2&&i.outChannels/i.inChannels==1,c=o?QW(o,l):null,u=[n,r],A=null!=a,d=null!=s;return A&&u.push(a),d&&u.push(s),l?(t=new Gz(i,A,c,d),this.compileAndRun(t,u)):(t=new Vz(i,A,c,d),this.compileAndRun(t,u))},t.prototype.depthwiseConv2D=function(e,t,n){var r;return GD().getBool("WEBGL_PACK_DEPTHWISECONV")&&n.strideWidth<=2&&n.outChannels/n.inChannels==1?(r=new Gz(n),this.compileAndRun(r,[e,t])):(r=new Vz(n),this.compileAndRun(r,[e,t]))},t.prototype.depthwiseConv2DDerInput=function(e,t,n){var r=new zz(n);return this.compileAndRun(r,[e,t])},t.prototype.depthwiseConv2DDerFilter=function(e,t,n){var r=new Hz(n);return this.compileAndRun(r,[e,t])},t.prototype.conv3d=function(e,t,n){var r=new Wz(n);return this.compileAndRun(r,[e,t])},t.prototype.conv3dDerInput=function(e,t,n){var r=new Rz(n);return this.compileAndRun(r,[e,t])},t.prototype.conv3dDerFilter=function(e,t,n){var r=new Qz(n);return this.compileAndRun(r,[e,t])},t.prototype.maxPool=function(e,t){var n=new RK(t,"max",!1);return this.compileAndRun(n,[e])},t.prototype.avgPool=function(e,t){var n=new RK(t,"avg",!1);return this.compileAndRun(n,[e],"float32")},t.prototype.maxPoolBackprop=function(e,t,n,r){var i=new RK(r,"max",!0),a=this.compileAndRun(i,[t]),o=new UK(r),s=this.compileAndRun(o,[e,a],t.dtype);return a.dispose(),s},t.prototype.avgPoolBackprop=function(e,t,n){var r=new bz(n);return this.compileAndRun(r,[e],t.dtype)},t.prototype.cast=function(e,t){return UH(e,t,this)},t.prototype.unstack=function(e,t){for(var n=e.shape[t],r=new Array(e.rank-1),i=0,a=0;a<e.rank;a++)a!==t&&(r[i++]=e.shape[a]);var o=new Array(e.rank).fill(0),s=e.shape.slice();s[t]=1;var l=new Array(n);for(a=0;a<l.length;a++)o[t]=a,l[a]=this.slice(e,o,s).reshape(r);return l},t.prototype.avgPool3d=function(e,t){var n=new HK(t,"avg",!1);return this.compileAndRun(n,[e],"float32")},t.prototype.avgPool3dBackprop=function(e,t,n){var r=new wz(n);return this.compileAndRun(r,[e],t.dtype)},t.prototype.maxPool3d=function(e,t){var n=new HK(t,"max",!1);return this.compileAndRun(n,[e],"float32")},t.prototype.maxPool3dBackprop=function(e,t,n,r){var i=new HK(r,"max",!0),a=this.compileAndRun(i,[t]),o=new OK(r),s=this.compileAndRun(o,[e,a],t.dtype);return a.dispose(),s},t.prototype.reshape=function(e,t){var n=this.texData.get(e.dataId);if(n.isPacked&&!cQ(e.shape,t)&&(null===n.texture||!cQ(n.shape,t))){var r=this.packedReshape(e,t);return gM.makeTensorFromDataId(r.dataId,r.shape,r.dtype)}return OH(e,t)},t.prototype.resizeBilinear=function(e,t,n,r){var i=GD().getBool("WEBGL_PACK_IMAGE_OPERATIONS")?new GK(e.shape,t,n,r):new VK(e.shape,t,n,r);return this.compileAndRun(i,[e],"float32")},t.prototype.resizeBilinearBackprop=function(e,t,n){var r=new WK(e,t,n);return this.compileAndRun(r,[e])},t.prototype.resizeNearestNeighbor=function(e,t,n,r){var i=new XK(e.shape,t,n,r);return this.compileAndRun(i,[e])},t.prototype.resizeNearestNeighborBackprop=function(e,t,n){var r=new qK(e,t,n);return this.compileAndRun(r,[e])},t.prototype.multinomial=function(e,t,n,r){var i=t?e:hH(e),a=i.shape[0],o=i.shape[1],s=new LK(a,o,n),l=s.getCustomSetupFunc(r);return this.compileAndRun(s,[i],"int32",l)},t.prototype.oneHot=function(e,t,n,r){var i=new DK(e.size,t,n,r);return this.compileAndRun(i,[e])},t.prototype.diag=function(e){var t=new eK(e.size);return this.compileAndRun(t,[e])},t.prototype.nonMaxSuppression=function(e,t,n,r,i){return kQ("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead"),HH(e.dataSync(),t.dataSync(),n,r,i)},t.prototype.cropAndResize=function(e,t,n,r,i,a){var o=new qz(e.shape,t.shape,r,i,a);return this.compileAndRun(o,[e,t,n],"float32")},t.prototype.depthToSpace=function(e,t,n){oT(t>1,function(){return"blockSize should be > 1 for depthToSpace, but was: "+t});var r=e.shape[0],i="NHWC"===n?e.shape[1]:e.shape[2],a="NHWC"===n?e.shape[2]:e.shape[3],o="NHWC"===n?e.shape[3]:e.shape[1],s=i*t,l=a*t,c=o/(t*t),u=new $z("NHWC"===n?[r,s,l,c]:[r,c,s,l],t,n);return this.compileAndRun(u,[e])},t.prototype.split=function(e,t,n){return qH(e,t,n)},t.prototype.scatterND=function(e,t,n){var r=iH(0,e,n),i=r.sliceRank,a=r.numUpdates,o=r.sliceSize,s=r.strides,l=r.outputSize,c=[l/o,o],u=e.reshape([a,i]),A=t.reshape([a,o]);if(0===l)return OH(WQ([]),n);var d=GQ(0),h=new ZK(a,i,u.rank,A.rank,s,c);return this.compileAndRun(h,[A,u,d]).reshape(n)},t.prototype.sparseToDense=function(e,t,n,r){var i=iH(0,e,n),a=i.sliceRank,o=i.numUpdates,s=i.strides,l=i.outputSize,c=new ZK(o,a,e.rank,t.rank,s,[l,1],!1);return this.compileAndRun(c,[t,e,r]).reshape(n)},t.prototype.fft=function(e){return this.fftImpl(e,!1)},t.prototype.ifft=function(e){return this.fftImpl(e,!0)},t.prototype.fftImpl=function(e,t){var n=this.texData.get(e.dataId),r=new aK("return real * expR - imag * expI;",e.shape,t),i=new aK("return real * expI + imag * expR;",e.shape,t),a=[this.makeComplexComponentTensorInfo(e,n.complexTensors.real),this.makeComplexComponentTensorInfo(e,n.complexTensors.imag)],o=this.compileAndRun(r,a),s=this.compileAndRun(i,a),l=this.complex(o,s).as2D(e.shape[0],e.shape[1]);return o.dispose(),s.dispose(),l},t.prototype.gatherND=function(e,t){var n=t.shape,r=n[n.length-1],i=eH(e,t),a=i[0],o=i[1],s=i[2],l=i[3],c=t.reshape([o,r]),u=e.reshape([e.size/s,s]),A=new lK(r,l,[o,s]);return this.compileAndRun(A,[u,c]).reshape(a)},t.prototype.fill=function(e,t,n){if("string"===(n=n||IT(t))){var r=wT(n,uT(e));return r.fill(t),gM.makeTensor(r,e,n,this)}var i=new oK(e,t),a=i.getCustomSetupFunc(t);return this.compileAndRun(i,[],n,a)},t.prototype.onesLike=function(e){if("string"===e.dtype)throw new Error("onesLike is not supported under string dtype");return this.fill(e.shape,1,e.dtype)},t.prototype.zerosLike=function(e){return this.fill(e.shape,"string"===e.dtype?"":0,e.dtype)},t.prototype.linspace=function(e,t,n){return PH(e,t,n)},t.prototype.makeTensorInfo=function(e,t){var n=this.write(null,e,t);return this.texData.get(n).usage=null,{dataId:n,shape:e,dtype:t}},t.prototype.makeOutput=function(e,t){var n=this.makeTensorInfo(e,t).dataId;return gM.makeTensorFromDataId(n,e,t,this)},t.prototype.unpackTensor=function(e){var t=new TW(e.shape);return this.runWebGLProgram(t,[e],e.dtype)},t.prototype.packTensor=function(e){var t=new TK(e.shape);return this.runWebGLProgram(t,[e],e.dtype,null,!0)},t.prototype.packedReshape=function(e,t){var n=[iQ(e.shape)].concat(aQ(e.shape)),r={dtype:e.dtype,shape:n,dataId:e.dataId},i=[iQ(t)].concat(aQ(t)),a=new KK(i,n),o=this.runWebGLProgram(a,[r],e.dtype,null,!0);return{dataId:o.dataId,shape:t,dtype:o.dtype}},t.prototype.decode=function(e){var t,n=this.texData.get(e),r=n.isPacked,i=n.shape,a=n.dtype,o=oQ(i);return t=r?new Zz(o):new Jz(o),{dtype:a,shape:i,dataId:this.runWebGLProgram(t,[{shape:o,dtype:a,dataId:e}],a,null,!0).dataId}},t.prototype.runWebGLProgram=function(e,t,n,r,i){var a=this;void 0===i&&(i=!1);var o=this.makeTensorInfo(e.outputShape,n),s=this.texData.get(o.dataId);if(e.packedOutput&&(s.isPacked=!0),e.outPackingScheme===yM.DENSE){var l=_M(e.outputShape);s.texShape=l.map(function(e){return 2*e})}if(null!=e.outTexUsage&&(s.usage=e.outTexUsage),0===uT(o.shape))return s.values=bT(o.dtype,0),o;var c=[],u=t.map(function(t){if("complex64"===t.dtype)throw new Error("GPGPUProgram does not support complex64 input. For complex64 dtypes, please separate the program into real and imaginary parts.");var n=a.texData.get(t.dataId);if(null==n.texture){if(!e.packedInputs&&uT(t.shape)<=GD().getNumber("WEBGL_SIZE_UPLOAD_UNIFORM"))return{shape:t.shape,texData:null,isUniform:!0,uniformValues:n.values};e.packedInputs&&(n.isPacked=!0,n.shape=t.shape)}else if(!!n.isPacked!=!!e.packedInputs)t=n.isPacked?a.unpackTensor(t):a.packTensor(t),c.push(t),n=a.texData.get(t.dataId);else if(n.isPacked&&!cQ(n.shape,t.shape)){var r=t,i=t.shape;t.shape=n.shape,t=a.packedReshape(t,i),c.push(t),n=a.texData.get(t.dataId),r.shape=i}return a.uploadToGPU(t.dataId),{shape:t.shape,texData:n,isUniform:!1}});this.uploadToGPU(o.dataId);var A,d={shape:o.shape,texData:s,isUniform:!1},h=function(e,t,n){var r="";t.concat(n).forEach(function(e){var t=null!=e.texData&&null!=e.texData.slice&&e.texData.slice.flatOffset>0,n=e.isUniform?"uniform":e.texData.texShape;r+=e.shape+"_"+n+"_"+t});var i=e.userCode;return e.constructor.name+"_"+r+"_"+i}(e,u,d),f=this.getAndSaveBinary(h,function(){return function(e,t,n,r){var i=t.userCode,a=n.map(function(e,n){var r={logicalShape:e.shape,texShape:e.isUniform?null:e.texData.texShape,isUniform:e.isUniform,isPacked:!e.isUniform&&e.texData.isPacked,flatOffset:null};return null!=e.texData&&null!=e.texData.slice&&e.texData.slice.flatOffset>0&&(r.flatOffset=e.texData.slice.flatOffset),{name:t.variableNames[n],shapeInfo:r}}),o=a.map(function(e){return e.shapeInfo}),s={logicalShape:r.shape,texShape:r.texData.texShape,isUniform:!1,isPacked:r.texData.isPacked,flatOffset:null},l=sz(a,s,i,t.packedInputs),c=e.createProgram(l),u=null,A=e.getUniformLocation(c,"NAN",!1);1===GD().getNumber("WEBGL_VERSION")&&(u=e.getUniformLocation(c,"INFINITY",!1));for(var d={},h=0;h<t.variableNames.length;h++){var f=t.variableNames[h];d[f]=e.getUniformLocation(c,f,!1),d["offset"+f]=e.getUniformLocation(c,"offset"+f,!1)}return{program:t,source:l,webGLProgram:c,uniformLocations:d,inShapeInfos:o,outShapeInfo:s,infLoc:u,nanLoc:A}}(a.gpgpu,e,u,d)}),p=null!=this.activeTimers;if(p&&(A=this.startTimer()),function(e,t,n,r,i){EK(t.inShapeInfos,n),EK([t.outShapeInfo],[r]);var a=r.texData.texture,o=r.texData.texShape;r.texData.isPacked?e.setOutputPackedMatrixTexture(a,o[0],o[1]):e.setOutputMatrixTexture(a,o[0],o[1]),e.setProgram(t.webGLProgram),1===GD().getNumber("WEBGL_VERSION")&&null!==t.infLoc&&e.gl.uniform1f(t.infLoc,1/0),null!==t.nanLoc&&e.gl.uniform1f(t.nanLoc,NaN),n.forEach(function(n,r){var i=t.program.variableNames[r],a=t.uniformLocations[i],o=t.uniformLocations["offset"+i];if(null!=a)if(n.isUniform)if(uT(n.shape)<2)e.gl.uniform1f(a,n.uniformValues[0]);else{var s=n.uniformValues;s instanceof Float32Array||(s=new Float32Array(s)),e.gl.uniform1fv(a,s)}else null!=n.texData.slice&&null!=o&&e.gl.uniform1i(o,n.texData.slice.flatOffset),e.setInputMatrixTexture(n.texData.texture,a,r)}),null!=i&&i(e,t.webGLProgram),e.executeProgram()}(this.gpgpu,f,u,d,r),c.forEach(function(e){return a.disposeData(e.dataId)}),p&&(A=this.endTimer(A),this.activeTimers.push({name:e.constructor.name,query:this.getQueryTime(A)})),!GD().getBool("WEBGL_LAZILY_UNPACK")&&s.isPacked&&!1===i){var g=this.unpackTensor(o);return this.disposeData(o.dataId),g}return o},t.prototype.compileAndRun=function(e,t,n,r,i){void 0===i&&(i=!1),n=n||t[0].dtype;var a=this.runWebGLProgram(e,t,n,r,i);return gM.makeTensorFromDataId(a.dataId,a.shape,a.dtype)},t.prototype.getAndSaveBinary=function(e,t){return e in this.binaryCache||(this.binaryCache[e]=t()),this.binaryCache[e]},t.prototype.getTextureManager=function(){return this.textureManager},t.prototype.dispose=function(){var e=this;this.disposed||(GD().getBool("IS_TEST")||Object.keys(this.binaryCache).forEach(function(t){e.gpgpu.deleteProgram(e.binaryCache[t].webGLProgram),delete e.binaryCache[t]}),this.textureManager.dispose(),null!=this.canvas&&"undefined"!=typeof HTMLCanvasElement&&this.canvas instanceof HTMLCanvasElement?this.canvas.remove():this.canvas=null,this.gpgpuCreatedLocally&&(this.gpgpu.program=null,this.gpgpu.dispose()),this.disposed=!0)},t.prototype.floatPrecision=function(){var e=this;return null==this.floatPrecisionValue&&(this.floatPrecisionValue=xQ(function(){if(!GD().get("WEBGL_RENDER_FLOAT32_ENABLED")){var t=GD().getBool("DEBUG");GD().set("DEBUG",!1);var n=e.abs(GQ(1e-8)).dataSync()[0];if(GD().set("DEBUG",t),n>0)return 32}return 16})),this.floatPrecisionValue},t.prototype.epsilon=function(){return 32===this.floatPrecision()?1e-7:1e-4},t.prototype.uploadToGPU=function(e){var t,n=this.texData.get(e),r=n.shape,i=n.dtype,a=n.values,o=n.texture,s=n.usage,l=n.isPacked;if(null==o){var c,u=null!=this.activeTimers;u&&(c=MT());var A=n.texShape;if(null==A&&(A=sQ(r,l),n.texShape=A),null!=a){var d=oQ(r),h=void 0,f=A[1],p=A[0],g=a instanceof Uint8Array;l?(f=(t=EM(A[0],A[1]))[0],p=t[1],h=new iK(d,[p,f],g)):h=new rK(d,[p,f],g);var m=this.makeTensorInfo([p,f],i);this.texData.get(m.dataId).usage=g?bM.PIXELS:bM.UPLOAD,this.gpgpu.uploadDenseMatrixToTexture(this.getTexture(m.dataId),f,p,a);var v=this.runWebGLProgram(h,[m],i,null,!0),y=this.texData.get(v.dataId);n.texture=y.texture,n.texShape=y.texShape,n.isPacked=y.isPacked,n.usage=y.usage,this.disposeData(m.dataId),this.texData.delete(v.dataId),n.values=null,u&&(this.uploadWaitMs+=MT()-c)}else{var b=this.acquireTexture(A,s,i,l);n.texture=b}}},t.prototype.convertAndCacheOnCPU=function(e,t){var n=this.texData.get(e),r=n.dtype;return this.releaseGPUData(e),null!=t&&(n.values=function(e,t){if("float32"===t||"complex64"===t)return e;if("int32"===t||"bool"===t){for(var n="int32"===t?new Int32Array(e.length):new Uint8Array(e.length),r=0;r<n.length;++r)n[r]=Math.round(e[r]);return n}throw new Error("Unknown dtype "+t)}(t,r)),n.values},t.prototype.acquireTexture=function(e,t,n,r){if(this.numBytesInGPU+=this.computeBytes(e,n),!this.warnedAboutMemory&&this.numBytesInGPU>1024*this.numMBBeforeWarning*1024){var i=(this.numBytesInGPU/1024/1024).toFixed(2);this.warnedAboutMemory=!0,console.warn("High memory usage in GPU: "+i+" MB, most likely due to a memory leak")}return this.textureManager.acquireTexture(e,t,r)},t.prototype.computeBytes=function(e,t){return e[0]*e[1]*kT(t)},t}(gH);mM()&&gM.registerBackend("webgl",function(){return new RW},2);var HW=RQ({square_:function(e){var t=SQ(e,"x","square"),n=[t];return gM.runKernelFunc(function(e,n){return n([t]),e.square(t)},{x:t},null,"Square",{},n,[])}}),zW="SquaredDifference",KW=RQ({squaredDifference_:function(e,t){var n,r=SQ(e,"a","squaredDifference"),i=SQ(t,"b","squaredDifference");n=uM(r,i),r=n[0],i=n[1],bH(r.shape,i.shape);var a={a:r,b:i},o=[r,i];return gM.runKernelFunc(function(e,t){var n=e.squaredDifference(r,i);return t([r,i]),n},a,function(e,t){var n=t[0],r=t[1],i=GQ(2);return{a:function(){return e.mul(n.sub(r).mul(i))},b:function(){return e.mul(r.sub(n).mul(i))}}},zW,{},o,[])}}),WW=RQ({abs_:function(e){var t=SQ(e,"x","abs");return"complex64"===t.dtype?gM.runKernelFunc(function(e){return e.complexAbs(t)},{$x:t}):gM.runKernelFunc(function(e,n){var r=e.abs(t);return n([t]),r},{x:t},function(e,t){var n=t[0];return{x:function(){return e.mul(n.toFloat().step(-1))}}},"Abs")}}),VW=RQ({acos_:function(e){var t=SQ(e,"x","acos");return gM.runKernelFunc(function(e,n){var r=e.acos(t);return n([t]),r},{$x:t},function(e,t){var n=t[0];return{$x:function(){return e.divStrict(GQ(1).sub(n.toFloat().square()).sqrt()).neg()}}})}}),GW=RQ({acosh_:function(e){var t=SQ(e,"x","acosh");return gM.runKernelFunc(function(e,n){var r=e.acosh(t);return n([t]),r},{$x:t},function(e,t){var n=t[0];return{$x:function(){return e.divStrict(n.toFloat().square().sub(1).sqrt())}}})}}),qW=RQ({asin_:function(e){var t=SQ(e,"x","asin");return gM.runKernelFunc(function(e,n){var r=e.asin(t);return n([t]),r},{$x:t},function(e,t){var n=t[0];return{$x:function(){return e.divStrict(GQ(1).sub(n.toFloat().square()).sqrt())}}})}}),XW=RQ({asinh_:function(e){var t=SQ(e,"x","asinh");return gM.runKernelFunc(function(e,n){var r=e.asinh(t);return n([t]),r},{$x:t},function(e,t){var n=t[0];return{$x:function(){return e.divStrict(GQ(1).add(n.toFloat().square()).sqrt())}}})}}),YW=RQ({atan_:function(e){var t=SQ(e,"x","atan");return gM.runKernelFunc(function(e,n){var r=e.atan(t);return n([t]),r},{$x:t},function(e,t){var n=t[0];return{$x:function(){return e.div(n.toFloat().square().add(1))}}})}}),JW=RQ({atanh_:function(e){var t=SQ(e,"x","atanh");return gM.runKernelFunc(function(e,n){var r=e.atanh(t);return n([t]),r},{$x:t},function(e,t){var n=t[0];return{$x:function(){return e.div(GQ(1).sub(n.toFloat().square()))}}})}}),ZW=RQ({ceil_:function(e){var t=SQ(e,"x","ceil");return gM.runKernelFunc(function(e){return e.ceil(t)},{$x:t},function(e){return{$x:function(){return rR(e)}}})}}),$W=RQ({clipByValue_:function(e,t,n){var r=SQ(e,"x","clipByValue");oT(t<=n,function(){return"Error in clip: min ("+t+") must be less than or equal to max ("+n+")."});var i=[r],a={min:t,max:n};return gM.runKernelFunc(function(e,i){var a=e.clip(r,t,n);return i([r]),a},{x:r},function(e,r){var i=r[0];return{x:function(){return e.where(i.greaterEqual(t).logicalAnd(i.lessEqual(n)),rR(e))}}},"ClipByValue",a,i)}}),eV=RQ({cos_:function(e){var t=SQ(e,"x","cos"),n=[t];return gM.runKernelFunc(function(e,n){var r=e.cos(t);return n([t]),r},{x:t},function(e,t){var n=t[0];return{x:function(){return n.toFloat().sin().neg().mul(e)}}},"Cos",{},n)}}),tV=RQ({cosh_:function(e){var t=SQ(e,"x","cosh");return gM.runKernelFunc(function(e,n){var r=e.cosh(t);return n([t]),r},{$x:t},function(e,t){var n=t[0];return{$x:function(){return n.toFloat().sinh().mulStrict(e)}}})}}),nV=RQ({erf_:function(e){var t=SQ(e,"x","erf");return oT("int32"===t.dtype||"float32"===t.dtype,function(){return"Input dtype must be `int32` or `float32`."}),"int32"===t.dtype&&(t=t.toFloat()),gM.runKernelFunc(function(e,n){var r=e.erf(t);return n([t]),r},{$x:t},function(e,t){var n=t[0];return{$x:function(){return e.mul(n.square().neg().exp().mul(2/Math.sqrt(Math.PI)))}}})}}),rV=RQ({exp_:function(e){var t=SQ(e,"x","exp");return gM.runKernelFunc(function(e,n){var r=e.exp(t);return n([r]),r},{x:t},function(e,t){return{x:function(){return e.mulStrict(t[0])}}},"Exp",{},[],[!0])}}),iV=RQ({expm1_:function(e){var t=SQ(e,"x","expm1");return gM.runKernelFunc(function(e,n){var r=e.expm1(t);return n([t]),r},{$x:t},function(e,t){var n=t[0];return{$x:function(){return e.mul(n.exp())}}})}}),aV=RQ({floor_:function(e){var t=SQ(e,"x","floor");return gM.runKernelFunc(function(e){return e.floor(t)},{$x:t},function(e){return{$x:function(){return rR(e)}}})}}),oV=RQ({log_:function(e){var t=SQ(e,"x","log"),n=[t];return gM.runKernelFunc(function(e,n){var r=e.log(t);return n([t]),r},{x:t},function(e,t){var n=t[0];return{x:function(){return e.div(n.toFloat())}}},"Log",{},n)}}),sV=RQ({log1p_:function(e){var t=SQ(e,"x","log1p");return gM.runKernelFunc(function(e,n){var r=e.log1p(t);return n([t]),r},{$x:t},function(e,t){var n=t[0];return{$x:function(){return e.div(n.add(1))}}})}}),lV=RQ({logSigmoid_:function(e){var t=SQ(e,"x","logSigmoid");return gM.runKernelFunc(function(e,n){var r=e.softplus(t.neg()).neg();return n([t]),r},{$x:t},function(e,t){var n=t[0];return{$x:function(){return e.mul(n.neg().sigmoid())}}})}}),cV=RQ({neg_:function(e){var t=SQ(e,"x","neg"),n=[t];return gM.runKernelFunc(function(e){return e.neg(t)},{x:t},function(e){return{x:function(){return e.neg()}}},"Neg",{},n)}}),uV=RQ({reciprocal_:function(e){var t=SQ(e,"x","reciprocal");return gM.runKernelFunc(function(e,n){var r=e.reciprocal(t);return n([t]),r},{$x:t},function(e,t){var n=t[0];return{$x:function(){return e.div(n.square().neg())}}})}}),AV=RQ({round_:function(e){var t=SQ(e,"x","round");return gM.runKernelFunc(function(e){return e.round(t)},{$x:t},function(e){return{$x:function(){return rR(e)}}})}}),dV=RQ({rsqrt_:function(e){var t=SQ(e,"x","rsqrt"),n=[t];return gM.runKernelFunc(function(e,n){var r=e.rsqrt(t);return n([t]),r},{x:t},function(e,t){var n=t[0];return{x:function(){return e.div(n.pow(1.5).mul(2)).neg()}}},"Rsqrt",{},n)}}),hV=RQ({sigmoid_:function(e){var t=SQ(e,"x","sigmoid");return gM.runKernelFunc(function(e,n){var r=e.sigmoid(t);return n([r]),r},{x:t},function(e,t){var n=t[0];return{x:function(){return e.mul(n.mul(GQ(1).sub(n)))}}},"Sigmoid")}}),fV=RQ({sign_:function(e){var t=SQ(e,"x","sign");return gM.runKernelFunc(function(e){return e.sign(t)},{$x:t},function(e){return{$x:function(){return rR(e)}}})}}),pV=RQ({isNaN_:function(e){var t=SQ(e,"x","isNaN");return gM.runKernelFunc(function(e){return e.isNaN(t)},{$x:t},function(e){return{$x:function(){return rR(e)}}})}}),gV=RQ({isInf_:function(e){var t=SQ(e,"x","isInf");return gM.runKernelFunc(function(e){return e.isInf(t)},{$x:t},function(e){return{$x:function(){return rR(e)}}})}}),mV=RQ({isFinite_:function(e){var t=SQ(e,"x","isFinite");return gM.runKernelFunc(function(e){return e.isFinite(t)},{$x:t},function(e){return{$x:function(){return rR(e)}}})}}),vV=RQ({sin_:function(e){var t=SQ(e,"x","sin"),n=[t];return gM.runKernelFunc(function(e,n){var r=e.sin(t);return n([t]),r},{x:t},function(e,t){var n=t[0];return{x:function(){return n.toFloat().cos().mul(e)}}},"Sin",{},n)}}),yV=RQ({sinh_:function(e){var t=SQ(e,"x","sinh");return gM.runKernelFunc(function(e,n){var r=e.sinh(t);return n([t]),r},{$x:t},function(e,t){var n=t[0];return{$x:function(){return n.toFloat().cosh().mulStrict(e)}}})}}),bV=RQ({softplus_:function(e){var t=SQ(e,"x","softplus");return gM.runKernelFunc(function(e,n){var r=e.softplus(t);return n([t]),r},{$x:t},function(e,t){var n=t[0];return{$x:function(){return e.mul(n.sigmoid())}}})}}),wV=RQ({sqrt_:function(e){var t=SQ(e,"x","sqrt");return gM.runKernelFunc(function(e,n){var r=e.sqrt(t);return n([t]),r},{$x:t},function(e,t){var n=t[0];return{$x:function(){return e.div(n.toFloat().sqrt().mul(2))}}})}}),xV=RQ({step_:function(e,t){void 0===t&&(t=0);var n=SQ(e,"x","step");return gM.runKernelFunc(function(e){return e.step(n,t)},{$x:n},function(e){return{$x:function(){return rR(e)}}})}}),BV=RQ({tan_:function(e){var t=SQ(e,"x","tan");return gM.runKernelFunc(function(e,n){var r=e.tan(t);return n([t]),r},{$x:t},function(e,t){var n=t[0];return{$x:function(){return e.div(n.cos().square())}}})}}),CV=RQ({tanh_:function(e){var t=SQ(e,"x","tanh");return gM.runKernelFunc(function(e,n){var r=e.tanh(t);return n([r]),r},{x:t},function(e,t){var n=t[0];return{x:function(){return GQ(1).sub(n.square()).mulStrict(e)}}},"Tanh",{},null,[!0])}});function NV(e,t,n,r,i,a){var o,s,l=SQ(e,"x","batchNorm"),c=SQ(t,"mean","batchNorm"),u=SQ(n,"variance","batchNorm");return null!=i&&(o=SQ(i,"scale","batchNorm")),null!=r&&(s=SQ(r,"offset","batchNorm")),oT(2===l.rank,function(){return"Error in batchNorm3D: x must be rank 3 but got rank "+l.rank+"."}),oT(2===c.rank||1===c.rank,function(){return"Error in batchNorm2D: mean must be rank 2 or rank 1 but got rank "+c.rank+"."}),oT(2===u.rank||1===u.rank,function(){return"Error in batchNorm2D: variance must be rank 2 or rank 1 but got rank "+u.rank+"."}),null!=o&&oT(2===o.rank||1===o.rank,function(){return"Error in batchNorm2D: scale must be rank 2 or rank 1 but got rank "+o.rank+"."}),null!=s&&oT(2===s.rank||1===s.rank,function(){return"Error in batchNorm2D: offset must be rank 2 or rank 1 but got rank "+s.rank+"."}),EV(l,c,u,s,o,a)}function kV(e,t,n,r,i,a){var o,s,l=SQ(e,"x","batchNorm"),c=SQ(t,"mean","batchNorm"),u=SQ(n,"variance","batchNorm");return null!=i&&(o=SQ(i,"scale","batchNorm")),null!=r&&(s=SQ(r,"offset","batchNorm")),oT(3===l.rank,function(){return"Error in batchNorm3D: x must be rank 3 but got rank "+l.rank+"."}),oT(3===c.rank||1===c.rank,function(){return"Error in batchNorm3D: mean must be rank 3 or rank 1 but got rank "+c.rank+"."}),oT(3===u.rank||1===u.rank,function(){return"Error in batchNorm3D: variance must be rank 3 or rank 1 but got rank "+u.rank+"."}),null!=o&&oT(3===o.rank||1===o.rank,function(){return"Error in batchNorm3D: scale must be rank 3 or rank 1 but got rank "+o.rank+"."}),null!=s&&oT(3===s.rank||1===s.rank,function(){return"Error in batchNorm3D: offset must be rank 3 or rank 1 but got rank "+s.rank+"."}),EV(l,c,u,s,o,a)}function _V(e,t,n,r,i,a){var o,s,l=SQ(e,"x","batchNorm"),c=SQ(t,"mean","batchNorm"),u=SQ(n,"variance","batchNorm");return null!=i&&(o=SQ(i,"scale","batchNorm")),null!=r&&(s=SQ(r,"offset","batchNorm")),oT(4===l.rank,function(){return"Error in batchNorm4D: x must be rank 4 but got rank "+l.rank+"."}),oT(4===c.rank||1===c.rank,function(){return"Error in batchNorm4D: mean must be rank 4 or rank 1 but got rank "+c.rank+"."}),oT(4===u.rank||1===u.rank,function(){return"Error in batchNorm4D: variance must be rank 4 or rank 1 but got rank "+u.rank+"."}),null!=o&&oT(4===o.rank||1===o.rank,function(){return"Error in batchNorm4D: scale must be rank 4 or rank 1 but got rank "+o.rank+"."}),null!=s&&oT(4===s.rank||1===s.rank,function(){return"Error in batchNorm4D: offset must be rank 4 or rank 1 but got rank "+s.rank+"."}),EV(l,c,u,s,o,a)}function EV(e,t,n,r,i,a){null==a&&(a=.001);var o,s,l,c=SQ(e,"x","batchNorm"),u=SQ(t,"mean","batchNorm"),A=SQ(n,"variance","batchNorm");null!=i&&(o=SQ(i,"scale","batchNorm")),null!=r&&(s=SQ(r,"offset","batchNorm")),oT(u.rank===A.rank,function(){return"Batch normalization gradient requires mean and variance to have equal ranks."}),oT(null==s||u.rank===s.rank,function(){return"Batch normalization gradient requires mean and offset to have equal ranks."}),oT(null==o||u.rank===o.rank,function(){return"Batch normalization gradient requires mean and scale to have equal ranks."}),l=0===c.rank||1===c.rank?c.as4D(1,1,1,c.size):2===c.rank?c.as4D(1,1,c.shape[0],c.shape[1]):3===c.rank?c.as4D(1,c.shape[0],c.shape[1],c.shape[2]):c;var d=[c,u,A,o];return gM.runKernelFunc(function(e,t){var n=e.batchNormalization(l,SV(u),SV(A),a,SV(o),SV(s));return t([c,u,A,o]),n},{x:c,mean:u,variance:A,scale:o,offset:s},function(e,t){var n=t,r=n[0],i=n[1],o=n[2],s=n[3],c=null==s?GQ(1):s,u=yH(i.shape,l.shape),A=[];if(1===i.rank){for(var d=0;d<l.shape.length-1;++d)A.push(l.shape[d]);A.push(1)}var h=r.sub(i),f=e.mul(c),p=dV(o.add(GQ(a))),g=p.mul(p).mul(p).mul(GQ(-.5));return{x:function(){return 1===i.rank?e.mul(VR(p.as4D(1,1,1,i.shape[0]),A)).mul(c).reshape(r.shape):e.mul(p).mul(c).reshape(r.shape)},mean:function(){var e=p.mul(GQ(-1)).mul(f);return 1===i.rank&&(e=e.sum(u)),e.reshape(i.shape)},variance:function(){var e=g.mul(h).mul(f);return 1===i.rank&&(e=e.sum(u)),e.reshape(i.shape)},scale:function(){var t=h.mul(p),n=e.mul(t);return 1===i.rank&&(n=n.sum(u)),n.reshape(i.shape)},offset:function(){var t=e;return 1===i.rank&&(t=t.sum(u)),t.reshape(i.shape)}}},"BatchNormalization",{varianceEpsilon:a},d).reshape(c.shape)}function SV(e){return null==e?null:0===e.rank?e.as1D():1===e.rank?e:2===e.rank?e.as4D(1,1,e.shape[0],e.shape[1]):3===e.rank?e.as4D(1,e.shape[0],e.shape[1],e.shape[2]):e}function FV(){wQ("tf.batchNormalization() is going away. Use tf.batchNorm() instead, and note the positional argument change of scale, offset, and varianceEpsilon")}var IV=RQ({batchNormalization2d_:function(e,t,n,r,i,a){return void 0===r&&(r=.001),FV(),NV(e,t,n,a,i,r)}}),jV=RQ({batchNormalization3d_:function(e,t,n,r,i,a){return void 0===r&&(r=.001),FV(),kV(e,t,n,a,i,r)}}),UV=RQ({batchNormalization4d_:function(e,t,n,r,i,a){return void 0===r&&(r=.001),FV(),_V(e,t,n,a,i,r)}}),OV=RQ({batchNormalization_:function(e,t,n,r,i,a){return void 0===r&&(r=.001),FV(),EV(e,t,n,a,i,r)}}),PV=RQ({batchNorm_:EV}),LV=RQ({batchNorm2d_:NV}),DV=RQ({batchNorm3d_:kV}),TV=RQ({batchNorm4d_:_V}),MV=RQ({logicalAnd_:function(e,t){var n=SQ(e,"a","logicalAnd","bool"),r=SQ(t,"b","logicalAnd","bool");return bH(n.shape,r.shape),gM.runKernelFunc(function(e){return e.logicalAnd(n,r)},{a:n,b:r},null,"LogicalAnd")}}),QV=RQ({logicalNot_:function(e){var t=SQ(e,"x","logicalNot","bool");return gM.runKernelFunc(function(e){return e.logicalNot(t)},{$x:t})}}),RV=RQ({logicalOr_:function(e,t){var n=SQ(e,"a","logicalOr","bool"),r=SQ(t,"b","logicalOr","bool");return bH(n.shape,r.shape),gM.runKernelFunc(function(e){return e.logicalOr(n,r)},{$a:n,$b:r})}}),HV=RQ({logicalXor_:function(e,t){var n=SQ(e,"a","logicalXor","bool"),r=SQ(t,"b","logicalXor","bool");return bH(n.shape,r.shape),RV(e,t).logicalAnd(MV(e,t).logicalNot())}}),zV=RQ({where_:function(e,t,n){var r=SQ(t,"a","where"),i=SQ(n,"b","where"),a=SQ(e,"condition","where","bool");return sT(r.shape,i.shape,"Error in where: "),1===a.rank?oT(a.shape[0]===r.shape[0],function(){return"The first dimension of `a` must match the size of `condition`."}):sT(a.shape,i.shape,"Error in where: "),gM.runKernelFunc(function(e,t){var n=e.select(a,r,i);return t([a]),n},{$condition:a,$a:r,$b:i},function(e,t){var n=t[0];return{$condition:function(){return rR(n).toFloat()},$a:function(){return e.mul(n.cast(e.dtype))},$b:function(){return e.mul(n.logicalNot().cast(e.dtype))}}})}}),KV=function(e){return KD(this,void 0,void 0,function(){var t,n,r;return WD(this,function(i){switch(i.label){case 0:return[4,(t=SQ(e,"condition","whereAsync","bool")).data()];case 1:return n=i.sent(),r=JH(t.shape,n),e!==t&&t.dispose(),[2,r]}})})},WV=RQ({add_:function(e,t){var n,r=SQ(e,"a","add"),i=SQ(t,"b","add");n=uM(r,i),r=n[0],i=n[1];var a=bH(r.shape,i.shape);return gM.runKernelFunc(function(e){return e.add(r,i)},{a:r,b:i},function(e){return{a:function(){var t=e,n=yH(r.shape,a);return n.length>0&&(t=t.sum(n)),t.reshape(r.shape)},b:function(){var t=e,n=yH(i.shape,a);return n.length>0&&(t=t.sum(n)),t.reshape(i.shape)}}},"Add")}}),VV=RQ({addN_:function(e){oT(Array.isArray(e),function(){return"The argument passed to tf.addN() must be a list of tensors"}),oT(e.length>=1,function(){return"Must pass at least one tensor to tf.addN(), but got "+e.length});var t=e.map(function(e,t){return SQ(e,"tensors"+t,"addN")}),n=t[0];t.forEach(function(e){if(e.dtype!==n.dtype)throw new Error("All tensors passed to tf.addN() must have the same dtype")}),t.forEach(function(e){if(!AT(e.shape,n.shape))throw new Error("All tensors passed to tf.addN() must have the same shape")});var r=t;return gM.runKernelFunc(function(e){return e.addN(t)},r,function(e){var n={};return t.forEach(function(t,r){n[r]=function(){return e.clone()}}),n},"AddN")}}),GV=RQ({addStrict_:function(e,t){var n=SQ(e,"a","addStrict"),r=SQ(t,"b","addStrict");return sT(n.shape,r.shape,"Error in addStrict: "),n.add(r)}}),qV=RQ({atan2_:function(e,t){var n,r=SQ(e,"a","atan2"),i=SQ(t,"b","atan2");n=uM(r,i),r=n[0],i=n[1];var a=bH(r.shape,i.shape);return gM.runKernelFunc(function(e,t){var n=e.atan2(r,i);return t([r,i]),n},{$a:r,$b:i},function(e,t){var n=t[0],r=t[1];return{$a:function(){var t=WV(n.square(),r.square()),i=e.mul(r.div(t)),o=yH(n.shape,a);return o.length>0&&(i=i.sum(o)),i.reshape(n.shape)},$b:function(){var t=WV(n.square(),r.square()),i=cV(e.mul(n.div(t))),o=yH(r.shape,a);return o.length>0&&(i=i.sum(o)),i.reshape(r.shape)}}})}}),XV=RQ({div_:function(e,t){var n,r=SQ(e,"a","div"),i=SQ(t,"b","div");if(n=uM(r,i),r=n[0],i=n[1],"int32"===r.dtype&&"int32"===i.dtype)return ZV(r,i);var a=bH(r.shape,i.shape);return gM.runKernelFunc(function(e,t){var n=e.realDivide(r,i);return t([r,i]),n},{a:r,b:i},function(e,t){var n=t[0],r=t[1];return{a:function(){var t=e.div(r.toFloat()),i=yH(n.shape,a);return i.length>0?t.sum(i).reshape(n.shape):t},b:function(){var t=e.mul(n.toFloat()),i=yH(r.shape,a);i.length>0&&(t=t.sum(i).reshape(r.shape));var o=r.square();return t.div(o.toFloat()).neg()}}},"Div")}}),YV=RQ({divNoNan_:function(e,t){var n,r=SQ(e,"a","div"),i=SQ(t,"b","div");r=(n=uM(r,i))[0],i=n[1];var a=XV(r,i),o=rR(a),s=i.equal(o);return zV(s,o,a)}}),JV=RQ({divStrict_:function(e,t){var n=SQ(e,"a","div"),r=SQ(t,"b","div");return sT(n.shape,r.shape,"Error in divideStrict: "),n.div(r)}}),ZV=RQ({floorDiv_:function(e,t){var n,r=SQ(e,"a","floorDiv"),i=SQ(t,"b","floorDiv");n=uM(r,i),r=n[0],i=n[1];var a=bH(r.shape,i.shape);return gM.runKernelFunc(function(e,t){var n=e.floorDiv(r,i);return t([r,i]),n},{a:r,b:i},function(e,t){var n=t[0],r=t[1];return{a:function(){var t=e.div(r.toFloat()),i=yH(n.shape,a);return i.length>0?t.sum(i).reshape(n.shape):t},b:function(){var t=e.mul(n.toFloat()),i=yH(r.shape,a);i.length>0&&(t=t.sum(i).reshape(r.shape));var o=r.square();return t.div(o.toFloat()).neg()}}},"FloorDiv")}}),$V=RQ({maximum_:function(e,t){var n,r=SQ(e,"a","maximum"),i=SQ(t,"b","maximum");return n=uM(r,i),r=n[0],i=n[1],"bool"===r.dtype&&(r=r.toInt(),i=i.toInt()),bH(r.shape,i.shape),gM.runKernelFunc(function(e,t){var n=e.maximum(r,i);return t([r,i]),n},{a:r,b:i},function(e,t){var n=t[0],r=t[1];return{a:function(){return e.mul(n.greaterEqual(r).toFloat())},b:function(){return e.mul(n.less(r).toFloat())}}},"Maximum")}}),eG=RQ({maximumStrict_:function(e,t){var n=SQ(e,"a","maximumStrict"),r=SQ(t,"b","maximumStrict");return sT(n.shape,r.shape,"Error in maximumStrict: "),n.maximum(r)}}),tG=RQ({minimum_:function(e,t){var n,r=SQ(e,"a","minimum"),i=SQ(t,"b","minimum");return n=uM(r,i),r=n[0],i=n[1],"bool"===r.dtype&&(r=r.toInt(),i=i.toInt()),bH(r.shape,i.shape),gM.runKernelFunc(function(e,t){var n=e.minimum(r,i);return t([r,i]),n},{a:r,b:i},function(e,t){var n=t[0],r=t[1];return{a:function(){return e.mul(n.lessEqual(r).toFloat())},b:function(){return e.mul(n.greater(r).toFloat())}}},"Minimum")}}),nG=RQ({minimumStrict_:function(e,t){var n=SQ(e,"a","minimumStrict"),r=SQ(t,"b","minimumStrict");return sT(n.shape,r.shape,"Error in minimumStrict: "),n.minimum(r)}}),rG=RQ({mod_:function(e,t){var n,r=SQ(e,"a","mod"),i=SQ(t,"b","mod");n=uM(r,i),r=n[0],i=n[1];var a=bH(r.shape,i.shape);return gM.runKernelFunc(function(e,t){var n=e.mod(r,i);return t([r,i]),n},{$a:r,$b:i},function(e,t){var n=t[0],r=t[1];return{$a:function(){var t=yH(n.shape,a);return t.length>0?e.sum(t).reshape(n.shape):e},$b:function(){var t=e.mul(n.div(r).floor().neg()),i=yH(r.shape,a);return i.length>0?t.sum(i).reshape(r.shape):t}}})}}),iG=RQ({modStrict_:function(e,t){var n=SQ(e,"a","modStrict"),r=SQ(t,"b","modStrict");return sT(n.shape,r.shape,"Error in modStrict: "),n.mod(r)}}),aG=RQ({mul_:function(e,t){var n,r=SQ(e,"a","mul"),i=SQ(t,"b","mul");n=uM(r,i),r=n[0],i=n[1];var a=bH(r.shape,i.shape);return gM.runKernelFunc(function(e,t){var n=e.multiply(r,i);return t([r,i]),n},{a:r,b:i},function(e,t){var n=t[0],r=t[1];return{a:function(){var t=e.mul(r.toFloat()),i=yH(n.shape,a);return i.length>0?t.sum(i).reshape(n.shape):t},b:function(){var t=e.mul(n.toFloat()),i=yH(r.shape,a);return i.length>0?t.sum(i).reshape(r.shape):t}}},"Mul")}}),oG=RQ({mulStrict_:function(e,t){var n=SQ(e,"a","mul"),r=SQ(t,"b","mul");return sT(n.shape,r.shape,"Error in multiplyStrict: "),n.mul(r)}}),sG=RQ({pow_:function(e,t){var n,r=SQ(e,"base","pow"),i=SQ(t,"exp","pow");n=uM(r,i),r=n[0],i=n[1];var a=bH(r.shape,i.shape),o=[r,i];return gM.runKernelFunc(function(e,t){var n=e.pow(r,i);return t([r,i,n]),n},{a:r,b:i},function(e,t){var n=t[0],r=t[1],i=t[2];return{a:function(){var t=r.toFloat(),i=e.mul(t.mul(n.pow(t.sub(GQ(1))))),o=yH(n.shape,a);return o.length>0&&(i=i.sum(o)),i.reshape(n.shape)},b:function(){var t=n.greater(0),o=n.log().where(t,rR(n)),s=e.mul(i.mul(o)),l=yH(r.shape,a);return l.length>0&&(s=s.sum(l)),s.reshape(r.shape)}}},"Pow",{},o,[!0])}}),lG=RQ({powStrict_:function(e,t){return sT(e.shape,t.shape,"Error in powStrict: "),e.pow(t)}}),cG=RQ({squaredDifferenceStrict_:function(e,t){var n=SQ(e,"a","squaredDifferenceStrict"),r=SQ(t,"b","squaredDifferenceStrict");return sT(n.shape,r.shape,"Error in squaredDifferenceStrict: "),n.squaredDifference(r)}}),uG=RQ({sub_:function(e,t){var n,r=SQ(e,"a","sub"),i=SQ(t,"b","sub");n=uM(r,i),r=n[0],i=n[1];var a=bH(r.shape,i.shape);return gM.runKernelFunc(function(e){return e.subtract(r,i)},{a:r,b:i},function(e){return{a:function(){var t=e,n=yH(r.shape,a);return n.length>0&&(t=t.sum(n)),t.reshape(r.shape)},b:function(){var t=e,n=yH(i.shape,a);return n.length>0&&(t=t.sum(n)),t.neg().reshape(i.shape)}}},"Sub")}}),AG=RQ({subStrict_:function(e,t){var n=SQ(e,"a","subStrict"),r=SQ(t,"b","subStrict");return sT(n.shape,r.shape,"Error in subStrict: "),n.sub(r)}}),dG=RQ({equal_:function(e,t){var n,r=SQ(e,"a","equal"),i=SQ(t,"b","equal");return n=uM(r,i),r=n[0],i=n[1],bH(r.shape,i.shape),gM.runKernelFunc(function(e){return e.equal(r,i)},{$a:r,$b:i})}}),hG=RQ({equalStrict_:function(e,t){var n=SQ(e,"a","equalStrict"),r=SQ(t,"b","equalStrict");return sT(n.shape,r.shape,"Error in equalStrict: "),n.equal(r)}}),fG=RQ({greater_:function(e,t){var n,r=SQ(e,"a","greater"),i=SQ(t,"b","greater");return n=uM(r,i),r=n[0],i=n[1],bH(r.shape,i.shape),gM.runKernelFunc(function(e){return e.greater(r,i)},{a:r,b:i},null,"Greater")}}),pG=RQ({greaterEqual_:function(e,t){var n,r=SQ(e,"a","greaterEqual"),i=SQ(t,"b","greaterEqual");return n=uM(r,i),r=n[0],i=n[1],bH(r.shape,i.shape),gM.runKernelFunc(function(e,t){var n=e.greaterEqual(r,i);return t([r,i]),n},{a:r,b:i},function(e,t){var n=t[0],r=t[1];return{a:function(){return rR(n)},b:function(){return rR(r)}}},"GreaterEqual")}}),gG=RQ({greaterEqualStrict_:function(e,t){var n=SQ(e,"a","greaterEqualStrict"),r=SQ(t,"b","greaterEqualStrict");return sT(n.shape,r.shape,"Error in greaterEqualStrict: "),n.greaterEqual(r)}}),mG=RQ({greaterStrict_:function(e,t){var n=SQ(e,"a","greaterStrict"),r=SQ(t,"b","greaterStrict");return sT(n.shape,r.shape,"Error in greaterStrict: "),n.greater(r)}}),vG=RQ({less_:function(e,t){var n,r=SQ(e,"a","less"),i=SQ(t,"b","less");return n=uM(r,i),r=n[0],i=n[1],bH(r.shape,i.shape),gM.runKernelFunc(function(e){return e.less(r,i)},{a:r,b:i},null,"Less")}}),yG=RQ({lessEqual_:function(e,t){var n,r=SQ(e,"a","lessEqual"),i=SQ(t,"b","lessEqual");return n=uM(r,i),r=n[0],i=n[1],bH(r.shape,i.shape),gM.runKernelFunc(function(e,t){var n=e.lessEqual(r,i);return t([r,i]),n},{a:r,b:i},null,"LessEqual")}}),bG=RQ({lessEqualStrict_:function(e,t){var n=SQ(e,"a","lessEqualStrict"),r=SQ(t,"b","lessEqualStrict");return sT(n.shape,r.shape,"Error in lessEqualStrict: "),n.lessEqual(r)}}),wG=RQ({lessStrict_:function(e,t){var n=SQ(e,"a","lessStrict"),r=SQ(t,"b","lessStrict");return sT(n.shape,r.shape,"Error in lessStrict: "),n.less(r)}}),xG=RQ({notEqual_:function(e,t){var n,r=SQ(e,"a","notEqual"),i=SQ(t,"b","notEqual");return n=uM(r,i),r=n[0],i=n[1],bH(r.shape,i.shape),gM.runKernelFunc(function(e){return e.notEqual(r,i)},{a:r,b:i},null,"NotEqual")}}),BG=RQ({notEqualStrict_:function(e,t){var n=SQ(e,"a","notEqualStrict"),r=SQ(t,"b","notEqualStrict");return sT(n.shape,r.shape,"Error in notEqualStrict: "),n.notEqual(r)}});function CG(e,t){for(var n=[],r=e;r<t;++r)n.push(r);return n}function NG(e){for(var t=[],n=0;n<e.length;++n)for(var r=0;r<e[n].length;++r)t.push(e[n][r]);return t}var kG=RQ({gather_:function(e,t,n){void 0===n&&(n=0);var r=SQ(e,"x","gather"),i=SQ(t,"indices","gather","int32");n=vT(n,r.shape)[0];var a=function(e,t,n){for(var r=e.shape[n],i=[],a=1,o=1,s=0;s<n;s++)i.push(e.shape[s]),a*=e.shape[s];for(s=0;s<t.rank;s++)i.push(t.shape[s]);for(s=n+1;s<e.rank;s++)i.push(e.shape[s]),o*=e.shape[s];return{batchSize:a,sliceSize:o,dimSize:r,outputShape:i}}(r,i,n);return gM.runKernelFunc(function(e,t){var a=e.gather(r,i.flatten(),n);return t([i]),a},{x:r,indices:i},function(e,t){var i=t[0];return{x:function(){var t=r.shape,a=i.size,o=t.slice(0,n),s=o.length,l=t.slice(n,t.length).slice(1),c=l.length,u=CG(0,s),A=CG(s+1,s+1+c),d=NG([o,[a],l]),h=e.reshape(d),f=i.reshape([a]),p=NG([[s],u,A]),g=h.transpose(p),m=_G(g,f,r.shape[n]),v=DQ(p);return m.transpose(v)},indices:function(){return i}}},"Gather",{axis:n}).reshape(a.outputShape)}}),_G=RQ({unsortedSegmentSum_:function(e,t,n){var r=SQ(e,"x","unsortedSegmentSum"),i=SQ(t,"segmentIds","unsortedSegmentSum","int32");return oT(dT(n),function(){return"numSegments must be of dtype int"}),gM.runKernelFunc(function(e,t){var a=e.unsortedSegmentSum(r,i,n);return t([i]),a},{$x:r},function(e,t){var n=t[0];return{$x:function(){return function(e,t){for(var n=$V(t,rR(t)),r=kG(e,n),i=pG(t,GQ(0,"int32")),a=r.rank-i.rank,o=0;o<a;++o)i=SR(i,o+1);i=MV(i,ZQ(r.shape,"bool"));var s=rR(r);return zV(i,r,s)}(e,n)}}})}});function EG(e,t,n,r,i,a,o){void 0===a&&(a="NHWC"),oT(e.length===t.rank,function(){return"Length of inShape ("+e.length+") and rank of dy ("+t.rank+") must match"});var s=e,l=t,c=!1;3===t.rank&&(c=!0,l=t.as4D(1,t.shape[0],t.shape[1],t.shape[2]),s=[1,e[0],e[1],e[2]]),oT(4===s.length,function(){return"Error in conv2dDerInput: inShape must be length 4, but got length "+s.length+"."}),oT(4===l.rank,function(){return"Error in conv2dDerInput: dy must be rank 4, but got rank "+l.rank}),oT(4===n.rank,function(){return"Error in conv2dDerInput: filter must be rank 4, but got rank "+n.rank});var u="NHWC"===a?s[3]:s[1],A="NHWC"===a?l.shape[3]:l.shape[1];oT(u===n.shape[2],function(){return"Error in conv2dDerInput: depth of input ("+u+") must match input depth for filter "+n.shape[2]+"."}),oT(A===n.shape[3],function(){return"Error in conv2dDerInput: depth of output ("+A+") must match output depth for filter "+n.shape[3]+"."}),null!=o&&oT(dT(i),function(){return"Error in conv2dDerInput: pad must be an integer when using, dimRoundingMode "+o+" but got pad "+i+"."});var d=jH(a),h=BH(s,n.shape,r,1,i,o,!1,d),f=gM.runKernelFunc(function(e,t){var r=e.conv2dDerInput(l,n,h);return t([n,l]),r},{dy4D:l,filter:n},function(e,t){var n=t[0],s=t[1];return{dy4D:function(){return jG(e,n,r,i,a,1,o)},filter:function(){return OG(e,s,n.shape,r,i,a,o)}}});return c?f.as3D(f.shape[1],f.shape[2],f.shape[3]):f}function SG(e){var t=function(e){return"number"==typeof e?[e,e,e]:2===e.length?[e[0],e[1],1]:e}(e),n=t[0],r=t[1],i=t[2];return 1===n&&1===r&&1===i}function FG(e,t,n,r,i){oT(e.length===t.rank,function(){return"Length of inShape ("+e.length+") and rank of dy ("+t.rank+") must match"});var a=e,o=t,s=!1;4===t.rank&&(s=!0,o=t.as5D(1,t.shape[0],t.shape[1],t.shape[2],t.shape[3]),a=[1,e[0],e[1],e[2],e[3]]);var l=a[4],c=o.shape[4];oT(5===a.length,function(){return"Error in conv3dDerInput: inShape must be length 5, but got length "+a.length+"."}),oT(5===o.rank,function(){return"Error in conv3dDerInput: dy must be rank 5, but got rank "+o.rank}),oT(5===n.rank,function(){return"Error in conv3dDerInput: filter must be rank 5, but got rank "+n.rank}),oT(l===n.shape[3],function(){return"Error in conv3dDerInput: depth of input ("+l+") must match input depth for filter "+n.shape[3]+"."}),oT(c===n.shape[4],function(){return"Error in conv3dDerInput: depth of output ("+c+") must match output depth for filter "+n.shape[4]+"."});var u=CH(a,n.shape,r,1,i),A=gM.runKernelFunc(function(e){return e.conv3dDerInput(o,n,u)},{dy5D:o});return s?A.as4D(A.shape[1],A.shape[2],A.shape[3],A.shape[4]):A}var IG=RQ({conv1d_:function(e,t,n,r,i,a,o){void 0===i&&(i="NWC"),void 0===a&&(a=1);var s=SQ(e,"x","conv1d"),l=SQ(t,"filter","conv1d"),c=s,u=!1;2===s.rank&&(u=!0,c=s.as3D(1,s.shape[0],s.shape[1])),oT(3===c.rank,function(){return"Error in conv1d: input must be rank 3, but got rank "+c.rank+"."}),oT(3===l.rank,function(){return"Error in conv1d: filter must be rank 3, but got rank "+l.rank+"."}),null!=o&&oT(dT(r),function(){return"Error in conv1d: pad must be an integer when using, dimRoundingMode "+o+" but got pad "+r+"."}),oT(c.shape[2]===l.shape[1],function(){return"Error in conv1d: depth of input ("+c.shape[2]+") must match input depth for filter "+l.shape[1]+"."}),oT(IH(n,a),function(){return"Error in conv1D: Either stride or dilation must be 1. Got stride "+n+" and dilation '"+a+"'"}),oT("NWC"===i,function(){return"Error in conv1d: got dataFormat of "+i+" but only NWC is currently supported."});var A=l.as4D(1,l.shape[0],l.shape[1],l.shape[2]),d=c.as4D(c.shape[0],1,c.shape[1],c.shape[2]),h=jG(d,A,[1,n],r,"NHWC",[1,a],o);return u?h.as2D(h.shape[2],h.shape[3]):h.as3D(h.shape[0],h.shape[2],h.shape[3])}}),jG=RQ({conv2d_:function(e,t,n,r,i,a,o){void 0===i&&(i="NHWC"),void 0===a&&(a=[1,1]);var s=SQ(e,"x","conv2d"),l=SQ(t,"filter","conv2d"),c=s,u=!1;3===s.rank&&(u=!0,c=s.as4D(1,s.shape[0],s.shape[1],s.shape[2])),oT(4===c.rank,function(){return"Error in conv2d: input must be rank 4, but got rank "+c.rank+"."}),oT(4===l.rank,function(){return"Error in conv2d: filter must be rank 4, but got rank "+l.rank+"."}),null!=o&&oT(dT(r),function(){return"Error in conv2d: pad must be an integer when using, dimRoundingMode "+o+" but got pad "+r+"."});var A="NHWC"===i?c.shape[3]:c.shape[1];oT(A===l.shape[2],function(){return"Error in conv2d: depth of input ("+A+") must match input depth for filter "+l.shape[2]+"."}),oT(IH(n,a),function(){return"Error in conv2D: Either strides or dilations must be 1. Got strides "+n+" and dilations '"+a+"'"});var d=jH(i),h=BH(c.shape,l.shape,n,a,r,o,!1,d),f=[l,c],p=gM.runKernelFunc(function(e,t){var n=e.conv2d(c,l,h);return t([l,c]),n},{x:c,filter:l},function(e,t){var o=t,s=o[0],l=o[1];return oT(FH(a),function(){return"Error in gradient of conv2D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '"+a+"'"}),{x:function(){return PG(l.shape,e,s,n,r,i)},filter:function(){return OG(l,e,s.shape,n,r,i)}}},"Conv2D",h,f);return u?p.as3D(p.shape[1],p.shape[2],p.shape[3]):p}}),UG=RQ({conv3d_:function(e,t,n,r,i,a){void 0===i&&(i="NDHWC"),void 0===a&&(a=[1,1,1]);var o=SQ(e,"x","conv3d"),s=SQ(t,"filter","conv3d"),l=o,c=!1;4===o.rank&&(c=!0,l=o.as5D(1,o.shape[0],o.shape[1],o.shape[2],o.shape[3])),oT(5===l.rank,function(){return"Error in conv3d: input must be rank 5, but got rank "+l.rank+"."}),oT(5===s.rank,function(){return"Error in conv3d: filter must be rank 5, but got rank "+s.rank+"."}),oT(l.shape[4]===s.shape[3],function(){return"Error in conv3d: depth of input ("+l.shape[4]+") must match input depth for filter "+s.shape[3]+"."}),oT(function(e,t){return SG(e)||SG(t)}(n,a),function(){return"Error in conv3D: Either strides or dilations must be 1. Got strides "+n+" and dilations '"+a+"'"}),oT("NDHWC"===i,function(){return"Error in conv3d: got dataFormat of "+i+" but only NDHWC is currently supported."});var u=CH(l.shape,s.shape,n,a,r),A=gM.runKernelFunc(function(e,t){var n=e.conv3d(l,s,u);return t([l,s]),n},{x:l,$filter:s},function(e,t){oT(SG(a),function(){return"Error in gradient of conv3D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '"+a+"'"});var i=t[0],o=t[1];return{x:function(){return FG(i.shape,e,o,n,r)},$filter:function(){return function(e,t,n,r,i){var a=e;4===e.rank&&(a=e.as5D(1,e.shape[0],e.shape[1],e.shape[2],e.shape[3]));var o=t;4===o.rank&&(o=t.as5D(1,t.shape[0],t.shape[1],t.shape[2],t.shape[3])),oT(5===a.rank,function(){return"Error in conv3dDerFilter: input must be rank 5, but got shape "+a.shape+"."}),oT(5===o.rank,function(){return"Error in conv3dDerFilter: dy must be rank 5, but got shape "+o.shape+"."}),oT(5===n.length,function(){return"Error in conv3dDerFilter: filterShape must be length 5, but got "+n+"."}),oT(a.shape[4]===n[3],function(){return"Error in conv3dDerFilter: depth of input "+a.shape[4]+") must match input depth in filter ("+n[3]+"."}),oT(o.shape[4]===n[4],function(){return"Error in conv3dDerFilter: depth of dy ("+o.shape[4]+") must match output depth for filter ("+n[4]+")."});var s=CH(a.shape,n,r,1,i);return gM.runKernelFunc(function(e){return e.conv3dDerFilter(a,o,s)},{x5D:a,dy5D:o})}(i,e,o.shape,n,r)}}});return c?A.as4D(A.shape[1],A.shape[2],A.shape[3],A.shape[4]):A}}),OG=RQ({conv2dDerFilter_:function(e,t,n,r,i,a,o){void 0===a&&(a="NHWC");var s=e;3===e.rank&&(s=e.as4D(1,e.shape[0],e.shape[1],e.shape[2]));var l=t;3===l.rank&&(l=t.as4D(1,t.shape[0],t.shape[1],t.shape[2])),oT(4===s.rank,function(){return"Error in conv2dDerFilter: input must be rank 4, but got shape "+s.shape+"."}),oT(4===l.rank,function(){return"Error in conv2dDerFilter: dy must be rank 4, but got shape "+l.shape+"."}),oT(4===n.length,function(){return"Error in conv2dDerFilter: filterShape must be length 4, but got "+n+"."});var c="NHWC"===a?s.shape[3]:s.shape[1],u="NHWC"===a?l.shape[3]:l.shape[1];oT(c===n[2],function(){return"Error in conv2dDerFilter: depth of input "+c+") must match input depth in filter ("+n[2]+"."}),oT(u===n[3],function(){return"Error in conv2dDerFilter: depth of dy ("+u+") must match output depth for filter ("+n[3]+")."}),null!=o&&oT(dT(i),function(){return"Error in conv2dDerFilter: pad must be an integer when using, dimRoundingMode "+o+" but got pad "+i+"."});var A=jH(a),d=BH(s.shape,n,r,1,i,o,!1,A);return gM.runKernelFunc(function(e){return e.conv2dDerFilter(s,l,d)},{x4D:s,dy4D:l})}}),PG=RQ({conv2dDerInput_:EG}),LG=RQ({depthwiseConv2d_:function(e,t,n,r,i,a,o){void 0===i&&(i="NHWC"),void 0===a&&(a=[1,1]);var s=SQ(e,"x","depthwiseConv2d"),l=SQ(t,"filter","depthwiseConv2d"),c=s,u=!1;3===s.rank&&(u=!0,c=s.as4D(1,s.shape[0],s.shape[1],s.shape[2])),oT(4===c.rank,function(){return"Error in depthwiseConv2d: input must be rank 4, but got rank "+c.rank+"."}),oT(4===l.rank,function(){return"Error in depthwiseConv2d: filter must be rank 4, but got rank "+l.rank+"."}),oT(c.shape[3]===l.shape[2],function(){return"Error in depthwiseConv2d: number of input channels ("+c.shape[3]+") must match the inChannels dimension in filter "+l.shape[2]+"."}),null==a&&(a=[1,1]),oT(IH(n,a),function(){return"Error in depthwiseConv2d: Either strides or dilations must be 1. Got strides "+n+" and dilations '"+a+"'"}),null!=o&&oT(dT(r),function(){return"Error in depthwiseConv2d: pad must be an integer when using, dimRoundingMode "+o+" but got pad "+r+"."});var A=BH(c.shape,l.shape,n,a,r,o,!0),d=[c,l],h=gM.runKernelFunc(function(e,t){var n=e.depthwiseConv2D(c,l,A);return t([c,l]),n},{x:c,filter:l},function(e,t){oT(FH(a),function(){return"Error in gradient of depthwiseConv2d: dilation rates greater than 1 are not yet supported. Got dilations '"+a+"'"});var n=t[0],r=t[1];return{x:function(){return DG(n.shape,e,r,A)},filter:function(){return TG(n,e,r.shape,A)}}},"DepthwiseConv2dNative",A,d);return u?h.as3D(h.shape[1],h.shape[2],h.shape[3]):h}}),DG=RQ({depthwiseConv2dDerInput_:function(e,t,n,r){var i=t,a=!1;3===t.rank&&(a=!0,i=t.as4D(1,t.shape[0],t.shape[1],t.shape[2]));var o=gM.runKernelFunc(function(e){return e.depthwiseConv2DDerInput(i,n,r)},{dy4D:i});return a?o.as3D(o.shape[1],o.shape[2],o.shape[3]):o}}),TG=RQ({depthwiseConv2dDerFilter_:function(e,t,n,r){var i=e;3===e.rank&&(i=e.as4D(1,e.shape[0],e.shape[1],e.shape[2]));var a=t;return 3===a.rank&&(a=t.as4D(1,t.shape[0],t.shape[1],t.shape[2])),gM.runKernelFunc(function(e){return e.depthwiseConv2DDerFilter(i,a,r)},{x4D:i,dy4D:a})}}),MG=RQ({separableConv2d_:function(e,t,n,r,i,a,o){void 0===a&&(a=[1,1]),void 0===o&&(o="NHWC");var s=SQ(e,"x","separableConv2d"),l=SQ(t,"depthwiseFilter","separableConv2d"),c=SQ(n,"pointwiseFilter","separableConv2d"),u=s,A=!1;if(3===s.rank&&(A=!0,u=s.as4D(1,s.shape[0],s.shape[1],s.shape[2])),"NCHW"===o)throw new Error("separableConv2d currently does not support dataFormat NCHW; only NHWC is supported");oT(4===u.rank,function(){return"Error in separableConv2d: input must be rank 4, but got rank "+u.rank+"."}),oT(4===l.rank,function(){return"Error in separableConv2d: depthwise filter must be rank 4, but got rank "+l.rank+"."}),oT(4===c.rank,function(){return"Error in separableConv2d: pointwise filter must be rank 4, but got rank "+l.rank+"."}),oT(1===c.shape[0],function(){return"Error in separableConv2d: the first dimension of pointwise filter  must be 1, but got "+c.shape[0]+"."}),oT(1===c.shape[1],function(){return"Error in separableConv2d: the second dimension of pointwise filter must be 1, but got "+c.shape[1]+"."});var d=l.shape[2],h=l.shape[3];oT(c.shape[2]===d*h,function(){return"Error in separableConv2d: the third dimension of pointwise filter must be "+d*h+", but got "+c.shape[2]+"."});var f=LG(u,l,r,i,o,a),p=jG(f,c,1,"valid",o);return A?p.as3D(p.shape[1],p.shape[2],p.shape[3]):p}}),QG=RQ({conv2dTranspose_:function(e,t,n,r,i,a){return EG(n,SQ(e,"x","conv2dTranspose"),SQ(t,"filter","conv2dTranspose"),r,i,"NHWC",a)}}),RG=RQ({conv3dTranspose_:function(e,t,n,r,i){return FG(n,SQ(e,"x","conv3dTranspose"),SQ(t,"filter","conv3dTranspose"),r,i)}}),HG=RQ({matMul_:function(e,t,n,r){var i;void 0===n&&(n=!1),void 0===r&&(r=!1);var a=SQ(e,"a","matMul"),o=SQ(t,"b","matMul");i=uM(a,o),a=i[0],o=i[1];var s=n?a.shape[a.rank-2]:a.shape[a.rank-1],l=r?o.shape[o.rank-1]:o.shape[o.rank-2],c=n?a.shape[a.rank-1]:a.shape[a.rank-2],u=r?o.shape[o.rank-2]:o.shape[o.rank-1],A=a.shape.slice(0,-2),d=o.shape.slice(0,-2),h=uT(A),f=uT(d);oT(a.rank>=2&&o.rank>=2&&a.rank===o.rank,function(){return"Error in matMul: inputs must have the same rank of at least 2, got ranks "+a.rank+" and "+o.rank+"."}),oT(AT(A,d),function(){return"Error in matMul: outer dimensions ("+A+") and ("+d+") of Tensors with shapes "+a.shape+" and "+o.shape+" must match."}),oT(s===l,function(){return"Error in matMul: inner shapes ("+s+") and ("+l+") of Tensors with shapes "+a.shape+" and "+o.shape+" and transposeA="+n+" and transposeB="+r+" must match."});var p=a.shape.slice(0,-2).concat([c,u]),g=n?a.as3D(h,s,c):a.as3D(h,c,s),m=r?o.as3D(f,u,l):o.as3D(f,l,u),v={transposeA:n,transposeB:r};return gM.runKernelFunc(function(e,t){var i=e.batchMatMul(g,m,n,r);return t([g,m]),i},{a:g,b:m},function(e,t){var i=t,a=i[0],o=i[1];return n||r?!n&&r?{a:function(){return e.matMul(o,!1,!1)},b:function(){return e.matMul(a,!0,!1)}}:n&&!r?{a:function(){return o.matMul(e,!1,!0)},b:function(){return a.matMul(e,!1,!1)}}:{a:function(){return o.matMul(e,!0,!0)},b:function(){return e.matMul(a,!0,!0)}}:{a:function(){return e.matMul(o,!1,!0)},b:function(){return a.matMul(e,!0,!1)}}},"BatchMatMul",v).reshape(p)}}),zG=RQ({dot_:function(e,t){var n=SQ(e,"t1","dot"),r=SQ(t,"t2","dot");oT(!(1!==n.rank&&2!==n.rank||1!==r.rank&&2!==r.rank),function(){return"Error in dot: inputs must all be rank 1 or 2, but got ranks "+n.rank+" and "+r.rank+"."});var i=1===n.rank?n.size:n.shape[1],a=1===r.rank?r.size:r.shape[0];return oT(i===a,function(){return"Error in dot: inner dimensions of inputs must match, but got "+i+" and "+a+"."}),1===n.rank&&1===r.rank?n.as2D(1,-1).matMul(r.as2D(-1,1)).asScalar():1===n.rank&&2===r.rank?n.as2D(1,-1).matMul(r.as2D(r.shape[0],r.shape[1])).as1D():2===n.rank&&1===r.rank?n.matMul(r.as2D(-1,1)).as1D():n.matMul(r.as2D(r.shape[0],r.shape[1]))}}),KG=RQ({outerProduct_:function(e,t){var n=SQ(e,"v1","outerProduct"),r=SQ(t,"v2","outerProduct");return oT(1===n.rank&&1===r.rank,function(){return"Error in outerProduct: inputs must be rank 1, but got ranks "+n.rank+" and "+r.rank+"."}),n.as2D(-1,1).matMul(r.as2D(1,-1))}}),WG=RQ({reverse_:function(e,t){var n=SQ(e,"x","reverse");if(0===n.rank)return n.clone();var r=vT(t,n.shape);return gM.runKernelFunc(function(e){return e.reverse(n,r)},{$x:n},function(e){return{$x:function(){return e.reverse(r)}}}).reshapeAs(n)}}),VG=RQ({reverse1d_:function(e){var t=SQ(e,"x","reverse");return oT(1===t.rank,function(){return"Error in reverse1D: x must be rank 1 but got rank "+t.rank+"."}),WG(t,0)}}),GG=RQ({reverse2d_:function(e,t){var n=SQ(e,"x","reverse");return oT(2===n.rank,function(){return"Error in reverse2D: x must be rank 2 but got rank "+n.rank+"."}),WG(n,t)}}),qG=RQ({reverse3d_:function(e,t){var n=SQ(e,"x","reverse");return oT(3===n.rank,function(){return"Error in reverse3D: x must be rank 3 but got rank "+n.rank+"."}),WG(n,t)}}),XG=RQ({reverse4d_:function(e,t){var n=SQ(e,"x","reverse");return oT(4===n.rank,function(){return"Error in reverse4D: x must be rank 4 but got rank "+n.rank+"."}),WG(n,t)}});function YG(e,t,n,r,i,a){var o=SQ(e,"x","maxPool"),s=o,l=!1;3===o.rank&&(l=!0,s=o.as4D(1,o.shape[0],o.shape[1],o.shape[2])),null==r&&(r=[1,1]),oT(4===s.rank,function(){return"Error in maxPool: input must be rank 4 but got rank "+s.rank+"."}),oT(IH(n,r),function(){return"Error in maxPool: Either strides or dilations must be 1. Got strides "+n+" and dilations '"+r+"'"}),null!=a&&oT(dT(i),function(){return"Error in maxPool: pad must be an integer when using, dimRoundingMode "+a+" but got pad "+i+"."});var c=wH(s.shape,t,n,r,i,a);if(1===c.filterWidth&&1===c.filterHeight&&AT(c.inShape,c.outShape))return o.clone();var u=[s],A=gM.runKernelFunc(function(e,t){var n=e.maxPool(s,c);return t([s,n]),n},{x:s},function(e,a){var o=a[0],s=a[1];return{x:function(){return function(e,t,n,r,i,a,o,s){var l=SQ(e,"dy","maxPoolBackprop"),c=SQ(t,"input","maxPoolBackprop"),u=SQ(n,"output","maxPoolBackprop");oT(c.rank===l.rank,function(){return"Rank of input ("+c.rank+") does not match rank of dy ("+l.rank+")"}),null==a&&(a=[1,1]),oT(IH(i,a),function(){return"Error in maxPoolBackProp: Either strides or dilations must be 1. Got strides "+i+" and dilations '"+a+"'"}),oT(4===l.rank,function(){return"Error in maxPoolBackprop: dy must be rank 4 but got rank "+l.rank+"."}),oT(4===c.rank,function(){return"Error in maxPoolBackprop: input must be rank 4 but got rank "+c.rank+"."});var A=wH(c.shape,r,i,a,o,s);return gM.runKernelFunc(function(e){return e.maxPoolBackprop(l,c,u,A)},{$dy:l,$input:c})}(e,o,s,t,n,r,i)}}},"MaxPool",c,u);return l?A.as3D(A.shape[1],A.shape[2],A.shape[3]):A}function JG(e,t,n,r,i,a){var o=SQ(e,"x","avgPool","float32");null==r&&(r=[1,1]),oT(IH(n,r),function(){return"Error in avgPool: Either strides or dilations must be 1. Got strides "+n+" and dilations '"+r+"'"});var s=o,l=!1;3===o.rank&&(l=!0,s=o.as4D(1,o.shape[0],o.shape[1],o.shape[2])),oT(4===s.rank,function(){return"Error in avgPool: x must be rank 4 but got rank "+s.rank+"."}),null!=a&&oT(dT(i),function(){return"Error in avgPool: pad must be an integer when using, dimRoundingMode "+a+" but got pad "+i+"."});var c=wH(s.shape,t,n,r,i,a);if(1===c.filterWidth&&1===c.filterHeight&&AT(c.inShape,c.outShape))return o.clone();var u=gM.runKernelFunc(function(e){return e.avgPool(s,c)},{x:s},function(e){return{x:function(){return function(e,t,n,r,i,a){var o=SQ(e,"dy","avgPoolBackprop"),s=SQ(t,"input","avgPoolBackprop");oT(s.rank===o.rank,function(){return"Rank of input ("+s.rank+") does not match rank of dy ("+o.rank+")"}),null==i&&(i=[1,1]),oT(IH(r,i),function(){return"Error in avgPoolBackprop: Either strides or dilations must be 1. Got strides "+r+" and dilations '"+i+"'"});var l=s,c=o,u=!1;3===s.rank&&(u=!0,l=s.as4D(1,s.shape[0],s.shape[1],s.shape[2]),c=o.as4D(1,o.shape[0],o.shape[1],o.shape[2])),oT(4===c.rank,function(){return"Error in avgPoolBackprop: dy must be rank 4 but got rank "+c.rank+"."}),oT(4===l.rank,function(){return"Error in avgPoolBackprop: input must be rank 4 but got rank "+l.rank+"."});var A=wH(l.shape,n,r,i,a),d=gM.runKernelFunc(function(e){return e.avgPoolBackprop(c,l,A)},{dy4D:c,input4D:l});return u?d.as3D(d.shape[1],d.shape[2],d.shape[3]):d}(e,s,t,n,r,i)}}},"AvgPool",c);return u=u.cast(o.dtype),l?u.as3D(u.shape[1],u.shape[2],u.shape[3]):u}var ZG=RQ({maxPool_:function(e,t,n,r,i){return YG(e,t,n,1,r,i)}}),$G=RQ({avgPool_:function(e,t,n,r,i){return JG(e,t,n,1,r,i)}}),eq=RQ({pool_:function(e,t,n,r,i,a){null==i&&(i=[1,1]),null==a&&(a=1),0===r&&(r="valid");var o=SQ(e,"x","maxPool"),s=o,l=!1;3===o.rank&&(l=!0,s=o.as4D(1,o.shape[0],o.shape[1],o.shape[2])),oT(IH(a,i),function(){return"Error in pool: Either strides or dilations must be 1. Got strides "+a+" and dilations '"+i+"'"});var c,u=wH(s.shape,t,a,i,r),A=[u.dilationHeight,u.dilationWidth];c="same"===r?function(e,t){var n=e.map(function(e,n){return e+(e-1)*(t[n]-1)}).map(function(e){return e-1}),r=n.map(function(e){return Math.floor(e/2)}),i=n.map(function(e,t){return e-r[t]});return n.map(function(e,t){return[r[t],i[t]]})}([u.filterHeight,u.filterWidth],A):[[0,0],[0,0]];var d=1===A[0]&&1===A[1],h=function(e,t,n){var r=n.map(function(e){return e[0]}),i=n.map(function(e){return e[1]}),a=e.concat(r,i),o=t.map(function(e,t){return(e-a[t]%e)%e}),s=i.map(function(e,t){return e+o[t]});return[t.map(function(e,t){return[r[t],s[t]]}),t.map(function(e,t){return[0,o[t]]})]}([u.inHeight,u.inWidth],A,c),f=h[0],p=h[1],g=d?r:"valid",m=d?s:zR(s,A,f),v=("avg"===n?function(){return JG(m,t,a,1,g)}:function(){return YG(m,t,a,1,g)})(),y=d?v:BR(v,A,p);return l?y.as3D(y.shape[1],y.shape[2],y.shape[3]):y}}),tq=RQ({maxPool3d_:function(e,t,n,r,i,a,o){void 0===a&&(a="NDHWC");var s=SQ(e,"x","maxPool3d"),l=s,c=!1;4===s.rank&&(c=!0,l=s.as5D(1,s.shape[0],s.shape[1],s.shape[2],s.shape[3])),null==o&&(o=[1,1,1]),oT(5===l.rank,function(){return"Error in maxPool3d: x must be rank 5 but got rank "+l.rank+"."}),oT("NDHWC"===a,function(){return"Error in maxPool3d: Only NDHWC is currently supported, but got dataFormat of "+a}),oT(IH(n,o),function(){return"Error in maxPool3d: Either strides or dilations must be 1. Got strides "+n+" and dilations '"+o+"'"}),null!=i&&oT(dT(r),function(){return"Error in maxPool3d: pad must be an integer when using, dimRoundingMode "+i+" but got pad "+r+"."});var u=xH(l.shape,t,n,o,r,i,a),A=gM.runKernelFunc(function(e,t){var n=e.maxPool3d(l,u);return t([l,n]),n},{x:l},function(e,a){var s=a[0],l=a[1];return{x:function(){return function(e,t,n,r,i,a,o,s){var l=SQ(e,"dy","maxPool3dBackprop"),c=SQ(t,"input","maxPool3dBackprop"),u=SQ(n,"output","maxPool3dBackprop"),A=l,d=c,h=u,f=!1;4===c.rank&&(f=!0,A=l.as5D(1,l.shape[0],l.shape[1],l.shape[2],l.shape[3]),d=c.as5D(1,c.shape[0],c.shape[1],c.shape[2],c.shape[3]),h=u.as5D(1,u.shape[0],u.shape[1],u.shape[2],u.shape[3])),oT(5===A.rank,function(){return"Error in maxPool3dBackprop: dy must be rank 5 but got rank "+A.rank+"."}),oT(5===d.rank,function(){return"Error in maxPool3dBackprop: input must be rank 5 but got rank "+d.rank+"."}),oT(5===h.rank,function(){return"Error in maxPool3dBackprop: output must be rank 5 but got rank "+h.rank+"."}),null==a&&(a=[1,1,1]),oT(IH(i,a),function(){return"Error in maxPool3dBackprop: Either strides or dilations must be 1. Got strides "+i+" and dilations '"+a+"'"}),null!=s&&oT(dT(o),function(){return"Error in maxPool3dBackprop: pad must be an integer when using, dimRoundingMode "+s+" but got pad "+o+"."});var p=xH(d.shape,r,i,a,o,s),g=gM.runKernelFunc(function(e){return e.maxPool3dBackprop(A,d,h,p)},{dy5D:A,input5D:d});return f?g.as4D(g.shape[1],g.shape[2],g.shape[3],g.shape[4]):g}(e,s,l,t,n,o,r,i)}}});return c?A.as4D(A.shape[1],A.shape[2],A.shape[3],A.shape[4]):A}}),nq=RQ({avgPool3d_:function(e,t,n,r,i,a,o){void 0===a&&(a="NDHWC");var s=SQ(e,"x","avgPool3d","float32"),l=s,c=!1;4===s.rank&&(c=!0,l=s.as5D(1,s.shape[0],s.shape[1],s.shape[2],s.shape[3])),null==o&&(o=[1,1,1]),oT(5===l.rank,function(){return"Error in avgPool3d: x must be rank 5 but got rank "+l.rank+"."}),oT("NDHWC"===a,function(){return"Error in avgPool3d: Only NDHWC is currently supported, but got dataFormat of "+a}),oT(IH(n,o),function(){return"Error in avgPool3d: Either strides or dilations must be 1. Got strides "+n+" and dilations '"+o+"'"}),null!=i&&oT(dT(r),function(){return"Error in avgPool3d: pad must be an integer when using, dimRoundingMode "+i+" but got pad "+r+"."});var u=xH(l.shape,t,n,o,r,i,a),A=gM.runKernelFunc(function(e){return e.avgPool3d(l,u)},{x:l},function(e){return{x:function(){return function(e,t,n,r,i,a,o){var s=SQ(e,"dy","avgPool3dBackprop"),l=SQ(t,"input","avgPool3dBackprop"),c=s,u=l,A=!1;4===l.rank&&(A=!0,c=s.as5D(1,s.shape[0],s.shape[1],s.shape[2],s.shape[3]),u=l.as5D(1,l.shape[0],l.shape[1],l.shape[2],l.shape[3])),oT(5===c.rank,function(){return"Error in avgPool3dBackprop: dy must be rank 5 but got rank "+c.rank+"."}),oT(5===u.rank,function(){return"Error in avgPool3dBackprop: input must be rank 5 but got rank "+u.rank+"."}),null==i&&(i=[1,1,1]),oT(IH(r,i),function(){return"Error in avgPool3dBackprop: Either strides or dilations must be 1. Got strides "+r+" and dilations '"+i+"'"}),null!=o&&oT(dT(a),function(){return"Error in maxPool3dBackprop: pad must be an integer when using, dimRoundingMode "+o+" but got pad "+a+"."});var d=xH(u.shape,n,r,i,a,o),h=gM.runKernelFunc(function(e){return e.avgPool3dBackprop(c,u,d)},{dy5D:c,input5D:u});return A?h.as4D(h.shape[1],h.shape[2],h.shape[3],h.shape[4]):h}(e,l,t,n,o,r,i)}}});return A=A.cast(l.dtype),c?A.as4D(A.shape[1],A.shape[2],A.shape[3],A.shape[4]):A}}),rq=RQ({slice_:function(e,t,n){var r,i,a=SQ(e,"x","slice");if(0===a.rank)throw new Error("Slicing scalar is not possible");(r="number"==typeof t?[t].concat(new Array(a.rank-1).fill(0)):t.length<a.rank?t.concat(new Array(a.rank-t.length).fill(0)):t.slice()).forEach(function(e){oT(-1!==e,function(){return"slice() does not support negative begin indexing."})}),i=(i=null==n?new Array(a.rank).fill(-1):"number"==typeof n?[n].concat(new Array(a.rank-1).fill(-1)):n.length<a.rank?n.concat(new Array(a.rank-n.length).fill(-1)):n).map(function(e,t){return e>=0?e:(oT(-1===e,function(){return"Negative size values should be exactly -1 but got "+e+" for the slice() size at index "+t+"."}),a.shape[t]-r[t])}),aH(a,r,i);var o=a.shape,s={begin:r,size:i};return gM.runKernelFunc(function(e){return e.slice(a,r,i)},{x:a},function(e){for(var t=[],n=0;n<e.rank;n++)t.push([r[n],o[n]-r[n]-i[n]]);return{x:function(){return e.pad(t)}}},"Slice",s)}}),iq=RQ({slice1d_:function(e,t,n){var r=SQ(e,"x","slice1d");return oT(1===r.rank,function(){return"slice1d expects a rank-1 tensor, but got a rank-"+r.rank+" tensor"}),rq(r,[t],[n])}}),aq=RQ({slice2d_:function(e,t,n){var r=SQ(e,"x","slice2d");return oT(2===r.rank,function(){return"slice2d expects a rank-2 tensor, but got a rank-"+r.rank+" tensor"}),rq(r,t,n)}}),oq=RQ({slice3d_:function(e,t,n){var r=SQ(e,"x","slice3d");return oT(3===r.rank,function(){return"slice3d expects a rank-3 tensor, but got a rank-"+r.rank+" tensor"}),rq(r,t,n)}}),sq=RQ({slice4d_:function(e,t,n){var r=SQ(e,"x","slice4d");return oT(4===r.rank,function(){return"slice4d expects a rank-4 tensor, but got a rank-"+r.rank+" tensor"}),rq(r,t,n)}});function lq(e,t,n,r,i){return t.rank<n.rank&&(t=t.reshape(OQ(t.shape,r))),e.rank<n.rank&&(e=e.reshape(OQ(e.shape,r))),{x:function(){var r=e.mul(n.equal(t).cast(e.dtype));return null==i?r:r.transpose(i)}}}var cq=RQ({all_:function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=!1);var r=SQ(e,"x","all","bool"),i=vT(t,r.shape),a=i,o=LQ(a,r.rank);null!=o&&(r=r.transpose(o),a=TQ(a.length,r.rank));var s=gM.runKernelFunc(function(e){return e.all(r,a)},{$x:r});if(n){var l=OQ(s.shape,i);return s.reshape(l)}return s}}),uq=RQ({any_:function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=!1);var r=SQ(e,"x","any","bool"),i=vT(t,r.shape),a=i,o=LQ(a,r.rank);null!=o&&(r=r.transpose(o),a=TQ(a.length,r.rank));var s=gM.runKernelFunc(function(e){return e.any(r,a)},{$x:r});if(n){var l=OQ(s.shape,i);return s.reshape(l)}return s}}),Aq=RQ({argMax_:function(e,t){void 0===t&&(t=0);var n=SQ(e,"x","argMax");null==t&&(t=0);var r=vT(t,n.shape),i=LQ(r,n.rank);null!=i&&(n=n.transpose(i),r=TQ(r.length,n.rank));var a={axis:r[0]},o=[n];return gM.runKernelFunc(function(e,t){var i=e.argMax(n,r[0]);return t([n]),i},{x:n},function(e,t){var n=t[0];return{x:function(){return rR(n)}}},"ArgMax",a,o)}}),dq=RQ({argMin_:function(e,t){void 0===t&&(t=0);var n=SQ(e,"x","argMin");null==t&&(t=0);var r=vT(t,n.shape),i=LQ(r,n.rank);return null!=i&&(n=n.transpose(i),r=TQ(r.length,n.rank)),gM.runKernelFunc(function(e,t){var i=e.argMin(n,r[0]);return t([n]),i},{$x:n},function(e,t){var n=t[0];return{$x:function(){return rR(n)}}})}}),hq=RQ({logSumExp_:function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=!1);var r=SQ(e,"x","logSumExp"),i=vT(t,r.shape),a=r.max(i,!0),o=r.sub(a).exp().sum(i).log(),s=a.reshape(o.shape).add(o);if(n){var l=OQ(s.shape,i);return s.reshape(l)}return s}}),fq=RQ({max_:function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=!1);var r=SQ(e,"x","max"),i=r,a=vT(t,r.shape),o=a,s=LQ(o,r.rank);null!=s&&(r=r.transpose(s),o=TQ(o.length,r.rank));var l=[r],c=gM.runKernelFunc(function(e,t){var n=e.max(r,o);return t([i,n]),n},{x:r},function(e,t){return lq(e,t[1],t[0],a,s)},"Max",{axes:o},l,[!0]);if(n){var u=OQ(c.shape,a);c=c.reshape(u)}return c}}),pq=RQ({mean_:function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=!1);var r=SQ(e,"x","mean"),i=vT(t,r.shape),a=uT(UQ(r.shape,i)[1]);return dH(function(e){var r=GQ(a);return{value:(r.dtype===e.dtype?e:e.cast(r.dtype)).div(r).sum(t,n),gradFunc:function(t){var n=e.shape.slice();return i.forEach(function(e){n[e]=1}),t.reshape(n).mul(ZQ(e.shape,"float32")).div(a)}}})(r)}}),gq=RQ({min_:function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=!1);var r=SQ(e,"x","min"),i=r,a=vT(t,r.shape),o=a,s=LQ(o,r.rank);null!=s&&(r=r.transpose(s),o=TQ(o.length,r.rank));var l=[r],c=gM.runKernelFunc(function(e,t){var n=e.min(r,o);return t([i,n]),n},{x:r},function(e,t){return lq(e,t[1],t[0],a,s)},"Min",{axes:o},l,[!0]);if(n){var u=OQ(c.shape,a);c=c.reshape(u)}return c}}),mq=RQ({moments_:function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=!1);var r=vT(t,(e=SQ(e,"x","moments")).shape),i=e.mean(r,n),a=i.shape;n||(a=OQ(i.shape,r));var o=e.toFloat().sub(i.reshape(a)).square();return{mean:i,variance:o.mean(r,n)}}}),vq=RQ({sum_:function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=!1);var r=SQ(e,"x","sum");"bool"===r.dtype&&(r=r.toInt());var i=vT(t,r.shape);return dH(function(e){var t=LQ(i,e.rank),r=i,a=e;null!=t&&(a=e.transpose(t),r=TQ(r.length,e.rank));var o=function(t){var n=e.shape.slice();return i.forEach(function(e){n[e]=1}),t.reshape(n).mul(ZQ(e.shape,"float32"))},s={axes:r},l=gM.runKernelFunc(function(e){return e.sum(a,r)},{x:a},function(e){return{x:function(){return o(e)}}},"Sum",s);if(n){var c=OQ(l.shape,i);l=l.reshape(c)}return{value:l,gradFunc:o}})(r)}}),yq=RQ({prod_:function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=!1);var r=SQ(e,"x","prod");"bool"===r.dtype&&(r=r.toInt());var i=vT(t,r.shape),a=LQ(i,r.rank),o=i,s=r;null!=a&&(s=r.transpose(a),o=TQ(o.length,r.rank));var l=gM.runKernelFunc(function(e){return e.prod(s,o)},{permutedX:s});if(n){var c=OQ(l.shape,i);l=l.reshape(c)}return l}}),bq=RQ({elu_:function(e){var t=SQ(e,"x","elu");return gM.runKernelFunc(function(e,n){var r=e.elu(t);return n([r]),r},{$x:t},function(e,t){var n=t[0];return{$x:function(){return gM.runKernelFunc(function(t){return t.eluDer(e,n)},{dy:e,y:n})}}})}}),wq=RQ({leakyRelu_:function(e,t){void 0===t&&(t=.2);var n=SQ(e,"x","leakyRelu");return $V(GQ(t).mul(n),n)}}),xq=RQ({prelu_:function(e,t){var n=SQ(e,"x","prelu"),r=SQ(t,"alpha","prelu");return gM.runKernelFunc(function(e,t){var i=e.prelu(n,r);return t([n,r]),i},{x:n,alpha:r},function(e,t){var n=t[0],r=t[1],i=n.greater(0);return{x:function(){return zV(i,e,e.mul(r))},alpha:function(){var t=zV(i,rR(e),e.mul(n)),a=yH(r.shape,e.shape);return a.length>0&&(t=t.sum(a)),t.reshape(r.shape)}}},"Prelu")}}),Bq=RQ({relu_:function(e){var t=SQ(e,"x","relu");return"bool"===t.dtype?t.toInt():gM.runKernelFunc(function(e,n){var r=e.relu(t);return n([t]),r},{x:t},function(e,t){var n=t[0];return{x:function(){return e.mulStrict(n.step().toFloat())}}},"Relu")}}),Cq=RQ({relu6_:function(e){var t=SQ(e,"x","relu6");return"bool"===t.dtype?t.toInt():gM.runKernelFunc(function(e,n){var r=e.relu6(t);return n([t]),r},{x:t},function(e,t){var n=t[0],r=n.lessEqual(6).mul(n.step());return{x:function(){return e.mulStrict(r.toFloat())}}},"Relu6")}}),Nq=RQ({selu_:function(e){var t=SQ(e,"x","selu");return gM.runKernelFunc(function(e,n){var r=e.selu(t);return n([t]),r},{$x:t},function(e,t){var n=t[0];return{$x:function(){var t=n.greater(GQ(0)),r=GQ(AW),i=GQ(dW),a=e.mul(i),o=e.mul(r).mul(n.toFloat().exp());return zV(t,a,o)}}})}}),kq=RQ({transpose_:function(e,t){var n=SQ(e,"x","transpose");if(null==t&&(t=n.shape.map(function(e,t){return t}).reverse()),oT(n.rank===t.length,function(){return"Error in transpose: rank of input "+n.rank+" must match length of perm "+t+"."}),t.forEach(function(e){oT(e>=0&&e<n.rank,function(){return"All entries in 'perm' must be between 0 and "+(n.rank-1)+" but got "+t})}),n.rank<=1)return n.clone();var r={perm:t};return gM.runKernelFunc(function(e){return e.transpose(n,t)},{x:n},function(e){var n=DQ(t);return{x:function(){return e.transpose(n)}}},"Transpose",r)}}),_q=RQ({localResponseNormalization_:function(e,t,n,r,i){void 0===t&&(t=5),void 0===n&&(n=1),void 0===r&&(r=1),void 0===i&&(i=.5);var a=SQ(e,"x","localResponseNormalization");oT(4===a.rank||3===a.rank,function(){return"Error in localResponseNormalization: x must be rank 3 or 4 but got\n               rank "+a.rank+"."}),oT(dT(t),function(){return"Error in localResponseNormalization: depthRadius must be an integer but got depthRadius "+t+"."});var o=a,s=!1;3===a.rank&&(s=!0,o=a.as4D(1,a.shape[0],a.shape[1],a.shape[2]));var l=gM.runKernelFunc(function(e,a){var s=e.localResponseNormalization4D(o,t,n,r,i);return a([o,s]),s},{x4D:o},function(e,a){var o=a[0],s=a[1];return{x4D:function(){return gM.runKernelFunc(function(a){return a.LRNGrad(e,o,s,t,n,r,i)},{})}}});return s?l.as3D(l.shape[1],l.shape[2],l.shape[3]):l}}),Eq=RQ({norm_:function(e,t,n,r){void 0===t&&(t="euclidean"),void 0===n&&(n=null),void 0===r&&(r=!1);var i=function e(t,n,r){if(void 0===r&&(r=null),0===t.rank)return t.abs();if(1!==t.rank&&null===r)return e(t.reshape([-1]),n,r);if(1===t.rank||"number"==typeof r||Array.isArray(r)&&1===r.length){if(1===n)return t.abs().sum(r);if(n===1/0)return t.abs().max(r);if(n===-1/0)return t.abs().min(r);if("euclidean"===n||2===n)return t.abs().pow(GQ(2,"int32")).sum(r).sqrt();throw new Error("Error in norm: invalid ord value: "+n)}if(Array.isArray(r)&&2===r.length){if(1===n)return t.abs().sum(r[0]).max(r[1]-1);if(n===1/0)return t.abs().sum(r[1]).max(r[0]);if(n===-1/0)return t.abs().sum(r[1]).min(r[0]);if("fro"===n||"euclidean"===n)return t.square().sum(r).sqrt();throw new Error("Error in norm: invalid ord value: "+n)}throw new Error("Error in norm: invalid axis: "+r)}(e=SQ(e,"x","norm"),t,n),a=i.shape;if(r){var o=vT(n,e.shape);a=OQ(i.shape,o)}return i.reshape(a)}}),Sq=RQ({basicLSTMCell_:function(e,t,n,r,i,a){var o=SQ(e,"forgetBias","basicLSTMCell"),s=SQ(t,"lstmKernel","basicLSTMCell"),l=SQ(n,"lstmBias","basicLSTMCell"),c=SQ(r,"data","basicLSTMCell"),u=SQ(i,"c","basicLSTMCell"),A=SQ(a,"h","basicLSTMCell"),d=c.concat(A,1).matMul(s).add(l),h=d.shape[0],f=d.shape[1]/4,p=[h,f],g=d.slice([0,0],p),m=d.slice([0,f],p),v=d.slice([0,2*f],p),y=d.slice([0,3*f],p),b=g.sigmoid().mulStrict(m.tanh()).addStrict(u.mulStrict(o.add(v).sigmoid())),w=b.tanh().mulStrict(y.sigmoid());return[b,w]}}),Fq=RQ({multiRNNCell_:function(e,t,n,r){for(var i=SQ(t,"data","multiRNNCell"),a=FQ(n,"c","multiRNNCell"),o=FQ(r,"h","multiRNNCell"),s=i,l=[],c=0;c<e.length;c++){var u=e[c](s,a[c],o[c]);l.push(u[0]),l.push(u[1]),s=u[1]}var A=[],d=[];for(c=0;c<l.length;c+=2)A.push(l[c]),d.push(l[c+1]);return[A,d]}}),Iq=RQ({movingAverage_:function(e,t,n,r,i){void 0===i&&(i=!0);var a=SQ(e,"v","movingAverage"),o=SQ(t,"x","movingAverage"),s=SQ(n,"decay","movingAverage");AM(a,o),oT(AT(a.shape,o.shape),function(){return"Shape mismatch in v and x"});var l=GQ(1),c=l.sub(s),u=o.sub(a).mul(c);if(i){oT(null!=r,function(){return"When using zeroDebias: true, step is required."});var A=SQ(r,"step","movingAverage");u=u.div(l.sub(sG(s,A)))}return a.add(u)}}),jq=RQ({stridedSlice_:function(e,t,n,r,i,a,o,s,l){if(void 0===i&&(i=0),void 0===a&&(a=0),void 0===o&&(o=0),void 0===s&&(s=0),void 0===l&&(l=0),null==r&&(r=new Array(t.length)),0!==o)throw new Error("ellipsis mask is not yet supported");var c=SQ(e,"x","stridedSlice"),u=oH(s),A=c.shape.slice();u.forEach(function(e){t[e]=0,n[e]=1,A.splice(e,0,1)}),c=c.reshape(A);for(var d=0;d<c.rank;d++)t[d]=lH(i,t,r,c.shape,d),n[d]=cH(a,n,r,c.shape,d),r[d]=r[d]||1;var h=oH(l);h.forEach(function(e){n[e]=t[e]+1,r[e]=1});var f=sH(t,n,r),p=f.filter(function(e,t){return-1===h.indexOf(t)});return r.every(function(e){return 1===e})?rq(c,t,f).reshape(p):gM.runKernelFunc(function(e){return e.stridedSlice(c,t,n,r)},{$x:c}).reshape(p)}}),Uq=RQ({topk_:function(e,t,n){void 0===t&&(t=1),void 0===n&&(n=!0);var r=SQ(e,"x","topk");if(0===r.rank)throw new Error("topk() expects the input to be of rank 1 or higher");var i=r.shape[r.shape.length-1];if(t>i)throw new Error("'k' passed to topk() must be <= the last dimension ("+i+") but got "+t);var a=gM.runKernelFunc(function(e){return e.topk(r,t,n)},{$x:r});return{values:a[0],indices:a[1]}}}),Oq=RQ({scatterND_:function(e,t,n){var r=SQ(e,"indices","scatterND","int32"),i=SQ(t,"updates","scatterND");return rH(i,r,n),gM.runKernelFunc(function(e){return e.scatterND(r,i,n)},{indices:r,updates:i},null,"ScatterNd",{shape:n})}}),Pq=RQ({fft_:function(e){oT("complex64"===e.dtype,function(){return"The dtype for tf.spectral.fft() must be complex64 but got "+e.dtype+"."});var t=e.shape[e.shape.length-1],n=e.size/t,r=e.as2D(n,t);return gM.runKernelFunc(function(e){return e.fft(r)},{input:e}).reshape(e.shape)}}),Lq=RQ({ifft_:function(e){oT("complex64"===e.dtype,function(){return"The dtype for tf.spectral.ifft() must be complex64 but got "+e.dtype+"."});var t=e.shape[e.shape.length-1],n=e.size/t,r=e.as2D(n,t);return gM.runKernelFunc(function(e){return e.ifft(r)},{input:e}).reshape(e.shape)}}),Dq=RQ({rfft_:function(e,t){oT("float32"===e.dtype,function(){return"The dtype for rfft() must be real value but got "+e.dtype});var n,r=e.shape[e.shape.length-1],i=e.size/r;if(null!=t&&t<r){var a=e.shape.map(function(e){return 0}),o=e.shape.map(function(e){return e});o[e.shape.length-1]=t,n=e.slice(a,o),r=t}else if(null!=t&&t>r){var s=e.shape.map(function(e){return e});s[e.shape.length-1]=t-r,n=e.concat($Q(s),e.shape.length-1),r=t}else n=e;var l=n.zerosLike(),c=HQ(n,l).as2D(i,r),u=Pq(c),A=Math.floor(r/2)+1,d=zQ(u),h=KQ(u),f=d.split([A,r-A],d.shape.length-1),p=h.split([A,r-A],h.shape.length-1),g=n.shape.slice();return g[n.shape.length-1]=A,HQ(f[0],p[0]).reshape(g)}}),Tq=RQ({irfft_:function(e){var t=e.shape[e.shape.length-1],n=e.size/t;if(t<=2){var r=e.as2D(n,t),i=Lq(r);return zQ(i)}var a=[n,2*(t-1)],o=zQ(e).as2D(n,t),s=KQ(e).as2D(n,t),l=o.slice([0,1],[n,t-2]).reverse(1),c=s.slice([0,1],[n,t-2]).reverse(1).mul(GQ(-1)),u=o.concat(l,1),A=s.concat(c,1);return r=HQ(u,A).as2D(a[0],a[1]),i=Lq(r),zQ(i)}}),Mq=Object.freeze({fft:Pq,ifft:Lq,rfft:Dq,irfft:Tq}),Qq=RQ({sparseToDense_:function(e,t,n,r){void 0===r&&(r=0);var i=SQ(e,"sparseIndices","sparseToDense","int32"),a=SQ(t,"sparseValues","sparseToDense"),o=SQ(r,"defaultValue","sparseToDense",a.dtype);return function(e,t,n,r){if("int32"!==e.dtype)throw new Error("tf.sparseToDense() expects the indices to be int32 type, but the dtype was "+e.dtype+".");if(e.rank>2)throw new Error("sparseIndices should be a scalar, vector, or matrix, but got shape "+e.shape+".");var i=e.rank>0?e.shape[0]:1,a=e.rank>1?e.shape[1]:1;if(n.length!==a)throw new Error("outputShape has incorrect number of elements:, "+n.length+", should be: "+a+".");var o=t.size;if(0!==t.rank&&(1!==t.rank||o!==i))throw new Error("sparseValues has incorrect shape "+t.shape+", should be [] or ["+i+"]");if(t.dtype!==r.dtype)throw new Error("sparseValues.dtype must match defaultValues.dtype")}(i,a,n,o),gM.runKernelFunc(function(e){return e.sparseToDense(i,a,n,o)},{$sparseIndices:i,$sparseValues:a,$defaultValue:o})}}),Rq=RQ({gatherND_:function(e,t){var n=SQ(t,"indices","gatherND","int32"),r=SQ(e,"x","gatherND");return gM.runKernelFunc(function(e){return e.gatherND(r,n)},{x:r,indices:n},null,"GatherNd")}}),Hq=RQ({diag_:function(e){var t=SQ(e,"x","diag").flatten(),n=e.shape.concat(e.shape);return gM.runKernelFunc(function(e){return e.diag(t)},{$x:t}).reshape(n)}}),zq=RQ({dropout_:function(e,t,n,r){var i=SQ(e,"x","dropout");if(oT("float32"===i.dtype,function(){return"x has to be a floating point tensor since it's going to be scaled, but got a "+i.dtype+" tensor instead."}),oT(t>=0&&t<1,function(){return"rate must be a float in the range [0, 1), but got "+t+"."}),0===t)return e instanceof eM?i.clone():i;var a=function(e,t){if(null==t)return e.shape.slice();if(AT(e.shape,t))return t;if(e.shape.length===t.length){for(var n=[],r=0;r<e.shape.length;r++)null==t[r]&&null!=e.shape[r]?n.push(e.shape[r]):n.push(t[r]);return n}return t}(i,n),o=1-t,s=RR(a,0,1,"float32",r).add(o).floor().div(o);return i.mul(s)}});function Kq(e,t,n){for(var r=1-e%2,i=new Float32Array(e),a=0;a<e;++a){var o=2*Math.PI*a/(e+r-1);i[a]=t-n*Math.cos(o)}return qQ(i,"float32")}var Wq,Vq=RQ({hannWindow_:function(e){return Kq(e,.5,.5)}}),Gq=RQ({hammingWindow_:function(e){return Kq(e,.54,.46)}}),qq=RQ({frame_:function(e,t,n,r,i){void 0===r&&(r=!1),void 0===i&&(i=0);for(var a=0,o=[];a+t<=e.size;)o.push(rq(e,a,t)),a+=n;if(r)for(;a<e.size;){var s=a+t-e.size,l=iR([rq(e,a,t-s),eR([s],i)]);o.push(l),a+=n}return 0===o.length?XQ([],[0,t]):iR(o).as2D(o.length,t)}}),Xq=RQ({stft_:function(e,t,n,r,i){var a;void 0===i&&(i=Vq),null==r&&(a=t,r=Math.floor(Math.pow(2,Math.ceil(Math.log(a)/Math.log(2)))));for(var o=qq(e,t,n),s=aG(o,i(t)),l=[],c=0;c<o.shape[0];c++)l.push(Dq(s.slice([c,0],[1,t]),r));return iR(l)}}),Yq=Object.freeze({hannWindow:Vq,hammingWindow:Gq,frame:qq,stft:Xq});!function(e){e[e.NONE=0]="NONE",e[e.MEAN=1]="MEAN",e[e.SUM=2]="SUM",e[e.SUM_BY_NONZERO_WEIGHTS=3]="SUM_BY_NONZERO_WEIGHTS"}(Wq||(Wq={}));var Jq=RQ({absoluteDifference_:function(e,t,n,r){void 0===r&&(r=Wq.SUM_BY_NONZERO_WEIGHTS);var i=SQ(e,"labels","absoluteDifference"),a=SQ(t,"predictions","absoluteDifference"),o=null;null!=n&&(o=SQ(n,"weights","absoluteDifference")),sT(i.shape,a.shape,"Error in absoluteDifference: ");var s=i.sub(a).abs();return Zq(s,o,r)}}),Zq=RQ({computeWeightedLoss_:function(e,t,n){void 0===n&&(n=Wq.SUM_BY_NONZERO_WEIGHTS);var r=SQ(e,"losses","computeWeightedLoss"),i=null;null!=t&&(i=SQ(t,"weights","computeWeightedLoss"));var a=null==i?r:r.mul(i);if(n===Wq.NONE)return a;if(n===Wq.SUM)return a.sum();if(n===Wq.MEAN){if(null==i)return a.mean();var o=r.size/i.size,s=a.sum().div(i.sum());return o>1?s.div(GQ(o)):s}if(n===Wq.SUM_BY_NONZERO_WEIGHTS){if(null==i)return a.sum().div(GQ(r.size));var l=i.mul(ZQ(r.shape)).notEqual(GQ(0)).sum().toFloat();return a.sum().div(l)}throw Error("Unknown reduction: "+n)}}),$q=RQ({cosineDistance_:function(e,t,n,r,i){void 0===i&&(i=Wq.SUM_BY_NONZERO_WEIGHTS);var a=SQ(e,"labels","cosineDistance"),o=SQ(t,"predictions","cosineDistance"),s=null;null!=r&&(s=SQ(r,"weights","cosineDistance")),sT(a.shape,o.shape,"Error in cosineDistance: ");var l=GQ(1).sub(a.mul(o).sum(n,!0));return Zq(l,s,i)}}),eX=RQ({hingeLoss_:function(e,t,n,r){void 0===r&&(r=Wq.SUM_BY_NONZERO_WEIGHTS);var i=SQ(e,"labels","hingeLoss"),a=SQ(t,"predictions","hingeLoss"),o=null;null!=n&&(o=SQ(n,"weights","hingeLoss")),sT(i.shape,a.shape,"Error in hingeLoss: ");var s=GQ(1);i=GQ(2).mul(i).sub(s);var l=s.sub(i.mul(a)).relu();return Zq(l,o,r)}}),tX=RQ({huberLoss_:function(e,t,n,r,i){void 0===r&&(r=1),void 0===i&&(i=Wq.SUM_BY_NONZERO_WEIGHTS);var a=SQ(e,"labels","huberLoss"),o=SQ(t,"predictions","huberLoss"),s=null;null!=n&&(s=SQ(n,"weights","huberLoss")),sT(a.shape,o.shape,"Error in huberLoss: ");var l=GQ(r),c=o.sub(a).abs(),u=tG(c,l),A=c.sub(u),d=GQ(.5).mul(u.square()).add(l.mul(A));return Zq(d,s,i)}}),nX=RQ({logLoss_:function(e,t,n,r,i){void 0===r&&(r=1e-7),void 0===i&&(i=Wq.SUM_BY_NONZERO_WEIGHTS);var a=SQ(e,"labels","logLoss"),o=SQ(t,"predictions","logLoss"),s=null;null!=n&&(s=SQ(n,"weights","logLoss")),sT(a.shape,o.shape,"Error in logLoss: ");var l=GQ(1),c=GQ(r),u=a.mul(o.add(c).log()).neg().sub(l.sub(a).mul(l.sub(o).add(c).log()));return Zq(u,s,i)}}),rX=RQ({meanSquaredError_:function(e,t,n,r){void 0===r&&(r=Wq.SUM_BY_NONZERO_WEIGHTS);var i=SQ(e,"labels","meanSquaredError"),a=SQ(t,"predictions","meanSquaredError"),o=null;null!=n&&(o=SQ(n,"weights","meanSquaredError")),sT(i.shape,a.shape,"Error in meanSquaredError: ");var s=i.squaredDifference(a);return Zq(s,o,r)}}),iX=RQ({sigmoidCrossEntropy_:function(e,t,n,r,i){void 0===r&&(r=0),void 0===i&&(i=Wq.SUM_BY_NONZERO_WEIGHTS);var a=SQ(e,"multiClassLabels","sigmoidCrossEntropy"),o=SQ(t,"logits","sigmoidCrossEntropy"),s=null;if(null!=n&&(s=SQ(n,"weights","sigmoidCrossEntropy")),sT(a.shape,o.shape,"Error in sigmoidCrossEntropy: "),r>0){var l=GQ(r),c=GQ(1),u=GQ(.5);a=a.mul(c.sub(l)).add(u.mul(l))}var A=function(e,t){var n=SQ(e,"labels","sigmoidCrossEntropyWithLogits"),r=SQ(t,"logits","sigmoidCrossEntropyWithLogits");sT(n.shape,r.shape,"Error in sigmoidCrossEntropyWithLogits: ");var i=r.relu(),a=r.mul(n),o=r.abs().neg().exp().log1p();return i.sub(a).add(o)}(a,o);return Zq(A,s,i)}}),aX=RQ({softmaxCrossEntropy_:function(e,t,n,r,i){void 0===r&&(r=0),void 0===i&&(i=Wq.SUM_BY_NONZERO_WEIGHTS);var a=SQ(e,"onehotLabels","softmaxCrossEntropy"),o=SQ(t,"logits","softmaxCrossEntropy"),s=null;if(null!=n&&(s=SQ(n,"weights","softmaxCrossEntropy")),sT(a.shape,o.shape,"Error in softmaxCrossEntropy: "),r>0){var l=GQ(r),c=GQ(1),u=GQ(a.shape[1]);a=a.mul(c.sub(l)).add(l.div(u))}var A=function(e,t,n){if(void 0===n&&(n=-1),-1===n&&(n=t.rank-1),n!==t.rank-1)throw Error("Softmax cross entropy along a non-last dimension is not yet supported. Labels / logits was rank "+t.rank+" and dim was "+n);return dH(function(e,t,r){var i=t.logSumExp([n],!0),a=t.toFloat().sub(i);return r([e,a]),{value:a.mul(e).neg().sum([n]),gradFunc:function(e,t){var r=t[0],i=t[1],a=OQ(e.shape,[n]);return[e.reshape(a).mul(r.toFloat().sub(i.exp())),e.reshape(a).mul(i.exp().sub(r.toFloat()))]}}})(e,t)}(a,o);return Zq(A,s,i)}}),oX=Object.freeze({get Reduction(){return Wq},absoluteDifference:Jq,computeWeightedLoss:Zq,cosineDistance:$q,hingeLoss:eX,huberLoss:tX,logLoss:nX,meanSquaredError:rX,sigmoidCrossEntropy:iX,softmaxCrossEntropy:aX});function sX(e,t){return void 0===t&&(t=!1),gM.tidy(function(){if(2!==e.shape.length)throw new Error("qr2d() requires a 2D Tensor, but got a "+e.shape.length+"D Tensor.");for(var n=e.shape[0],r=e.shape[1],i=FR(n),a=e.clone(),o=XQ([[1]],[1,1]),s=o.clone(),l=n>=r?r:n,c=function(e){var t,l=a,c=s,u=i;t=gM.tidy(function(){var t=a.slice([e,e],[n-e,1]),l=t.norm(),c=a.slice([e,e],[1,1]),u=XQ([[-1]]).where(c.greater(0),XQ([[1]])),A=c.sub(u.mul(l)),d=t.div(A);s=1===d.shape[0]?o.clone():o.concat(d.slice([1,0],[d.shape[0]-1,d.shape[1]]),0);var h=u.matMul(A).div(l).neg(),f=a.slice([e,0],[n-e,r]),p=h.mul(s);if(0===e)a=f.sub(p.matMul(s.transpose().matMul(f)));else{var g=f.sub(p.matMul(s.transpose().matMul(f)));a=a.slice([0,0],[e,r]).concat(g,0)}var m=i.slice([0,e],[n,i.shape[1]-e]);if(0===e)i=m.sub(m.matMul(s).matMul(p.transpose()));else{var v=m.sub(m.matMul(s).matMul(p.transpose()));i=i.slice([0,0],[n,e]).concat(v,1)}return[s,a,i]}),s=t[0],a=t[1],i=t[2],BQ([l,c,u])},u=0;u<l;++u)c(u);return!t&&n>r&&(i=i.slice([0,0],[n,r]),a=a.slice([0,0],[r,r])),[i,a]})}var lX=RQ({bandPart_:function(e,t,n){if(t%1!=0)throw new Error("bandPart(): numLower must be an integer, got "+t+".");if(n%1!=0)throw new Error("bandPart(): numUpper must be an integer, got "+n+".");var r=SQ(e,"a","bandPart");if(r.rank<2)throw new Error("bandPart(): Rank must be at least 2, got "+r.rank+".");var i=r.shape,a=r.shape.slice(-2),o=a[0],s=a[1];if(!(t<=o))throw new Error("bandPart(): numLower ("+t+") must not be greater than the number of rows ("+o+").");if(!(n<=s))throw new Error("bandPart(): numUpper ("+n+") must not be greater than the number of columns ("+s+").");t<0&&(t=o),n<0&&(n=s);var l=tR(0,o,1,"int32").reshape([-1,1]),c=tR(0,s,1,"int32"),u=uG(l,c),A=MV(u.lessEqual(GQ(+t,"int32")),u.greaterEqual(GQ(-n,"int32"))),d=$Q([o,s],r.dtype);return WR(qR(r.reshape([-1,o,s])).map(function(e){return zV(A,e,d)})).reshape(i)}}),cX=RQ({gramSchmidt_:function(e){var t;if(Array.isArray(e)){t=!1,oT(null!=e&&e.length>0,function(){return"Gram-Schmidt process: input must not be null, undefined, or empty"});for(var n=e[0].shape[0],r=function(t){oT(e[t].shape[0]===n,function(){return"Gram-Schmidt: Non-unique lengths found in the input vectors: ("+e[t].shape[0]+" vs. "+n+")"})},i=1;i<e.length;++i)r(i)}else t=!0,e=cR(e,e.shape[0],0).map(function(e){return KR(e,[0])});oT(e.length<=e[0].shape[0],function(){return"Gram-Schmidt: Number of vectors ("+e.length+") exceeds number of dimensions ("+e[0].shape[0]+")."});var a=[],o=e,s=function(e){a.push(gM.tidy(function(){var t=o[e];if(e>0)for(var n=0;n<e;++n){var r=vq(a[n].mulStrict(t)).mul(a[n]);t=t.sub(r)}return t.div(Eq(t,"euclidean"))}))};for(i=0;i<e.length;++i)s(i);return t?WR(a,0):a}}),uX=RQ({qr_:function(e,t){if(void 0===t&&(t=!1),e.rank<2)throw new Error("qr() requires input tensor to have a rank >= 2, but got rank "+e.rank);if(2===e.rank)return sX(e,t);var n=e.shape.slice(0,e.shape.length-2).reduce(function(e,t){return e*t}),r=qR(e.reshape([n,e.shape[e.shape.length-2],e.shape[e.shape.length-1]]),0),i=[],a=[];return r.forEach(function(e){var n=sX(e,t),r=n[0],o=n[1];i.push(r),a.push(o)}),[WR(i,0).reshape(e.shape),WR(a,0).reshape(e.shape)]}}),AX=Object.freeze({bandPart:lX,gramSchmidt:cX,qr:uX});function dX(e,t,n,r,i,a){null==r&&(r=.5),null==i&&(i=Number.NEGATIVE_INFINITY),null==a&&(a=0);var o=e.shape[0];return n=Math.min(n,o),oT(0<=r&&r<=1,function(){return"iouThreshold must be in [0, 1], but was '"+r+"'"}),oT(2===e.rank,function(){return"boxes must be a 2D tensor, but was of rank '"+e.rank+"'"}),oT(4===e.shape[1],function(){return"boxes must have 4 columns, but 2nd dimension was "+e.shape[1]}),oT(1===t.rank,function(){return"scores must be a 1D tensor"}),oT(t.shape[0]===o,function(){return"scores has incompatible shape with boxes. Expected "+o+", but was "+t.shape[0]}),oT(0<=a&&a<=1,function(){return"softNmsSigma must be in [0, 1], but was '"+a+"'"}),{maxOutputSize:n,iouThreshold:r,scoreThreshold:i,softNmsSigma:a}}var hX=RQ({resizeBilinear_:function(e,t,n){void 0===n&&(n=!1);var r=SQ(e,"images","resizeBilinear");oT(3===r.rank||4===r.rank,function(){return"Error in resizeBilinear: x must be rank 3 or 4, but got rank "+r.rank+"."}),oT(2===t.length,function(){return"Error in resizeBilinear: new shape must 2D, but got shape "+t+"."});var i=r,a=!1;3===r.rank&&(a=!0,i=r.as4D(1,r.shape[0],r.shape[1],r.shape[2]));var o=t[0],s=t[1],l=gM.runKernelFunc(function(e,t){return t([i]),e.resizeBilinear(i,o,s,n)},{x:i},function(e,t){return{x:function(){return gM.runKernelFunc(function(r){return r.resizeBilinearBackprop(e,t[0],n)},{})}}},"ResizeBilinear",{alignCorners:n,newHeight:o,newWidth:s});return a?l.as3D(l.shape[1],l.shape[2],l.shape[3]):l}}),fX=RQ({resizeNearestNeighbor_:function(e,t,n){void 0===n&&(n=!1);var r=SQ(e,"images","resizeNearestNeighbor");oT(3===r.rank||4===r.rank,function(){return"Error in resizeNearestNeighbor: x must be rank 3 or 4, but got rank "+r.rank+"."}),oT(2===t.length,function(){return"Error in resizeNearestNeighbor: new shape must 2D, but got shape "+t+"."}),oT("float32"===r.dtype||"int32"===r.dtype,function(){return"`images` must have `int32` or `float32` as dtype"});var i=r,a=!1;3===r.rank&&(a=!0,i=r.as4D(1,r.shape[0],r.shape[1],r.shape[2]));var o=t[0],s=t[1],l=gM.runKernelFunc(function(e,t){return t([i]),e.resizeNearestNeighbor(i,o,s,n)},{batchImages:i},function(e,t){return{batchImages:function(){return gM.runKernelFunc(function(r){return r.resizeNearestNeighborBackprop(e,t[0],n)},{})}}});return a?l.as3D(l.shape[1],l.shape[2],l.shape[3]):l}}),pX=RQ({nonMaxSuppression_:function(e,t,n,r,i){void 0===r&&(r=.5),void 0===i&&(i=Number.NEGATIVE_INFINITY);var a=SQ(e,"boxes","nonMaxSuppression"),o=SQ(t,"scores","nonMaxSuppression"),s=dX(a,o,n,r,i);n=s.maxOutputSize,r=s.iouThreshold,i=s.scoreThreshold;var l={maxOutputSize:n,iouThreshold:r,scoreThreshold:i};return gM.runKernelFunc(function(e){return e.nonMaxSuppression(a,o,n,r,i)},{boxes:a,scores:o},null,"NonMaxSuppressionV3",l)}}),gX=RQ({nonMaxSuppressionWithScore_:function(e,t,n,r,i,a){void 0===r&&(r=.5),void 0===i&&(i=Number.NEGATIVE_INFINITY),void 0===a&&(a=0);var o=SQ(e,"boxes","nonMaxSuppression"),s=SQ(t,"scores","nonMaxSuppression"),l=dX(o,s,n,r,i,a),c={maxOutputSize:n=l.maxOutputSize,iouThreshold:r=l.iouThreshold,scoreThreshold:i=l.scoreThreshold,softNmsSigma:a=l.softNmsSigma},u=gM.runKernel("NonMaxSuppressionV5",{boxes:o,scores:s},c);return{selectedIndices:u[0],selectedScores:u[1]}}}),mX=RQ({cropAndResize_:function(e,t,n,r,i,a){var o=SQ(e,"image","cropAndResize"),s=SQ(t,"boxes","cropAndResize","float32"),l=SQ(n,"boxInd","cropAndResize","int32");i=i||"bilinear",a=a||0;var c=s.shape[0];return oT(4===o.rank,function(){return"Error in cropAndResize: image must be rank 4,but got rank "+o.rank+"."}),oT(2===s.rank&&4===s.shape[1],function(){return"Error in cropAndResize: boxes must be have size ["+c+",4] but had shape "+s.shape+"."}),oT(1===l.rank&&l.shape[0]===c,function(){return"Error in cropAndResize: boxInd must be have size ["+c+"] but had shape "+s.shape+"."}),oT(2===r.length,function(){return"Error in cropAndResize: cropSize must be of length 2, but got length "+r.length+"."}),oT(r[0]>=1&&r[1]>=1,function(){return"cropSize must be atleast [1,1], but was "+r}),oT("bilinear"===i||"nearest"===i,function(){return"method must be bilinear or nearest, but was "+i}),gM.runKernelFunc(function(e,t){return e.cropAndResize(o,s,l,r,i,a)},{images:o,boxes:s,boxInd:l},null,"CropAndResize",{method:i,extrapolationValue:a,cropSize:r})}}),vX=Object.freeze({resizeBilinear:hX,resizeNearestNeighbor:fX,nonMaxSuppression:pX,nonMaxSuppressionAsync:function(e,t,n,r,i){return void 0===r&&(r=.5),void 0===i&&(i=Number.NEGATIVE_INFINITY),KD(this,void 0,void 0,function(){var a,o,s,l,c,u,A;return WD(this,function(d){switch(d.label){case 0:return a=SQ(e,"boxes","nonMaxSuppressionAsync"),o=SQ(t,"scores","nonMaxSuppressionAsync"),s=dX(a,o,n,r,i),n=s.maxOutputSize,r=s.iouThreshold,i=s.scoreThreshold,[4,Promise.all([a.data(),o.data()])];case 1:return l=d.sent(),c=l[0],u=l[1],A=HH(c,u,n,r,i),a!==e&&a.dispose(),o!==t&&o.dispose(),[2,A]}})})},nonMaxSuppressionWithScore:gX,nonMaxSuppressionWithScoreAsync:function(e,t,n,r,i,a){return void 0===r&&(r=.5),void 0===i&&(i=Number.NEGATIVE_INFINITY),void 0===a&&(a=0),KD(this,void 0,void 0,function(){var o,s,l,c,u,A,d;return WD(this,function(h){switch(h.label){case 0:return o=SQ(e,"boxes","nonMaxSuppressionAsync"),s=SQ(t,"scores","nonMaxSuppressionAsync"),l=dX(o,s,n,r,i,a),n=l.maxOutputSize,r=l.iouThreshold,i=l.scoreThreshold,a=l.softNmsSigma,[4,Promise.all([o.data(),s.data()])];case 1:return c=h.sent(),u=c[0],A=c[1],d=zH(u,A,n,r,i,a),o!==e&&o.dispose(),s!==t&&s.dispose(),[2,d]}})})},cropAndResize:mX}),yX=function(e,t){return!(e>0)||"linear"===t},bX=function(e,t,n){if(null==n||"linear"===n)return e;if("relu"===n)return e.mul(t.step());throw new Error("Gradient for activation "+n+" has not been implemented yet.")},wX=function(e,t){var n=t,r=yH(e.shape,t.shape);return r.length>0&&(n=n.sum(r)),n.reshape(e.shape)},xX=function(e,t,n){if("linear"===t)return e;if("relu"===t)return Bq(e);if("elu"===t)return bq(e);if("relu6"===t)return Cq(e);if("prelu"===t)return xq(e,n);throw new Error("Unknown fused activation "+t+".")},BX=RQ({fusedMatMul_:function(e){var t,n=e.a,r=e.b,i=e.transposeA,a=void 0!==i&&i,o=e.transposeB,s=void 0!==o&&o,l=e.bias,c=e.activation,u=void 0===c?"linear":c,A=e.preluActivationWeights;if(!1===yX(gM.state.gradientDepth,u)){var d=HG(n,r,a,s);return null!=l&&(d=WV(d,l)),xX(d,u,A)}var h=SQ(n,"a","fused matMul"),f=SQ(r,"b","fused matMul");t=uM(h,f),h=t[0],f=t[1];var p=a?h.shape[h.rank-2]:h.shape[h.rank-1],g=s?f.shape[f.rank-1]:f.shape[f.rank-2],m=a?h.shape[h.rank-1]:h.shape[h.rank-2],v=s?f.shape[f.rank-2]:f.shape[f.rank-1],y=h.shape.slice(0,-2),b=f.shape.slice(0,-2),w=uT(y),x=uT(b);oT(h.rank>=2&&f.rank>=2&&h.rank===f.rank,function(){return"Error in fused matMul: inputs must have the same rank of at least 2, got ranks "+h.rank+" and "+f.rank+"."}),oT(AT(y,b),function(){return"Error in fused matMul: outer dimensions ("+y+") and ("+b+") of Tensors with shapes "+h.shape+" and "+f.shape+" must match."}),oT(p===g,function(){return"Error in fused matMul: inner shapes ("+p+") and ("+g+") of Tensors with shapes "+h.shape+" and "+f.shape+" and transposeA="+a+" and transposeB="+s+" must match."});var B,C,N=h.shape.slice(0,-2).concat([m,v]),k=a?h.as3D(w,p,m):h.as3D(w,m,p),_=s?f.as3D(x,v,g):f.as3D(x,g,v);null!=l&&bH(N,(B=uM(B=SQ(l,"bias","fused matMul"),h)[0]).shape),null!=A&&(C=SQ(A,"prelu weights","fused matMul"));var E={a:k,b:_};null!=l&&(E.bias=B),null!=A&&(E.preluActivationWeights=C);var S=[k,_];return gM.runKernelFunc(function(e,t){var n=e.fusedBatchMatMul({a:k,b:_,transposeA:a,transposeB:s,bias:B,activation:u,preluActivationWeights:C});return t([k,_,n]),n},E,function(e,t){var n=t[0],r=t[1],i=t[2],o=bX(e,i,u),c={};return null!=l&&(c={bias:function(){return wX(B,o)}}),a||s?!a&&s?Object.assign({a:function(){return o.matMul(r,!1,!1)},b:function(){return o.matMul(n,!0,!1)}},c):a&&!s?Object.assign({a:function(){return r.matMul(o,!1,!0)},b:function(){return n.matMul(o,!1,!1)}},c):Object.assign({a:function(){return r.matMul(o,!0,!0)},b:function(){return o.matMul(n,!0,!0)}},c):Object.assign({a:function(){return o.matMul(r,!1,!0)},b:function(){return n.matMul(o,!0,!1)}},c)},"_FusedMatMul",{transposeA:a,transposeB:s,activation:u},S,[!0]).reshape(N)}}),CX=RQ({fusedConv2d_:function(e){var t=e.x,n=e.filter,r=e.strides,i=e.pad,a=e.dataFormat,o=void 0===a?"NHWC":a,s=e.dilations,l=void 0===s?[1,1]:s,c=e.dimRoundingMode,u=e.bias,A=e.activation,d=void 0===A?"linear":A,h=e.preluActivationWeights;if(d=d||"linear",!1===yX(gM.state.gradientDepth,d)){var f=jG(t,n,r,i,o,l,c);return null!=u&&(f=WV(f,u)),xX(f,d,h)}var p=SQ(t,"x","conv2d"),g=SQ(n,"filter","conv2d"),m=p,v=!1;3===p.rank&&(v=!0,m=p.as4D(1,p.shape[0],p.shape[1],p.shape[2])),oT(4===m.rank,function(){return"Error in fused conv2d: input must be rank 4, but got rank "+m.rank+"."}),oT(4===g.rank,function(){return"Error in fused conv2d: filter must be rank 4, but got rank "+g.rank+"."}),null!=c&&oT(dT(i),function(){return"Error in fused conv2d: pad must be an integer when using, dimRoundingMode "+c+" but got pad "+i+"."}),oT(m.shape[3]===g.shape[2],function(){return"Error in conv2d: depth of input ("+m.shape[3]+") must match input depth for filter "+g.shape[2]+"."}),oT(IH(r,l),function(){return"Error in conv2D: Either strides or dilations must be 1. Got strides "+r+" and dilations '"+l+"'"}),oT("NHWC"===o,function(){return"Error in conv2d: got dataFormat of "+o+" but only NHWC is currently supported."});var y,b,w=BH(m.shape,g.shape,r,l,i,c);null!=u&&(y=uM(y=SQ(u,"bias","fused conv2d"),p)[0],bH(w.outShape,y.shape)),null!=h&&(b=SQ(h,"prelu weights","fused conv2d"));var x={x:m,filter:g};null!=u&&(x.bias=y),null!=h&&(x.preluActivationWeights=b);var B=[g,m],C=gM.runKernelFunc(function(e,t){var n=e.fusedConv2d({input:m,filter:g,convInfo:w,bias:y,activation:d,preluActivationWeights:b});return t([g,m,n]),n},x,function(e,t){var n=t,a=n[0],o=n[1],s=n[2],c=bX(e,s,d);oT(FH(l),function(){return"Error in gradient of fused conv2D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '"+l+"'"});var A={};return null!=u&&(A={bias:function(){return wX(y,c)}}),Object.assign({x:function(){return PG(o.shape,c,a,r,i)},filter:function(){return OG(o,c,a.shape,r,i)}},A)},"FusedConv2D",{convInfo:w,activation:d},B,[!0]);return v?C.as3D(C.shape[1],C.shape[2],C.shape[3]):C}}),NX=RQ({fusedDepthwiseConv2d_:function(e){var t=e.x,n=e.filter,r=e.strides,i=e.pad,a=e.dataFormat,o=void 0===a?"NHWC":a,s=e.dilations,l=void 0===s?[1,1]:s,c=e.dimRoundingMode,u=e.bias,A=e.activation,d=void 0===A?"linear":A,h=e.preluActivationWeights;if(!1===yX(gM.state.gradientDepth,d)){var f=LG(t,n,r,i,o,l,c);return null!=u&&(f=WV(f,u)),xX(f,d,h)}var p=SQ(t,"x","depthwiseConv2d"),g=SQ(n,"filter","depthwiseConv2d"),m=p,v=!1;3===p.rank&&(v=!0,m=p.as4D(1,p.shape[0],p.shape[1],p.shape[2])),oT(4===m.rank,function(){return"Error in fused depthwiseConv2d: input must be rank 4, but got rank "+m.rank+"."}),oT(4===g.rank,function(){return"Error in fused depthwiseConv2d: filter must be rank 4, but got rank "+g.rank+"."}),oT(m.shape[3]===g.shape[2],function(){return"Error in fused depthwiseConv2d: number of input channels ("+m.shape[3]+") must match the inChannels dimension in filter "+g.shape[2]+"."}),null==l&&(l=[1,1]),oT(IH(r,l),function(){return"Error in fused depthwiseConv2d: Either strides or dilations must be 1. Got strides "+r+" and dilations '"+l+"'"}),null!=c&&oT(dT(i),function(){return"Error in fused depthwiseConv2d: pad must be an integer when using dimRoundingMode "+c+" but got pad "+i+"."});var y,b,w=BH(m.shape,g.shape,r,l,i,c,!0);null!=u&&(y=uM(y=SQ(u,"bias","fused conv2d"),p)[0],bH(w.outShape,y.shape)),null!=h&&(b=SQ(h,"prelu weights","fused depthwiseConv2d"));var x={x:m,filter:g};null!=u&&(x.bias=y),null!=h&&(x.preluActivationWeights=b);var B=[g,m],C=gM.runKernelFunc(function(e,t){var n=e.fusedDepthwiseConv2D({input:m,filter:g,convInfo:w,bias:y,activation:d,preluActivationWeights:b});return t([g,m,n]),n},x,function(e,t){oT(FH(l),function(){return"Error in gradient of fused depthwiseConv2d: dilation rates greater than 1 are not yet supported. Got dilations '"+l+"'"});var n=t[0],r=t[1],i=t[2],a=bX(e,i,d),o={};return null!=u&&(o={bias:function(){return wX(y,a)}}),Object.assign({x:function(){return DG(r.shape,a,n,w)},filter:function(){return TG(r,a,n.shape,w)}},o)},"FusedDepthwiseConv2D",{convInfo:w,activation:d},B,[!0]);return v?C.as3D(C.shape[1],C.shape[2],C.shape[3]):C}}),kX=Object.freeze({matMul:BX,conv2d:CX,depthwiseConv2d:NX}),_X=Object.freeze({image:vX,linalg:AX,losses:oX,spectral:Mq,fused:kX,signal:Yq,square:HW,squaredDifference:KW,conv1d:IG,conv2d:jG,conv3d:UG,depthwiseConv2d:LG,separableConv2d:MG,conv2dTranspose:QG,conv3dTranspose:RG,op:RQ,batchNormalization2d:IV,batchNormalization3d:jV,batchNormalization4d:UV,batchNormalization:OV,batchNorm:PV,batchNorm2d:LV,batchNorm3d:DV,batchNorm4d:TV,booleanMaskAsync:function(e,t,n){return KD(this,void 0,void 0,function(){var r,i,a,o,s,l,c,u,A,d,h,f,p;return WD(this,function(g){switch(g.label){case 0:for(r=SQ(e,"tensor","boolMask"),i=SQ(t,"mask","boolMask","bool"),a=null==n?0:n,o=i.rank,s=r.shape,oT(o>0,function(){return"mask cannot be scalar"}),sT(s.slice(a,a+o),i.shape,"mask's shape must match the first K dimensions of tensor's shape,"),l=1,c=a;c<a+o;c++)l*=s[c];return u=s.slice(0,a).concat([l],s.slice(a+o)),A=r.reshape(u),d=i.reshape([-1]),[4,KV(d)];case 1:return h=g.sent(),f=h.squeeze([1]),p=kG(A,f,a),e!==r&&r.dispose(),t!==i&&i.dispose(),f.dispose(),A.dispose(),d.dispose(),h.dispose(),[2,p]}})})},complex:HQ,real:zQ,imag:KQ,concat:iR,concat1d:aR,concat2d:oR,concat3d:sR,concat4d:lR,split:cR,matMul:HG,dot:zG,outerProduct:KG,reverse:WG,reverse1d:VG,reverse2d:GG,reverse3d:qG,reverse4d:XG,maxPool:ZG,avgPool:$G,pool:eq,maxPool3d:tq,avgPool3d:nq,slice:rq,slice1d:iq,slice2d:aq,slice3d:oq,slice4d:sq,abs:WW,acos:VW,acosh:GW,asin:qW,asinh:XW,atan:YW,atanh:JW,ceil:ZW,clipByValue:$W,cos:eV,cosh:tV,erf:nV,exp:rV,expm1:iV,floor:aV,log:oV,log1p:sV,logSigmoid:lV,neg:cV,reciprocal:uV,round:AV,rsqrt:dV,sigmoid:hV,sign:fV,isNaN:pV,isInf:gV,isFinite:mV,sin:vV,sinh:yV,softplus:bV,sqrt:wV,step:xV,tan:BV,tanh:CV,all:cq,any:uq,argMax:Aq,argMin:dq,logSumExp:hq,max:fq,mean:pq,min:gq,moments:mq,sum:vq,prod:yq,equal:dG,equalStrict:hG,greater:fG,greaterEqual:pG,greaterEqualStrict:gG,greaterStrict:mG,less:vG,lessEqual:yG,lessEqualStrict:bG,lessStrict:wG,notEqual:xG,notEqualStrict:BG,add:WV,addN:VV,addStrict:GV,atan2:qV,div:XV,divNoNan:YV,divStrict:JV,floorDiv:ZV,maximum:$V,maximumStrict:eG,minimum:tG,minimumStrict:nG,mod:rG,modStrict:iG,mul:aG,mulStrict:oG,pow:sG,powStrict:lG,squaredDifferenceStrict:cG,sub:uG,subStrict:AG,elu:bq,leakyRelu:wq,prelu:xq,relu:Bq,relu6:Cq,selu:Nq,logicalAnd:MV,logicalNot:QV,logicalOr:RV,logicalXor:HV,where:zV,whereAsync:KV,buffer:xR,print:function(e,t){void 0===t&&(t=!1),console.log(e.toString(t))},batchToSpaceND:BR,broadcastTo:CR,cast:NR,clone:kR,cumsum:_R,depthToSpace:ER,expandDims:SR,eye:FR,multinomial:IR,oneHot:jR,pad:UR,pad1d:OR,pad2d:PR,pad3d:LR,pad4d:DR,rand:TR,randomNormal:MR,randomGamma:QR,randomUniform:RR,reshape:HR,spaceToBatchND:zR,squeeze:KR,stack:WR,tile:VR,truncatedNormal:GR,unstack:qR,setdiff1dAsync:function(e,t){return KD(this,void 0,void 0,function(){var n,r,i,a,o,s,l,c,u,A;return WD(this,function(d){switch(d.label){case 0:return n=SQ(e,"x","setdiff1d"),r=SQ(t,"y","setdiff1d"),oT(n.dtype===r.dtype,function(){return"x and y should have the same dtype, but got x ("+n.dtype+") and y ("+r.dtype+")."}),oT(1===n.rank,function(){return"x should be 1D tensor, but got x ("+n.shape+")."}),oT(1===r.rank,function(){return"y should be 1D tensor, but got y ("+r.shape+")."}),[4,n.data()];case 1:return i=d.sent(),[4,r.data()];case 2:for(a=d.sent(),o=new Set(a),s=0,u=0;u<i.length;u++)o.has(i[u])||s++;for(l=new YT([s],n.dtype),c=new YT([s],"int32"),u=0,A=0;u<i.length;u++)o.has(i[u])||(l.values[A]=i[u],c.values[A]=u,A++);return[2,[l.toTensor(),c.toTensor()]]}})})},fill:eR,linspace:function(e,t,n){if(n<=0)throw new Error("The number of values should be positive.");return gM.runKernelFunc(function(r){return r.linspace(e,t,n)},{})},ones:ZQ,range:tR,scalar:GQ,tensor:WQ,tensor1d:qQ,tensor2d:XQ,tensor3d:YQ,tensor4d:JQ,tensor5d:function(e,t,n){if(lT(e),null!=t&&5!==t.length)throw new Error("tensor5d() requires shape to have five numbers");var r=_Q(e,n);if(5!==r.length&&1!==r.length)throw new Error("tensor5d() requires values to be number[][][][][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor5d() requires shape to be provided when `values` are a flat array");return VQ(e,t,r,n)},tensor6d:function(e,t,n){if(lT(e),null!=t&&6!==t.length)throw new Error("tensor6d() requires shape to have six numbers");var r=_Q(e,n);if(6!==r.length&&1!==r.length)throw new Error("tensor6d() requires values to be number[][][][][][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor6d() requires shape to be provided when `values` are a flat array");return VQ(e,t=t||r,r,n)},variable:function(e,t,n,r){return void 0===t&&(t=!0),gM.makeVariable(e,t,n,r)},zeros:$Q,onesLike:nR,zerosLike:rR,transpose:kq,softmax:hH,logSoftmax:fH,localResponseNormalization:_q,norm:Eq,gather:kG,unsortedSegmentSum:_G,basicLSTMCell:Sq,multiRNNCell:Fq,movingAverage:Iq,stridedSlice:jq,topk:Uq,scatterND:Oq,fft:Pq,ifft:Lq,rfft:Dq,irfft:Tq,sparseToDense:Qq,gatherND:Rq,diag:Hq,dropout:zq,hannWindow:Vq,hammingWindow:Gq,frame:qq,stft:Xq,inTopKAsync:function(e,t,n){return void 0===n&&(n=1),KD(this,void 0,void 0,function(){var r,i,a,o,s,l,c,u,A,d,h,f,p,g;return WD(this,function(m){switch(m.label){case 0:return r=SQ(e,"predictions","inTopK"),i=SQ(t,"targets","inTopK"),oT(r.rank>1,function(){return"inTopK() expects the predictions to be of rank 2 or higher, but got "+r.rank}),oT(r.rank-1===i.rank,function(){return"predictions rank should be 1 larger than targets rank, but got predictions rank "+r.rank+" and targets rank "+i.rank}),sT(r.shape.slice(0,r.shape.length-1),i.shape,"predictions's shape should be align with the targets' shape, except the last dimension."),a=r.shape[r.shape.length-1],oT(n>0&&n<=a,function(){return"'k' passed to inTopK() must be > 0 && <= the predictions last dimension ("+a+"), but got "+n}),[4,r.data()];case 1:return o=m.sent(),[4,i.data()];case 2:for(s=m.sent(),l=[o.length/a,a],u=l[1],A=bT("bool",c=l[0]),d=0;d<c;d++){for(h=d*u,f=o.subarray(h,h+u),p=[],g=0;g<f.length;g++)p.push({value:f[g],index:g});for(p.sort(function(e,t){return t.value-e.value}),A[d]=0,g=0;g<n;g++)if(p[g].index===s[d]){A[d]=1;break}}return e!==r&&r.dispose(),t!==i&&i.dispose(),[2,WQ(A,i.shape,"bool")]}})})}});function EX(e,t){Array.isArray(e)||(e=[e]),e.forEach(function(e){null!=e&&oT("complex64"!==e.dtype,function(){return t+" does not support complex64 tensors."})})}function SX(e,t,n,r){if("linear"===n)return e.linear(t);if("relu"===n)return e.relu(t);if("elu"===n)return e.elu(t);if("relu6"===n)return e.relu6(t);if("prelu"===n)return e.prelu(t,r);throw new Error("Activation "+n+" has not been implemented for the CPU backend.")}var FX=function(e){function t(){var t=e.call(this)||this;return t.blockSize=48,t.firstUse=!0,t.data=new pH(t,gM),t}return zD(t,e),t.prototype.write=function(e,t,n){this.firstUse&&(this.firstUse=!1,GD().get("IS_NODE")&&kQ("\n============================\nHi there \ud83d\udc4b. Looks like you are running TensorFlow.js in Node.js. To speed things up dramatically, install our node backend, which binds to TensorFlow C++, by running npm i @tensorflow/tfjs-node, or npm i @tensorflow/tfjs-node-gpu if you have CUDA. Then call require('@tensorflow/tfjs-node'); (-gpu suffix for CUDA) at the start of your program. Visit https://github.com/tensorflow/tfjs-node for more details.\n============================"));var r={};return this.data.set(r,{values:e,dtype:n}),r},t.prototype.move=function(e,t,n,r){this.data.set(e,{values:t,dtype:r})},t.prototype.numDataIds=function(){return this.data.numDataIds()},t.prototype.read=function(e){return KD(this,void 0,void 0,function(){return WD(this,function(t){return[2,this.readSync(e)]})})},t.prototype.readSync=function(e){var t=this.data.get(e),n=t.dtype,r=t.complexTensors;return"complex64"===n?LH(this.readSync(r.real.dataId),this.readSync(r.imag.dataId)):this.data.get(e).values},t.prototype.bufferSync=function(e){var t=this.readSync(e.dataId),n=t;if("string"===e.dtype)try{n=t.map(function(e){return HT(e)})}catch(e){throw new Error("Failed to decode encoded string bytes into utf-8")}return xR(e.shape,e.dtype,n)},t.prototype.makeOutput=function(e,t,n){var r=this.write(e,t,n);return gM.makeTensorFromDataId(r,t,n,this)},t.prototype.disposeData=function(e){if(this.data.has(e)){var t=this.data.get(e).complexTensors;null!=t&&(t.real.dispose(),t.imag.dispose()),this.data.delete(e)}},t.prototype.time=function(e){return KD(this,void 0,void 0,function(){var t;return WD(this,function(n){return t=MT(),e(),[2,{kernelMs:MT()-t}]})})},t.prototype.memory=function(){return{unreliable:!0,reasons:["The reported memory is an upper bound. Due to automatic garbage collection, the true allocated memory may be less."]}},t.prototype.complex=function(e,t){var n=this.makeOutput(null,e.shape,"complex64");return this.data.get(n.dataId).complexTensors={real:gM.keep(e.clone()),imag:gM.keep(t.clone())},n},t.prototype.real=function(e){return this.data.get(e.dataId).complexTensors.real.clone()},t.prototype.imag=function(e){return this.data.get(e.dataId).complexTensors.imag.clone()},t.prototype.slice=function(e,t,n){if(EX(e,"slice"),uH(e.shape,t,n)){var r=AH(t,e.strides),i=uT(n);return WQ(this.readSync(e.dataId).subarray(r,r+i),n,e.dtype)}for(var a=xR(n,e.dtype),o=this.bufferSync(e),s=0;s<a.size;++s){var l=a.indexToLoc(s).map(function(e,n){return e+t[n]});a.values[s]=o.get.apply(o,l)}return a.toTensor()},t.prototype.stridedSlice=function(e,t,n,r){EX(e,"stridedSlice");var i=sH(t,n,r);if(i.some(function(e){return 0===e}))return WQ([],i);for(var a=xR(i,e.dtype),o=this.bufferSync(e),s=0;s<a.size;s++){for(var l=a.indexToLoc(s),c=new Array(l.length),u=0;u<c.length;u++)c[u]=l[u]*r[u]+t[u];a.set.apply(a,[o.get.apply(o,c)].concat(l))}return a.toTensor()},t.prototype.diag=function(e){for(var t=this.readSync(e.dataId),n=xR([e.size,e.size],e.dtype),r=n.values,i=0;i<t.length;i++)r[i*e.size+i]=t[i];return n.toTensor()},t.prototype.unstack=function(e,t){for(var n=e.shape[t],r=new Array(e.rank-1),i=0,a=0;a<e.rank;a++)a!==t&&(r[i++]=e.shape[a]);var o=new Array(e.rank).fill(0),s=e.shape.slice();s[t]=1;var l=new Array(n);for(a=0;a<l.length;a++)o[t]=a,l[a]=this.slice(e,o,s).reshape(r);return l},t.prototype.reverse=function(e,t){EX(e,"reverse");for(var n=xR(e.shape,e.dtype),r=this.bufferSync(e),i=function(i){var a=n.indexToLoc(i),o=a.slice();t.forEach(function(t){return o[t]=e.shape[t]-1-o[t]}),n.set.apply(n,[r.get.apply(r,o)].concat(a))},a=0;a<n.size;a++)i(a);return n.toTensor()},t.prototype.concat=function(e,t){var n=this;if("complex64"===e[0].dtype){var r=e.map(function(e){return zQ(e)}),i=e.map(function(e){return KQ(e)});return HQ(this.concat(r,t),this.concat(i,t))}var a=e.map(function(e){var n=uT(e.shape.slice(t));return e.as2D(-1,n)}),o=QQ(a.map(function(e){return e.shape}),1),s=xR(o,e[0].dtype).values;if(1===a[0].shape[0]){var l=0;a.forEach(function(e){s.set(n.readSync(e.dataId),l),l+=e.size})}else{var c=0;a.forEach(function(e){for(var t=n.readSync(e.dataId),r=0,i=0;i<e.shape[0];++i)for(var a=i*o[1]+c,l=0;l<e.shape[1];++l)s[a+l]=t[r++];c+=e.shape[1]})}var u=QQ(e.map(function(e){return e.shape}),t);return WQ(s,u,e[0].dtype)},t.prototype.neg=function(e){return EX(e,"neg"),this.multiply(GQ(-1),e)},t.prototype.add=function(e,t){return"complex64"===e.dtype||"complex64"===t.dtype?this.broadcastedBinaryComplexOp(e.cast("complex64"),t.cast("complex64"),function(e,t,n,r){return{real:e+n,imag:t+r}}):this.broadcastedBinaryOp(e,t,lM(e.dtype,t.dtype),function(e,t){return e+t})},t.prototype.addN=function(e){var t=this;EX(e,"addN");for(var n=e.map(function(e){return t.readSync(e.dataId)}),r=xR(e[0].shape,e[0].dtype),i=r.values,a=0;a<e.length;a++)for(var o=n[a],s=0;s<i.length;s++)i[s]+=o[s];return r.toTensor()},t.prototype.softmax=function(e,t){var n=vT([t],e.shape),r=this.max(e,n),i=OQ(r.shape,n),a=this.subtract(e,r.reshape(i)),o=this.exp(a),s=this.sum(o,n).reshape(i);return this.realDivide(o,s)},t.prototype.subtract=function(e,t){return"complex64"===e.dtype||"complex64"===t.dtype?this.broadcastedBinaryComplexOp(e.cast("complex64"),t.cast("complex64"),function(e,t,n,r){return{real:e-n,imag:t-r}}):this.broadcastedBinaryOp(e,t,lM(e.dtype,t.dtype),function(e,t){return e-t})},t.prototype.pow=function(e,t){return EX([e,t],"pow"),this.broadcastedBinaryOp(e,t,e.dtype,function(e,t){return Math.pow(e,t)})},t.prototype.batchMatMul=function(e,t,n,r){EX([e,t],"matMul");for(var i=n?e.shape[1]:e.shape[2],a=n?e.shape[2]:e.shape[1],o=r?t.shape[1]:t.shape[2],s=e.shape[0],l=this.readSync(e.dataId),c=this.readSync(t.dataId),u=n?[e.strides[0],1,e.strides[1]]:[e.strides[0],e.strides[1],1],A=u[0],d=u[1],h=u[2],f=r?[1,t.strides[1],t.strides[0]]:[t.strides[1],1,t.strides[0]],p=f[0],g=f[1],m=f[2],v=a*o,y=xR([s,a,o],e.dtype),b=y.values,w=this.blockSize,x=0;x<s;x++)for(var B=0;B<a;B+=w)for(var C=0;C<o;C+=w)for(var N=0;N<i;N+=w)for(var k=Math.min(B+w,a),_=Math.min(C+w,o),E=Math.min(N+w,i),S=B;S<k;S++)for(var F=C;F<_;F++){for(var I=0,j=N;j<E;j++)I+=l[x*A+S*d+j*h]*c[j*p+F*g+x*m];b[x*v+(S*o+F)]+=I}return y.toTensor()},t.prototype.fusedBatchMatMul=function(e){var t=e.a,n=e.b,r=e.transposeA,i=e.transposeB,a=e.bias,o=e.activation,s=e.preluActivationWeights,l=this.batchMatMul(t,n,r,i);return a&&(l=this.add(l,a)),o&&(l=SX(this,l,o,s)),l},t.prototype.multiply=function(e,t){return"complex64"===e.dtype||"complex64"===t.dtype?this.broadcastedBinaryComplexOp(e.cast("complex64"),t.cast("complex64"),function(e,t,n,r){return{real:e*n-t*r,imag:e*r+t*n}}):this.broadcastedBinaryOp(e,t,lM(e.dtype,t.dtype),function(e,t){return e*t})},t.prototype.realDivide=function(e,t){return EX([e,t],"realDivide"),this.broadcastedBinaryOp(e,t,"float32",function(e,t){return e/t})},t.prototype.floorDiv=function(e,t){return EX([e,t],"floorDiv"),this.broadcastedBinaryOp(e,t,"int32",function(e,t){return Math.floor(e/t)})},t.prototype.sum=function(e,t){EX(e,"sum"),PQ("sum",t,e.rank);for(var n=UQ(e.shape,t),r=n[0],i=n[1],a=$Q(r,lM(e.dtype,"int32")),o=uT(i),s=this.readSync(a.dataId),l=this.readSync(e.dataId),c=0;c<s.length;++c){for(var u=c*o,A=0,d=0;d<o;++d)A+=l[u+d];s[c]=A}return a},t.prototype.prod=function(e,t){EX(e,"sum");for(var n=UQ(e.shape,t),r=n[0],i=n[1],a=$Q(r,lM(e.dtype,"int32")),o=uT(i),s=this.readSync(a.dataId),l=this.readSync(e.dataId),c=0;c<s.length;++c){for(var u=c*o,A=1,d=0;d<o;++d)A*=l[u+d];s[c]=A}return a},t.prototype.unsortedSegmentSum=function(e,t,n){EX(e,"unsortedSegmentSum");for(var r=[],i=e.rank-t.rank,a=0;a<i;++a)t=t.expandDims(a+1);for(a=0;a<n;++a){var o=GQ(a,"int32"),s=dG(o,t).asType("float32").mul(e).sum(0);r.push(s)}return WR(r)},t.prototype.argMin=function(e,t){EX(e,"argMin");var n=[t];PQ("argMin",n,e.rank);for(var r=UQ(e.shape,n),i=r[0],a=r[1],o=$Q(i,"int32"),s=uT(a),l=this.readSync(o.dataId),c=this.readSync(e.dataId),u=0;u<l.length;++u){for(var A=u*s,d=c[A],h=0,f=0;f<s;++f){var p=c[A+f];p<d&&(d=p,h=f)}l[u]=h}return o},t.prototype.argMax=function(e,t){EX(e,"argMax");var n=[t];PQ("argMax",n,e.rank);for(var r=UQ(e.shape,n),i=r[0],a=r[1],o=$Q(i,"int32"),s=uT(a),l=this.readSync(o.dataId),c=this.readSync(e.dataId),u=0;u<l.length;++u){for(var A=u*s,d=c[A],h=0,f=0;f<s;++f){var p=c[A+f];p>d&&(d=p,h=f)}l[u]=h}return o},t.prototype.cumsum=function(e,t,n,r){if(EX(e,"cumsum"),t!==e.rank-1)throw new Error("backend.cumsum in CPU expects an inner-most axis="+(e.rank-1)+" but got axis="+t);for(var i=lM(e.dtype,"int32"),a=$Q(e.shape,i),o=this.readSync(a.dataId),s=this.readSync(e.dataId),l=e.shape[e.rank-1],c=r?function(e,t){return e+l-t-1}:function(e,t){return e+t},u=0;u<s.length;u+=l)for(var A=0;A<l;A++){var d=c(u,A);if(0===A)o[d]=n?0:s[d];else{var h=c(u,A-1);o[d]=n?s[h]+o[h]:s[d]+o[h]}}return a},t.prototype.equal=function(e,t){return EX([e,t],"equal"),this.broadcastedBinaryOp(e,t,"bool",function(e,t){return e===t?1:0})},t.prototype.notEqual=function(e,t){return EX([e,t],"notEqual"),this.broadcastedBinaryOp(e,t,"bool",function(e,t){return e!==t?1:0})},t.prototype.less=function(e,t){return EX([e,t],"less"),this.broadcastedBinaryOp(e,t,"bool",function(e,t){return e<t?1:0})},t.prototype.lessEqual=function(e,t){return EX([e,t],"lessEqual"),this.broadcastedBinaryOp(e,t,"bool",function(e,t){return e<=t?1:0})},t.prototype.greater=function(e,t){return EX([e,t],"greater"),this.broadcastedBinaryOp(e,t,"bool",function(e,t){return e>t?1:0})},t.prototype.greaterEqual=function(e,t){return EX([e,t],"greaterEqual"),this.broadcastedBinaryOp(e,t,"bool",function(e,t){return e>=t?1:0})},t.prototype.logicalNot=function(e){EX(e,"logicalNot");for(var t=this.readSync(e.dataId),n=new Uint8Array(t.length),r=0;r<t.length;++r)n[r]=t[r]?0:1;return this.makeOutput(n,e.shape,"bool")},t.prototype.logicalAnd=function(e,t){return EX([e,t],"logicalAnd"),this.broadcastedBinaryOp(e,t,"bool",function(e,t){return e&&t})},t.prototype.logicalOr=function(e,t){return EX([e,t],"logicalOr"),this.broadcastedBinaryOp(e,t,"bool",function(e,t){return e||t})},t.prototype.select=function(e,t,n){EX([e,t,n],"select");for(var r=this.readSync(e.dataId),i=this.readSync(t.dataId),a=this.readSync(n.dataId),o=$Q(t.shape,lM(t.dtype,n.dtype)),s=this.readSync(o.dataId),l=0,c=0===e.rank||e.rank>1||1===t.rank?1:uT(t.shape.slice(1)),u=0;u<r.length;u++)for(var A=0;A<c;A++)1===r[u]?s[l++]=i[u]:s[l++]=a[u];return o},t.prototype.where=function(e){EX([e],"where");var t=this.readSync(e.dataId);return JH(e.shape,t)},t.prototype.topk=function(e,t,n){return EX(e,"topk"),YH(this.readSync(e.dataId),e.shape,e.dtype,t)},t.prototype.min=function(e,t){EX(e,"min"),PQ("min",t,e.rank);for(var n=UQ(e.shape,t),r=n[0],i=n[1],a=$Q(r,e.dtype),o=uT(i),s=this.readSync(a.dataId),l=this.readSync(e.dataId),c=0;c<s.length;++c){for(var u=c*o,A=l[u],d=0;d<o;++d){var h=l[u+d];h<A&&(A=h)}s[c]=A}return a},t.prototype.minimum=function(e,t){return EX([e,t],"minimum"),this.broadcastedBinaryOp(e,t,e.dtype,function(e,t){return Math.min(e,t)})},t.prototype.mod=function(e,t){return EX([e,t],"mod"),this.broadcastedBinaryOp(e,t,e.dtype,function(e,t){var n=e%t;return e<0&&t<0||e>=0&&t>=0?n:(n+t)%t})},t.prototype.max=function(e,t){EX(e,"max"),PQ("max",t,e.rank);for(var n=UQ(e.shape,t),r=n[0],i=n[1],a=$Q(r,e.dtype),o=uT(i),s=this.readSync(a.dataId),l=this.readSync(e.dataId),c=0;c<s.length;++c){for(var u=c*o,A=l[u],d=0;d<o;++d){var h=l[u+d];h>A&&(A=h)}s[c]=A}return a},t.prototype.maximum=function(e,t){return EX([e,t],"maximum"),this.broadcastedBinaryOp(e,t,e.dtype,function(e,t){return Math.max(e,t)})},t.prototype.all=function(e,t){EX(e,"all"),PQ("all",t,e.rank);for(var n=UQ(e.shape,t),r=n[0],i=n[1],a=$Q(r,e.dtype),o=uT(i),s=this.readSync(a.dataId),l=this.readSync(e.dataId),c=0;c<s.length;++c){for(var u=c*o,A=l[u],d=0;d<o;++d){var h=l[u+d];A=A&&h}s[c]=A}return a},t.prototype.any=function(e,t){EX(e,"any"),PQ("any",t,e.rank);for(var n=UQ(e.shape,t),r=n[0],i=n[1],a=$Q(r,e.dtype),o=uT(i),s=this.readSync(a.dataId),l=this.readSync(e.dataId),c=0;c<s.length;++c){for(var u=c*o,A=l[u],d=0;d<o;++d){var h=l[u+d];A=A||h}s[c]=A}return a},t.prototype.squaredDifference=function(e,t){return EX([e,t],"squaredDifference"),this.broadcastedBinaryOp(e,t,e.dtype,function(e,t){var n=e-t;return n*n})},t.prototype.ceil=function(e){EX(e,"ceil");for(var t=this.readSync(e.dataId),n=new Float32Array(t.length),r=0;r<t.length;++r)n[r]=Math.ceil(t[r]);return this.makeOutput(n,e.shape,"float32")},t.prototype.floor=function(e){EX(e,"floor");for(var t=this.readSync(e.dataId),n=new Float32Array(t.length),r=0;r<t.length;++r)n[r]=Math.floor(t[r]);return this.makeOutput(n,e.shape,"float32")},t.prototype.sign=function(e){EX(e,"x");for(var t=this.readSync(e.dataId),n=new Float32Array(t.length),r=0;r<t.length;++r)t[r]<0?n[r]=-1:t[r]>0?n[r]=1:n[r]=0;return this.makeOutput(n,e.shape,"float32")},t.prototype.isNaN=function(e){EX(e,"x");for(var t=this.readSync(e.dataId),n=new Uint8Array(t.length),r=0;r<t.length;++r)Number.isNaN(t[r])&&(n[r]=1);return this.makeOutput(n,e.shape,"bool")},t.prototype.isInf=function(e){EX(e,"x");for(var t=this.readSync(e.dataId),n=new Uint8Array(t.length),r=0;r<t.length;++r)Math.abs(t[r])===1/0&&(n[r]=1);return this.makeOutput(n,e.shape,"bool")},t.prototype.isFinite=function(e){EX(e,"x");for(var t=this.readSync(e.dataId),n=new Uint8Array(t.length),r=0;r<t.length;++r)Number.isFinite(t[r])&&(n[r]=1);return this.makeOutput(n,e.shape,"bool")},t.prototype.round=function(e){EX(e,"round");for(var t=this.readSync(e.dataId),n=new Float32Array(t.length),r=0;r<t.length;++r){var i=Math.floor(t[r]);t[r]-i<.5?n[r]=Math.floor(t[r]):t[r]-i>.5?n[r]=Math.ceil(t[r]):n[r]=i%2==0?i:i+1}return this.makeOutput(n,e.shape,"float32")},t.prototype.exp=function(e){EX(e,"exp");for(var t=this.readSync(e.dataId),n=new Float32Array(t.length),r=0;r<t.length;++r)n[r]=Math.exp(t[r]);return this.makeOutput(n,e.shape,"float32")},t.prototype.expm1=function(e){EX(e,"expm1");for(var t=this.readSync(e.dataId),n=new Float32Array(t.length),r=0;r<t.length;++r)n[r]=Math.expm1(t[r]);return this.makeOutput(n,e.shape,"float32")},t.prototype.log=function(e){EX(e,"log");for(var t=this.readSync(e.dataId),n=new Float32Array(t.length),r=0;r<t.length;++r){var i=t[r];n[r]=Math.log(i)}return this.makeOutput(n,e.shape,"float32")},t.prototype.log1p=function(e){EX(e,"log1p");for(var t=this.readSync(e.dataId),n=new Float32Array(t.length),r=0;r<t.length;++r){var i=t[r];n[r]=Math.log1p(i)}return this.makeOutput(n,e.shape,"float32")},t.prototype.sqrt=function(e){EX(e,"sqrt");for(var t=this.readSync(e.dataId),n=new Float32Array(t.length),r=0;r<t.length;++r){var i=t[r];n[r]=Math.sqrt(i)}return this.makeOutput(n,e.shape,"float32")},t.prototype.rsqrt=function(e){EX(e,"rsqrt");for(var t=this.readSync(e.dataId),n=new Float32Array(t.length),r=0;r<t.length;++r){var i=t[r];n[r]=1/Math.sqrt(i)}return this.makeOutput(n,e.shape,"float32")},t.prototype.reciprocal=function(e){EX(e,"reciprocal");for(var t=this.readSync(e.dataId),n=new Float32Array(t.length),r=0;r<t.length;++r)n[r]=1/t[r];return this.makeOutput(n,e.shape,"float32")},t.prototype.linear=function(e){return e},t.prototype.relu=function(e){EX(e,"relu");for(var t=$Q(e.shape,e.dtype),n=this.readSync(t.dataId),r=this.readSync(e.dataId),i=0;i<r.length;++i)n[i]=Math.max(0,r[i]);return t},t.prototype.relu6=function(e){EX(e,"relu");for(var t=$Q(e.shape,e.dtype),n=this.readSync(t.dataId),r=this.readSync(e.dataId),i=0;i<r.length;++i)n[i]=Math.min(Math.max(0,r[i]),6);return t},t.prototype.prelu=function(e,t){return EX([e,t],"prelu"),this.broadcastedBinaryOp(e,t,e.dtype,function(e,t){return e<0?t*e:e})},t.prototype.elu=function(e){EX(e,"elu");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r){var i=n[r];t[r]=i>=0?i:Math.exp(i)-1}return this.makeOutput(t,e.shape,"float32")},t.prototype.eluDer=function(e,t){EX([e,t],"eluDer");for(var n=new Float32Array(t.size),r=this.readSync(t.dataId),i=this.readSync(e.dataId),a=0;a<r.length;++a){var o=r[a];n[a]=o>=1?i[a]:i[a]*(o+1)}return this.makeOutput(n,t.shape,"float32")},t.prototype.selu=function(e){EX(e,"selu");for(var t=AW,n=dW,r=new Float32Array(e.size),i=this.readSync(e.dataId),a=0;a<i.length;++a){var o=i[a];r[a]=o>=0?n*o:t*(Math.exp(o)-1)}return this.makeOutput(r,e.shape,"float32")},t.prototype.clip=function(e,t,n){EX(e,"clip");for(var r=new Float32Array(e.size),i=this.readSync(e.dataId),a=0;a<i.length;++a){var o=i[a];r[a]=o>n?n:o<t?t:o}return this.makeOutput(r,e.shape,"float32")},t.prototype.abs=function(e){for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=Math.abs(n[r]);return this.makeOutput(t,e.shape,"float32")},t.prototype.complexAbs=function(e){for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<e.size;++r){var i=n[2*r],a=n[2*r+1];t[r]=Math.hypot(i,a)}return this.makeOutput(t,e.shape,"float32")},t.prototype.int=function(e){EX(e,"int");for(var t=new Int32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=n[r];return this.makeOutput(t,e.shape,"int32")},t.prototype.sigmoid=function(e){EX(e,"sigmoid");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=1/(1+Math.exp(-n[r]));return this.makeOutput(t,e.shape,"float32")},t.prototype.softplus=function(e){EX(e,"softplus");for(var t=Math.log(1.1920928955078125e-7)+2,n=new Float32Array(e.size),r=this.readSync(e.dataId),i=0;i<r.length;++i){var a,o=r[i]>-t,s=r[i]<t,l=Math.exp(r[i]);a=s?l:o?r[i]:Math.log(1+l),n[i]=a}return this.makeOutput(n,e.shape,"float32")},t.prototype.sin=function(e){EX(e,"sin");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=Math.sin(n[r]);return this.makeOutput(t,e.shape,"float32")},t.prototype.cos=function(e){EX(e,"cos");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=Math.cos(n[r]);return this.makeOutput(t,e.shape,"float32")},t.prototype.tan=function(e){EX(e,"tan");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=Math.tan(n[r]);return this.makeOutput(t,e.shape,"float32")},t.prototype.asin=function(e){EX(e,"asin");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=Math.asin(n[r]);return this.makeOutput(t,e.shape,"float32")},t.prototype.acos=function(e){EX(e,"acos");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=Math.acos(n[r]);return this.makeOutput(t,e.shape,"float32")},t.prototype.atan=function(e){EX(e,"atan");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=Math.atan(n[r]);return this.makeOutput(t,e.shape,"float32")},t.prototype.atan2=function(e,t){return EX([e,t],"atan2"),this.broadcastedBinaryOp(e,t,e.dtype,function(e,t){return Math.atan2(e,t)})},t.prototype.sinh=function(e){EX(e,"sinh");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=Math.sinh(n[r]);return this.makeOutput(t,e.shape,"float32")},t.prototype.cosh=function(e){EX(e,"cosh");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=Math.cosh(n[r]);return this.makeOutput(t,e.shape,"float32")},t.prototype.tanh=function(e){EX(e,"tanh");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=hT(n[r]);return this.makeOutput(t,e.shape,"float32")},t.prototype.asinh=function(e){EX(e,"asinh");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=Math.asinh(n[r]);return this.makeOutput(t,e.shape,"float32")},t.prototype.acosh=function(e){EX(e,"acosh");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=Math.acosh(n[r]);return this.makeOutput(t,e.shape,"float32")},t.prototype.atanh=function(e){EX(e,"atanh");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=Math.atanh(n[r]);return this.makeOutput(t,e.shape,"float32")},t.prototype.erf=function(e){EX(e,"erf");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r){var i=Math.sign(n[r]),a=Math.abs(n[r]),o=1/(1+.3275911*a);t[r]=i*(1-((((1.061405429*o-1.453152027)*o+1.421413741)*o-.284496736)*o+.254829592)*o*Math.exp(-a*a))}return this.makeOutput(t,e.shape,"float32")},t.prototype.step=function(e,t){void 0===t&&(t=0),EX(e,"step");for(var n=new Float32Array(e.size),r=this.readSync(e.dataId),i=0;i<r.length;++i){var a=r[i];isNaN(a)?n[i]=NaN:n[i]=a>0?1:t}return this.makeOutput(n,e.shape,"float32")},t.prototype.fusedConv2d=function(e){var t=e.input,n=e.filter,r=e.convInfo,i=e.bias,a=e.activation,o=e.preluActivationWeights,s=this.conv2d(t,n,r);return i&&(s=this.add(s,i)),a&&(s=SX(this,s,a,o)),s},t.prototype.conv2d=function(e,t,n){EX([e,t],"conv2d");for(var r=n.filterHeight,i=n.filterWidth,a=n.dilationHeight,o=n.dilationWidth,s=n.padInfo.left,l=n.padInfo.top,c="channelsLast"===n.dataFormat,u=xR(n.outShape,e.dtype),A=e.strides[0],d=c?e.strides[1]:e.strides[2],h=c?e.strides[2]:1,f=c?1:e.strides[1],p=u.strides[0],g=c?u.strides[1]:u.strides[2],m=c?u.strides[2]:1,v=c?1:u.strides[1],y=this.readSync(e.dataId),b=this.readSync(t.dataId),w=u.values,x=0;x<n.batchSize;++x)for(var B=x*A,C=x*p,N=0;N<n.outHeight;++N)for(var k=C+N*g,_=N*n.strideHeight-l,E=0;E<r;E++){var S=_+E*a;if(!(S<0||S>=n.inHeight))for(var F=E*t.strides[0],I=B+S*d,j=0;j<n.outWidth;++j)for(var U=k+j*m,O=j*n.strideWidth-s,P=0;P<i;P++){var L=O+P*o;if(!(L<0||L>=n.inWidth))for(var D=I+L*h,T=F+P*t.strides[1],M=0;M<n.inChannels;++M){for(var Q=y[D+M*f],R=0;R<n.outChannels;++R)w[U+R*v]+=Q*b[T+R];T+=n.outChannels}}}return u.toTensor()},t.prototype.conv3d=function(e,t,n){for(var r=n.filterDepth,i=n.filterHeight,a=n.filterWidth,o=n.dilationDepth,s=n.dilationHeight,l=n.dilationWidth,c=n.padInfo.front,u=n.padInfo.left,A=n.padInfo.top,d=xR(n.outShape,e.dtype),h=this.readSync(e.dataId),f=this.readSync(t.dataId),p=d.values,g=0;g<n.batchSize;++g)for(var m=g*e.strides[0],v=g*d.strides[0],y=0;y<n.outDepth;++y)for(var b=v+y*d.strides[1],w=y*n.strideDepth-c,x=0;x<r;x++){var B=w+x*o;if(!(B<0||B>=n.inDepth))for(var C=x*t.strides[0],N=m+B*e.strides[1],k=0;k<n.outHeight;++k)for(var _=b+k*d.strides[2],E=k*n.strideHeight-A,S=0;S<i;S++){var F=E+S*s;if(!(F<0||F>=n.inHeight))for(var I=C+S*t.strides[1],j=N+F*e.strides[2],U=0;U<n.outWidth;++U)for(var O=_+U*n.outChannels,P=U*n.strideWidth-u,L=0;L<a;L++){var D=P+L*l;if(!(D<0||D>=n.inWidth))for(var T=I+L*t.strides[2],M=j+D*n.inChannels,Q=T,R=0;R<n.inChannels;++R){for(var H=h[M+R],z=0;z<n.outChannels;++z)p[O+z]+=H*f[Q+z];Q+=n.outChannels}}}}return d.toTensor()},t.prototype.conv2dDerInput=function(e,t,n){EX([e,t],"conv2dDerInput");for(var r=xR(n.inShape,"float32"),i=r.values,a=this.readSync(e.dataId),o=this.readSync(t.dataId),s=t.strides,l=s[0],c=s[1],u=s[2],A=n.batchSize,d=n.filterHeight,h=n.filterWidth,f=n.inChannels,p=n.inHeight,g=n.inWidth,m=n.outChannels,v=n.outHeight,y=n.outWidth,b=n.strideHeight,w=n.strideWidth,x=n.dataFormat,B=d-1-n.padInfo.top,C=h-1-n.padInfo.left,N="channelsLast"===x,k=r.strides[0],_=N?r.strides[1]:r.strides[2],E=N?r.strides[2]:1,S=N?1:r.strides[1],F=e.strides[0],I=N?e.strides[1]:e.strides[2],j=N?e.strides[2]:1,U=N?1:e.strides[1],O=0;O<A;++O)for(var P=0;P<f;++P)for(var L=0;L<p;++L)for(var D=L-B,T=Math.max(0,Math.ceil(D/b)),M=Math.min(v,(d+D)/b),Q=0;Q<g;++Q){for(var R=Q-C,H=Math.max(0,Math.ceil(R/w)),z=Math.min(y,(h+R)/w),K=0,W=T;W<M;++W)for(var V=W*b-D,G=H;G<z;++G)for(var q=F*O+I*W+j*G,X=l*(d-1-V)+c*(h-1-(G*w-R))+u*P,Y=0;Y<m;++Y)K+=a[q+U*Y]*o[X+Y];i[k*O+_*L+E*Q+S*P]=K}return r.toTensor()},t.prototype.conv3dDerInput=function(e,t,n){for(var r=xR(n.inShape,"float32"),i=r.values,a=r.strides,o=a[0],s=a[1],l=a[2],c=a[3],u=this.readSync(e.dataId),A=e.strides,d=A[0],h=A[1],f=A[2],p=A[3],g=this.readSync(t.dataId),m=t.strides,v=m[0],y=m[1],b=m[2],w=m[3],x=n.batchSize,B=n.filterDepth,C=n.filterHeight,N=n.filterWidth,k=n.inChannels,_=n.inDepth,E=n.inHeight,S=n.inWidth,F=n.outChannels,I=n.outDepth,j=n.outHeight,U=n.outWidth,O=n.strideDepth,P=n.strideHeight,L=n.strideWidth,D=B-1-n.padInfo.front,T=C-1-n.padInfo.top,M=N-1-n.padInfo.left,Q=0;Q<x;++Q)for(var R=0;R<k;++R)for(var H=0;H<_;++H)for(var z=H-D,K=Math.max(0,Math.ceil(z/O)),W=Math.min(I,(B+z)/O),V=0;V<E;++V)for(var G=V-T,q=Math.max(0,Math.ceil(G/P)),X=Math.min(j,(C+G)/P),Y=0;Y<S;++Y){for(var J=Y-M,Z=Math.max(0,Math.ceil(J/L)),$=Math.min(U,(N+J)/L),ee=0,te=K;te<W;++te)for(var ne=te*O-z,re=q;re<X;++re)for(var ie=re*P-G,ae=Z;ae<$;++ae)for(var oe=d*Q+h*te+f*re+p*ae,se=v*(B-1-ne)+y*(C-1-ie)+b*(N-1-(ae*L-J))+w*R,le=0;le<F;++le)ee+=u[oe+le]*g[se+le];i[o*Q+s*H+l*V+c*Y+R]=ee}return r.toTensor()},t.prototype.conv2dDerFilter=function(e,t,n){EX([e,t],"conv2dDerFilter");for(var r=n.strideHeight,i=n.strideWidth,a=n.filterHeight,o=n.filterWidth,s="channelsLast"===n.dataFormat,l=xR(n.filterShape,"float32"),c=n.padInfo.left,u=n.padInfo.top,A=this.bufferSync(e),d=this.bufferSync(t),h=0;h<a;++h)for(var f=Math.max(0,Math.ceil((u-h)/r)),p=Math.min(n.outHeight,(n.inHeight+u-h)/r),g=0;g<o;++g)for(var m=Math.max(0,Math.ceil((c-g)/i)),v=Math.min(n.outWidth,(n.inWidth+c-g)/i),y=0;y<n.inChannels;++y)for(var b=0;b<n.outChannels;++b){for(var w=0,x=0;x<n.batchSize;++x)for(var B=f;B<p;++B)for(var C=h+B*r-u,N=m;N<v;++N){var k=g+N*i-c;w+=s?A.get(x,C,k,y)*d.get(x,B,N,b):A.get(x,y,C,k)*d.get(x,b,B,N)}l.set(w,h,g,y,b)}return l.toTensor()},t.prototype.conv3dDerFilter=function(e,t,n){for(var r=n.strideDepth,i=n.strideHeight,a=n.strideWidth,o=n.filterDepth,s=n.filterHeight,l=n.filterWidth,c=xR(n.filterShape,"float32"),u=c.values,A=c.strides,d=A[0],h=A[1],f=A[2],p=A[3],g=this.readSync(t.dataId),m=t.strides,v=m[0],y=m[1],b=m[2],w=m[3],x=this.readSync(e.dataId),B=e.strides,C=B[0],N=B[1],k=B[2],_=B[3],E=n.padInfo.front,S=n.padInfo.left,F=n.padInfo.top,I=0;I<o;++I)for(var j=Math.max(0,Math.ceil((E-I)/r)),U=Math.min(n.outDepth,(n.inDepth+E-I)/r),O=I*d,P=0;P<s;++P)for(var L=Math.max(0,Math.ceil((F-P)/i)),D=Math.min(n.outHeight,(n.inHeight+F-P)/i),T=P*h+O,M=0;M<l;++M)for(var Q=Math.max(0,Math.ceil((S-M)/a)),R=Math.min(n.outWidth,(n.inWidth+S-M)/a),H=M*f+T,z=0;z<n.inChannels;++z)for(var K=z*p+H,W=0;W<n.outChannels;++W){for(var V=0,G=0;G<n.batchSize;++G)for(var q=G*C,X=G*v,Y=j;Y<U;++Y)for(var J=(I+Y*r-E)*N+q,Z=Y*y+X,$=L;$<D;++$)for(var ee=(P+$*i-F)*k+J,te=$*b+Z,ne=Q;ne<R;++ne){var re=ne*w+te;V+=x[(M+ne*a-S)*_+ee+z]*g[re+W]}u[K+W]=V}return c.toTensor()},t.prototype.fusedDepthwiseConv2D=function(e){var t=e.input,n=e.filter,r=e.convInfo,i=e.bias,a=e.activation,o=e.preluActivationWeights,s=this.depthwiseConv2D(t,n,r);return i&&(s=this.add(s,i)),a&&(s=SX(this,s,a,o)),s},t.prototype.depthwiseConv2D=function(e,t,n){EX([e,t],"depthwiseConv2D");for(var r=n.filterHeight,i=n.filterWidth,a=n.dilationHeight,o=n.dilationWidth,s=n.padInfo.left,l=n.padInfo.top,c=n.outChannels/n.inChannels,u=xR(n.outShape,e.dtype),A=this.readSync(e.dataId),d=this.readSync(t.dataId),h=u.values,f=0;f<n.batchSize;++f)for(var p=f*e.strides[0],g=f*u.strides[0],m=0;m<n.outHeight;++m)for(var v=g+m*u.strides[1],y=m*n.strideHeight-s,b=0;b<r;++b){var w=y+b*a;if(!(w<0||w>=n.inHeight))for(var x=b*t.strides[0],B=p+w*e.strides[1],C=0;C<n.outWidth;++C)for(var N=v+C*u.strides[2],k=C*n.strideWidth-l,_=0;_<i;++_){var E=k+_*o;if(!(E<0||E>=n.inWidth))for(var S=x+_*t.strides[1],F=B+E*n.inChannels,I=N,j=S,U=0;U<n.inChannels;++U){for(var O=A[F+U],P=0;P<c;++P)h[I+P]+=O*d[j+P];I+=c,j+=c}}}return u.toTensor()},t.prototype.depthwiseConv2DDerInput=function(e,t,n){EX([e,t],"depthwiseConv2DDerInput");for(var r=xR(n.inShape,"float32"),i=r.values,a=r.strides,o=a[0],s=a[1],l=a[2],c=this.readSync(e.dataId),u=e.strides,A=u[0],d=u[1],h=u[2],f=this.readSync(t.dataId),p=t.strides,g=p[0],m=p[1],v=p[2],y=n.batchSize,b=n.filterHeight,w=n.filterWidth,x=n.inChannels,B=n.inHeight,C=n.inWidth,N=n.outChannels,k=n.outHeight,_=n.outWidth,E=n.strideHeight,S=n.strideWidth,F=b-1-n.padInfo.top,I=w-1-n.padInfo.left,j=N/x,U=0;U<y;++U)for(var O=0;O<x;++O)for(var P=0;P<B;++P)for(var L=P-F,D=Math.max(0,Math.ceil(L/E)),T=Math.min(k,(b+L)/E),M=0;M<C;++M){for(var Q=M-I,R=Math.max(0,Math.ceil(Q/S)),H=Math.min(_,(w+Q)/S),z=0,K=D;K<T;++K)for(var W=K*E-L,V=R;V<H;++V)for(var G=A*U+d*K+h*V,q=g*(b-1-W)+m*(w-1-(V*S-Q))+v*O,X=0;X<j;++X)z+=c[G+(O*j+X)]*f[q+X];i[o*U+s*P+l*M+O]=z}return r.toTensor()},t.prototype.depthwiseConv2DDerFilter=function(e,t,n){EX([e,t],"depthwiseConv2DDerFilter");for(var r=n.strideHeight,i=n.strideWidth,a=n.filterHeight,o=n.filterWidth,s=xR(n.filterShape,"float32"),l=n.padInfo.left,c=n.padInfo.top,u=n.outChannels/n.inChannels,A=this.bufferSync(e),d=this.bufferSync(t),h=0;h<a;++h)for(var f=Math.max(0,Math.ceil((c-h)/r)),p=Math.min(n.outHeight,(n.inHeight+c-h)/r),g=0;g<o;++g)for(var m=Math.max(0,Math.ceil((l-g)/i)),v=Math.min(n.outWidth,(n.inWidth+l-g)/i),y=0;y<n.outChannels;++y){for(var b=Math.trunc(y/u),w=y%u,x=0,B=0;B<n.batchSize;++B)for(var C=f;C<p;++C)for(var N=h+C*r-c,k=m;k<v;++k){var _=g+k*i-l;x+=A.get(B,N,_,b)*d.get(B,C,k,y)}s.set(x,h,g,b,w)}return s.toTensor()},t.prototype.tile=function(e,t){return EX(e,"tile"),XH(this.bufferSync(e),t)},t.prototype.pad=function(e,t,n){EX(e,"pad");var r=t.map(function(t,n){return t[0]+e.shape[n]+t[1]}),i=t.map(function(e){return e[0]}),a=this.bufferSync(e),o=xR(r,e.dtype);0!==n&&o.values.fill(n);for(var s=0;s<e.size;s++){var l=a.indexToLoc(s),c=l.map(function(e,t){return e+i[t]});o.set.apply(o,[a.get.apply(a,l)].concat(c))}return o.toTensor()},t.prototype.transpose=function(e,t){EX(e,"transpose");for(var n=new Array(e.rank),r=0;r<n.length;r++)n[r]=e.shape[t[r]];var i=this.readSync(e.dataId),a=xR(n,e.dtype),o=this.bufferSync(e);for(r=0;r<e.size;++r){for(var s=o.indexToLoc(r),l=new Array(s.length),c=0;c<l.length;c++)l[c]=s[t[c]];var u=a.locToIndex(l);a.values[u]=i[r]}return a.toTensor()},t.prototype.gather=function(e,t,n){EX([e,t],"gather");var r=e.shape.slice(),i=this.readSync(t.dataId);r[n]=i.length;for(var a=xR(r,e.dtype),o=this.bufferSync(e),s=0;s<a.size;++s){var l=a.indexToLoc(s),c=l.slice();c[n]=i[l[n]];var u=o.locToIndex(c);a.values[s]=o.values[u]}return a.toTensor()},t.prototype.batchToSpaceND=function(e,t,n){EX([e],"batchToSpaceND");var r=t.reduce(function(e,t){return e*t}),i=XR(e.shape,t,r),a=YR(i.length,t.length),o=JR(e.shape,t,r),s=ZR(n,t.length),l=$R(o,n,t.length);return e.reshape(i).transpose(a).reshape(o).slice(s,l)},t.prototype.spaceToBatchND=function(e,t,n){EX([e],"spaceToBatchND");var r=t.reduce(function(e,t){return e*t}),i=[[0,0]];i.push.apply(i,n);for(var a=1+t.length;a<e.shape.length;++a)i.push([0,0]);var o=e.pad(i),s=XR(o.shape,t,r,!1),l=YR(s.length,t.length,!1),c=JR(o.shape,t,r,!1);return o.reshape(s).transpose(l).reshape(c)},t.prototype.pool=function(e,t,n){EX(e,"pool");for(var r=t.strideHeight,i=t.strideWidth,a=t.dilationHeight,o=t.dilationWidth,s=t.effectiveFilterHeight,l=t.effectiveFilterWidth,c=t.padInfo.top,u=t.padInfo.left,A="max"===n?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,d=this.readSync(e.dataId),h=xR(t.outShape,e.dtype),f=h.values,p=t.outShape[1]*t.outShape[2]*t.outShape[3],g=t.outShape[2]*t.outShape[3],m=t.outShape[3],v=0;v<t.batchSize;++v)for(var y=v*p,b=v*e.strides[0],w=0;w<t.inChannels;++w)for(var x=0;x<t.outHeight;++x)for(var B=x*r-c,C=Math.max(0,B),N=Math.min(t.inHeight,s+B),k=y+x*g,_=0;_<t.outWidth;++_){for(var E=_*i-u,S=Math.max(0,E),F=Math.min(t.inWidth,l+E),I=A,j=0,U=0,O=C;O<N;O+=a){for(var P=b+O*e.strides[1],L=S;L<F;L+=o){var D=d[P+L*e.strides[2]+w];"max"===n&&D>I?I=D:"avg"===n&&(j+=D,U++)}if(isNaN(I))break}f[k+_*m+w]="avg"===n?j/U:I}return h.toTensor()},t.prototype.maxPool=function(e,t){return this.pool(e,t,"max")},t.prototype.maxPoolPositions=function(e,t){for(var n=xR(t.outShape,"int32"),r=t.strideHeight,i=t.strideWidth,a=t.dilationHeight,o=t.dilationWidth,s=t.effectiveFilterHeight,l=t.effectiveFilterWidth,c=t.padInfo.top,u=t.padInfo.left,A=this.bufferSync(e),d=0;d<t.batchSize;++d)for(var h=0;h<t.inChannels;++h)for(var f=0;f<t.outHeight;++f){for(var p=f*r-c,g=p;g<0;)g+=a;for(var m=Math.min(t.inHeight,s+p),v=0;v<t.outWidth;++v){for(var y=v*i-u,b=y;b<0;)b+=o;for(var w=Math.min(t.inWidth,l+y),x=Number.NEGATIVE_INFINITY,B=-1,C=g;C<m;C+=a)for(var N=C-p,k=b;k<w;k+=o){var _=k-y,E=A.get(d,C,k,h);E>x&&(x=E,B=N*l+_)}n.set(B,d,f,v,h)}}return n.toTensor()},t.prototype.maxPoolBackprop=function(e,t,n,r){EX([t,n],"maxPoolBackprop");for(var i=this.maxPoolPositions(t,r),a=r.strideHeight,o=r.strideWidth,s=r.dilationHeight,l=r.dilationWidth,c=r.effectiveFilterHeight,u=r.effectiveFilterWidth,A=u-1-r.padInfo.left,d=c-1-r.padInfo.top,h=xR(t.shape,"float32"),f=this.bufferSync(i),p=this.bufferSync(e),g=0;g<r.batchSize;++g)for(var m=0;m<r.inChannels;++m)for(var v=0;v<r.inHeight;++v)for(var y=0;y<r.inWidth;++y){for(var b=v-d,w=y-A,x=0,B=0;B<c;B+=s){var C=(b+B)/a;if(!(C<0||C>=r.outHeight||Math.floor(C)!==C))for(var N=0;N<u;N+=l){var k=(w+N)/o;if(!(k<0||k>=r.outWidth||Math.floor(k)!==k)){var _=c*u-1-f.get(g,C,k,m)===B*u+N?1:0;0!==_&&(x+=p.get(g,C,k,m)*_)}}}h.set(x,g,v,y,m)}return h.toTensor()},t.prototype.avgPoolBackprop=function(e,t,n){EX([e,t],"avgPoolBackprop");for(var r=n.strideHeight,i=n.strideWidth,a=n.filterHeight,o=n.filterWidth,s=n.dilationHeight,l=n.dilationWidth,c=n.effectiveFilterHeight,u=n.effectiveFilterWidth,A=u-1-n.padInfo.left,d=c-1-n.padInfo.top,h=xR(t.shape,"float32"),f=1/(a*o),p=this.bufferSync(e),g=0;g<n.batchSize;++g)for(var m=0;m<n.inChannels;++m)for(var v=0;v<n.inHeight;++v)for(var y=0;y<n.inWidth;++y){for(var b=v-d,w=y-A,x=0,B=0;B<c;B+=s){var C=(b+B)/r;if(!(C<0||C>=n.outHeight||Math.floor(C)!==C))for(var N=0;N<u;N+=l){var k=(w+N)/i;k<0||k>=n.outWidth||Math.floor(k)!==k||(x+=p.get(g,C,k,m))}}h.set(x*f,g,v,y,m)}return h.toTensor()},t.prototype.pool3d=function(e,t,n){EX(e,"pool3d");for(var r=t.strideDepth,i=t.strideHeight,a=t.strideWidth,o=t.dilationDepth,s=t.dilationHeight,l=t.dilationWidth,c=t.effectiveFilterDepth,u=t.effectiveFilterHeight,A=t.effectiveFilterWidth,d=t.padInfo.front,h=t.padInfo.top,f=t.padInfo.left,p="max"===n?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,g=this.readSync(e.dataId),m=xR(t.outShape,e.dtype),v=m.values,y=t.outShape[1]*t.outShape[2]*t.outShape[3]*t.outShape[4],b=t.outShape[2]*t.outShape[3]*t.outShape[4],w=t.outShape[3]*t.outShape[4],x=t.outShape[4],B=0;B<t.batchSize;++B)for(var C=B*y,N=B*e.strides[0],k=0;k<t.inChannels;++k)for(var _=0;_<t.outDepth;++_){for(var E=_*r-d,S=E;S<0;)S+=o;for(var F=Math.min(t.inDepth,c+E),I=C+_*b,j=0;j<t.outHeight;++j){for(var U=j*i-h,O=U;O<0;)O+=s;for(var P=Math.min(t.inHeight,u+U),L=I+j*w,D=0;D<t.outWidth;++D){for(var T=D*a-f,M=T;M<0;)M+=l;for(var Q=Math.min(t.inWidth,A+T),R=L+D*x,H=p,z=0,K=0,W=S;W<F;W+=o){for(var V=N+W*e.strides[1],G=O;G<P;G+=s){for(var q=V+G*e.strides[2],X=M;X<Q;X+=l){var Y=g[q+X*e.strides[3]+k];if("max"===n&&Y>H?H=Y:"avg"===n&&(z+=Y,K++),isNaN(H))break}if(isNaN(H))break}if(isNaN(H))break}v[R+k]="avg"===n?z/K:H}}}return m.toTensor()},t.prototype.avgPool3d=function(e,t){return EX(e,"avgPool3d"),this.pool3d(e,t,"avg").toFloat()},t.prototype.avgPool3dBackprop=function(e,t,n){EX([e,t],"avgPool3dBackprop");for(var r=n.strideDepth,i=n.strideHeight,a=n.strideWidth,o=n.filterDepth,s=n.filterHeight,l=n.filterWidth,c=n.dilationDepth,u=n.dilationHeight,A=n.dilationWidth,d=n.effectiveFilterDepth,h=n.effectiveFilterHeight,f=n.effectiveFilterWidth,p=d-1-n.padInfo.front,g=f-1-n.padInfo.left,m=h-1-n.padInfo.top,v=xR(t.shape,"float32"),y=1/(o*s*l),b=this.bufferSync(e),w=0;w<n.batchSize;++w)for(var x=0;x<n.inChannels;++x)for(var B=0;B<n.inDepth;++B)for(var C=0;C<n.inHeight;++C)for(var N=0;N<n.inWidth;++N){for(var k=B-p,_=C-m,E=N-g,S=0,F=0;F<d;F+=c){var I=(k+F)/r;if(!(I<0||I>=n.outDepth||Math.floor(I)!==I))for(var j=0;j<h;j+=u){var U=(_+j)/i;if(!(U<0||U>=n.outHeight||Math.floor(U)!==U))for(var O=0;O<f;O+=A){var P=(E+O)/a;P<0||P>=n.outWidth||Math.floor(P)!==P||(S+=b.get(w,I,U,P,x))}}}v.set(S*y,w,B,C,N,x)}return v.toTensor()},t.prototype.maxPool3d=function(e,t){return EX(e,"maxPool3d"),this.pool3d(e,t,"max").toFloat()},t.prototype.maxPool3dPositions=function(e,t){for(var n=xR(t.outShape,"int32"),r=t.strideDepth,i=t.strideHeight,a=t.strideWidth,o=t.dilationDepth,s=t.dilationHeight,l=t.dilationWidth,c=t.effectiveFilterDepth,u=t.effectiveFilterHeight,A=t.effectiveFilterWidth,d=t.padInfo.front,h=t.padInfo.top,f=t.padInfo.left,p=this.bufferSync(e),g=0;g<t.batchSize;++g)for(var m=0;m<t.inChannels;++m)for(var v=0;v<t.outDepth;++v){for(var y=v*r-d,b=y;b<0;)b+=o;for(var w=Math.min(t.inDepth,c+y),x=0;x<t.outHeight;++x){for(var B=x*i-h,C=B;C<0;)C+=s;for(var N=Math.min(t.inHeight,u+B),k=0;k<t.outWidth;++k){for(var _=k*a-f,E=_;E<0;)E+=l;for(var S=Math.min(t.inWidth,A+_),F=Number.NEGATIVE_INFINITY,I=-1,j=b;j<w;j+=o)for(var U=j-y,O=C;O<N;O+=s)for(var P=O-B,L=E;L<S;L+=l){var D=L-_,T=p.get(g,j,O,L,m);T>=F&&(F=T,I=U*u*A+P*u+D)}n.set(I,g,v,x,k,m)}}}return n.toTensor()},t.prototype.maxPool3dBackprop=function(e,t,n,r){EX([t,n],"maxPool3dBackprop");for(var i=this.maxPool3dPositions(t,r),a=r.strideDepth,o=r.strideHeight,s=r.strideWidth,l=r.dilationDepth,c=r.dilationHeight,u=r.dilationWidth,A=r.effectiveFilterDepth,d=r.effectiveFilterHeight,h=r.effectiveFilterWidth,f=A-1-r.padInfo.front,p=h-1-r.padInfo.left,g=d-1-r.padInfo.top,m=xR(t.shape,"float32"),v=this.bufferSync(i),y=this.bufferSync(e),b=0;b<r.batchSize;++b)for(var w=0;w<r.inChannels;++w)for(var x=0;x<r.inDepth;++x)for(var B=0;B<r.inHeight;++B)for(var C=0;C<r.inWidth;++C){for(var N=x-f,k=B-g,_=C-p,E=0,S=0;S<A;S+=l){var F=(N+S)/a;if(!(F<0||F>=r.outDepth||Math.floor(F)!==F))for(var I=0;I<d;I+=c){var j=(k+I)/o;if(!(j<0||j>=r.outHeight||Math.floor(j)!==j))for(var U=0;U<h;U+=u){var O=(_+U)/s;if(!(O<0||O>=r.outWidth||Math.floor(O)!==O)){var P=A*d*h-1-v.get(b,F,j,O,w)===S*d*h+I*h+U?1:0;0!==P&&(E+=y.get(b,F,j,O,w)*P)}}}}m.set(E,b,x,B,C,w)}return m.toTensor()},t.prototype.cast=function(e,t){return UH(e,t,this)},t.prototype.reshape=function(e,t){return OH(e,t)},t.prototype.avgPool=function(e,t){return EX(e,"avgPool"),this.pool(e,t,"avg").toFloat()},t.prototype.resizeBilinear=function(e,t,n,r){EX(e,"resizeBilinear");for(var i=e.shape,a=i[0],o=i[1],s=i[2],l=i[3],c=this.readSync(e.dataId),u=new Float32Array(uT([a,t,n,l])),A=[r&&t>1?o-1:o,r&&n>1?s-1:s],d=[r&&t>1?t-1:t,r&&n>1?n-1:n],h=0,f=A[0]/d[0],p=A[1]/d[1],g=0;g<a;g++)for(var m=0;m<t;m++)for(var v=f*m,y=Math.floor(v),b=v-y,w=Math.min(o-1,Math.ceil(v)),x=g*e.strides[0]+y*e.strides[1],B=g*e.strides[0]+w*e.strides[1],C=0;C<n;C++)for(var N=p*C,k=Math.floor(N),_=N-k,E=Math.min(s-1,Math.ceil(N)),S=x+k*e.strides[2],F=B+k*e.strides[2],I=x+E*e.strides[2],j=B+E*e.strides[2],U=0;U<l;U++){var O=c[S+U],P=c[F+U],L=O+(c[I+U]-O)*_,D=L+(P+(c[j+U]-P)*_-L)*b;u[h++]=D}return WQ(u,[a,t,n,l])},t.prototype.resizeBilinearBackprop=function(e,t,n){EX([e,t],"resizeBilinearBackprop");for(var r=t.shape,i=r[0],a=r[1],o=r[2],s=r[3],l=e.shape,c=l[1],u=l[2],A=new Float32Array(i*a*o*s),d=[n&&c>1?a-1:a,n&&u>1?o-1:o],h=[n&&c>1?c-1:c,n&&u>1?u-1:u],f=d[0]/h[0],p=d[1]/h[1],g=this.readSync(e.dataId),m=0,v=0;v<i;v++)for(var y=v*t.strides[0],b=0;b<c;b++)for(var w=b*f,x=Math.floor(w),B=Math.min(Math.ceil(w),a-1),C=y+x*t.strides[1],N=y+B*t.strides[1],k=w-x,_=1-k,E=0;E<u;E++)for(var S=E*p,F=Math.floor(S),I=Math.min(Math.ceil(S),o-1),j=S-F,U=1-j,O=C+F*t.strides[2],P=C+I*t.strides[2],L=N+F*t.strides[2],D=N+I*t.strides[2],T=_*U,M=_*j,Q=k*U,R=k*j,H=0;H<s;H++){var z=g[m++];A[O+H]+=z*T,A[P+H]+=z*M,A[L+H]+=z*Q,A[D+H]+=z*R}return JQ(A,[i,o,a,s],t.dtype)},t.prototype.resizeNearestNeighbor=function(e,t,n,r){EX(e,"resizeNearestNeighbor");for(var i=e.shape,a=i[0],o=i[1],s=i[2],l=i[3],c=this.readSync(e.dataId),u=new Float32Array(a*t*n*l),A=[r&&t>1?o-1:o,r&&n>1?s-1:s],d=[r&&t>1?t-1:t,r&&n>1?n-1:n],h=A[0]/d[0],f=A[1]/d[1],p=0,g=0;g<a;g++)for(var m=g*e.strides[0],v=0;v<t;v++)for(var y=h*v,b=m+Math.min(o-1,r?Math.round(y):Math.floor(y))*e.strides[1],w=0;w<n;w++)for(var x=f*w,B=b+Math.min(s-1,r?Math.round(x):Math.floor(x))*e.strides[2],C=0;C<l;C++){var N=c[B+C];u[p++]=N}return WQ(u,[a,t,n,l],e.dtype)},t.prototype.resizeNearestNeighborBackprop=function(e,t,n){EX([e,t],"resizeNearestNeighborBackprop");for(var r=t.shape,i=r[0],a=r[1],o=r[2],s=r[3],l=e.shape,c=l[1],u=l[2],A=new Float32Array(i*a*o*s),d=this.readSync(e.dataId),h=[n&&c>1?a-1:a,n&&u>1?o-1:o],f=[n&&c>1?c-1:c,n&&u>1?u-1:u],p=h[0]/f[0],g=h[1]/f[1],m=1/p,v=1/g,y=2*Math.ceil(m)+2,b=2*Math.ceil(v)+2,w=0;w<i;w++)for(var x=w*t.strides[0],B=0;B<a;B++)for(var C=x+B*t.strides[1],N=Math.floor(B*m),k=Math.floor(N-y/2),_=0;_<o;_++)for(var E=C+_*t.strides[2],S=Math.floor(_*v),F=Math.floor(S-b/2),I=0;I<s;I++){for(var j=0,U=0;U<y;U++){var O=U+k;if(!(O<0||O>=c)){var P=x+O*e.strides[1],L=O*p;if(B===Math.min(a-1,n?Math.round(L):Math.floor(L)))for(var D=0;D<b;D++){var T=D+F;if(!(T<0||T>=u)){var M=P+T*e.strides[2],Q=T*g;_===Math.min(o-1,n?Math.round(Q):Math.floor(Q))&&(j+=d[M+I])}}}}A[E+I]=j}return JQ(A,t.shape,t.dtype)},t.prototype.batchNormalization=function(e,t,n,r,i,a){EX([e,t,n,i,a],"batchNorm");for(var o=this.readSync(e.dataId),s=this.readSync(t.dataId),l=this.readSync(n.dataId),c=i?this.readSync(i.dataId):new Float32Array([1]),u=a?this.readSync(a.dataId):new Float32Array([0]),A=new Float32Array(o.length),d=u.length,h=c.length,f=l.length,p=s.length,g=0,m=0,v=0,y=0,b=0;b<o.length;++b)A[b]=u[g++]+(o[b]-s[m++])*c[v++]/Math.sqrt(l[y++]+r),g>=d&&(g=0),m>=p&&(m=0),v>=h&&(v=0),y>=f&&(y=0);return JQ(A,e.shape)},t.prototype.localResponseNormalization4D=function(e,t,n,r,i){EX(e,"localResponseNormalization4D");var a=e.shape[3],o=a-1,s=this.readSync(e.dataId),l=e.size,c=new Float32Array(l);function u(e){for(var n=e%a,r=e-n+Math.max(0,n-t),i=e-n+Math.min(n+t,o),l=0;r<=i;r++){var c=s[r];l+=c*c}return l}for(var A=0;A<l;A++){var d=u(A),h=s[A]*Math.pow(n+r*d,-i);c[A]=h}return JQ(c,e.shape)},t.prototype.LRNGrad=function(e,t,n,r,i,a,o){EX(e,"LRNGrad");for(var s=e.shape[3],l=this.readSync(e.dataId),c=this.readSync(t.dataId),u=this.readSync(n.dataId),A=new Float32Array(e.size),d=e.size,h=0;h<d;h++){for(var f=h%s,p=h-f+Math.max(0,f-r),g=h-f+Math.min(s,f+r+1),m=0,v=p;v<g;v++)m+=Math.pow(c[v],2);for(m=a*m+i,v=p;v<g;v++){var y=-2*a*o*c[v]*u[h]/m;h===v&&(y+=Math.pow(m,-o)),y*=l[h],A[v]+=y}}return JQ(A,e.shape)},t.prototype.multinomial=function(e,t,n,r){EX(e,"multinomial");for(var i=t?e:hH(e),a=i.shape[0],o=i.shape[1],s=$Q([a,n],"int32"),l=this.readSync(s.dataId),c=this.readSync(i.dataId),u=0;u<a;++u){var A=u*o,d=new Float32Array(o-1);d[0]=c[A];for(var h=1;h<d.length;++h)d[h]=d[h-1]+c[A+h];for(var f=vR(r.toString()),p=u*n,g=0;g<n;++g){var m=f();l[p+g]=d.length;for(var v=0;v<d.length;v++)if(m<d[v]){l[p+g]=v;break}}}return s},t.prototype.oneHot=function(e,t,n,r){EX(e,"oneHot");var i=new Float32Array(e.size*t);i.fill(r);for(var a=this.readSync(e.dataId),o=0;o<e.size;++o)a[o]>=0&&a[o]<t&&(i[o*t+a[o]]=n);return XQ(i,[e.size,t],"int32")},t.prototype.nonMaxSuppression=function(e,t,n,r,i){return EX(e,"nonMaxSuppression"),HH(this.readSync(e.dataId),this.readSync(t.dataId),n,r,i)},t.prototype.fft=function(e){return this.fftBatch(e,!1)},t.prototype.ifft=function(e){return this.fftBatch(e,!0)},t.prototype.fftBatch=function(e,t){for(var n=e.shape[0],r=e.shape[1],i=xR(e.shape,"float32"),a=xR(e.shape,"float32"),o=zQ(e).as2D(n,r),s=KQ(e).as2D(n,r),l=0;l<n;l++)for(var c=o.slice([l,0],[1,r]),u=s.slice([l,0],[1,r]),A=HQ(c,u),d=this.readSync(this.fftImpl(A,t).dataId),h=0;h<r;h++){var f=DH(d,h);i.values[l*r+h]=f.real,a.values[l*r+h]=f.imag}return HQ(i.toTensor(),a.toTensor()).as2D(n,r)},t.prototype.fftImpl=function(e,t){var n=e.as1D(),r=n.size;if(this.isExponentOf2(r)){var i=this.fftRadix2(n,r,t).as2D(e.shape[0],e.shape[1]);return t&&(i=HQ(zQ(i).div(GQ(r)),KQ(i).div(GQ(r)))),i}var a=this.readSync(e.dataId),o=function(e){for(var t=new Float32Array(e.length/2),n=new Float32Array(e.length/2),r=0;r<e.length;r+=2)t[r/2]=e[r],n[r/2]=e[r+1];return{real:t,imag:n}}(this.fourierTransformByMatmul(a,r,t));return HQ(o.real,o.imag).as2D(e.shape[0],e.shape[1])},t.prototype.isExponentOf2=function(e){return 0==(e&e-1)},t.prototype.fftRadix2=function(e,t,n){if(1===t)return e;var r=this.readSync(e.dataId),i=t/2,a=function(e){for(var t=Math.ceil(e.length/4),n=new Float32Array(t),r=new Float32Array(t),i=0;i<e.length;i+=4)n[Math.floor(i/4)]=e[i],r[Math.floor(i/4)]=e[i+1];return{real:n,imag:r}}(r),o=HQ(a.real,a.imag).as1D(),s=function(e){for(var t=Math.floor(e.length/4),n=new Float32Array(t),r=new Float32Array(t),i=2;i<e.length;i+=4)n[Math.floor(i/4)]=e[i],r[Math.floor(i/4)]=e[i+1];return{real:n,imag:r}}(r),l=HQ(s.real,s.imag).as1D();o=this.fftRadix2(o,i,n),l=this.fftRadix2(l,i,n);var c=function(e,t){for(var n=new Float32Array(e/2),r=new Float32Array(e/2),i=0;i<Math.ceil(e/2);i++){var a=(t?2:-2)*Math.PI*(i/e);n[i]=Math.cos(a),r[i]=Math.sin(a)}return{real:n,imag:r}}(t,n),u=HQ(c.real,c.imag).mul(l),A=o.add(u),d=o.sub(u),h=zQ(A).concat(zQ(d)),f=KQ(A).concat(KQ(d));return HQ(h,f).as1D()},t.prototype.fourierTransformByMatmul=function(e,t,n){for(var r=new Float32Array(2*t),i=0;i<t;i++){for(var a=0,o=0,s=0;s<t;s++){var l=MH(i*s,t,n),c=DH(e,s);a+=c.real*l.real-c.imag*l.imag,o+=c.real*l.imag+c.imag*l.real}n&&(a/=t,o/=t),TH(r,a,o,i)}return r},t.prototype.depthToSpace=function(e,t,n){oT("NHWC"===n,function(){return"Only NHWC dataFormat supported on CPU for depthToSpace. Got "+n}),oT(t>1,function(){return"blockSize should be > 1 for depthToSpace, but was: "+t});for(var r=e.shape[0],i=e.shape[1],a=e.shape[2],o=e.shape[3],s=i*t,l=a*t,c=o/(t*t),u=this.readSync(e.dataId),A=new Float32Array(r*s*l*c),d=0,h=0;h<r;++h)for(var f=0;f<s;++f)for(var p=Math.floor(f/t),g=f%t,m=0;m<l;++m)for(var v=Math.floor(m/t),y=(g*t+m%t)*c,b=0;b<c;++b){var w=b+y+o*(v+a*(p+i*h));A[d++]=u[w]}return JQ(A,[r,s,l,c])},t.prototype.broadcastedBinaryOp=function(e,t,n,r){var i=bH(e.shape,t.shape),a=xR(i,n),o=this.readSync(e.dataId),s=this.readSync(t.dataId),l=vH(e.shape,i),c=vH(t.shape,i),u=a.values;if(l.length+c.length===0)for(var A=0;A<u.length;++A)u[A]=r(o[A%o.length],s[A%s.length]);else{var d=this.bufferSync(e),h=this.bufferSync(t),f=function(n){var i=a.indexToLoc(n),A=i.slice(-e.rank);l.forEach(function(e){return A[e]=0});var f=d.locToIndex(A),p=i.slice(-t.rank);c.forEach(function(e){return p[e]=0});var g=h.locToIndex(p);u[n]=r(o[f],s[g])};for(A=0;A<u.length;++A)f(A)}return a.toTensor()},t.prototype.broadcastedBinaryComplexOp=function(e,t,n){var r=bH(e.shape,t.shape),i=xR(r,"float32"),a=xR(r,"float32"),o=this.readSync(e.dataId),s=this.readSync(t.dataId),l=vH(e.shape,r),c=vH(t.shape,r),u=i.values,A=a.values;if(l.length+c.length===0)for(var d=0;d<u.length;d++){var h=d%o.length,f=d%s.length,p=n(o[2*h],o[2*h+1],s[2*f],s[2*f+1]);u[d]=p.real,A[d]=p.imag}else{var g=this.bufferSync(this.data.get(e.dataId).complexTensors.real),m=this.bufferSync(this.data.get(t.dataId).complexTensors.real),v=function(r){var a=i.indexToLoc(r),d=a.slice(-e.rank);l.forEach(function(e){return d[e]=0});var h=g.locToIndex(d),f=a.slice(-t.rank);c.forEach(function(e){return f[e]=0});var p=m.locToIndex(f),v=n(o[2*h],o[2*h+1],s[2*p],s[2*p+1]);u[r]=v.real,A[r]=v.imag};for(d=0;d<u.length;d++)v(d)}return this.complex(i.toTensor(),a.toTensor())},t.prototype.split=function(e,t,n){return qH(e,t,n)},t.prototype.dispose=function(){},t.prototype.floatPrecision=function(){return 32},t.prototype.epsilon=function(){return 1e-7},t.prototype.cropAndResize=function(e,t,n,r,i,a){for(var o=e.shape,s=o[0],l=o[1],c=o[2],u=o[3],A=t.shape[0],d=r[0],h=r[1],f=xR([A,d,h,u],"float32"),p=this.readSync(t.dataId),g=this.readSync(n.dataId),m=this.readSync(e.dataId),v=e.strides,y=f.strides,b=0;b<A;b++){var w=4*b,x=p[w],B=p[w+1],C=p[w+2],N=p[w+3],k=g[b];if(!(k>=s))for(var _=d>1?(C-x)*(l-1)/(d-1):0,E=h>1?(N-B)*(c-1)/(h-1):0,S=0;S<d;S++){var F=d>1?x*(l-1)+S*_:.5*(x+C)*(l-1);if(F<0||F>l-1)for(var I=0;I<h;I++)for(var j=0;j<u;j++){var U=j+I*y[2]+S*y[1]+b*y[0];f.values[U]=a}else if("bilinear"===i){var O=Math.floor(F),P=Math.ceil(F),L=F-O;for(I=0;I<h;I++)if((W=h>1?B*(c-1)+I*E:.5*(B+N)*(c-1))<0||W>c-1)for(j=0;j<u;j++)U=j+I*y[2]+S*y[1]+b*y[0],f.values[U]=a;else{var D=Math.floor(W),T=Math.ceil(W),M=W-D;for(j=0;j<u;j++){var Q=m[U=j+D*v[2]+O*v[1]+k*v[0]],R=m[U=j+T*v[2]+O*v[1]+k*v[0]],H=m[U=j+D*v[2]+P*v[1]+k*v[0]],z=Q+(R-Q)*M,K=H+(m[U=j+T*v[2]+P*v[1]+k*v[0]]-H)*M;U=j+I*y[2]+S*y[1]+b*y[0],f.values[U]=z+(K-z)*L}}}else for(I=0;I<h;++I){var W;if((W=h>1?B*(c-1)+I*E:.5*(B+N)*(c-1))<0||W>c-1)for(j=0;j<u;j++)U=j+I*y[2]+S*y[1]+b*y[0],f.values[U]=a;else{var V=Math.round(W),G=Math.round(F);for(j=0;j<u;j++){var q=j+V*v[2]+G*v[1]+k*v[0],X=j+I*y[2]+S*y[1]+b*y[0];f.values[X]=m[q]}}}}}return f.toTensor()},t.prototype.sparseToDense=function(e,t,n,r){var i=iH(0,e,n),a=i.sliceRank,o=i.numUpdates,s=i.sliceSize,l=i.strides,c=i.outputSize;return this.scatter(e,t,n,c,s,o,a,l,r,!1)},t.prototype.gatherND=function(e,t){var n=t.shape,r=n[n.length-1],i=eH(e,t),a=i[0],o=i[1],s=i[2],l=i[3];if(0===o)return WQ([],a,e.dtype);for(var c=new YT([o,s],e.dtype),u=this.readSync(t.dataId),A=this.readSync(e.dataId),d=0;d<o;d++){for(var h=[],f=0,p=0;p<r;p++){var g=u[d*r+p];f+=g*l[p],h.push(g)}if(f<0||f>=e.size/s)throw new Error("Invalid indices: "+h+" does not index into "+e.shape);for(var m=0;m<s;m++)c.values[d*s+m]=A[f*s+m]}return c.toTensor().reshape(a)},t.prototype.scatterND=function(e,t,n){var r=iH(0,e,n),i=r.sliceRank,a=r.numUpdates,o=r.sliceSize,s=r.strides,l=r.outputSize,c=GQ(0);return this.scatter(e,t,n,l,o,a,i,s,c,!0)},t.prototype.fill=function(e,t,n){var r=wT(n=n||IT(t),uT(e));return r.fill(t),gM.makeTensor(r,e,n,this)},t.prototype.onesLike=function(e){if("string"===e.dtype)throw new Error("onesLike is not supported for string tensors");return this.fill(e.shape,1,e.dtype)},t.prototype.zerosLike=function(e){var t=wT(e.dtype,uT(e.shape));return this.makeOutput(t,e.shape,e.dtype)},t.prototype.linspace=function(e,t,n){return PH(e,t,n)},t.prototype.scatter=function(e,t,n,r,i,a,o,s,l,c){var u=[r/i,i],A=this.readSync(e.dataId),d=this.readSync(t.dataId);if(0===r)return WQ([],n,t.dtype);var h=new YT(u,t.dtype);h.values.fill(this.readSync(l.dataId)[0]);for(var f=0;f<a;f++){for(var p=[],g=0,m=0;m<o;m++){var v=A[f*o+m];p.push(v),g+=v*s[m]}if(g<0||g>=r/i)throw new Error("Invalid indices: "+p+" does not index into "+n);for(var y=0;y<i;y++)c?h.values[g*i+y]+=d[f*i+y]:h.values[g*i+y]=0===t.rank?d[0]:d[f*i+y]}return h.toTensor().reshape(n)},t}(gH);gM.registerBackend("cpu",function(){return new FX},1);for(var IX=0,jX=[{kernelName:"NonMaxSuppressionV5",backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t,a=i.boxes,o=i.scores,s=r,l=s.maxOutputSize,c=s.iouThreshold,u=s.scoreThreshold,A=s.softNmsSigma,d=n;EX(a,"NonMaxSuppressionWithScore");var h=zH(d.data.get(a.dataId).values,d.data.get(o.dataId).values,l,c,u,A);return[h.selectedIndices,h.selectedScores]}},{kernelName:"Square",backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.x,i=n;EX(r,"square");for(var a=i.data.get(r.dataId).values,o=new Float32Array(a.length),s=0;s<a.length;++s){var l=a[s];o[s]=l*l}return{dataId:i.write(o,r.shape,r.dtype),shape:r.shape,dtype:r.dtype}}},{kernelName:zW,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t,i=r.a,a=r.b,o=n;EX([i,a],zW);var s=o.data.get(i.dataId).values,l=o.data.get(a.dataId).values,c=function(e,t,n,r,i,a){var o=bH(e,t),s=o.length,l=OT(o),c=bT(i,uT(o)),u=e.length,A=t.length,d=OT(e),h=OT(t),f=vH(e,o),p=vH(t,o);if(f.length+p.length===0)for(var g=0;g<c.length;++g)c[g]=a(n[g%n.length],r[g%r.length]);else{var m=function(e){var t=KT(e,s,l),i=t.slice(-u);f.forEach(function(e){return i[e]=0});var o=zT(i,u,d),g=t.slice(-A);p.forEach(function(e){return g[e]=0});var m=zT(g,A,h);c[e]=a(n[o],r[m])};for(g=0;g<c.length;++g)m(g)}return[c,o]}(i.shape,a.shape,s,l,i.dtype,function(e,t){var n=e-t;return n*n}),u=c[0],A=c[1];return{dataId:o.write(u,A,i.dtype),shape:A,dtype:i.dtype}}}];IX<jX.length;IX++)$D(jX[IX]);for(var UX,OX=function(e){this.variableNames=["A"];var t=rz(),n=e[0],r=e[1];this.outputShape=e,this.userCode="\n      void main() {\n        ivec3 coords = getOutputCoords();\n        int texR = coords[0];\n        int texC = coords[1];\n        int depth = coords[2];\n        vec2 uv = (vec2(texC, texR) + halfCR) / vec2("+r+".0, "+n+".0);\n\n        vec4 values = "+t.texture2D+"(A, uv);\n        float value;\n        if (depth == 0) {\n          value = values.r;\n        } else if (depth == 1) {\n          value = values.g;\n        } else if (depth == 2) {\n          value = values.b;\n        } else if (depth == 3) {\n          value = values.a;\n        }\n\n        setOutput(floor(value * 255.0 + 0.5));\n      }\n    "},PX=function(e){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0;var t=rz(),n=e[0],r=e[1];this.outputShape=e,this.userCode="\n      void main() {\n        ivec3 coords = getOutputCoords();\n        int texR = coords[0];\n        int texC = coords[1];\n        int depth = coords[2];\n\n        vec4 result = vec4(0.);\n\n        for(int row=0; row<=1; row++) {\n          for(int col=0; col<=1; col++) {\n            texC = coords[1] + row;\n            depth = coords[2] + col;\n\n            vec2 uv = (vec2(texC, texR) + halfCR) /\n                       vec2("+r+".0, "+n+".0);\n            vec4 values = "+t.texture2D+"(A, uv);\n            float value;\n            if (depth == 0) {\n              value = values.r;\n            } else if (depth == 1) {\n              value = values.g;\n            } else if (depth == 2) {\n              value = values.b;\n            } else if (depth == 3) {\n              value = values.a;\n            }\n\n            result[row * 2 + col] = floor(value * 255.0 + 0.5);\n          }\n        }\n\n        "+t.output+" = result;\n      }\n    "},LX=0,DX=[{kernelName:"FromPixels",backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.pixels,a=r.numChannels,o="undefined"!=typeof HTMLVideoElement&&i instanceof HTMLVideoElement,s="undefined"!=typeof HTMLImageElement&&i instanceof HTMLImageElement,l=o?[i.videoWidth,i.videoHeight]:[i.width,i.height],c=l[0],u=l[1],A=[u,c],d=[u,c,a];(s||o)&&(null==UX&&(UX=document.createElement("canvas").getContext("2d")),UX.canvas.width=c,UX.canvas.height=u,UX.drawImage(i,0,0,c,u),i=UX.canvas);var h=n.makeTensorInfo(A,"int32");n.texData.get(h.dataId).usage=bM.PIXELS,n.gpgpu.uploadPixelDataToTexture(n.getTexture(h.dataId),i);var f=GD().getBool("WEBGL_PACK")?new PX(d):new OX(d),p=n.runWebGLProgram(f,[h],"int32");return n.disposeData(h.dataId),p}},{kernelName:"NonMaxSuppressionV5",backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs;kQ("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");var i=t,a=i.boxes,o=i.scores,s=r,l=s.maxOutputSize,c=s.iouThreshold,u=s.scoreThreshold,A=s.softNmsSigma,d=n,h=zH(d.readSync(a.dataId),d.readSync(o.dataId),l,c,u,A);return[h.selectedIndices,h.selectedScores]}},{kernelName:"Square",backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.x,i=n,a=new hW(r.shape,"return x * x;");return i.runWebGLProgram(a,[r],r.dtype)}},{kernelName:zW,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t,i=r.a,a=r.b,o=n,s=GD().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new Iz("return (a - b) * (a - b);",i.shape,a.shape):new Sz("return (a - b) * (a - b);",i.shape,a.shape);return o.compileAndRun(s,[i,a])}}];LX<DX.length;LX++)$D(DX[LX]);for(var TX=0,MX=[{kernelName:"Square",gradFunc:function(e,t){var n=t[0];return{x:function(){return e.mul(n.toFloat().mul(2))}}}},{kernelName:zW,gradFunc:function(e,t){var n=t[0],r=t[1],i=GQ(2);return{a:function(){return aG(e,aG(i,uG(n,r)))},b:function(){return aG(e,aG(i,uG(r,n)))}}}}];TX<MX.length;TX++)eT(MX[TX]);var QX=function(){function e(){}return e.prototype.fetch=function(e,t){return fetch(e,t)},e.prototype.now=function(){return performance.now()},e.prototype.encode=function(e,t){if("utf-8"!==t&&"utf8"!==t)throw new Error("Browser's encoder only supports utf-8, but got "+t);return null==this.textEncoder&&(this.textEncoder=new TextEncoder),this.textEncoder.encode(e)},e.prototype.decode=function(e,t){return new TextDecoder(t).decode(e)},e}();GD().get("IS_BROWSER")&&GD().setPlatform("browser",new QX);var RX,HX=function(){function e(){this.util=n(3886),this.textEncoder=new this.util.TextEncoder}return e.prototype.fetch=function(e,t){return null!=GD().global.fetch?GD().global.fetch(e,t):(null==RX&&(RX=n(1065)),RX(e,t))},e.prototype.now=function(){var e=process.hrtime();return 1e3*e[0]+e[1]/1e6},e.prototype.encode=function(e,t){if("utf-8"!==t&&"utf8"!==t)throw new Error("Node built-in encoder only supports utf-8, but got "+t);return this.textEncoder.encode(e)},e.prototype.decode=function(e,t){return 0===e.length?"":new this.util.TextDecoder(t).decode(e)},e}();GD().get("IS_NODE")&&GD().setPlatform("node",new HX);var zX={float32:4,int32:4,uint16:2,uint8:1,bool:1};function KX(e,t){for(var n={},r=0,i=function(t){var i=t.name,a=t.dtype,o=t.shape,s=uT(o),l=void 0;if("quantization"in t){var c=t.quantization;if("uint8"!==c.dtype&&"uint16"!==c.dtype)throw new Error("Weight "+t.name+" has unknown quantization dtype "+c.dtype+". Supported quantization dtypes are: 'uint8' and 'uint16'.");var u=zX[c.dtype],A=e.slice(r,r+s*u),d="uint8"===c.dtype?new Uint8Array(A):new Uint16Array(A);if("float32"===a)l=Float32Array.from(d,function(e){return e*c.scale+c.min});else{if("int32"!==a)throw new Error("Unsupported dtype in weight '"+i+"': "+a);l=Int32Array.from(d,function(e){return Math.round(e*c.scale+c.min)})}r+=s*u}else if("string"===a){var h=uT(t.shape);l=[];for(var f=0;f<h;f++){var p=new Uint32Array(e.slice(r,r+4))[0];r+=4;var g=new Uint8Array(e.slice(r,r+p));l.push(g),r+=p}}else{var m=zX[a];if(A=e.slice(r,r+s*m),"float32"===a)l=new Float32Array(A);else if("int32"===a)l=new Int32Array(A);else{if("bool"!==a)throw new Error("Unsupported dtype in weight '"+i+"': "+a);l=new Uint8Array(A)}r+=s*m}n[i]=WQ(l,o,a)},a=0,o=t;a<o.length;a++)i(o[a]);return n}function WX(e){if(null===e)throw new Error("Invalid input value: "+JSON.stringify(e));var t=0,n=[];e.forEach(function(e){if(t+=e.byteLength,n.push(e.byteLength===e.buffer.byteLength?e:new e.constructor(e)),!(e instanceof Float32Array||e instanceof Int32Array||e instanceof Uint8Array))throw new Error("Unsupported TypedArray subtype: "+e.constructor.name)});var r=new Uint8Array(t),i=0;return n.forEach(function(e){r.set(new Uint8Array(e.buffer),i),i+=e.byteLength}),r.buffer}var VX="undefined"!=typeof Buffer&&("undefined"==typeof Blob||"undefined"==typeof atob||"undefined"==typeof btoa);function GX(e){return VX?Buffer.byteLength(e):new Blob([e]).size}function qX(e){var t=0;e.forEach(function(e){t+=e.byteLength});var n=new Uint8Array(t),r=0;return e.forEach(function(e){n.set(new Uint8Array(e),r),r+=e.byteLength}),n.buffer}function XX(e){for(e=e.trim();e.endsWith("/");)e=e.slice(0,e.length-1);var t=e.split("/");return t[t.length-1]}function YX(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("Expected JSON model topology, received ArrayBuffer.");return{dateSaved:new Date,modelTopologyType:"JSON",modelTopologyBytes:null==e.modelTopology?0:GX(JSON.stringify(e.modelTopology)),weightSpecsBytes:null==e.weightSpecs?0:GX(JSON.stringify(e.weightSpecs)),weightDataBytes:null==e.weightData?0:e.weightData.byteLength}}var JX=function(){function e(){this.saveRouters=[],this.loadRouters=[]}return e.getInstance=function(){return null==e.instance&&(e.instance=new e),e.instance},e.registerSaveRouter=function(t){e.getInstance().saveRouters.push(t)},e.registerLoadRouter=function(t){e.getInstance().loadRouters.push(t)},e.getSaveHandlers=function(t){return e.getHandlers(t,"save")},e.getLoadHandlers=function(t,n){return e.getHandlers(t,"load",n)},e.getHandlers=function(t,n,r){var i=[];return("load"===n?e.getInstance().loadRouters:e.getInstance().saveRouters).forEach(function(e){var n=e(t,r);null!==n&&i.push(n)}),i},e}(),ZX="://",$X=function(){function e(){this.managers={}}return e.getInstance=function(){return null==e.instance&&(e.instance=new e),e.instance},e.registerManager=function(t,n){oT(null!=t,function(){return"scheme must not be undefined or null."}),t.endsWith(ZX)&&(t=t.slice(0,t.indexOf(ZX))),oT(t.length>0,function(){return"scheme must not be an empty string."});var r=e.getInstance();oT(null==r.managers[t],function(){return"A model store manager is already registered for scheme '"+t+"'."}),r.managers[t]=n},e.getManager=function(e){var t=this.getInstance().managers[e];if(null==t)throw new Error("Cannot find model manager for scheme '"+e+"'");return t},e.getSchemes=function(){return Object.keys(this.getInstance().managers)},e}();function eY(e){if(-1===e.indexOf(ZX))throw new Error("The url string provided does not contain a scheme. Supported schemes are: "+$X.getSchemes().join(","));return{scheme:e.split(ZX)[0],path:e.split(ZX)[1]}}function tY(e,t,n){return void 0===n&&(n=!1),KD(this,void 0,void 0,function(){var r,i,a,o,s,l,c,u,A;return WD(this,function(d){switch(d.label){case 0:return oT(e!==t,function(){return"Old path and new path are the same: '"+e+"'"}),oT((r=JX.getLoadHandlers(e)).length>0,function(){return"Copying failed because no load handler is found for source URL "+e+"."}),oT(r.length<2,function(){return"Copying failed because more than one ("+r.length+") load handlers for source URL "+e+"."}),i=r[0],oT((a=JX.getSaveHandlers(t)).length>0,function(){return"Copying failed because no save handler is found for destination URL "+t+"."}),oT(a.length<2,function(){return"Copying failed because more than one ("+r.length+") save handlers for destination URL "+t+"."}),o=a[0],s=eY(e).scheme,l=eY(e).path,c=s===eY(e).scheme,[4,i.load()];case 1:return u=d.sent(),n&&c?[4,$X.getManager(s).removeModel(l)]:[3,3];case 2:d.sent(),d.label=3;case 3:return[4,o.save(u)];case 4:return A=d.sent(),!n||c?[3,6]:[4,$X.getManager(s).removeModel(l)];case 5:d.sent(),d.label=6;case 6:return[2,A.modelArtifactsInfo]}})})}var nY="models_store",rY="model_info_store";function iY(){if(!GD().getBool("IS_BROWSER"))throw new Error("Failed to obtain IndexedDB factory because the current environmentis not a web browser.");var e=window||self,t=e.indexedDB||e.mozIndexedDB||e.webkitIndexedDB||e.msIndexedDB||e.shimIndexedDB;if(null==t)throw new Error("The current browser does not appear to support IndexedDB.");return t}function aY(e){var t=e.result;t.createObjectStore(nY,{keyPath:"modelPath"}),t.createObjectStore(rY,{keyPath:"modelPath"})}var oY=function(){function e(e){if(this.indexedDB=iY(),null==e||!e)throw new Error("For IndexedDB, modelPath must not be null, undefined or empty.");this.modelPath=e}return e.prototype.save=function(e){return KD(this,void 0,void 0,function(){return WD(this,function(t){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");return[2,this.databaseAction(this.modelPath,e)]})})},e.prototype.load=function(){return KD(this,void 0,void 0,function(){return WD(this,function(e){return[2,this.databaseAction(this.modelPath)]})})},e.prototype.databaseAction=function(e,t){var n=this;return new Promise(function(e,r){var i=n.indexedDB.open("tensorflowjs",1);i.onupgradeneeded=function(){return aY(i)},i.onsuccess=function(){var a=i.result;if(null==t){var o=a.transaction(nY,"readonly"),s=o.objectStore(nY).get(n.modelPath);s.onsuccess=function(){if(null==s.result)return a.close(),r(new Error("Cannot find model with path '"+n.modelPath+"' in IndexedDB."));e(s.result.modelArtifacts)},s.onerror=function(e){return a.close(),r(s.error)},o.oncomplete=function(){return a.close()}}else{var l,c=YX(t),u=a.transaction(rY,"readwrite"),A=u.objectStore(rY),d=A.put({modelPath:n.modelPath,modelArtifactsInfo:c});d.onsuccess=function(){var i=(l=a.transaction(nY,"readwrite")).objectStore(nY).put({modelPath:n.modelPath,modelArtifacts:t,modelArtifactsInfo:c});i.onsuccess=function(){return e({modelArtifactsInfo:c})},i.onerror=function(e){var t=(A=u.objectStore(rY)).delete(n.modelPath);t.onsuccess=function(){return a.close(),r(i.error)},t.onerror=function(e){return a.close(),r(i.error)}}},d.onerror=function(e){return a.close(),r(d.error)},u.oncomplete=function(){null==l?a.close():l.oncomplete=function(){return a.close()}}}},i.onerror=function(e){return r(i.error)}})},e.URL_SCHEME="indexeddb://",e}(),sY=function(e){return GD().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(oY.URL_SCHEME)?(t=e.slice(oY.URL_SCHEME.length),new oY(t)):null;var t};JX.registerSaveRouter(sY),JX.registerLoadRouter(sY);var lY=function(){function e(){this.indexedDB=iY()}return e.prototype.listModels=function(){return KD(this,void 0,void 0,function(){var e=this;return WD(this,function(t){return[2,new Promise(function(t,n){var r=e.indexedDB.open("tensorflowjs",1);r.onupgradeneeded=function(){return aY(r)},r.onsuccess=function(){var e=r.result,i=e.transaction(rY,"readonly"),a=i.objectStore(rY).getAll();a.onsuccess=function(){for(var e={},n=0,r=a.result;n<r.length;n++){var i=r[n];e[i.modelPath]=i.modelArtifactsInfo}t(e)},a.onerror=function(t){return e.close(),n(a.error)},i.oncomplete=function(){return e.close()}},r.onerror=function(e){return n(r.error)}})]})})},e.prototype.removeModel=function(e){return KD(this,void 0,void 0,function(){var t=this;return WD(this,function(n){var r;return e=(r=e).startsWith(oY.URL_SCHEME)?r.slice(oY.URL_SCHEME.length):r,[2,new Promise(function(n,r){var i=t.indexedDB.open("tensorflowjs",1);i.onupgradeneeded=function(){return aY(i)},i.onsuccess=function(){var t,a=i.result,o=a.transaction(rY,"readwrite"),s=o.objectStore(rY),l=s.get(e);l.onsuccess=function(){if(null==l.result)return a.close(),r(new Error("Cannot find model with path '"+e+"' in IndexedDB."));var i=s.delete(e),o=function(){var i=(t=a.transaction(nY,"readwrite")).objectStore(nY).delete(e);i.onsuccess=function(){return n(l.result.modelArtifactsInfo)},i.onerror=function(e){return r(l.error)}};i.onsuccess=o,i.onerror=function(e){return o(),a.close(),r(l.error)}},l.onerror=function(e){return a.close(),r(l.error)},o.oncomplete=function(){null==t?a.close():t.oncomplete=function(){return a.close()}}},i.onerror=function(e){return r(i.error)}})]})})},e}();if(GD().getBool("IS_BROWSER"))try{$X.registerManager(oY.URL_SCHEME,new lY)}catch(HD){}var cY="/",uY="tensorflowjs_models",AY="info",dY="model_topology",hY="weight_specs",fY="weight_data",pY="model_metadata";function gY(e){return{info:[uY,e,AY].join(cY),topology:[uY,e,dY].join(cY),weightSpecs:[uY,e,hY].join(cY),weightData:[uY,e,fY].join(cY),modelMetadata:[uY,e,pY].join(cY)}}function mY(e){var t=e.split(cY);if(t.length<3)throw new Error("Invalid key format: "+e);return t.slice(1,t.length-1).join(cY)}var vY=function(){function e(e){if(!GD().getBool("IS_BROWSER")||"undefined"==typeof window||void 0===window.localStorage)throw new Error("The current environment does not support local storage.");if(this.LS=window.localStorage,null==e||!e)throw new Error("For local storage, modelPath must not be null, undefined or empty.");this.modelPath=e,this.keys=gY(this.modelPath)}return e.prototype.save=function(e){return KD(this,void 0,void 0,function(){var t,n,r;return WD(this,function(i){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");t=JSON.stringify(e.modelTopology),n=JSON.stringify(e.weightSpecs),r=YX(e);try{return this.LS.setItem(this.keys.info,JSON.stringify(r)),this.LS.setItem(this.keys.topology,t),this.LS.setItem(this.keys.weightSpecs,n),this.LS.setItem(this.keys.weightData,function(e){if(VX)return Buffer.from(e).toString("base64");for(var t=new Uint8Array(e),n="",r=0,i=t.length;r<i;r++)n+=String.fromCharCode(t[r]);return btoa(n)}(e.weightData)),this.LS.setItem(this.keys.modelMetadata,JSON.stringify({format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,userDefinedMetadata:e.userDefinedMetadata})),[2,{modelArtifactsInfo:r}]}catch(e){throw this.LS.removeItem(this.keys.info),this.LS.removeItem(this.keys.topology),this.LS.removeItem(this.keys.weightSpecs),this.LS.removeItem(this.keys.weightData),this.LS.removeItem(this.keys.modelMetadata),new Error("Failed to save model '"+this.modelPath+"' to local storage: size quota being exceeded is a possible cause of this failure: modelTopologyBytes="+r.modelTopologyBytes+", weightSpecsBytes="+r.weightSpecsBytes+", weightDataBytes="+r.weightDataBytes+".")}})})},e.prototype.load=function(){return KD(this,void 0,void 0,function(){var e,t,n,r,i,a,o;return WD(this,function(s){if(null==(e=JSON.parse(this.LS.getItem(this.keys.info))))throw new Error("In local storage, there is no model with name '"+this.modelPath+"'");if("JSON"!==e.modelTopologyType)throw new Error("BrowserLocalStorage does not support loading non-JSON model topology yet.");if(t={},null==(n=JSON.parse(this.LS.getItem(this.keys.topology))))throw new Error("In local storage, the topology of model '"+this.modelPath+"' is missing.");if(t.modelTopology=n,null==(r=JSON.parse(this.LS.getItem(this.keys.weightSpecs))))throw new Error("In local storage, the weight specs of model '"+this.modelPath+"' are missing.");if(t.weightSpecs=r,null!=(i=this.LS.getItem(this.keys.modelMetadata))&&(a=JSON.parse(i),t.format=a.format,t.generatedBy=a.generatedBy,t.convertedBy=a.convertedBy,t.userDefinedMetadata=a.userDefinedMetadata),null==(o=this.LS.getItem(this.keys.weightData)))throw new Error("In local storage, the binary weight values of model '"+this.modelPath+"' are missing.");return t.weightData=function(e){if(VX){var t=Buffer.from(e,"base64");return t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength)}for(var n=atob(e),r=new Uint8Array(n.length),i=0;i<n.length;++i)r.set([n.charCodeAt(i)],i);return r.buffer}(o),[2,t]})})},e.URL_SCHEME="localstorage://",e}(),yY=function(e){return GD().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(vY.URL_SCHEME)?(t=e.slice(vY.URL_SCHEME.length),new vY(t)):null;var t};JX.registerSaveRouter(yY),JX.registerLoadRouter(yY);var bY=function(){function e(){oT(GD().getBool("IS_BROWSER"),function(){return"Current environment is not a web browser"}),oT("undefined"==typeof window||void 0!==window.localStorage,function(){return"Current browser does not appear to support localStorage"}),this.LS=window.localStorage}return e.prototype.listModels=function(){return KD(this,void 0,void 0,function(){var e,t,n,r,i,a;return WD(this,function(o){for(e={},t=uY+cY,n=cY+AY,r=0;r<this.LS.length;++r)(i=this.LS.key(r)).startsWith(t)&&i.endsWith(n)&&(a=mY(i),e[a]=JSON.parse(this.LS.getItem(i)));return[2,e]})})},e.prototype.removeModel=function(e){return KD(this,void 0,void 0,function(){var t,n;return WD(this,function(r){var i;if(e=(i=e).startsWith(vY.URL_SCHEME)?i.slice(vY.URL_SCHEME.length):i,t=gY(e),null==this.LS.getItem(t.info))throw new Error("Cannot find model at path '"+e+"'");return n=JSON.parse(this.LS.getItem(t.info)),this.LS.removeItem(t.info),this.LS.removeItem(t.topology),this.LS.removeItem(t.weightSpecs),this.LS.removeItem(t.weightData),[2,n]})})},e}();if(GD().getBool("IS_BROWSER"))try{$X.registerManager(vY.URL_SCHEME,new bY)}catch(HD){}function wY(e){return new Promise(function(e){return setTimeout(e)}).then(e)}var xY=function(){function e(t){if(!GD().getBool("IS_BROWSER"))throw new Error("browserDownloads() cannot proceed because the current environment is not a browser.");t.startsWith(e.URL_SCHEME)&&(t=t.slice(e.URL_SCHEME.length)),null!=t&&0!==t.length||(t="model"),this.modelTopologyFileName=t+".json",this.weightDataFileName=t+".weights.bin"}return e.prototype.save=function(e){return KD(this,void 0,void 0,function(){var t,n,r,i,a,o;return WD(this,function(s){switch(s.label){case 0:if("undefined"==typeof document)throw new Error("Browser downloads are not supported in this environment since `document` is not present");if(t=window.URL.createObjectURL(new Blob([e.weightData],{type:"application/octet-stream"})),!(e.modelTopology instanceof ArrayBuffer))return[3,1];throw new Error("BrowserDownloads.save() does not support saving model topology in binary formats yet.");case 1:return n=[{paths:["./"+this.weightDataFileName],weights:e.weightSpecs}],r={modelTopology:e.modelTopology,format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,weightsManifest:n},i=window.URL.createObjectURL(new Blob([JSON.stringify(r)],{type:"application/json"})),(a=null==this.jsonAnchor?document.createElement("a"):this.jsonAnchor).download=this.modelTopologyFileName,a.href=i,[4,wY(function(){return a.dispatchEvent(new MouseEvent("click"))})];case 2:return s.sent(),null==e.weightData?[3,4]:((o=null==this.weightDataAnchor?document.createElement("a"):this.weightDataAnchor).download=this.weightDataFileName,o.href=t,[4,wY(function(){return o.dispatchEvent(new MouseEvent("click"))})]);case 3:s.sent(),s.label=4;case 4:return[2,{modelArtifactsInfo:YX(e)}]}})})},e.URL_SCHEME="downloads://",e}(),BY=function(){function e(e){if(null==e||e.length<1)throw new Error("When calling browserFiles, at least 1 file is required, but received "+e);this.files=e}return e.prototype.load=function(){return KD(this,void 0,void 0,function(){var e,t,n=this;return WD(this,function(r){return e=this.files[0],t=this.files.slice(1),[2,new Promise(function(r,i){var a=new FileReader;a.onload=function(a){var o=JSON.parse(a.target.result),s=o.modelTopology;if(null!=s){0===t.length&&r({modelTopology:s});var l=o.weightsManifest;if(null!=l){var c;try{c=n.checkManifestAndWeightFiles(l,t)}catch(e){return void i(e)}var u=[],A=[],d=[];l.forEach(function(e){e.paths.forEach(function(e){A.push(e),d.push(null)}),u.push.apply(u,e.weights)}),l.forEach(function(e){e.paths.forEach(function(e){var t=new FileReader;t.onload=function(t){var n=t.target.result,i=A.indexOf(e);d[i]=n,-1===d.indexOf(null)&&r({modelTopology:s,weightSpecs:u,weightData:qX(d),format:o.format,generatedBy:o.generatedBy,convertedBy:o.convertedBy,userDefinedMetadata:o.userDefinedMetadata})},t.onerror=function(t){return i("Failed to weights data from file of path '"+e+"'.")},t.readAsArrayBuffer(c[e])})})}else i(new Error("weightManifest field is missing from file "+e.name))}else i(new Error("modelTopology field is missing from file "+e.name))},a.onerror=function(t){return i("Failed to read model topology and weights manifest JSON from file '"+e.name+"'. BrowserFiles supports loading Keras-style tf.Model artifacts only.")},a.readAsText(e)})]})})},e.prototype.checkManifestAndWeightFiles=function(e,t){for(var n=[],r=t.map(function(e){return XX(e.name)}),i={},a=0,o=e;a<o.length;a++)o[a].paths.forEach(function(e){var a=XX(e);if(-1!==n.indexOf(a))throw new Error("Duplicate file basename found in weights manifest: '"+a+"'");if(n.push(a),-1===r.indexOf(a))throw new Error("Weight file with basename '"+a+"' is not provided.");i[e]=t[r.indexOf(a)]});if(n.length!==t.length)throw new Error("Mismatch in the number of files in weights manifest ("+n.length+") and the number of weight files provided ("+t.length+").");return i},e}();function CY(e,t,n,r){!function(e){oT(null!=e&&Array.isArray(e)&&e.length>0,function(){return"promises must be a none empty array"})}(e),function(e,t){oT(e>=0&&e<=1,function(){return"Progress fraction must be in range [0, 1], but got startFraction "+e}),oT(t>=0&&t<=1,function(){return"Progress fraction must be in range [0, 1], but got endFraction "+t}),oT(t>=e,function(){return"startFraction must be no more than endFraction, but got startFraction "+e+" and endFraction "+t})}(n=null==n?0:n,r=null==r?1:r);var i=0;return Promise.all(e.map(function(a){return a.then(function(a){var o=n+ ++i/e.length*(r-n);return t(o),a}),a}))}function NY(e,t){return KD(this,void 0,void 0,function(){var n,r,i,a,o,s,l,c,u;return WD(this,function(A){switch(A.label){case 0:return null==t&&(t={}),n=null==t.fetchFunc?GD().platform.fetch:t.fetchFunc,r=e.map(function(e){return n(e,t.requestInit,{isBinary:!0})}),i=0,a=.5,null!=t.onProgress?[3,2]:[4,Promise.all(r)];case 1:return o=A.sent(),[3,4];case 2:return[4,CY(r,t.onProgress,i,a)];case 3:o=A.sent(),A.label=4;case 4:return s=o.map(function(e){return e.arrayBuffer()}),l=.5,c=1,null!=t.onProgress?[3,6]:[4,Promise.all(s)];case 5:return u=A.sent(),[3,8];case 6:return[4,CY(s,t.onProgress,l,c)];case 7:u=A.sent(),A.label=8;case 8:return[2,u]}})})}function kY(e){var t=this;return function(n,r,i){return void 0===r&&(r=""),KD(t,void 0,void 0,function(){var t,a,o,s,l,c,u,A,d,h;return WD(this,function(f){switch(f.label){case 0:if(t=n.map(function(){return!1}),a={},o=null!=i?i.map(function(){return!1}):[],s=[],n.forEach(function(e,n){var r=0;e.weights.forEach(function(e){var l="quantization"in e?e.quantization.dtype:e.dtype,c=zX[l]*uT(e.shape),u=function(){t[n]=!0,null==a[n]&&(a[n]=[]),a[n].push({manifestEntry:e,groupOffset:r,sizeBytes:c})};null!=i?i.forEach(function(t,n){t===e.name&&(u(),o[n]=!0)}):u(),s.push(e.name),r+=c})}),!o.every(function(e){return e}))throw l=i.filter(function(e,t){return!o[t]}),new Error("Could not find weights in manifest with names: "+l.join(", ")+". \nManifest JSON has weights with names: "+s.join(", ")+".");return c=t.reduce(function(e,t,n){return t&&e.push(n),e},[]),u=[],c.forEach(function(e){n[e].paths.forEach(function(e){var t=r+(r.endsWith("/")?"":"/")+e;u.push(t)})}),[4,e(u)];case 1:return A=f.sent(),d={},h=0,c.forEach(function(e){for(var t=n[e].paths.length,r=0,i=0;i<t;i++)r+=A[h+i].byteLength;for(var o=new ArrayBuffer(r),s=new Uint8Array(o),l=0,c=0;c<t;c++){var u=new Uint8Array(A[h+c]);s.set(u,l),l+=u.byteLength}a[e].forEach(function(e){var t=KX(o.slice(e.groupOffset,e.groupOffset+e.sizeBytes),[e.manifestEntry]);for(var n in t)d[n]=t[n]}),h+=t}),[2,d]}})})}}JX.registerSaveRouter(function(e){return GD().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(xY.URL_SCHEME)?function(e){return void 0===e&&(e="model"),new xY(e)}(e.slice(xY.URL_SCHEME.length)):null});var _Y=function(){function e(e,t){if(this.DEFAULT_METHOD="POST",null==t&&(t={}),this.weightPathPrefix=t.weightPathPrefix,this.onProgress=t.onProgress,null!=t.fetchFunc?(oT("function"==typeof t.fetchFunc,function(){return"Must pass a function that matches the signature of `fetch` (see https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API)"}),this.fetch=t.fetchFunc):this.fetch=GD().platform.fetch,oT(null!=e&&e.length>0,function(){return"URL path for http must not be null, undefined or empty."}),Array.isArray(e)&&oT(2===e.length,function(){return"URL paths for http must have a length of 2, (actual length is "+e.length+")."}),this.path=e,null!=t.requestInit&&null!=t.requestInit.body)throw new Error("requestInit is expected to have no pre-existing body, but has one.");this.requestInit=t.requestInit||{}}return e.prototype.save=function(e){return KD(this,void 0,void 0,function(){var t,n,r,i;return WD(this,function(a){switch(a.label){case 0:if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserHTTPRequest.save() does not support saving model topology in binary formats yet.");return(t=Object.assign({method:this.DEFAULT_METHOD},this.requestInit)).body=new FormData,n=[{paths:["./model.weights.bin"],weights:e.weightSpecs}],r={modelTopology:e.modelTopology,format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,userDefinedMetadata:e.userDefinedMetadata,weightsManifest:n},t.body.append("model.json",new Blob([JSON.stringify(r)],{type:"application/json"}),"model.json"),null!=e.weightData&&t.body.append("model.weights.bin",new Blob([e.weightData],{type:"application/octet-stream"}),"model.weights.bin"),[4,this.fetch(this.path,t)];case 1:if((i=a.sent()).ok)return[2,{modelArtifactsInfo:YX(e),responses:[i]}];throw new Error("BrowserHTTPRequest.save() failed due to HTTP response status "+i.status+".")}})})},e.prototype.load=function(){return KD(this,void 0,void 0,function(){var e,t,n,r,i,a,o,s,l,c,u,A;return WD(this,function(d){switch(d.label){case 0:return[4,this.fetch(this.path,this.requestInit)];case 1:if(!(e=d.sent()).ok)throw new Error("Request to "+this.path+" failed with status code "+e.status+". Please verify this URL points to the model JSON of the model to load.");d.label=2;case 2:return d.trys.push([2,4,,5]),[4,e.json()];case 3:return t=d.sent(),[3,5];case 4:throw d.sent(),n="Failed to parse model JSON of response from "+this.path+".",this.path.endsWith(".pb")?n+=" Your path contains a .pb file extension. Support for .pb models have been removed in TensorFlow.js 1.0 in favor of .json models. You can re-convert your Python TensorFlow model using the TensorFlow.js 1.0 conversion scripts or you can convert your.pb models with the 'pb2json'NPM script in the tensorflow/tfjs-converter repository.":n+=" Please make sure the server is serving valid JSON for this request.",new Error(n);case 5:if(r=t.modelTopology,i=t.weightsManifest,a=t.generatedBy,o=t.convertedBy,s=t.format,l=t.userDefinedMetadata,null==r&&null==i)throw new Error("The JSON from HTTP path "+this.path+" contains neither model topology or manifest for weights.");return null==i?[3,7]:[4,this.loadWeights(i)];case 6:A=d.sent(),c=A[0],u=A[1],d.label=7;case 7:return[2,{modelTopology:r,weightSpecs:c,weightData:u,userDefinedMetadata:l,generatedBy:a,convertedBy:o,format:s}]}})})},e.prototype.loadWeights=function(e){return KD(this,void 0,void 0,function(){var t,n,r,i,a,o,s,l,c,u,A;return WD(this,function(d){switch(d.label){case 0:for(t=Array.isArray(this.path)?this.path[1]:this.path,n=function(e){var t=e.lastIndexOf("/"),n=e.lastIndexOf("?");return[e.substring(0,t)+"/",n>t?e.substring(n):""]}(t),r=n[0],i=n[1],a=this.weightPathPrefix||r,o=[],s=0,l=e;s<l.length;s++)c=l[s],o.push.apply(o,c.weights);return u=[],e.forEach(function(e){e.paths.forEach(function(e){u.push(a+e+i)})}),[4,NY(u,{requestInit:this.requestInit,fetchFunc:this.fetch,onProgress:this.onProgress})];case 1:return A=d.sent(),[2,[o,qX(A)]]}})})},e.URL_SCHEME_REGEX=/^https?:\/\//,e}();function EY(e){return null!=e.match(_Y.URL_SCHEME_REGEX)}var SY=function(e,t){return"undefined"==typeof fetch?null:(Array.isArray(e)?e.every(function(e){return EY(e)}):EY(e))?FY(e,{onProgress:t}):null};function FY(e,t){return new _Y(e,t)}JX.registerSaveRouter(SY),JX.registerLoadRouter(SY);var IY,jY=function(){function e(e){this.modelArtifacts=e}return e.prototype.load=function(){return KD(this,void 0,void 0,function(){return WD(this,function(e){return[2,this.modelArtifacts]})})},e}(),UY=function(){function e(e){this.saveHandler=e}return e.prototype.save=function(e){return KD(this,void 0,void 0,function(){return WD(this,function(t){return[2,this.saveHandler(e)]})})},e}(),OY=Object.freeze({browserFiles:function(e){return new BY(e)},browserHTTPRequest:function(e,t){return FY(e,t)},concatenateArrayBuffers:qX,decodeWeights:KX,encodeWeights:function(e,t){return KD(this,void 0,void 0,function(){var n,r,i,a,o,s=this;return WD(this,function(l){switch(l.label){case 0:for(n=[],r=[],i=Array.isArray(e)?e.map(function(e){return e.name}):Object.keys(e),a=function(a){var o=i[a],l=Array.isArray(e)?e[a].tensor:e[o];if("float32"!==l.dtype&&"int32"!==l.dtype&&"bool"!==l.dtype&&"string"!==l.dtype)throw new Error("Unsupported dtype in weight '"+o+"': "+l.dtype);var c={name:o,shape:l.shape,dtype:l.dtype};if("string"===l.dtype){var u=new Promise(function(e){return KD(s,void 0,void 0,function(){var t,n,r,i,a,o,s;return WD(this,function(c){switch(c.label){case 0:return[4,l.bytes()];case 1:for(t=c.sent(),n=t.reduce(function(e,t){return e+t.length},0)+4*t.length,r=new Uint8Array(n),i=0,a=0;a<t.length;a++)o=t[a],s=new Uint8Array(new Uint32Array([o.length]).buffer),r.set(s,i),i+=4,r.set(o,i),i+=o.length;return e(r),[2]}})})});r.push(u)}else r.push(l.data());null!=t&&(c.group=t),n.push(c)},o=0;o<i.length;++o)a(o);return[4,Promise.all(r)];case 1:return[2,{data:WX(l.sent()),specs:n}]}})})},fromMemory:function(e,t,n,r){return 1===arguments.length?null!=e.modelTopology||null!=e.weightSpecs?new jY(e):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new jY({modelTopology:e})):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new jY({modelTopology:e,weightSpecs:t,weightData:n,trainingConfig:r}))},getLoadHandlers:function(e,t){return JX.getLoadHandlers(e,t)},getModelArtifactsInfoForJSON:YX,getSaveHandlers:function(e){return JX.getSaveHandlers(e)},http:FY,isHTTPScheme:EY,loadWeights:function(e,t,n,r){return void 0===t&&(t=""),KD(this,void 0,void 0,function(){return WD(this,function(i){return[2,kY(function(e){return NY(e,{requestInit:r})})(e,t,n)]})})},registerLoadRouter:function(e){return JX.registerLoadRouter(e)},registerSaveRouter:function(e){return JX.registerSaveRouter(e)},weightsLoaderFactory:kY,withSaveHandler:function(e){return new UY(e)},copyModel:function(e,t){return KD(this,void 0,void 0,function(){return WD(this,function(n){return[2,tY(e,t,!1)]})})},listModels:function(){return KD(this,void 0,void 0,function(){var e,t,n,r,i,a,o;return WD(this,function(s){switch(s.label){case 0:e=$X.getSchemes(),t={},n=0,r=e,s.label=1;case 1:return n<r.length?(i=r[n],[4,$X.getManager(i).listModels()]):[3,4];case 2:for(o in a=s.sent())t[i+ZX+o]=a[o];s.label=3;case 3:return n++,[3,1];case 4:return[2,t]}})})},moveModel:function(e,t){return KD(this,void 0,void 0,function(){return WD(this,function(n){return[2,tY(e,t,!0)]})})},removeModel:function(e){return KD(this,void 0,void 0,function(){var t;return WD(this,function(n){return t=eY(e),[2,$X.getManager(t.scheme).removeModel(t.path)]})})}}),PY=RQ({confusionMatrix_:function(e,t,n){var r=SQ(e,"labels","confusionMatrix"),i=SQ(t,"predictions","confusionMatrix");oT(null==n||n>0&&Number.isInteger(n),function(){return"If provided, numClasses must be a positive integer, but got "+n}),oT(1===r.rank,function(){return"Expected the rank of labels to be 1, but got "+r.rank}),oT(1===i.rank,function(){return"Expected the rank of predictions to be 1, but got "+i.rank}),oT(r.shape[0]===i.shape[0],function(){return"Mismatch in the number of examples: "+r.shape[0]+" vs. "+i.shape[0]+". Labels and predictions should have the same number of elements."}),oT(n>0&&Number.isInteger(n),function(){return"numClasses is required to be a positive integer, but got "+n});var a=jR(r.asType("int32"),n),o=jR(i.asType("int32"),n);return a.transpose().matMul(o).asType("int32")}}),LY=(Object.freeze({confusionMatrix:PY}),RQ({fromPixels_:function(e,t){if(void 0===t&&(t=3),t>4)throw new Error("Cannot construct Tensor with more than 4 channels from pixels.");if(null==e)throw new Error("pixels passed to tf.browser.fromPixels() can not be null");var n=!1,r=!1,i=!1,a=!1,o=!1;if(e.data instanceof Uint8Array)n=!0;else if("undefined"!=typeof ImageData&&e instanceof ImageData)r=!0;else if("undefined"!=typeof HTMLVideoElement&&e instanceof HTMLVideoElement)i=!0;else if("undefined"!=typeof HTMLImageElement&&e instanceof HTMLImageElement)a=!0;else{if(null==e.getContext)throw new Error("pixels passed to tf.browser.fromPixels() must be either an HTMLVideoElement, HTMLImageElement, HTMLCanvasElement, ImageData in browser, or OffscreenCanvas, ImageData in webworker or {data: Uint32Array, width: number, height: number}, but was "+e.constructor.name);o=!0}if(i&&i&&e.readyState<2)throw new Error("The video element has not loaded data yet. Please wait for `loadeddata` event on the <video> element.");if(null!=JD("FromPixels",gM.backendName))return gM.runKernel("FromPixels",{pixels:e},{numChannels:t});var s,l,c=i?[e.videoWidth,e.videoHeight]:[e.width,e.height],u=c[0],A=c[1];if(o?s=e.getContext("2d").getImageData(0,0,u,A).data:r||n?s=e.data:(a||i)&&(null==IY&&(IY=document.createElement("canvas").getContext("2d")),IY.canvas.width=u,IY.canvas.height=A,IY.drawImage(e,0,0,u,A),s=IY.getImageData(0,0,u,A).data),4===t)l=new Int32Array(s);else{var d=u*A;l=new Int32Array(d*t);for(var h=0;h<d;h++)for(var f=0;f<t;++f)l[h*t+f]=s[4*h+f]}return YQ(l,[A,u,t],"int32")}})),DY=Object.freeze({toPixels:function(e,t){return KD(this,void 0,void 0,function(){var n,r,i,a,o,s,l,c,u,A,d,h,f,p,g,m,v,y,b,w,x,B,C;return WD(this,function(N){switch(N.label){case 0:if(n=SQ(e,"img","toPixels"),e instanceof eM||(n=n.toInt()),2!==n.rank&&3!==n.rank)throw new Error("toPixels only supports rank 2 or 3 tensors, got rank "+n.rank+".");if(r=n.shape.slice(0,2),i=r[0],a=r[1],(o=2===n.rank?1:n.shape[2])>4||2===o)throw new Error("toPixels only supports depth of size 1, 3 or 4 but got "+o);return[4,n.data()];case 1:return s=N.sent(),l=n.min(),c=n.max(),[4,Promise.all([l.data(),c.data()])];case 2:if(u=N.sent(),A=u[0],d=u[1],h=A[0],f=d[0],l.dispose(),c.dispose(),"float32"===n.dtype){if(h<0||f>1)throw new Error("Tensor values for a float32 Tensor must be in the range [0 - 1] but got range ["+h+" - "+f+"].")}else{if("int32"!==n.dtype)throw new Error("Unsupported type for toPixels: "+n.dtype+". Please use float32 or int32 tensors.");if(h<0||f>255)throw new Error("Tensor values for a int32 Tensor must be in the range [0 - 255] but got range ["+h+" - "+f+"].")}for(p="float32"===n.dtype?255:1,g=new Uint8ClampedArray(a*i*4),m=0;m<i*a;++m)v=void 0,y=void 0,b=void 0,w=void 0,1===o?(v=s[m]*p,y=s[m]*p,b=s[m]*p,w=255):3===o?(v=s[3*m]*p,y=s[3*m+1]*p,b=s[3*m+2]*p,w=255):4===o&&(v=s[4*m]*p,y=s[4*m+1]*p,b=s[4*m+2]*p,w=s[4*m+3]*p),g[0+(x=4*m)]=Math.round(v),g[x+1]=Math.round(y),g[x+2]=Math.round(b),g[x+3]=Math.round(w);return null!=t&&(t.width=a,t.height=i,B=t.getContext("2d"),C=new ImageData(g,a,i),B.putImageData(C,0,0)),n!==e&&n.dispose(),[2,g]}})})},fromPixels:LY}),TY=function(){function e(){}return e.prototype.getClassName=function(){return this.constructor.className},e.fromConfig=function(e,t){return new e(t)},e}(),MY=function(){function e(){this.classNameMap={}}return e.getMap=function(){return null==e.instance&&(e.instance=new e),e.instance},e.register=function(t){e.getMap().classNameMap[t.className]=[t,t.fromConfig]},e}();function QY(e){oT(null!=e.className,function(){return"Class being registered does not have the static className property defined."}),oT("string"==typeof e.className,function(){return"className is required to be a string, but got type "+typeof e.className}),oT(e.className.length>0,function(){return"Class being registered has an empty-string as its className, which is disallowed."}),MY.register(e)}Object.freeze({Serializable:TY,SerializationMap:MY,registerClass:QY});function RY(){return 32===gM.backend.floatPrecision()?.001:.1}function HY(e,t,n){var r=!0;if((NT(e)||NT(t))&&(r=!1),NT(e)&&NT(t)&&(r=!0),r){var i=e.constructor.name,a=t.constructor.name;if(i!==a)throw new Error("Arrays are of different type. Actual: "+i+". Expected: "+a)}if(Array.isArray(e)&&Array.isArray(t)){var o=_Q(e),s=_Q(t);if(!AT(o,s))throw new Error("Arrays have different shapes. Actual: ["+o+"]. Expected: ["+s+"]")}var l=NT(e)?e:cT(e),c=NT(t)?t:cT(t);if(l.length!==c.length)throw new Error("Arrays have different lengths actual: "+l.length+" vs expected: "+c.length+".\nActual:   "+l+".\nExpected: "+c+".");for(var u=0;u<c.length;++u){var A=l[u],d=c[u];if(!n(A,d))throw new Error("Arrays differ: actual["+u+"] = "+A+", expected["+u+"] = "+d+".\nActual:   "+l+".\nExpected: "+c+".")}}function zY(e,t,n){return!isFinite(e)&&!isFinite(t)||!(isNaN(e)||isNaN(t)||Math.abs(e-t)>n)}Object.freeze({TEST_EPSILON_FLOAT16:.1,expectArraysClose:function(e,t,n){return null==n&&(n=RY()),HY(e,t,function(e,t){return zY(e,t,n)})},testEpsilon:RY,expectPromiseToFail:function(e,t){e().then(function(){return t.fail()},function(){return t()})},expectArraysEqual:function(e,t){var n="string"==typeof t||"number"==typeof t||"boolean"==typeof t?[t]:t;return ET(e)||ET(e[0])||ET(t)||ET(t[0])?HY(e,n,function(e,t){return e==t}):HY(e,t,function(e,t){return zY(e,t,0)})},expectNumbersClose:function(e,t,n){if(null==n&&(n=RY()),!zY(e,t,n))throw new Error("Numbers differ: actual === "+e+", expected === "+t)},expectValuesInRange:function(e,t,n){for(var r=0;r<e.length;r++)if(e[r]<t||e[r]>n)throw new Error("Value out of range:"+e[r]+" low: "+t+", high: "+n)},expectArrayBuffersEqual:function(e,t){expect(new Float32Array(e)).toEqual(new Float32Array(t))}}),Object.freeze({gpgpu_util:kK,webgl_util:yQ,forceHalfFloat:function(){GD().set("WEBGL_FORCE_F16_TEXTURES",!0)},MathBackendWebGL:RW,setWebGLContext:CM,GPGPUContext:_K});var KY=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return zD(t,e),t.prototype.minimize=function(e,t,n){void 0===t&&(t=!1);var r=this.computeGradients(e,n),i=r.value,a=r.grads;if(null!=n){var o=n.map(function(e){return{name:e.name,tensor:a[e.name]}});this.applyGradients(o)}else this.applyGradients(a);return BQ(a),t?i:(i.dispose(),null)},Object.defineProperty(t.prototype,"iterations",{get:function(){return null==this.iterations_&&(this.iterations_=0),this.iterations_},enumerable:!0,configurable:!0}),t.prototype.incrementIterations=function(){this.iterations_=this.iterations+1},t.prototype.computeGradients=function(e,t){return function(e,t){oT(jT(e),function(){return"The f passed in variableGrads(f) must be a function"}),oT(null==t||Array.isArray(t)&&t.every(function(e){return e instanceof oM}),function(){return"The varList passed in variableGrads(f, varList) must be an array of variables"});var n=null!=t;if(!n)for(var r in t=[],gM.registeredVariables)t.push(gM.registeredVariables[r]);var i=n?t.filter(function(e){return!e.trainable}):null,a=t.length;oT((t=t.filter(function(e){return e.trainable})).length>0,function(){return"variableGrads() expects at least one of the input variables to be trainable, but none of the "+a+" variables is trainable."});var o=gM.gradients(e,t,null,!0),s=o.value,l=o.grads;oT(l.some(function(e){return null!=e}),function(){return"Cannot find a connection between any variable and the result of the loss function y=f(x). Please make sure the operations that use variables are inside the function f passed to minimize()."}),oT(0===s.rank,function(){return"The f passed in variableGrads(f) must return a scalar, but it returned a rank-"+s.rank+" tensor"});var c={};return t.forEach(function(e,t){null!=l[t]&&(c[e.name]=l[t])}),null!=i&&i.forEach(function(e){return c[e.name]=null}),{value:s,grads:c}}(e,t)},t.prototype.dispose=function(){null!=this.iterations_&&BQ(this.iterations_)},t.prototype.saveIterations=function(){return KD(this,void 0,void 0,function(){return WD(this,function(e){return null==this.iterations_&&(this.iterations_=0),[2,{name:"iter",tensor:GQ(this.iterations_,"int32")}]})})},t.prototype.getWeights=function(){return KD(this,void 0,void 0,function(){return WD(this,function(e){throw new Error("getWeights() is not implemented for this optimizer yet.")})})},t.prototype.setWeights=function(e){return KD(this,void 0,void 0,function(){return WD(this,function(e){throw new Error("setWeights() is not implemented for this optimizer class "+this.getClassName())})})},t.prototype.extractIterations=function(e){return KD(this,void 0,void 0,function(){var t;return WD(this,function(n){switch(n.label){case 0:return t=this,[4,e[0].tensor.data()];case 1:return t.iterations_=n.sent()[0],[2,e.slice(1)]}})})},t}(TY);Object.defineProperty(KY,Symbol.hasInstance,{value:function(e){return null!=e.minimize&&null!=e.computeGradients&&null!=e.applyGradients}});var WY=function(e){function t(t,n,r){void 0===r&&(r=null);var i=e.call(this)||this;return i.learningRate=t,i.rho=n,i.epsilon=r,i.accumulatedGrads=[],i.accumulatedUpdates=[],null==r&&(i.epsilon=gM.backend.epsilon()),i}return zD(t,e),t.prototype.applyGradients=function(e){var t=this;(Array.isArray(e)?e.map(function(e){return e.name}):Object.keys(e)).forEach(function(n,r){var i=gM.registeredVariables[n];null==t.accumulatedGrads[r]&&(t.accumulatedGrads[r]={originalName:n+"/accum_grad",variable:xQ(function(){return rR(i).variable(!1)})}),null==t.accumulatedUpdates[r]&&(t.accumulatedUpdates[r]={originalName:n+"/accum_var",variable:xQ(function(){return rR(i).variable(!1)})});var a=Array.isArray(e)?e[r].tensor:e[n];if(null!=a){var o=t.accumulatedGrads[r].variable,s=t.accumulatedUpdates[r].variable;xQ(function(){var e=o.mul(t.rho).add(a.square().mul(1-t.rho)),n=s.add(t.epsilon).sqrt().div(o.add(t.epsilon).sqrt()).mul(a),r=s.mul(t.rho).add(n.square().mul(1-t.rho));o.assign(e),s.assign(r);var l=n.mul(-t.learningRate).add(i);i.assign(l)})}}),this.incrementIterations()},t.prototype.dispose=function(){null!=this.accumulatedUpdates&&(BQ(this.accumulatedGrads.map(function(e){return e.variable})),BQ(this.accumulatedUpdates.map(function(e){return e.variable})))},t.prototype.getWeights=function(){return KD(this,void 0,void 0,function(){var e;return WD(this,function(t){switch(t.label){case 0:return e=this.accumulatedGrads.concat(this.accumulatedUpdates),[4,this.saveIterations()];case 1:return[2,[t.sent()].concat(e.map(function(e){return{name:e.originalName,tensor:e.variable}}))]}})})},t.prototype.setWeights=function(e){return KD(this,void 0,void 0,function(){var t;return WD(this,function(n){switch(n.label){case 0:return[4,this.extractIterations(e)];case 1:return e=n.sent(),t=e.length/2,this.accumulatedGrads=e.slice(0,t).map(function(e){return{originalName:e.name,variable:e.tensor.variable(!1)}}),this.accumulatedUpdates=e.slice(t,2*t).map(function(e){return{originalName:e.name,variable:e.tensor.variable(!1)}}),[2]}})})},t.prototype.getConfig=function(){return{learningRate:this.learningRate,rho:this.rho,epsilon:this.epsilon}},t.fromConfig=function(e,t){return new e(t.learningRate,t.rho,t.epsilon)},t.className="Adadelta",t}(KY);QY(WY);var VY=function(e){function t(t,n){void 0===n&&(n=.1);var r=e.call(this)||this;return r.learningRate=t,r.initialAccumulatorValue=n,r.accumulatedGrads=[],r}return zD(t,e),t.prototype.applyGradients=function(e){var t=this;(Array.isArray(e)?e.map(function(e){return e.name}):Object.keys(e)).forEach(function(n,r){var i=gM.registeredVariables[n];null==t.accumulatedGrads[r]&&(t.accumulatedGrads[r]={originalName:n+"/accumulator",variable:xQ(function(){return eR(i.shape,t.initialAccumulatorValue).variable(!1)})});var a=Array.isArray(e)?e[r].tensor:e[n];if(null!=a){var o=t.accumulatedGrads[r].variable;xQ(function(){var e=o.add(a.square());o.assign(e);var n=a.div(e.add(gM.backend.epsilon()).sqrt()).mul(-t.learningRate).add(i);i.assign(n)})}}),this.incrementIterations()},t.prototype.dispose=function(){null!=this.accumulatedGrads&&BQ(this.accumulatedGrads.map(function(e){return e.variable}))},t.prototype.getWeights=function(){return KD(this,void 0,void 0,function(){return WD(this,function(e){switch(e.label){case 0:return[4,this.saveIterations()];case 1:return[2,[e.sent()].concat(this.accumulatedGrads.map(function(e){return{name:e.originalName,tensor:e.variable}}))]}})})},t.prototype.setWeights=function(e){return KD(this,void 0,void 0,function(){return WD(this,function(t){switch(t.label){case 0:return[4,this.extractIterations(e)];case 1:return e=t.sent(),this.accumulatedGrads=e.map(function(e){return{originalName:e.name,variable:e.tensor.variable(!1)}}),[2]}})})},t.prototype.getConfig=function(){return{learningRate:this.learningRate,initialAccumulatorValue:this.initialAccumulatorValue}},t.fromConfig=function(e,t){return new e(t.learningRate,t.initialAccumulatorValue)},t.className="Adagrad",t}(KY);QY(VY);var GY=function(e){function t(t,n,r,i){void 0===i&&(i=null);var a=e.call(this)||this;return a.learningRate=t,a.beta1=n,a.beta2=r,a.epsilon=i,a.accumulatedFirstMoment=[],a.accumulatedSecondMoment=[],xQ(function(){a.accBeta1=GQ(n).variable(),a.accBeta2=GQ(r).variable()}),null==i&&(a.epsilon=gM.backend.epsilon()),a}return zD(t,e),t.prototype.applyGradients=function(e){var t=this,n=Array.isArray(e)?e.map(function(e){return e.name}):Object.keys(e);xQ(function(){var r=uG(1,t.accBeta1),i=uG(1,t.accBeta2);n.forEach(function(n,a){var o=gM.registeredVariables[n];null==t.accumulatedFirstMoment[a]&&(t.accumulatedFirstMoment[a]={originalName:n+"/m",variable:xQ(function(){return rR(o).variable(!1)})}),null==t.accumulatedSecondMoment[a]&&(t.accumulatedSecondMoment[a]={originalName:n+"/v",variable:xQ(function(){return rR(o).variable(!1)})});var s=Array.isArray(e)?e[a].tensor:e[n];if(null!=s){var l=t.accumulatedFirstMoment[a].variable,c=t.accumulatedSecondMoment[a].variable,u=l.mul(t.beta1).add(s.mul(1-t.beta1)),A=c.mul(t.beta2).add(s.square().mul(1-t.beta2)),d=u.div(r),h=A.div(i);l.assign(u),c.assign(A);var f=d.div(h.sqrt().add(t.epsilon)).mul(-t.learningRate).add(o);o.assign(f)}}),t.accBeta1.assign(t.accBeta1.mul(t.beta1)),t.accBeta2.assign(t.accBeta2.mul(t.beta2))}),this.incrementIterations()},t.prototype.dispose=function(){this.accBeta1.dispose(),this.accBeta2.dispose(),null!=this.accumulatedFirstMoment&&BQ(this.accumulatedFirstMoment.map(function(e){return e.variable})),null!=this.accumulatedSecondMoment&&BQ(this.accumulatedSecondMoment.map(function(e){return e.variable}))},t.prototype.getWeights=function(){return KD(this,void 0,void 0,function(){var e;return WD(this,function(t){switch(t.label){case 0:return e=this.accumulatedFirstMoment.concat(this.accumulatedSecondMoment),[4,this.saveIterations()];case 1:return[2,[t.sent()].concat(e.map(function(e){return{name:e.originalName,tensor:e.variable}}))]}})})},t.prototype.setWeights=function(e){return KD(this,void 0,void 0,function(){var t,n=this;return WD(this,function(r){switch(r.label){case 0:return[4,this.extractIterations(e)];case 1:return e=r.sent(),xQ(function(){n.accBeta1.assign(sG(n.beta1,n.iterations_+1)),n.accBeta2.assign(sG(n.beta2,n.iterations_+1))}),t=e.length/2,this.accumulatedFirstMoment=e.slice(0,t).map(function(e){return{originalName:e.name,variable:e.tensor.variable(!1)}}),this.accumulatedSecondMoment=e.slice(t,2*t).map(function(e){return{originalName:e.name,variable:e.tensor.variable(!1)}}),[2]}})})},t.prototype.getConfig=function(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon}},t.fromConfig=function(e,t){return new e(t.learningRate,t.beta1,t.beta2,t.epsilon)},t.className="Adam",t}(KY);QY(GY);var qY=function(e){function t(t,n,r,i,a){void 0===i&&(i=null),void 0===a&&(a=0);var o=e.call(this)||this;return o.learningRate=t,o.beta1=n,o.beta2=r,o.epsilon=i,o.decay=a,o.accumulatedFirstMoment=[],o.accumulatedWeightedInfNorm=[],xQ(function(){o.iteration=GQ(0).variable(),o.accBeta1=GQ(n).variable()}),null==i&&(o.epsilon=gM.backend.epsilon()),o}return zD(t,e),t.prototype.applyGradients=function(e){var t=this,n=Array.isArray(e)?e.map(function(e){return e.name}):Object.keys(e);xQ(function(){var r=uG(1,t.accBeta1),i=XV(-t.learningRate,t.iteration.mul(t.decay).add(1));n.forEach(function(n,a){var o=gM.registeredVariables[n];null==t.accumulatedFirstMoment[a]&&(t.accumulatedFirstMoment[a]={originalName:n+"/m",variable:rR(o).variable(!1)}),null==t.accumulatedWeightedInfNorm[a]&&(t.accumulatedWeightedInfNorm[a]={originalName:n+"/v",variable:rR(o).variable(!1)});var s=Array.isArray(e)?e[a].tensor:e[n];if(null!=s){var l=t.accumulatedFirstMoment[a].variable,c=t.accumulatedWeightedInfNorm[a].variable,u=l.mul(t.beta1).add(s.mul(1-t.beta1)),A=c.mul(t.beta2),d=s.abs(),h=A.maximum(d);l.assign(u),c.assign(h);var f=i.div(r).mul(u.div(h.add(t.epsilon))).add(o);o.assign(f)}}),t.iteration.assign(t.iteration.add(1)),t.accBeta1.assign(t.accBeta1.mul(t.beta1))}),this.incrementIterations()},t.prototype.dispose=function(){this.accBeta1.dispose(),this.iteration.dispose(),null!=this.accumulatedFirstMoment&&BQ(this.accumulatedFirstMoment.map(function(e){return e.variable})),null!=this.accumulatedWeightedInfNorm&&BQ(this.accumulatedWeightedInfNorm.map(function(e){return e.variable}))},t.prototype.getWeights=function(){return KD(this,void 0,void 0,function(){return WD(this,function(e){throw new Error("getWeights() is not implemented for Adamax yet.")})})},t.prototype.setWeights=function(e){return KD(this,void 0,void 0,function(){return WD(this,function(e){throw new Error("setWeights() is not implemented for Adamax yet.")})})},t.prototype.getConfig=function(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon,decay:this.decay}},t.fromConfig=function(e,t){return new e(t.learningRate,t.beta1,t.beta2,t.epsilon,t.decay)},t.className="Adamax",t}(KY);QY(qY);var XY=function(e){function t(t){var n=e.call(this)||this;return n.learningRate=t,n.setLearningRate(t),n}return zD(t,e),t.prototype.applyGradients=function(e){var t=this;(Array.isArray(e)?e.map(function(e){return e.name}):Object.keys(e)).forEach(function(n,r){var i=Array.isArray(e)?e[r].tensor:e[n];if(null!=i){var a=gM.registeredVariables[n];xQ(function(){var e=t.c.mul(i).add(a);a.assign(e)})}}),this.incrementIterations()},t.prototype.setLearningRate=function(e){this.learningRate=e,null!=this.c&&this.c.dispose(),this.c=function(e){return gM.keep(e)}(GQ(-e))},t.prototype.dispose=function(){this.c.dispose()},t.prototype.getWeights=function(){return KD(this,void 0,void 0,function(){return WD(this,function(e){switch(e.label){case 0:return[4,this.saveIterations()];case 1:return[2,[e.sent()]]}})})},t.prototype.setWeights=function(e){return KD(this,void 0,void 0,function(){return WD(this,function(t){switch(t.label){case 0:return[4,this.extractIterations(e)];case 1:if(0!==(e=t.sent()).length)throw new Error("SGD optimizer does not have settable weights.");return[2]}})})},t.prototype.getConfig=function(){return{learningRate:this.learningRate}},t.fromConfig=function(e,t){return new e(t.learningRate)},t.className="SGD",t}(KY);QY(XY);var YY=function(e){function t(t,n,r){void 0===r&&(r=!1);var i=e.call(this,t)||this;return i.learningRate=t,i.momentum=n,i.useNesterov=r,i.accumulations=[],i.m=GQ(i.momentum),i}return zD(t,e),t.prototype.applyGradients=function(e){var t=this;(Array.isArray(e)?e.map(function(e){return e.name}):Object.keys(e)).forEach(function(n,r){var i=gM.registeredVariables[n];null==t.accumulations[r]&&(t.accumulations[r]={originalName:n+"/momentum",variable:xQ(function(){return rR(i).variable(!1)})});var a=t.accumulations[r].variable,o=Array.isArray(e)?e[r].tensor:e[n];null!=o&&xQ(function(){var e,n=t.m.mul(a).add(o);e=t.useNesterov?t.c.mul(o.add(n.mul(t.m))).add(i):t.c.mul(n).add(i),a.assign(n),i.assign(e)})}),this.incrementIterations()},t.prototype.dispose=function(){this.m.dispose(),null!=this.accumulations&&BQ(this.accumulations.map(function(e){return e.variable}))},t.prototype.setMomentum=function(e){this.momentum=e},t.prototype.getWeights=function(){return KD(this,void 0,void 0,function(){return WD(this,function(e){switch(e.label){case 0:return[4,this.saveIterations()];case 1:return[2,[e.sent()].concat(this.accumulations.map(function(e){return{name:e.originalName,tensor:e.variable}}))]}})})},t.prototype.setWeights=function(e){return KD(this,void 0,void 0,function(){return WD(this,function(t){switch(t.label){case 0:return[4,this.extractIterations(e)];case 1:return e=t.sent(),this.accumulations=e.map(function(e){return{originalName:e.name,variable:e.tensor.variable(!1)}}),[2]}})})},t.prototype.getConfig=function(){return{learningRate:this.learningRate,momentum:this.momentum,useNesterov:this.useNesterov}},t.fromConfig=function(e,t){return new e(t.learningRate,t.momentum,t.useNesterov)},t.className="Momentum",t}(XY);QY(YY);var JY=function(e){function t(t,n,r,i,a){void 0===n&&(n=.9),void 0===r&&(r=0),void 0===i&&(i=null),void 0===a&&(a=!1);var o=e.call(this)||this;if(o.learningRate=t,o.decay=n,o.momentum=r,o.epsilon=i,o.accumulatedMeanSquares=[],o.accumulatedMoments=[],o.accumulatedMeanGrads=[],o.centered=a,null==i&&(o.epsilon=gM.backend.epsilon()),null==t)throw new Error("learningRate for RMSPropOptimizer must be defined.");return o}return zD(t,e),t.prototype.applyGradients=function(e){var t=this;(Array.isArray(e)?e.map(function(e){return e.name}):Object.keys(e)).forEach(function(n,r){var i=gM.registeredVariables[n];null==t.accumulatedMeanSquares[r]&&(t.accumulatedMeanSquares[r]={originalName:n+"/rms",variable:xQ(function(){return rR(i).variable(!1)})}),null==t.accumulatedMoments[r]&&(t.accumulatedMoments[r]={originalName:n+"/momentum",variable:xQ(function(){return rR(i).variable(!1)})}),null==t.accumulatedMeanGrads[r]&&t.centered&&(t.accumulatedMeanGrads[r]={originalName:n+"/mg",variable:xQ(function(){return rR(i).variable(!1)})});var a=Array.isArray(e)?e[r].tensor:e[n];if(null!=a){var o=t.accumulatedMeanSquares[r].variable,s=t.accumulatedMoments[r].variable;xQ(function(){var e=o.mul(t.decay).add(a.square().mul(1-t.decay));if(t.centered){var n=t.accumulatedMeanGrads[r].variable,l=n.mul(t.decay).add(a.mul(1-t.decay)),c=s.mul(t.momentum).add(a.mul(t.learningRate).div(e.sub(l.square().add(t.epsilon)).sqrt()));o.assign(e),n.assign(l),s.assign(c);var u=i.sub(c);i.assign(u)}else{var A=o.mul(t.decay).add(a.square().mul(1-t.decay));c=s.mul(t.momentum).add(a.mul(t.learningRate).div(A.add(t.epsilon).sqrt())),o.assign(A),s.assign(c),u=i.sub(c),i.assign(u)}})}}),this.incrementIterations()},t.prototype.dispose=function(){null!=this.accumulatedMeanSquares&&BQ(this.accumulatedMeanSquares.map(function(e){return e.variable})),null!=this.accumulatedMeanGrads&&this.centered&&BQ(this.accumulatedMeanGrads.map(function(e){return e.variable})),null!=this.accumulatedMoments&&BQ(this.accumulatedMoments.map(function(e){return e.variable}))},t.prototype.getWeights=function(){return KD(this,void 0,void 0,function(){var e;return WD(this,function(t){switch(t.label){case 0:return e=this.accumulatedMeanSquares.concat(this.accumulatedMoments),this.centered&&e.push.apply(e,this.accumulatedMeanGrads),[4,this.saveIterations()];case 1:return[2,[t.sent()].concat(e.map(function(e){return{name:e.originalName,tensor:e.variable}}))]}})})},t.prototype.setWeights=function(e){return KD(this,void 0,void 0,function(){var t;return WD(this,function(n){switch(n.label){case 0:return[4,this.extractIterations(e)];case 1:return e=n.sent(),t=this.centered?e.length/3:e.length/2,this.accumulatedMeanSquares=e.slice(0,t).map(function(e){return{originalName:e.name,variable:e.tensor.variable(!1)}}),this.accumulatedMoments=e.slice(t,2*t).map(function(e){return{originalName:e.name,variable:e.tensor.variable(!1)}}),this.centered&&(this.accumulatedMeanGrads=e.slice(2*t,3*t).map(function(e){return{originalName:e.name,variable:e.tensor.variable(!1)}})),[2]}})})},t.prototype.getConfig=function(){return{learningRate:this.learningRate,decay:this.decay,momentum:this.momentum,epsilon:this.epsilon,centered:this.centered}},t.fromConfig=function(e,t){return new e(t.learningRate,t.decay,t.momentum,t.epsilon,t.centered)},t.className="RMSProp",t}(KY);QY(JY);var ZY=function(){function e(){}return e.sgd=function(e){return new XY(e)},e.momentum=function(e,t,n){return void 0===n&&(n=!1),new YY(e,t,n)},e.rmsprop=function(e,t,n,r,i){return void 0===t&&(t=.9),void 0===n&&(n=0),void 0===r&&(r=null),void 0===i&&(i=!1),new JY(e,t,n,r,i)},e.adam=function(e,t,n,r){return void 0===e&&(e=.001),void 0===t&&(t=.9),void 0===n&&(n=.999),void 0===r&&(r=null),new GY(e,t,n,r)},e.adadelta=function(e,t,n){return void 0===e&&(e=.001),void 0===t&&(t=.95),void 0===n&&(n=null),new WY(e,t,n)},e.adamax=function(e,t,n,r,i){return void 0===e&&(e=.002),void 0===t&&(t=.9),void 0===n&&(n=.999),void 0===r&&(r=null),void 0===i&&(i=0),new qY(e,t,n,r,i)},e.adagrad=function(e,t){return void 0===t&&(t=.1),new VY(e,t)},e}();ZY.sgd,ZY.momentum,ZY.adadelta,ZY.adagrad,ZY.rmsprop,ZY.adamax,ZY.adam,"undefined"!=typeof requestAnimationFrame?requestAnimationFrame:"undefined"!=typeof setImmediate&&setImmediate;function $Y(e,t,n){if(void 0===n&&(n=!1),e.beginPath(),t.slice(1).forEach(function(n,r){var i=n.x,a=n.y,o=t[r];e.moveTo(o.x,o.y),e.lineTo(i,a)}),n){var r=t[t.length-1],i=t[0];if(!r||!i)return;e.moveTo(r.x,r.y),e.lineTo(i.x,i.y)}e.stroke()}eM.prototype.squaredDifference=function(e){return KW(this,e)},ZT=_X;var eJ=function(e,t){return eJ=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},eJ(e,t)};function tJ(e,t){function n(){this.constructor=e}eJ(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var nJ=function(){return nJ=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},nJ.apply(this,arguments)};function rJ(e,t,n,r){return new(n||(n=Promise))(function(i,a){function o(e){try{l(r.next(e))}catch(zD){a(zD)}}function s(e){try{l(r.throw(e))}catch(zD){a(zD)}}function l(e){e.done?i(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(o,s)}l((r=r.apply(e,t||[])).next())})}function iJ(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(zD){a=[6,zD],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}function aJ(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var a=arguments[t],o=0,s=a.length;o<s;o++,i++)r[i]=a[o];return r}var oJ=function(){function e(e,t){if(!pJ(e)||!pJ(t))throw new Error("Dimensions.constructor - expected width and height to be valid numbers, instead have "+JSON.stringify({width:e,height:t}));this._width=e,this._height=t}return Object.defineProperty(e.prototype,"width",{get:function(){return this._width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},enumerable:!0,configurable:!0}),e.prototype.reverse=function(){return new e(1/this.width,1/this.height)},e}();function sJ(e,t){return e instanceof eM&&e.shape.length===t}function lJ(e){return sJ(e,3)}function cJ(e){return sJ(e,4)}function uJ(e){return e%2===0}function AJ(e,t){void 0===t&&(t=2);var n=Math.pow(10,t);return Math.floor(e*n)/n}function dJ(e){return e&&e.width&&e.height}function hJ(e){return e.reduce(function(e,t){return e.add(t)},new mJ(0,0)).div(new mJ(e.length,e.length))}function fJ(e,t,n){return Array(e).fill(0).map(function(e,r){return t+r*n})}function pJ(e){return!!e&&e!==1/0&&e!==-1/0&&!isNaN(e)||0===e}function gJ(e){return pJ(e)&&0<=e&&e<=1}var mJ=function(){function e(e,t){this._x=e,this._y=t}return Object.defineProperty(e.prototype,"x",{get:function(){return this._x},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this._y},enumerable:!0,configurable:!0}),e.prototype.add=function(t){return new e(this.x+t.x,this.y+t.y)},e.prototype.sub=function(t){return new e(this.x-t.x,this.y-t.y)},e.prototype.mul=function(t){return new e(this.x*t.x,this.y*t.y)},e.prototype.div=function(t){return new e(this.x/t.x,this.y/t.y)},e.prototype.abs=function(){return new e(Math.abs(this.x),Math.abs(this.y))},e.prototype.magnitude=function(){return Math.sqrt(Math.pow(this.x,2)+Math.pow(this.y,2))},e.prototype.floor=function(){return new e(Math.floor(this.x),Math.floor(this.y))},e}(),vJ=function(){function e(t,n){void 0===n&&(n=!0);var r=t||{},i=[r.left,r.top,r.right,r.bottom].every(pJ),a=[r.x,r.y,r.width,r.height].every(pJ);if(!a&&!i)throw new Error("Box.constructor - expected box to be IBoundingBox | IRect, instead have "+JSON.stringify(r));var o=a?[r.x,r.y,r.width,r.height]:[r.left,r.top,r.right-r.left,r.bottom-r.top],s=o[0],l=o[1],c=o[2],u=o[3];e.assertIsValidBox({x:s,y:l,width:c,height:u},"Box.constructor",n),this._x=s,this._y=l,this._width=c,this._height=u}return e.isRect=function(e){return!!e&&[e.x,e.y,e.width,e.height].every(pJ)},e.assertIsValidBox=function(t,n,r){if(void 0===r&&(r=!1),!e.isRect(t))throw new Error(n+" - invalid box: "+JSON.stringify(t)+", expected object with properties x, y, width, height");if(!r&&(t.width<0||t.height<0))throw new Error(n+" - width ("+t.width+") and height ("+t.height+") must be positive numbers")},Object.defineProperty(e.prototype,"x",{get:function(){return this._x},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this._y},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this._width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){return this.x},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"top",{get:function(){return this.y},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){return this.x+this.width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"area",{get:function(){return this.width*this.height},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"topLeft",{get:function(){return new mJ(this.left,this.top)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"topRight",{get:function(){return new mJ(this.right,this.top)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bottomLeft",{get:function(){return new mJ(this.left,this.bottom)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bottomRight",{get:function(){return new mJ(this.right,this.bottom)},enumerable:!0,configurable:!0}),e.prototype.round=function(){var t=[this.x,this.y,this.width,this.height].map(function(e){return Math.round(e)});return new e({x:t[0],y:t[1],width:t[2],height:t[3]})},e.prototype.floor=function(){var t=[this.x,this.y,this.width,this.height].map(function(e){return Math.floor(e)});return new e({x:t[0],y:t[1],width:t[2],height:t[3]})},e.prototype.toSquare=function(){var t=this,n=t.x,r=t.y,i=t.width,a=t.height,o=Math.abs(i-a);return i<a&&(n-=o/2,i+=o),a<i&&(r-=o/2,a+=o),new e({x:n,y:r,width:i,height:a})},e.prototype.rescale=function(t){var n=dJ(t)?t.width:t,r=dJ(t)?t.height:t;return new e({x:this.x*n,y:this.y*r,width:this.width*n,height:this.height*r})},e.prototype.pad=function(t,n){var r=[this.x-t/2,this.y-n/2,this.width+t,this.height+n];return new e({x:r[0],y:r[1],width:r[2],height:r[3]})},e.prototype.clipAtImageBorders=function(t,n){var r=this,i=r.x,a=r.y,o=r.right,s=r.bottom,l=Math.max(i,0),c=Math.max(a,0),u=o-l,A=s-c;return new e({x:l,y:c,width:Math.min(u,t-l),height:Math.min(A,n-c)}).floor()},e.prototype.shift=function(t,n){var r=this.width,i=this.height;return new e({x:this.x+t,y:this.y+n,width:r,height:i})},e.prototype.padAtBorders=function(e,t){var n=this.width+1,r=this.height+1,i=n,a=r,o=this.left,s=this.top,l=this.right,c=this.bottom;return l>t&&(i=-l+t+n,l=t),c>e&&(a=-c+e+r,c=e),o<1&&(a=2-o,o=1),s<1&&(a=2-s,s=1),{dy:1,edy:a,dx:1,edx:i,y:s,ey:c,x:o,ex:l,w:n,h:r}},e.prototype.calibrate=function(t){return new e({left:this.left+t.left*this.width,top:this.top+t.top*this.height,right:this.right+t.right*this.width,bottom:this.bottom+t.bottom*this.height}).toSquare().round()},e}(),yJ=function(e){function t(t,n,r,i,a){return void 0===a&&(a=!1),e.call(this,{left:t,top:n,right:r,bottom:i},a)||this}return tJ(t,e),t}(vJ),bJ=function(){function e(e,t,n,r,i){this._imageDims=new oJ(i.width,i.height),this._score=e,this._classScore=t,this._className=n,this._box=new vJ(r).rescale(this._imageDims)}return Object.defineProperty(e.prototype,"score",{get:function(){return this._score},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"classScore",{get:function(){return this._classScore},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"className",{get:function(){return this._className},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"box",{get:function(){return this._box},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"imageDims",{get:function(){return this._imageDims},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"imageWidth",{get:function(){return this.imageDims.width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"imageHeight",{get:function(){return this.imageDims.height},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"relativeBox",{get:function(){return new vJ(this._box).rescale(this.imageDims.reverse())},enumerable:!0,configurable:!0}),e.prototype.forSize=function(t,n){return new e(this.score,this.classScore,this.className,this.relativeBox,{width:t,height:n})},e}(),wJ=function(e){function t(t,n,r){return e.call(this,t,t,"",n,r)||this}return tJ(t,e),t.prototype.forSize=function(n,r){var i=e.prototype.forSize.call(this,n,r);return new t(i.score,i.relativeBox,i.imageDims)},t}(bJ);function xJ(e,t,n){void 0===n&&(n=!0);var r=Math.max(0,Math.min(e.right,t.right)-Math.max(e.left,t.left))*Math.max(0,Math.min(e.bottom,t.bottom)-Math.max(e.top,t.top));return n?r/(e.area+t.area-r):r/Math.min(e.area,t.area)}function BJ(e,t,n,r){void 0===r&&(r=!0);for(var i=t.map(function(e,t){return{score:e,boxIndex:t}}).sort(function(e,t){return e.score-t.score}).map(function(e){return e.boxIndex}),a=[],o=function(){var t=i.pop();a.push(t);for(var o=i,s=[],l=0;l<o.length;l++){var c=o[l],u=e[t],A=e[c];s.push(xJ(u,A,r))}i=i.filter(function(e,t){return s[t]<=n})};i.length>0;)o();return a}function CJ(e,t){return xQ(function(){var n=t[0],r=t[1],i=t[2],a=eR(aJ(e.shape.slice(0,3),[1]),n),o=eR(aJ(e.shape.slice(0,3),[1]),r),s=eR(aJ(e.shape.slice(0,3),[1]),i),l=iR([a,o,s],3);return uG(e,l)})}function NJ(e){return 1/(1+Math.exp(-e))}var kJ,_J=function(e){function t(t,n,r,i,a){return void 0===a&&(a=!1),e.call(this,{x:t,y:n,width:r,height:i},a)||this}return tJ(t,e),t}(vJ),EJ=function(){function e(e,t,n){void 0===n&&(n=new mJ(0,0));var r=t.width,i=t.height;this._imgDims=new oJ(r,i),this._shift=n,this._positions=e.map(function(e){return e.mul(new mJ(r,i)).add(n)})}return Object.defineProperty(e.prototype,"shift",{get:function(){return new mJ(this._shift.x,this._shift.y)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"imageWidth",{get:function(){return this._imgDims.width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"imageHeight",{get:function(){return this._imgDims.height},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"positions",{get:function(){return this._positions},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"relativePositions",{get:function(){var e=this;return this._positions.map(function(t){return t.sub(e._shift).div(new mJ(e.imageWidth,e.imageHeight))})},enumerable:!0,configurable:!0}),e.prototype.forSize=function(e,t){return new this.constructor(this.relativePositions,{width:e,height:t})},e.prototype.shiftBy=function(e,t){return new this.constructor(this.relativePositions,this._imgDims,new mJ(e,t))},e.prototype.shiftByPoint=function(e){return this.shiftBy(e.x,e.y)},e.prototype.align=function(e,t){if(void 0===t&&(t={}),e){var n=e instanceof wJ?e.box.floor():new vJ(e);return this.shiftBy(n.x,n.y).align(null,t)}var r=Object.assign({},{useDlibAlignment:!1,minBoxPadding:.2},t),i=r.useDlibAlignment,a=r.minBoxPadding;return i?this.alignDlib():this.alignMinBbox(a)},e.prototype.alignDlib=function(){var e=this.getRefPointsForAlignment(),t=e[0],n=e[1],r=e[2],i=function(e){return r.sub(e).magnitude()},a=(i(t)+i(n))/2,o=Math.floor(a/.45),s=hJ(e),l=Math.floor(Math.max(0,s.x-.5*o)),c=Math.floor(Math.max(0,s.y-.43*o));return new _J(l,c,Math.min(o,this.imageWidth+l),Math.min(o,this.imageHeight+c))},e.prototype.alignMinBbox=function(e){var t=function(e){var t=e.map(function(e){return e.x}),n=e.map(function(e){return e.y}),r=t.reduce(function(e,t){return t<e?t:e},1/0),i=n.reduce(function(e,t){return t<e?t:e},1/0),a=t.reduce(function(e,t){return e<t?t:e},0),o=n.reduce(function(e,t){return e<t?t:e},0);return new yJ(r,i,a,o)}(this.positions);return t.pad(t.width*e,t.height*e)},e.prototype.getRefPointsForAlignment=function(){throw new Error("getRefPointsForAlignment not implemented by base class")},e}(),SJ=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return tJ(t,e),t.prototype.getRefPointsForAlignment=function(){var e=this.positions;return[e[0],e[1],hJ([e[3],e[4]])]},t}(EJ),FJ=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return tJ(t,e),t.prototype.getJawOutline=function(){return this.positions.slice(0,17)},t.prototype.getLeftEyeBrow=function(){return this.positions.slice(17,22)},t.prototype.getRightEyeBrow=function(){return this.positions.slice(22,27)},t.prototype.getNose=function(){return this.positions.slice(27,36)},t.prototype.getLeftEye=function(){return this.positions.slice(36,42)},t.prototype.getRightEye=function(){return this.positions.slice(42,48)},t.prototype.getMouth=function(){return this.positions.slice(48,68)},t.prototype.getRefPointsForAlignment=function(){return[this.getLeftEye(),this.getRightEye(),this.getMouth()].map(hJ)},t}(EJ),IJ=function(){function e(e,t){this._label=e,this._distance=t}return Object.defineProperty(e.prototype,"label",{get:function(){return this._label},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"distance",{get:function(){return this._distance},enumerable:!0,configurable:!0}),e.prototype.toString=function(e){return void 0===e&&(e=!0),this.label+(e?" ("+AJ(this.distance)+")":"")},e}(),jJ=function(e){function t(t,n){var r=e.call(this,t)||this;return r._label=n,r}return tJ(t,e),t.assertIsValidLabeledBox=function(e,t){if(vJ.assertIsValidBox(e,t),!pJ(e.label))throw new Error(t+" - expected property label ("+e.label+") to be a number")},Object.defineProperty(t.prototype,"label",{get:function(){return this._label},enumerable:!0,configurable:!0}),t}(vJ),UJ=function(){function e(e,t){if("string"!==typeof e)throw new Error("LabeledFaceDescriptors - constructor expected label to be a string");if(!Array.isArray(t)||t.some(function(e){return!(e instanceof Float32Array)}))throw new Error("LabeledFaceDescriptors - constructor expected descriptors to be an array of Float32Array");this._label=e,this._descriptors=t}return Object.defineProperty(e.prototype,"label",{get:function(){return this._label},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"descriptors",{get:function(){return this._descriptors},enumerable:!0,configurable:!0}),e.prototype.toJSON=function(){return{label:this.label,descriptors:this.descriptors.map(function(e){return Array.from(e)})}},e.fromJSON=function(t){var n=t.descriptors.map(function(e){return new Float32Array(e)});return new e(t.label,n)},e}();!function(e){function t(t,n,r,i){var a=e.call(this,t,n)||this;return a._score=r,a._classScore=i,a}tJ(t,e),t.assertIsValidPredictedBox=function(e,t){if(jJ.assertIsValidLabeledBox(e,t),!gJ(e.score)||!gJ(e.classScore))throw new Error(t+" - expected properties score ("+e.score+") and ("+e.classScore+") to be a number between [0, 1]")},Object.defineProperty(t.prototype,"score",{get:function(){return this._score},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"classScore",{get:function(){return this._classScore},enumerable:!0,configurable:!0})}(jJ);function OJ(e){return e.detection instanceof wJ}function PJ(e,t){var n={detection:t};return Object.assign({},e,n)}function LJ(){var e=window.fetch||function(){throw new Error("fetch - missing fetch implementation for browser environment")};return{Canvas:HTMLCanvasElement,CanvasRenderingContext2D:CanvasRenderingContext2D,Image:HTMLImageElement,ImageData:ImageData,Video:HTMLVideoElement,createCanvasElement:function(){return document.createElement("canvas")},createImageElement:function(){return document.createElement("img")},fetch:e,readFile:function(){throw new Error("readFile - filesystem not available for browser environment")}}}function DJ(e){var t="";if(!e)try{e=n(1591)}catch(i){t=i.toString()}var r=e?function(t){return new Promise(function(n,r){e.readFile(t,function(e,t){return e?r(e):n(t)})})}:function(){throw new Error("readFile - failed to require fs in nodejs environment with error: "+t)};return{readFile:r}}function TJ(){var e=n.g.Canvas||n.g.HTMLCanvasElement,t=n.g.Image||n.g.HTMLImageElement,r=n.g.fetch||function(){throw new Error("fetch - missing fetch implementation for nodejs environment")},i=DJ();return nJ({Canvas:e||function(){},CanvasRenderingContext2D:n.g.CanvasRenderingContext2D||function(){},Image:t||function(){},ImageData:n.g.ImageData||function(){},Video:n.g.HTMLVideoElement||function(){},createCanvasElement:function(){if(e)return new e;throw new Error("createCanvasElement - missing Canvas implementation for nodejs environment")},createImageElement:function(){if(t)return new t;throw new Error("createImageElement - missing Image implementation for nodejs environment")},fetch:r},i)}function MJ(){return"object"===typeof window&&"undefined"!==typeof document&&"undefined"!==typeof HTMLImageElement&&"undefined"!==typeof HTMLCanvasElement&&"undefined"!==typeof HTMLVideoElement&&"undefined"!==typeof ImageData&&"undefined"!==typeof CanvasRenderingContext2D}function QJ(){return"object"===typeof n.g&&"undefined"!==typeof process&&!!process.version}function RJ(e){kJ=e}function HJ(){MJ()&&RJ(LJ()),QJ()&&RJ(TJ())}var zJ,KJ={getEnv:function(){if(!kJ)throw new Error("getEnv - environment is not defined, check isNodejs() and isBrowser()");return kJ},setEnv:RJ,initialize:HJ,createBrowserEnv:LJ,createFileSystem:DJ,createNodejsEnv:TJ,monkeyPatch:function(e){if(kJ||HJ(),!kJ)throw new Error("monkeyPatch - environment is not defined, check isNodejs() and isBrowser()");var t=e.Canvas,n=void 0===t?kJ.Canvas:t,r=e.Image,i=void 0===r?kJ.Image:r;kJ.Canvas=n,kJ.Image=i,kJ.createCanvasElement=e.createCanvasElement||function(){return new n},kJ.createImageElement=e.createImageElement||function(){return new i},kJ.ImageData=e.ImageData||kJ.ImageData,kJ.Video=e.Video||kJ.Video,kJ.fetch=e.fetch||kJ.fetch,kJ.readFile=e.readFile||kJ.readFile},isBrowser:MJ,isNodejs:QJ};function WJ(e){return KJ.isNodejs()||"string"!==typeof e?e:document.getElementById(e)}function VJ(e){var t=KJ.getEnv(),n=t.Canvas;if(e instanceof t.CanvasRenderingContext2D)return e;var r=WJ(e);if(!(r instanceof n))throw new Error("resolveContext2d - expected canvas to be of instance of Canvas");var i=r.getContext("2d");if(!i)throw new Error("resolveContext2d - canvas 2d context is null");return i}HJ(),function(e){e.TOP_LEFT="TOP_LEFT",e.TOP_RIGHT="TOP_RIGHT",e.BOTTOM_LEFT="BOTTOM_LEFT",e.BOTTOM_RIGHT="BOTTOM_RIGHT"}(zJ||(zJ={}));var GJ=function(e){void 0===e&&(e={});var t=e.anchorPosition,n=e.backgroundColor,r=e.fontColor,i=e.fontSize,a=e.fontStyle,o=e.padding;this.anchorPosition=t||zJ.TOP_LEFT,this.backgroundColor=n||"rgba(0, 0, 0, 0.5)",this.fontColor=r||"rgba(255, 255, 255, 1)",this.fontSize=i||14,this.fontStyle=a||"Georgia",this.padding=o||4},qJ=function(){function e(t,n,r){void 0===r&&(r={}),this.text="string"===typeof t?[t]:t instanceof e?t.text:t,this.anchor=n,this.options=new GJ(r)}return e.prototype.measureWidth=function(e){var t=this.options.padding;return this.text.map(function(t){return e.measureText(t).width}).reduce(function(e,t){return e<t?t:e},0)+2*t},e.prototype.measureHeight=function(){var e=this.options,t=e.fontSize,n=e.padding;return this.text.length*t+2*n},e.prototype.getUpperLeft=function(e,t){var n=this.options.anchorPosition,r=n===zJ.BOTTOM_RIGHT||n===zJ.TOP_RIGHT,i=n===zJ.BOTTOM_LEFT||n===zJ.BOTTOM_RIGHT,a=this.measureWidth(e),o=this.measureHeight(),s=r?this.anchor.x-a:this.anchor.x,l=i?this.anchor.y-o:this.anchor.y;if(t){var c=t.width,u=t.height;return{x:Math.max(Math.min(s,c-a),0),y:Math.max(Math.min(l,u-o),0)}}return{x:s,y:l}},e.prototype.draw=function(e){var t=WJ(e),n=VJ(t),r=this.options,i=r.backgroundColor,a=r.fontColor,o=r.fontSize,s=r.fontStyle,l=r.padding;n.font=o+"px "+s;var c=this.measureWidth(n),u=this.measureHeight();n.fillStyle=i;var A=this.getUpperLeft(n,t);n.fillRect(A.x,A.y,c,u),n.fillStyle=a,this.text.forEach(function(e,t){var r=l+A.x,i=l+A.y+(t+1)*o;n.fillText(e,r,i)})},e}(),XJ=function(e){void 0===e&&(e={});var t=e.boxColor,n=e.lineWidth,r=e.label,i=e.drawLabelOptions;this.boxColor=t||"rgba(0, 0, 255, 1)",this.lineWidth=n||2,this.label=r;var a={anchorPosition:zJ.BOTTOM_LEFT,backgroundColor:this.boxColor};this.drawLabelOptions=new GJ(Object.assign({},a,i))},YJ=function(){function e(e,t){void 0===t&&(t={}),this.box=new vJ(e),this.options=new XJ(t)}return e.prototype.draw=function(e){var t=VJ(e),n=this.options,r=n.boxColor,i=n.lineWidth,a=this.box,o=a.x,s=a.y,l=a.width,c=a.height;t.strokeStyle=r,t.lineWidth=i,t.strokeRect(o,s,l,c);var u=this.options.label;u&&new qJ([u],{x:o-i/2,y:s},this.options.drawLabelOptions).draw(e)},e}();function JJ(e,t){(Array.isArray(t)?t:[t]).forEach(function(t){var n=t instanceof wJ?t.score:OJ(t)?t.detection.score:void 0,r=t instanceof wJ?t.box:OJ(t)?t.detection.box:new vJ(t),i=n?""+AJ(n):void 0;new YJ(r,{label:i}).draw(e)})}function ZJ(e){var t=KJ.getEnv(),n=t.Image,r=t.Video;return e instanceof n&&e.complete||e instanceof r&&e.readyState>=3}function $J(e){var t=KJ.getEnv(),n=t.Image,r=t.Video;return e instanceof n?new oJ(e.naturalWidth,e.naturalHeight):e instanceof r?new oJ(e.videoWidth,e.videoHeight):new oJ(e.width,e.height)}function eZ(e){var t=e.width,n=e.height,r=(0,KJ.getEnv().createCanvasElement)();return r.width=t,r.height=n,r}function tZ(e,t){var n=KJ.getEnv().ImageData;if(!(e instanceof n)&&!ZJ(e))throw new Error("createCanvasFromMedia - media has not finished loading yet");var r=t||$J(e),i=r.width,a=r.height,o=eZ({width:i,height:a});return e instanceof n?VJ(o).putImageData(e,0,0):VJ(o).drawImage(e,0,0,i,a),o}function nZ(e,t){return rJ(this,void 0,void 0,function(){var n,r,i,a,o,s;return iJ(this,function(l){switch(l.label){case 0:return n=t||KJ.getEnv().createCanvasElement(),r=e.shape.slice(cJ(e)?1:0),i=r[0],a=r[1],o=r[2],s=xQ(function(){return e.as3D(i,a,o).toInt()}),[4,DY.toPixels(s,n)];case 1:return l.sent(),s.dispose(),[2,n]}})})}function rZ(e){var t=KJ.getEnv(),n=t.Image,r=t.Canvas,i=t.Video;return e instanceof n||e instanceof r||e instanceof i}var iZ=function(){function e(e,t){var n=this;if(void 0===t&&(t=!1),this._imageTensors=[],this._canvases=[],this._treatAsBatchInput=!1,this._inputDimensions=[],!Array.isArray(e))throw new Error("NetInput.constructor - expected inputs to be an Array of TResolvedNetInput or to be instanceof tf.Tensor4D, instead have "+e);this._treatAsBatchInput=t,this._batchSize=e.length,e.forEach(function(e,t){if(lJ(e))return n._imageTensors[t]=e,void(n._inputDimensions[t]=e.shape);if(cJ(e)){var r=e.shape[0];if(1!==r)throw new Error("NetInput - tf.Tensor4D with batchSize "+r+" passed, but not supported in input array");return n._imageTensors[t]=e,void(n._inputDimensions[t]=e.shape.slice(1))}var i=e instanceof KJ.getEnv().Canvas?e:tZ(e);n._canvases[t]=i,n._inputDimensions[t]=[i.height,i.width,3]})}return Object.defineProperty(e.prototype,"imageTensors",{get:function(){return this._imageTensors},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"canvases",{get:function(){return this._canvases},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isBatchInput",{get:function(){return this.batchSize>1||this._treatAsBatchInput},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"batchSize",{get:function(){return this._batchSize},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inputDimensions",{get:function(){return this._inputDimensions},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inputSize",{get:function(){return this._inputSize},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"reshapedInputDimensions",{get:function(){var e=this;return fJ(this.batchSize,0,1).map(function(t,n){return e.getReshapedInputDimensions(n)})},enumerable:!0,configurable:!0}),e.prototype.getInput=function(e){return this.canvases[e]||this.imageTensors[e]},e.prototype.getInputDimensions=function(e){return this._inputDimensions[e]},e.prototype.getInputHeight=function(e){return this._inputDimensions[e][0]},e.prototype.getInputWidth=function(e){return this._inputDimensions[e][1]},e.prototype.getReshapedInputDimensions=function(e){if("number"!==typeof this.inputSize)throw new Error("getReshapedInputDimensions - inputSize not set, toBatchTensor has not been called yet");return function(e,t){var n=e.width,r=e.height,i=t/Math.max(r,n);return new oJ(Math.round(n*i),Math.round(r*i))}({width:this.getInputWidth(e),height:this.getInputHeight(e)},this.inputSize)},e.prototype.toBatchTensor=function(e,t){var n=this;return void 0===t&&(t=!0),this._inputSize=e,xQ(function(){var r=fJ(n.batchSize,0,1).map(function(r){var i=n.getInput(r);if(i instanceof eM){var a=cJ(i)?i:i.expandDims();return a=function(e,t){return void 0===t&&(t=!1),xQ(function(){var n=e.shape.slice(1),r=n[0],i=n[1];if(r===i)return e;var a=Math.abs(r-i),o=Math.round(a*(t?.5:1)),s=r>i?2:1,l=function(t){var n=e.shape.slice();return n[s]=t,eR(n,0)},c=l(o),u=a-c.shape[s],A=[t&&u?l(u):null,e,c].filter(function(e){return!!e}).map(function(e){return e.toFloat()});return iR(A,s)})}(a,t),a.shape[1]===e&&a.shape[2]===e||(a=vX.resizeBilinear(a,[e,e])),a.as3D(e,e,3)}if(i instanceof KJ.getEnv().Canvas)return DY.fromPixels(function(e,t,n){void 0===n&&(n=!1);var r=KJ.getEnv(),i=r.Image,a=r.Canvas;if(!(e instanceof i||e instanceof a))throw new Error("imageToSquare - expected arg0 to be HTMLImageElement | HTMLCanvasElement");var o=$J(e),s=t/Math.max(o.height,o.width),l=s*o.width,c=s*o.height,u=eZ({width:t,height:t}),A=e instanceof a?e:tZ(e),d=Math.abs(l-c)/2,h=n&&l<c?d:0,f=n&&c<l?d:0;return VJ(u).drawImage(A,h,f,l,c),u}(i,e,t));throw new Error("toBatchTensor - at batchIdx "+r+", expected input to be instanceof tf.Tensor or instanceof HTMLCanvasElement, instead have "+i)}),i=WR(r.map(function(e){return e.toFloat()})).as4D(n.batchSize,e,e,3);return i})},e}();function aZ(e){return rJ(this,void 0,void 0,function(){var t,n,r;return iJ(this,function(i){switch(i.label){case 0:if(e instanceof iZ)return[2,e];if(!(t=Array.isArray(e)?e:[e]).length)throw new Error("toNetInput - empty array passed as input");return n=function(t){return Array.isArray(e)?" at input index "+t+":":""},(r=t.map(WJ)).forEach(function(e,r){if(!rZ(e)&&!lJ(e)&&!cJ(e)){if("string"===typeof t[r])throw new Error("toNetInput -"+n(r)+" string passed, but could not resolve HTMLElement for element id "+t[r]);throw new Error("toNetInput -"+n(r)+" expected media to be of type HTMLImageElement | HTMLVideoElement | HTMLCanvasElement | tf.Tensor3D, or to be an element id")}if(cJ(e)){var i=e.shape[0];if(1!==i)throw new Error("toNetInput -"+n(r)+" tf.Tensor4D with batchSize "+i+" passed, but not supported in input array")}}),[4,Promise.all(r.map(function(e){return rZ(e)&&(t=e,new Promise(function(e,n){if(t instanceof KJ.getEnv().Canvas||ZJ(t))return e();function r(t){t.currentTarget&&(t.currentTarget.removeEventListener("load",r),t.currentTarget.removeEventListener("error",i),e(t))}function i(e){e.currentTarget&&(e.currentTarget.removeEventListener("load",r),e.currentTarget.removeEventListener("error",i),n(e))}t.addEventListener("load",r),t.addEventListener("error",i)}));var t}))];case 1:return i.sent(),[2,new iZ(r,Array.isArray(e))]}})})}function oZ(e,t){return rJ(this,void 0,void 0,function(){var n,r,i,a,o,s;return iJ(this,function(l){switch(l.label){case 0:return n=KJ.getEnv().Canvas,r=e,e instanceof n?[3,5]:[4,aZ(e)];case 1:if((i=l.sent()).batchSize>1)throw new Error("extractFaces - batchSize > 1 not supported");return(a=i.getInput(0))instanceof n?(o=a,[3,4]):[3,2];case 2:return[4,nZ(a)];case 3:o=l.sent(),l.label=4;case 4:r=o,l.label=5;case 5:return s=VJ(r),[2,t.map(function(e){return e instanceof wJ?e.forSize(r.width,r.height).box.floor():e}).map(function(e){return e.clipAtImageBorders(r.width,r.height)}).map(function(e){var t=e.x,n=e.y,r=e.width,i=e.height,a=eZ({width:r,height:i});return VJ(a).putImageData(s.getImageData(t,n,r,i),0,0),a})]}})})}function sZ(e,t){return rJ(this,void 0,void 0,function(){return iJ(this,function(n){if(!lJ(e)&&!cJ(e))throw new Error("extractFaceTensors - expected image tensor to be 3D or 4D");if(cJ(e)&&e.shape[0]>1)throw new Error("extractFaceTensors - batchSize > 1 not supported");return[2,xQ(function(){var n=e.shape.slice(cJ(e)?1:0),r=n[0],i=n[1],a=n[2],o=t.map(function(e){return e instanceof wJ?e.forSize(i,r).box:e}).map(function(e){return e.clipAtImageBorders(i,r)}).map(function(t){var n=t.x,o=t.y,s=t.width,l=t.height;return oq(e.as3D(r,i,a),[o,n,0],[l,s,a])});return o})]})})}function lZ(e,t){return rJ(this,void 0,void 0,function(){var n;return iJ(this,function(r){switch(r.label){case 0:return[4,(0,KJ.getEnv().fetch)(e,t)];case 1:if(!((n=r.sent()).status<400))throw new Error("failed to fetch: ("+n.status+") "+n.statusText+", from url: "+n.url);return[2,n]}})})}function cZ(e){return rJ(this,void 0,void 0,function(){return iJ(this,function(t){switch(t.label){case 0:return[4,lZ(e)];case 1:return[2,t.sent().json()]}})})}function uZ(e,t){var n=t+"-weights_manifest.json";if(!e)return{modelBaseUri:"",manifestUri:n};if("/"===e)return{modelBaseUri:"/",manifestUri:"/"+n};var r=e.startsWith("http://")?"http://":e.startsWith("https://")?"https://":"",i=(e=e.replace(r,"")).split("/").filter(function(e){return e}),a=e.endsWith(".json")?i[i.length-1]:n,o=r+(e.endsWith(".json")?i.slice(0,i.length-1):i).join("/");return{modelBaseUri:o=e.startsWith("/")?"/"+o:o,manifestUri:"/"===o?"/"+a:o+"/"+a}}function AZ(e,t){return rJ(this,void 0,void 0,function(){var n,r,i,a;return iJ(this,function(o){switch(o.label){case 0:return n=uZ(e,t),r=n.manifestUri,i=n.modelBaseUri,[4,cZ(r)];case 1:return a=o.sent(),[2,OY.loadWeights(a,i)]}})})}var dZ=function(){function e(e){this._name=e,this._params=void 0,this._paramMappings=[]}return Object.defineProperty(e.prototype,"params",{get:function(){return this._params},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"paramMappings",{get:function(){return this._paramMappings},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isLoaded",{get:function(){return!!this.params},enumerable:!0,configurable:!0}),e.prototype.getParamFromPath=function(e){var t=this.traversePropertyPath(e);return t.obj[t.objProp]},e.prototype.reassignParamFromPath=function(e,t){var n=this.traversePropertyPath(e),r=n.obj,i=n.objProp;r[i].dispose(),r[i]=t},e.prototype.getParamList=function(){var e=this;return this._paramMappings.map(function(t){var n=t.paramPath;return{path:n,tensor:e.getParamFromPath(n)}})},e.prototype.getTrainableParams=function(){return this.getParamList().filter(function(e){return e.tensor instanceof oM})},e.prototype.getFrozenParams=function(){return this.getParamList().filter(function(e){return!(e.tensor instanceof oM)})},e.prototype.variable=function(){var e=this;this.getFrozenParams().forEach(function(t){var n=t.path,r=t.tensor;e.reassignParamFromPath(n,r.variable())})},e.prototype.freeze=function(){var e=this;this.getTrainableParams().forEach(function(t){var n=t.path,r=t.tensor,i=WQ(r.dataSync());r.dispose(),e.reassignParamFromPath(n,i)})},e.prototype.dispose=function(e){void 0===e&&(e=!0),this.getParamList().forEach(function(t){if(e&&t.tensor.isDisposed)throw new Error("param tensor has already been disposed for path "+t.path);t.tensor.dispose()}),this._params=void 0},e.prototype.serializeParams=function(){return new Float32Array(this.getParamList().map(function(e){var t=e.tensor;return Array.from(t.dataSync())}).reduce(function(e,t){return e.concat(t)}))},e.prototype.load=function(e){return rJ(this,void 0,void 0,function(){return iJ(this,function(t){switch(t.label){case 0:return e instanceof Float32Array?(this.extractWeights(e),[2]):[4,this.loadFromUri(e)];case 1:return t.sent(),[2]}})})},e.prototype.loadFromUri=function(e){return rJ(this,void 0,void 0,function(){var t;return iJ(this,function(n){switch(n.label){case 0:if(e&&"string"!==typeof e)throw new Error(this._name+".loadFromUri - expected model uri");return[4,AZ(e,this.getDefaultModelName())];case 1:return t=n.sent(),this.loadFromWeightMap(t),[2]}})})},e.prototype.loadFromDisk=function(e){return rJ(this,void 0,void 0,function(){var t,n,r,i,a,o,s,l,c,u;return iJ(this,function(A){switch(A.label){case 0:if(e&&"string"!==typeof e)throw new Error(this._name+".loadFromDisk - expected model file path");return t=KJ.getEnv().readFile,n=uZ(e,this.getDefaultModelName()),r=n.manifestUri,i=n.modelBaseUri,a=function(e){return Promise.all(e.map(function(e){return t(e).then(function(e){return e.buffer})}))},o=OY.weightsLoaderFactory(a),c=(l=JSON).parse,[4,t(r)];case 1:return s=c.apply(l,[A.sent().toString()]),[4,o(s,i)];case 2:return u=A.sent(),this.loadFromWeightMap(u),[2]}})})},e.prototype.loadFromWeightMap=function(e){var t=this.extractParamsFromWeigthMap(e),n=t.paramMappings,r=t.params;this._paramMappings=n,this._params=r},e.prototype.extractWeights=function(e){var t=this.extractParams(e),n=t.paramMappings,r=t.params;this._paramMappings=n,this._params=r},e.prototype.traversePropertyPath=function(e){if(!this.params)throw new Error("traversePropertyPath - model has no loaded params");var t=e.split("/").reduce(function(t,n){if(!t.nextObj.hasOwnProperty(n))throw new Error("traversePropertyPath - object does not have property "+n+", for path "+e);return{obj:t.nextObj,objProp:n,nextObj:t.nextObj[n]}},{nextObj:this.params}),n=t.obj,r=t.objProp;if(!n||!r||!(n[r]instanceof eM))throw new Error("traversePropertyPath - parameter is not a tensor, for path "+e);return{obj:n,objProp:r}},e}();function hZ(e,t,n){return xQ(function(){var r=MG(e,t.depthwise_filter,t.pointwise_filter,n,"same");return r=WV(r,t.bias)})}function fZ(e,t,n){return void 0===n&&(n=!1),xQ(function(){var r=Bq(n?WV(jG(e,t.conv0.filters,[2,2],"same"),t.conv0.bias):hZ(e,t.conv0,[2,2])),i=hZ(r,t.conv1,[1,1]),a=hZ(Bq(WV(r,i)),t.conv2,[1,1]);return Bq(WV(r,WV(i,a)))})}function pZ(e,t,n,r){return void 0===n&&(n=!1),void 0===r&&(r=!0),xQ(function(){var i=Bq(n?WV(jG(e,t.conv0.filters,r?[2,2]:[1,1],"same"),t.conv0.bias):hZ(e,t.conv0,r?[2,2]:[1,1])),a=hZ(i,t.conv1,[1,1]),o=hZ(Bq(WV(i,a)),t.conv2,[1,1]),s=hZ(Bq(WV(i,WV(a,o))),t.conv3,[1,1]);return Bq(WV(i,WV(a,WV(o,s))))})}function gZ(e,t,n,r){return void 0===n&&(n="same"),void 0===r&&(r=!1),xQ(function(){var i=WV(jG(e,t.filters,[1,1],n),t.bias);return r?Bq(i):i})}function mZ(e,t){Object.keys(e).forEach(function(n){t.some(function(e){return e.originalPath===n})||e[n].dispose()})}function vZ(e,t){return function(n,r,i,a){var o=JQ(e(n*r*i*i),[i,i,n,r]),s=qQ(e(r));return t.push({paramPath:a+"/filters"},{paramPath:a+"/bias"}),{filters:o,bias:s}}}function yZ(e,t){return function(n,r,i){var a=XQ(e(n*r),[n,r]),o=qQ(e(r));return t.push({paramPath:i+"/weights"},{paramPath:i+"/bias"}),{weights:a,bias:o}}}var bZ=function(e,t,n){this.depthwise_filter=e,this.pointwise_filter=t,this.bias=n};function wZ(e,t){return function(n,r,i){var a=JQ(e(9*n),[3,3,n,1]),o=JQ(e(n*r),[1,1,n,r]),s=qQ(e(r));return t.push({paramPath:i+"/depthwise_filter"},{paramPath:i+"/pointwise_filter"},{paramPath:i+"/bias"}),new bZ(a,o,s)}}function xZ(e){return function(t){var n=e(t+"/depthwise_filter",4),r=e(t+"/pointwise_filter",4),i=e(t+"/bias",1);return new bZ(n,r,i)}}function BZ(e,t){return function(n,r,i){var a=e[n];if(!sJ(a,r))throw new Error("expected weightMap["+n+"] to be a Tensor"+r+"D, instead have "+a);return t.push({originalPath:n,paramPath:i||n}),a}}function CZ(e){var t=e;return{extractWeights:function(e){var n=t.slice(0,e);return t=t.slice(e),n},getRemainingWeights:function(){return t}}}function NZ(e,t){var n=vZ(e,t),r=wZ(e,t);function i(e,t,i,a){return void 0===a&&(a=!1),{conv0:a?n(e,t,3,i+"/conv0"):r(e,t,i+"/conv0"),conv1:r(t,t,i+"/conv1"),conv2:r(t,t,i+"/conv2")}}return{extractDenseBlock3Params:i,extractDenseBlock4Params:function(e,t,n,a){void 0===a&&(a=!1);var o=i(e,t,n,a);return{conv0:o.conv0,conv1:o.conv1,conv2:o.conv2,conv3:r(t,t,n+"/conv3")}}}}function kZ(e){return function(t){return{filters:e(t+"/filters",4),bias:e(t+"/bias",1)}}}function _Z(e,t){var n=BZ(e,t),r=kZ(n),i=xZ(n);return{extractDenseBlock3Params:function(e,t){return void 0===t&&(t=!1),{conv0:t?r(e+"/conv0"):i(e+"/conv0"),conv1:i(e+"/conv1"),conv2:i(e+"/conv2")}},extractDenseBlock4Params:function(e,t){return void 0===t&&(t=!1),{conv0:t?r(e+"/conv0"):i(e+"/conv0"),conv1:i(e+"/conv1"),conv2:i(e+"/conv2"),conv3:i(e+"/conv3")}}}}var EZ=function(e){function t(){return e.call(this,"FaceFeatureExtractor")||this}return tJ(t,e),t.prototype.forwardInput=function(e){var t=this.params;if(!t)throw new Error("FaceFeatureExtractor - load model before inference");return xQ(function(){var n=pZ(CJ(e.toBatchTensor(112,!0),[122.782,117.001,104.298]).div(GQ(255)),t.dense0,!0);return n=pZ(n,t.dense1),n=pZ(n,t.dense2),n=pZ(n,t.dense3),n=$G(n,[7,7],[2,2],"valid")})},t.prototype.forward=function(e){return rJ(this,void 0,void 0,function(){var t;return iJ(this,function(n){switch(n.label){case 0:return t=this.forwardInput,[4,aZ(e)];case 1:return[2,t.apply(this,[n.sent()])]}})})},t.prototype.getDefaultModelName=function(){return"face_feature_extractor_model"},t.prototype.extractParamsFromWeigthMap=function(e){return function(e){var t=[],n=_Z(e,t).extractDenseBlock4Params,r={dense0:n("dense0",!0),dense1:n("dense1"),dense2:n("dense2"),dense3:n("dense3")};return mZ(e,t),{params:r,paramMappings:t}}(e)},t.prototype.extractParams=function(e){return function(e){var t=[],n=CZ(e),r=n.extractWeights,i=n.getRemainingWeights,a=NZ(r,t).extractDenseBlock4Params,o=a(3,32,"dense0",!0),s=a(32,64,"dense1"),l=a(64,128,"dense2"),c=a(128,256,"dense3");if(0!==i().length)throw new Error("weights remaing after extract: "+i().length);return{paramMappings:t,params:{dense0:o,dense1:s,dense2:l,dense3:c}}}(e)},t}(dZ);function SZ(e,t){return xQ(function(){return WV(HG(e,t.weights),t.bias)})}function FZ(e){var t={},n={};return Object.keys(e).forEach(function(r){(r.startsWith("fc")?n:t)[r]=e[r]}),{featureExtractorMap:t,classifierMap:n}}var IZ=function(e){function t(t,n){var r=e.call(this,t)||this;return r._faceFeatureExtractor=n,r}return tJ(t,e),Object.defineProperty(t.prototype,"faceFeatureExtractor",{get:function(){return this._faceFeatureExtractor},enumerable:!0,configurable:!0}),t.prototype.runNet=function(e){var t=this,n=this.params;if(!n)throw new Error(this._name+" - load model before inference");return xQ(function(){var r=e instanceof iZ?t.faceFeatureExtractor.forwardInput(e):e;return SZ(r.as2D(r.shape[0],-1),n.fc)})},t.prototype.dispose=function(t){void 0===t&&(t=!0),this.faceFeatureExtractor.dispose(t),e.prototype.dispose.call(this,t)},t.prototype.loadClassifierParams=function(e){var t=this.extractClassifierParams(e),n=t.params,r=t.paramMappings;this._params=n,this._paramMappings=r},t.prototype.extractClassifierParams=function(e){return function(e,t,n){var r=[],i=CZ(e),a=i.extractWeights,o=i.getRemainingWeights,s=yZ(a,r)(t,n,"fc");if(0!==o().length)throw new Error("weights remaing after extract: "+o().length);return{paramMappings:r,params:{fc:s}}}(e,this.getClassifierChannelsIn(),this.getClassifierChannelsOut())},t.prototype.extractParamsFromWeigthMap=function(e){var t=FZ(e),n=t.featureExtractorMap,r=t.classifierMap;return this.faceFeatureExtractor.loadFromWeightMap(n),function(e){var t=[],n=BZ(e,t),r={fc:function(e){return{weights:n(e+"/weights",2),bias:n(e+"/bias",1)}}("fc")};return mZ(e,t),{params:r,paramMappings:t}}(r)},t.prototype.extractParams=function(e){var t=this.getClassifierChannelsIn(),n=this.getClassifierChannelsOut(),r=n*t+n,i=e.slice(0,e.length-r),a=e.slice(e.length-r);return this.faceFeatureExtractor.extractWeights(i),this.extractClassifierParams(a)},t}(dZ),jZ=["neutral","happy","sad","angry","fearful","disgusted","surprised"],UZ=function(){function e(e){var t=this;if(7!==e.length)throw new Error("FaceExpressions.constructor - expected probabilities.length to be 7, have: "+e.length);jZ.forEach(function(n,r){t[n]=e[r]})}return e.prototype.asSortedArray=function(){var e=this;return jZ.map(function(t){return{expression:t,probability:e[t]}}).sort(function(e,t){return t.probability-e.probability})},e}(),OZ=function(e){function t(t){return void 0===t&&(t=new EZ),e.call(this,"FaceExpressionNet",t)||this}return tJ(t,e),t.prototype.forwardInput=function(e){var t=this;return xQ(function(){return hH(t.runNet(e))})},t.prototype.forward=function(e){return rJ(this,void 0,void 0,function(){var t;return iJ(this,function(n){switch(n.label){case 0:return t=this.forwardInput,[4,aZ(e)];case 1:return[2,t.apply(this,[n.sent()])]}})})},t.prototype.predictExpressions=function(e){return rJ(this,void 0,void 0,function(){var t,n,r,i,a=this;return iJ(this,function(o){switch(o.label){case 0:return[4,aZ(e)];case 1:return t=o.sent(),[4,this.forwardInput(t)];case 2:return n=o.sent(),[4,Promise.all(qR(n).map(function(e){return rJ(a,void 0,void 0,function(){var t;return iJ(this,function(n){switch(n.label){case 0:return[4,e.data()];case 1:return t=n.sent(),e.dispose(),[2,t]}})})}))];case 3:return r=o.sent(),n.dispose(),i=r.map(function(e){return new UZ(e)}),[2,t.isBatchInput?i:i[0]]}})})},t.prototype.getDefaultModelName=function(){return"face_expression_model"},t.prototype.getClassifierChannelsIn=function(){return 256},t.prototype.getClassifierChannelsOut=function(){return 7},t}(IZ);function PZ(e,t){var n={expressions:t};return Object.assign({},e,n)}function LZ(e){return OJ(e)&&e.landmarks instanceof EJ&&e.unshiftedLandmarks instanceof EJ&&e.alignedRect instanceof wJ}function DZ(e,t){var n=e.detection.box,r=t.shiftBy(n.x,n.y),i=r.align(),a=e.detection.imageDims,o={landmarks:r,unshiftedLandmarks:t,alignedRect:new wJ(e.detection.score,i.rescale(a.reverse()),a)};return Object.assign({},e,o)}var TZ=function(e){void 0===e&&(e={});var t=e.drawLines,n=void 0===t||t,r=e.drawPoints,i=void 0===r||r,a=e.lineWidth,o=e.lineColor,s=e.pointSize,l=e.pointColor;this.drawLines=n,this.drawPoints=i,this.lineWidth=a||1,this.pointSize=s||2,this.lineColor=o||"rgba(0, 255, 255, 1)",this.pointColor=l||"rgba(255, 0, 255, 1)"},MZ=function(){function e(e,t){void 0===t&&(t={}),this.faceLandmarks=e,this.options=new TZ(t)}return e.prototype.draw=function(e){var t=VJ(e),n=this.options,r=n.drawLines,i=n.drawPoints,a=n.lineWidth,o=n.lineColor,s=n.pointSize,l=n.pointColor;if(r&&this.faceLandmarks instanceof FJ&&(t.strokeStyle=o,t.lineWidth=a,$Y(t,this.faceLandmarks.getJawOutline()),$Y(t,this.faceLandmarks.getLeftEyeBrow()),$Y(t,this.faceLandmarks.getRightEyeBrow()),$Y(t,this.faceLandmarks.getNose()),$Y(t,this.faceLandmarks.getLeftEye(),!0),$Y(t,this.faceLandmarks.getRightEye(),!0),$Y(t,this.faceLandmarks.getMouth(),!0)),i){t.strokeStyle=l,t.fillStyle=l;this.faceLandmarks.positions.forEach(function(e){t.beginPath(),t.arc(e.x,e.y,s,0,2*Math.PI),t.fill()})}},e}();function QZ(e,t){(Array.isArray(t)?t:[t]).forEach(function(t){var n=t instanceof EJ?t:LZ(t)?t.landmarks:void 0;if(!n)throw new Error("drawFaceLandmarks - expected faceExpressions to be FaceLandmarks | WithFaceLandmarks<WithFaceDetection<{}>> or array thereof");new MZ(n).draw(e)})}function RZ(e,t){var n=[],r=CZ(e),i=r.extractWeights,a=r.getRemainingWeights,o=function(e,t){var n=vZ(e,t),r=wZ(e,t);return{extractConvParams:n,extractSeparableConvParams:r,extractReductionBlockParams:function(e,t,i){return{separable_conv0:r(e,t,i+"/separable_conv0"),separable_conv1:r(t,t,i+"/separable_conv1"),expansion_conv:n(e,t,1,i+"/expansion_conv")}},extractMainBlockParams:function(e,t){return{separable_conv0:r(e,e,t+"/separable_conv0"),separable_conv1:r(e,e,t+"/separable_conv1"),separable_conv2:r(e,e,t+"/separable_conv2")}}}}(i,n),s=o.extractConvParams,l=o.extractSeparableConvParams,c=o.extractReductionBlockParams,u=o.extractMainBlockParams,A={conv_in:s(3,32,3,"entry_flow/conv_in"),reduction_block_0:c(32,64,"entry_flow/reduction_block_0"),reduction_block_1:c(64,128,"entry_flow/reduction_block_1")},d={};fJ(t,0,1).forEach(function(e){d["main_block_"+e]=u(128,"middle_flow/main_block_"+e)});var h={reduction_block:c(128,256,"exit_flow/reduction_block"),separable_conv:l(256,512,"exit_flow/separable_conv")};if(0!==a().length)throw new Error("weights remaing after extract: "+a().length);return{paramMappings:n,params:{entry_flow:A,middle_flow:d,exit_flow:h}}}function HZ(e,t){var n=[],r=function(e,t){var n=BZ(e,t),r=kZ(n),i=xZ(n);return{extractConvParams:r,extractSeparableConvParams:i,extractReductionBlockParams:function(e){return{separable_conv0:i(e+"/separable_conv0"),separable_conv1:i(e+"/separable_conv1"),expansion_conv:r(e+"/expansion_conv")}},extractMainBlockParams:function(e){return{separable_conv0:i(e+"/separable_conv0"),separable_conv1:i(e+"/separable_conv1"),separable_conv2:i(e+"/separable_conv2")}}}}(e,n),i=r.extractConvParams,a=r.extractSeparableConvParams,o=r.extractReductionBlockParams,s=r.extractMainBlockParams,l={conv_in:i("entry_flow/conv_in"),reduction_block_0:o("entry_flow/reduction_block_0"),reduction_block_1:o("entry_flow/reduction_block_1")},c={};fJ(t,0,1).forEach(function(e){c["main_block_"+e]=s("middle_flow/main_block_"+e)});var u={reduction_block:o("exit_flow/reduction_block"),separable_conv:a("exit_flow/separable_conv")};return mZ(e,n),{params:{entry_flow:l,middle_flow:c,exit_flow:u},paramMappings:n}}function zZ(e,t,n){return WV(jG(e,t.filters,n,"same"),t.bias)}function KZ(e,t,n){void 0===n&&(n=!0);var r=n?Bq(e):e;return r=hZ(r,t.separable_conv0,[1,1]),r=hZ(Bq(r),t.separable_conv1,[1,1]),r=ZG(r,[3,3],[2,2],"same"),r=WV(r,zZ(e,t.expansion_conv,[2,2]))}var WZ,VZ=function(e){function t(t){var n=e.call(this,"TinyXception")||this;return n._numMainBlocks=t,n}return tJ(t,e),t.prototype.forwardInput=function(e){var t=this,n=this.params;if(!n)throw new Error("TinyXception - load model before inference");return xQ(function(){var r=CJ(e.toBatchTensor(112,!0),[122.782,117.001,104.298]).div(GQ(256)),i=Bq(zZ(r,n.entry_flow.conv_in,[2,2]));return i=KZ(i,n.entry_flow.reduction_block_0,!1),i=KZ(i,n.entry_flow.reduction_block_1),fJ(t._numMainBlocks,0,1).forEach(function(e){i=function(e,t){var n=hZ(Bq(e),t.separable_conv0,[1,1]);return n=hZ(Bq(n),t.separable_conv1,[1,1]),n=hZ(Bq(n),t.separable_conv2,[1,1]),WV(n,e)}(i,n.middle_flow["main_block_"+e])}),i=KZ(i,n.exit_flow.reduction_block),i=Bq(hZ(i,n.exit_flow.separable_conv,[1,1]))})},t.prototype.forward=function(e){return rJ(this,void 0,void 0,function(){var t;return iJ(this,function(n){switch(n.label){case 0:return t=this.forwardInput,[4,aZ(e)];case 1:return[2,t.apply(this,[n.sent()])]}})})},t.prototype.getDefaultModelName=function(){return"tiny_xception_model"},t.prototype.extractParamsFromWeigthMap=function(e){return HZ(e,this._numMainBlocks)},t.prototype.extractParams=function(e){return RZ(e,this._numMainBlocks)},t}(dZ);!function(e){e.FEMALE="female",e.MALE="male"}(WZ||(WZ={}));var GZ=function(e){function t(t){void 0===t&&(t=new VZ(2));var n=e.call(this,"AgeGenderNet")||this;return n._faceFeatureExtractor=t,n}return tJ(t,e),Object.defineProperty(t.prototype,"faceFeatureExtractor",{get:function(){return this._faceFeatureExtractor},enumerable:!0,configurable:!0}),t.prototype.runNet=function(e){var t=this,n=this.params;if(!n)throw new Error(this._name+" - load model before inference");return xQ(function(){var r=e instanceof iZ?t.faceFeatureExtractor.forwardInput(e):e,i=$G(r,[7,7],[2,2],"valid").as2D(r.shape[0],-1);return{age:SZ(i,n.fc.age).as1D(),gender:SZ(i,n.fc.gender)}})},t.prototype.forwardInput=function(e){var t=this;return xQ(function(){var n=t.runNet(e),r=n.age,i=n.gender;return{age:r,gender:hH(i)}})},t.prototype.forward=function(e){return rJ(this,void 0,void 0,function(){var t;return iJ(this,function(n){switch(n.label){case 0:return t=this.forwardInput,[4,aZ(e)];case 1:return[2,t.apply(this,[n.sent()])]}})})},t.prototype.predictAgeAndGender=function(e){return rJ(this,void 0,void 0,function(){var t,n,r,i,a,o,s=this;return iJ(this,function(l){switch(l.label){case 0:return[4,aZ(e)];case 1:return t=l.sent(),[4,this.forwardInput(t)];case 2:return n=l.sent(),r=qR(n.age),i=qR(n.gender),a=r.map(function(e,t){return{ageTensor:e,genderTensor:i[t]}}),[4,Promise.all(a.map(function(e){var t=e.ageTensor,n=e.genderTensor;return rJ(s,void 0,void 0,function(){var e,r,i,a,o;return iJ(this,function(s){switch(s.label){case 0:return[4,t.data()];case 1:return e=s.sent()[0],[4,n.data()];case 2:return r=s.sent()[0],a=(i=r>.5)?WZ.MALE:WZ.FEMALE,o=i?r:1-r,t.dispose(),n.dispose(),[2,{age:e,gender:a,genderProbability:o}]}})})}))];case 3:return o=l.sent(),n.age.dispose(),n.gender.dispose(),[2,t.isBatchInput?o:o[0]]}})})},t.prototype.getDefaultModelName=function(){return"age_gender_model"},t.prototype.dispose=function(t){void 0===t&&(t=!0),this.faceFeatureExtractor.dispose(t),e.prototype.dispose.call(this,t)},t.prototype.loadClassifierParams=function(e){var t=this.extractClassifierParams(e),n=t.params,r=t.paramMappings;this._params=n,this._paramMappings=r},t.prototype.extractClassifierParams=function(e){return function(e){var t=[],n=CZ(e),r=n.extractWeights,i=n.getRemainingWeights,a=yZ(r,t),o=a(512,1,"fc/age"),s=a(512,2,"fc/gender");if(0!==i().length)throw new Error("weights remaing after extract: "+i().length);return{paramMappings:t,params:{fc:{age:o,gender:s}}}}(e)},t.prototype.extractParamsFromWeigthMap=function(e){var t=FZ(e),n=t.featureExtractorMap,r=t.classifierMap;return this.faceFeatureExtractor.loadFromWeightMap(n),function(e){var t=[],n=BZ(e,t);function r(e){return{weights:n(e+"/weights",2),bias:n(e+"/bias",1)}}var i={fc:{age:r("fc/age"),gender:r("fc/gender")}};return mZ(e,t),{params:i,paramMappings:t}}(r)},t.prototype.extractParams=function(e){var t=e.slice(0,e.length-1539),n=e.slice(e.length-1539);return this.faceFeatureExtractor.extractWeights(t),this.extractClassifierParams(n)},t}(dZ),qZ=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return tJ(t,e),t.prototype.postProcess=function(e,t,n){var r=n.map(function(e){var n=e.width,r=e.height,i=t/Math.max(r,n);return{width:n*i,height:r*i}}),i=r.length;return xQ(function(){var n=function(e,t){return WR([eR([68],e),eR([68],t)],1).as2D(1,136).as1D()},a=function(e,t){var n=r[e],i=n.width,a=n.height;return t(i,a)?Math.abs(i-a)/2:0},o=e.mul(eR([i,136],t)).sub(WR(Array.from(Array(i),function(e,t){return n(function(e){return a(e,function(e,t){return e<t})}(t),function(e){return a(e,function(e,t){return t<e})}(t))}))).div(WR(Array.from(Array(i),function(e,t){return n(r[t].width,r[t].height)})));return o})},t.prototype.forwardInput=function(e){var t=this;return xQ(function(){var n=t.runNet(e);return t.postProcess(n,e.inputSize,e.inputDimensions.map(function(e){return{height:e[0],width:e[1]}}))})},t.prototype.forward=function(e){return rJ(this,void 0,void 0,function(){var t;return iJ(this,function(n){switch(n.label){case 0:return t=this.forwardInput,[4,aZ(e)];case 1:return[2,t.apply(this,[n.sent()])]}})})},t.prototype.detectLandmarks=function(e){return rJ(this,void 0,void 0,function(){var t,n,r,i=this;return iJ(this,function(a){switch(a.label){case 0:return[4,aZ(e)];case 1:return t=a.sent(),n=xQ(function(){return qR(i.forwardInput(t))}),[4,Promise.all(n.map(function(e,n){return rJ(i,void 0,void 0,function(){var r,i,a,o,s;return iJ(this,function(l){switch(l.label){case 0:return a=(i=Array).from,[4,e.data()];case 1:return r=a.apply(i,[l.sent()]),o=r.filter(function(e,t){return uJ(t)}),s=r.filter(function(e,t){return!uJ(t)}),[2,new FJ(Array(68).fill(0).map(function(e,t){return new mJ(o[t],s[t])}),{height:t.getInputHeight(n),width:t.getInputWidth(n)})]}})})}))];case 2:return r=a.sent(),n.forEach(function(e){return e.dispose()}),[2,t.isBatchInput?r:r[0]]}})})},t.prototype.getClassifierChannelsOut=function(){return 136},t}(IZ),XZ=function(e){function t(t){return void 0===t&&(t=new EZ),e.call(this,"FaceLandmark68Net",t)||this}return tJ(t,e),t.prototype.getDefaultModelName=function(){return"face_landmark_68_model"},t.prototype.getClassifierChannelsIn=function(){return 256},t}(qZ);var YZ=function(e){function t(){return e.call(this,"TinyFaceFeatureExtractor")||this}return tJ(t,e),t.prototype.forwardInput=function(e){var t=this.params;if(!t)throw new Error("TinyFaceFeatureExtractor - load model before inference");return xQ(function(){var n=fZ(CJ(e.toBatchTensor(112,!0),[122.782,117.001,104.298]).div(GQ(255)),t.dense0,!0);return n=fZ(n,t.dense1),n=fZ(n,t.dense2),n=$G(n,[14,14],[2,2],"valid")})},t.prototype.forward=function(e){return rJ(this,void 0,void 0,function(){var t;return iJ(this,function(n){switch(n.label){case 0:return t=this.forwardInput,[4,aZ(e)];case 1:return[2,t.apply(this,[n.sent()])]}})})},t.prototype.getDefaultModelName=function(){return"face_feature_extractor_tiny_model"},t.prototype.extractParamsFromWeigthMap=function(e){return function(e){var t=[],n=_Z(e,t).extractDenseBlock3Params,r={dense0:n("dense0",!0),dense1:n("dense1"),dense2:n("dense2")};return mZ(e,t),{params:r,paramMappings:t}}(e)},t.prototype.extractParams=function(e){return function(e){var t=[],n=CZ(e),r=n.extractWeights,i=n.getRemainingWeights,a=NZ(r,t).extractDenseBlock3Params,o=a(3,32,"dense0",!0),s=a(32,64,"dense1"),l=a(64,128,"dense2");if(0!==i().length)throw new Error("weights remaing after extract: "+i().length);return{paramMappings:t,params:{dense0:o,dense1:s,dense2:l}}}(e)},t}(dZ),JZ=function(e){function t(t){return void 0===t&&(t=new YZ),e.call(this,"FaceLandmark68TinyNet",t)||this}return tJ(t,e),t.prototype.getDefaultModelName=function(){return"face_landmark_68_tiny_model"},t.prototype.getClassifierChannelsIn=function(){return 128},t}(qZ);!function(e){function t(){return null!==e&&e.apply(this,arguments)||this}tJ(t,e)}(XZ);function ZZ(e,t,n,r,i){void 0===i&&(i="same");var a=t.conv,o=a.filters,s=a.bias,l=jG(e,o,n,i);return l=function(e,t){return WV(aG(e,t.weights),t.biases)}(l=WV(l,s),t.scale),r?Bq(l):l}function $Z(e,t){return ZZ(e,t,[1,1],!1)}function e$(e,t){return ZZ(e,t,[2,2],!0,"valid")}function t$(e,t){function n(n,r,i,a){var o=function(t,n,r){var i=e(t),a=i.length/(n*r*r);if(a%1!==0)throw new Error("depth has to be an integer: "+a+", weights.length: "+i.length+", numFilters: "+n+", filterSize: "+r);return xQ(function(){return kq(JQ(i,[n,a,r,r]),[2,3,1,0])})}(n,r,i),s=qQ(e(r));return t.push({paramPath:a+"/filters"},{paramPath:a+"/bias"}),{filters:o,bias:s}}function r(r,i,a,o){var s=n(r,i,a,o+"/conv"),l=function(n,r){var i=qQ(e(n)),a=qQ(e(n));return t.push({paramPath:r+"/weights"},{paramPath:r+"/biases"}),{weights:i,biases:a}}(i,o+"/scale");return{conv:s,scale:l}}return{extractConvLayerParams:r,extractResidualLayerParams:function(e,t,n,i,a){return void 0===a&&(a=!1),{conv1:r((a?.5:1)*e,t,n,i+"/conv1"),conv2:r(e,t,n,i+"/conv2")}}}}function n$(e,t){var n=BZ(e,t);function r(e){var t=n(e+"/conv/filters",4),r=n(e+"/conv/bias",1),i=function(e){return{weights:n(e+"/scale/weights",1),biases:n(e+"/scale/biases",1)}}(e);return{conv:{filters:t,bias:r},scale:i}}return{extractConvLayerParams:r,extractResidualLayerParams:function(e){return{conv1:r(e+"/conv1"),conv2:r(e+"/conv2")}}}}function r$(e){var t=[],n=n$(e,t),r=n.extractConvLayerParams,i=n.extractResidualLayerParams,a=r("conv32_down"),o=i("conv32_1"),s=i("conv32_2"),l=i("conv32_3"),c=i("conv64_down"),u=i("conv64_1"),A=i("conv64_2"),d=i("conv64_3"),h=i("conv128_down"),f=i("conv128_1"),p=i("conv128_2"),g=i("conv256_down"),m=i("conv256_1"),v=i("conv256_2"),y=i("conv256_down_out"),b=e.fc;if(t.push({originalPath:"fc",paramPath:"fc"}),!sJ(b,2))throw new Error("expected weightMap[fc] to be a Tensor2D, instead have "+b);var w={conv32_down:a,conv32_1:o,conv32_2:s,conv32_3:l,conv64_down:c,conv64_1:u,conv64_2:A,conv64_3:d,conv128_down:h,conv128_1:f,conv128_2:p,conv256_down:g,conv256_1:m,conv256_2:v,conv256_down_out:y,fc:b};return mZ(e,t),{params:w,paramMappings:t}}function i$(e,t){var n=function(e,t){return ZZ(e,t,[1,1],!0)}(e,t.conv1);return n=$Z(n,t.conv2),n=WV(n,e),n=Bq(n)}function a$(e,t){var n=e$(e,t.conv1);n=$Z(n,t.conv2);var r=$G(e,2,2,"valid"),i=$Q(r.shape),a=r.shape[3]!==n.shape[3];if(r.shape[1]!==n.shape[1]||r.shape[2]!==n.shape[2]){var o=aJ(n.shape);o[1]=1;var s=$Q(o),l=aJ((n=iR([n,s],1)).shape);l[2]=1;var c=$Q(l);n=iR([n,c],2)}return r=a?iR([r,i],3):r,n=WV(r,n),n=Bq(n)}var o$=function(e){function t(){return e.call(this,"FaceRecognitionNet")||this}return tJ(t,e),t.prototype.forwardInput=function(e){var t=this.params;if(!t)throw new Error("FaceRecognitionNet - load model before inference");return xQ(function(){var n=e$(CJ(e.toBatchTensor(150,!0).toFloat(),[122.782,117.001,104.298]).div(GQ(256)),t.conv32_down);n=i$(n=ZG(n,3,2,"valid"),t.conv32_1),n=i$(n,t.conv32_2),n=i$(n,t.conv32_3),n=i$(n=a$(n,t.conv64_down),t.conv64_1),n=i$(n,t.conv64_2),n=i$(n,t.conv64_3),n=i$(n=a$(n,t.conv128_down),t.conv128_1),n=i$(n,t.conv128_2),n=i$(n=a$(n,t.conv256_down),t.conv256_1);var r=(n=a$(n=i$(n,t.conv256_2),t.conv256_down_out)).mean([1,2]);return HG(r,t.fc)})},t.prototype.forward=function(e){return rJ(this,void 0,void 0,function(){var t;return iJ(this,function(n){switch(n.label){case 0:return t=this.forwardInput,[4,aZ(e)];case 1:return[2,t.apply(this,[n.sent()])]}})})},t.prototype.computeFaceDescriptor=function(e){return rJ(this,void 0,void 0,function(){var t,n,r,i=this;return iJ(this,function(a){switch(a.label){case 0:return[4,aZ(e)];case 1:return t=a.sent(),n=xQ(function(){return qR(i.forwardInput(t))}),[4,Promise.all(n.map(function(e){return e.data()}))];case 2:return r=a.sent(),n.forEach(function(e){return e.dispose()}),[2,t.isBatchInput?r:r[0]]}})})},t.prototype.getDefaultModelName=function(){return"face_recognition_model"},t.prototype.extractParamsFromWeigthMap=function(e){return r$(e)},t.prototype.extractParams=function(e){return function(e){var t=CZ(e),n=t.extractWeights,r=t.getRemainingWeights,i=[],a=t$(n,i),o=a.extractConvLayerParams,s=a.extractResidualLayerParams,l=o(4704,32,7,"conv32_down"),c=s(9216,32,3,"conv32_1"),u=s(9216,32,3,"conv32_2"),A=s(9216,32,3,"conv32_3"),d=s(36864,64,3,"conv64_down",!0),h=s(36864,64,3,"conv64_1"),f=s(36864,64,3,"conv64_2"),p=s(36864,64,3,"conv64_3"),g=s(147456,128,3,"conv128_down",!0),m=s(147456,128,3,"conv128_1"),v=s(147456,128,3,"conv128_2"),y=s(589824,256,3,"conv256_down",!0),b=s(589824,256,3,"conv256_1"),w=s(589824,256,3,"conv256_2"),x=s(589824,256,3,"conv256_down_out"),B=xQ(function(){return kq(XQ(n(32768),[128,256]),[1,0])});if(i.push({paramPath:"fc"}),0!==r().length)throw new Error("weights remaing after extract: "+r().length);return{params:{conv32_down:l,conv32_1:c,conv32_2:u,conv32_3:A,conv64_down:d,conv64_1:h,conv64_2:f,conv64_3:p,conv128_down:g,conv128_1:m,conv128_2:v,conv256_down:y,conv256_1:b,conv256_2:w,conv256_down_out:x,fc:B},paramMappings:i}}(e)},t}(dZ);function s$(e,t,n){var r={gender:t,genderProbability:n};return Object.assign({},e,r)}var l$=function(){function e(e){var t=void 0===e?{}:e,n=t.minFaceSize,r=t.scaleFactor,i=t.maxNumScales,a=t.scoreThresholds,o=t.scaleSteps;if(this._name="MtcnnOptions",this._minFaceSize=n||20,this._scaleFactor=r||.709,this._maxNumScales=i||10,this._scoreThresholds=a||[.6,.7,.7],this._scaleSteps=o,"number"!==typeof this._minFaceSize||this._minFaceSize<0)throw new Error(this._name+" - expected minFaceSize to be a number > 0");if("number"!==typeof this._scaleFactor||this._scaleFactor<=0||this._scaleFactor>=1)throw new Error(this._name+" - expected scaleFactor to be a number between 0 and 1");if("number"!==typeof this._maxNumScales||this._maxNumScales<0)throw new Error(this._name+" - expected maxNumScales to be a number > 0");if(!Array.isArray(this._scoreThresholds)||3!==this._scoreThresholds.length||this._scoreThresholds.some(function(e){return"number"!==typeof e}))throw new Error(this._name+" - expected scoreThresholds to be an array of numbers of length 3");if(this._scaleSteps&&(!Array.isArray(this._scaleSteps)||this._scaleSteps.some(function(e){return"number"!==typeof e})))throw new Error(this._name+" - expected scaleSteps to be an array of numbers")}return Object.defineProperty(e.prototype,"minFaceSize",{get:function(){return this._minFaceSize},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scaleFactor",{get:function(){return this._scaleFactor},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxNumScales",{get:function(){return this._maxNumScales},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scoreThresholds",{get:function(){return this._scoreThresholds},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scaleSteps",{get:function(){return this._scaleSteps},enumerable:!0,configurable:!0}),e}();function c$(e,t){function n(n,r,i,a,o){var s=JQ(e(n*r*i*i),[i,i,n,r]),l=qQ(e(r));return t.push({paramPath:a+"/filters"},{paramPath:a+"/"+(o?"batch_norm_offset":"bias")}),{filters:s,bias:l}}function r(e,t,r,i){var a=n(e,t,r,i,!0);return{filters:a.filters,batch_norm_offset:a.bias}}function i(n,i,a){var o=function(n,r){var i=JQ(e(9*n),[3,3,n,1]),a=qQ(e(n)),o=qQ(e(n)),s=qQ(e(n)),l=qQ(e(n));return t.push({paramPath:r+"/filters"},{paramPath:r+"/batch_norm_scale"},{paramPath:r+"/batch_norm_offset"},{paramPath:r+"/batch_norm_mean"},{paramPath:r+"/batch_norm_variance"}),{filters:i,batch_norm_scale:a,batch_norm_offset:o,batch_norm_mean:s,batch_norm_variance:l}}(n,a+"/depthwise_conv");return{depthwise_conv:o,pointwise_conv:r(n,i,1,a+"/pointwise_conv")}}return{extractMobilenetV1Params:function(){return{conv_0:r(3,32,3,"mobilenetv1/conv_0"),conv_1:i(32,64,"mobilenetv1/conv_1"),conv_2:i(64,128,"mobilenetv1/conv_2"),conv_3:i(128,128,"mobilenetv1/conv_3"),conv_4:i(128,256,"mobilenetv1/conv_4"),conv_5:i(256,256,"mobilenetv1/conv_5"),conv_6:i(256,512,"mobilenetv1/conv_6"),conv_7:i(512,512,"mobilenetv1/conv_7"),conv_8:i(512,512,"mobilenetv1/conv_8"),conv_9:i(512,512,"mobilenetv1/conv_9"),conv_10:i(512,512,"mobilenetv1/conv_10"),conv_11:i(512,512,"mobilenetv1/conv_11"),conv_12:i(512,1024,"mobilenetv1/conv_12"),conv_13:i(1024,1024,"mobilenetv1/conv_13")}},extractPredictionLayerParams:function(){return{conv_0:r(1024,256,1,"prediction_layer/conv_0"),conv_1:r(256,512,3,"prediction_layer/conv_1"),conv_2:r(512,128,1,"prediction_layer/conv_2"),conv_3:r(128,256,3,"prediction_layer/conv_3"),conv_4:r(256,128,1,"prediction_layer/conv_4"),conv_5:r(128,256,3,"prediction_layer/conv_5"),conv_6:r(256,64,1,"prediction_layer/conv_6"),conv_7:r(64,128,3,"prediction_layer/conv_7"),box_predictor_0:{box_encoding_predictor:n(512,12,1,"prediction_layer/box_predictor_0/box_encoding_predictor"),class_predictor:n(512,9,1,"prediction_layer/box_predictor_0/class_predictor")},box_predictor_1:{box_encoding_predictor:n(1024,24,1,"prediction_layer/box_predictor_1/box_encoding_predictor"),class_predictor:n(1024,18,1,"prediction_layer/box_predictor_1/class_predictor")},box_predictor_2:{box_encoding_predictor:n(512,24,1,"prediction_layer/box_predictor_2/box_encoding_predictor"),class_predictor:n(512,18,1,"prediction_layer/box_predictor_2/class_predictor")},box_predictor_3:{box_encoding_predictor:n(256,24,1,"prediction_layer/box_predictor_3/box_encoding_predictor"),class_predictor:n(256,18,1,"prediction_layer/box_predictor_3/class_predictor")},box_predictor_4:{box_encoding_predictor:n(256,24,1,"prediction_layer/box_predictor_4/box_encoding_predictor"),class_predictor:n(256,18,1,"prediction_layer/box_predictor_4/class_predictor")},box_predictor_5:{box_encoding_predictor:n(128,24,1,"prediction_layer/box_predictor_5/box_encoding_predictor"),class_predictor:n(128,18,1,"prediction_layer/box_predictor_5/class_predictor")}}}}}function u$(e){var t=[],n=function(e,t){var n=BZ(e,t);function r(e,t,r){return{filters:n(e+"/Conv2d_"+t+"_pointwise/weights",4,r+"/filters"),batch_norm_offset:n(e+"/Conv2d_"+t+"_pointwise/convolution_bn_offset",1,r+"/batch_norm_offset")}}function i(e){var t="mobilenetv1/conv_"+e,i="MobilenetV1/Conv2d_"+e+"_depthwise",a=t+"/depthwise_conv",o=t+"/pointwise_conv";return{depthwise_conv:{filters:n(i+"/depthwise_weights",4,a+"/filters"),batch_norm_scale:n(i+"/BatchNorm/gamma",1,a+"/batch_norm_scale"),batch_norm_offset:n(i+"/BatchNorm/beta",1,a+"/batch_norm_offset"),batch_norm_mean:n(i+"/BatchNorm/moving_mean",1,a+"/batch_norm_mean"),batch_norm_variance:n(i+"/BatchNorm/moving_variance",1,a+"/batch_norm_variance")},pointwise_conv:r("MobilenetV1",e,o)}}function a(e,t){return{filters:n(e+"/weights",4,t+"/filters"),bias:n(e+"/biases",1,t+"/bias")}}function o(e){return{box_encoding_predictor:a("Prediction/BoxPredictor_"+e+"/BoxEncodingPredictor","prediction_layer/box_predictor_"+e+"/box_encoding_predictor"),class_predictor:a("Prediction/BoxPredictor_"+e+"/ClassPredictor","prediction_layer/box_predictor_"+e+"/class_predictor")}}return{extractMobilenetV1Params:function(){return{conv_0:r("MobilenetV1",0,"mobilenetv1/conv_0"),conv_1:i(1),conv_2:i(2),conv_3:i(3),conv_4:i(4),conv_5:i(5),conv_6:i(6),conv_7:i(7),conv_8:i(8),conv_9:i(9),conv_10:i(10),conv_11:i(11),conv_12:i(12),conv_13:i(13)}},extractPredictionLayerParams:function(){return{conv_0:r("Prediction",0,"prediction_layer/conv_0"),conv_1:r("Prediction",1,"prediction_layer/conv_1"),conv_2:r("Prediction",2,"prediction_layer/conv_2"),conv_3:r("Prediction",3,"prediction_layer/conv_3"),conv_4:r("Prediction",4,"prediction_layer/conv_4"),conv_5:r("Prediction",5,"prediction_layer/conv_5"),conv_6:r("Prediction",6,"prediction_layer/conv_6"),conv_7:r("Prediction",7,"prediction_layer/conv_7"),box_predictor_0:o(0),box_predictor_1:o(1),box_predictor_2:o(2),box_predictor_3:o(3),box_predictor_4:o(4),box_predictor_5:o(5)}}}}(e,t),r=n.extractMobilenetV1Params,i=n.extractPredictionLayerParams,a=e["Output/extra_dim"];if(t.push({originalPath:"Output/extra_dim",paramPath:"output_layer/extra_dim"}),!lJ(a))throw new Error("expected weightMap['Output/extra_dim'] to be a Tensor3D, instead have "+a);var o={mobilenetv1:r(),prediction_layer:i(),output_layer:{extra_dim:a}};return mZ(e,t),{params:o,paramMappings:t}}function A$(e,t,n){return xQ(function(){var r=jG(e,t.filters,n,"same");return r=WV(r,t.batch_norm_offset),$W(r,0,6)})}function d$(e,t){return xQ(function(){var n=null,r=A$(e,t.conv_0,[2,2]);if([t.conv_1,t.conv_2,t.conv_3,t.conv_4,t.conv_5,t.conv_6,t.conv_7,t.conv_8,t.conv_9,t.conv_10,t.conv_11,t.conv_12,t.conv_13].forEach(function(e,t){var i=t+1,a=function(e){return[2,4,6,12].some(function(t){return t===e})?[2,2]:[1,1]}(i);r=function(e,t,n){return xQ(function(){var r=LG(e,t.filters,n,"same");return r=PV(r,t.batch_norm_mean,t.batch_norm_variance,t.batch_norm_offset,t.batch_norm_scale,.0010000000474974513),$W(r,0,6)})}(r,e.depthwise_conv,a),r=A$(r,e.pointwise_conv,[1,1]),11===i&&(n=r)}),null===n)throw new Error("mobileNetV1 - output of conv layer 11 is null");return{out:r,conv11:n}})}function h$(e,t,n){var r=e.arraySync(),i=Math.min(r[t][0],r[t][2]),a=Math.min(r[t][1],r[t][3]),o=Math.max(r[t][0],r[t][2]),s=Math.max(r[t][1],r[t][3]),l=Math.min(r[n][0],r[n][2]),c=Math.min(r[n][1],r[n][3]),u=Math.max(r[n][0],r[n][2]),A=Math.max(r[n][1],r[n][3]),d=(o-i)*(s-a),h=(u-l)*(A-c);if(d<=0||h<=0)return 0;var f=Math.max(i,l),p=Math.max(a,c),g=Math.min(o,u),m=Math.min(s,A),v=Math.max(g-f,0)*Math.max(m-p,0);return v/(d+h-v)}function f$(e,t){var n=function(e){var t=qR(kq(e,[1,0])),n=[uG(t[2],t[0]),uG(t[3],t[1])];return{sizes:n,centers:[WV(t[0],XV(n[0],GQ(2))),WV(t[1],XV(n[1],GQ(2)))]}}(e),r=n.sizes,i=n.centers,a=qR(kq(t,[1,0])),o=XV(aG(rV(XV(a[2],GQ(5))),r[0]),GQ(2)),s=WV(aG(XV(a[0],GQ(10)),r[0]),i[0]),l=XV(aG(rV(XV(a[3],GQ(5))),r[1]),GQ(2)),c=WV(aG(XV(a[1],GQ(10)),r[1]),i[1]);return kq(WR([uG(s,o),uG(c,l),WV(s,o),WV(c,l)]),[1,0])}function p$(e,t){return xQ(function(){var n=e.shape[0];return{boxPredictionEncoding:HR(gZ(e,t.box_encoding_predictor),[n,-1,1,4]),classPrediction:HR(gZ(e,t.class_predictor),[n,-1,3])}})}var g$=function(){function e(e){var t=void 0===e?{}:e,n=t.minConfidence,r=t.maxResults;if(this._name="SsdMobilenetv1Options",this._minConfidence=n||.5,this._maxResults=r||100,"number"!==typeof this._minConfidence||this._minConfidence<=0||this._minConfidence>=1)throw new Error(this._name+" - expected minConfidence to be a number between 0 and 1");if("number"!==typeof this._maxResults)throw new Error(this._name+" - expected maxResults to be a number")}return Object.defineProperty(e.prototype,"minConfidence",{get:function(){return this._minConfidence},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxResults",{get:function(){return this._maxResults},enumerable:!0,configurable:!0}),e}(),m$=function(e){function t(){return e.call(this,"SsdMobilenetv1")||this}return tJ(t,e),t.prototype.forwardInput=function(e){var t=this.params;if(!t)throw new Error("SsdMobilenetv1 - load model before inference");return xQ(function(){var n=e.toBatchTensor(512,!1).toFloat(),r=d$(uG(aG(n,GQ(.007843137718737125)),GQ(1)),t.mobilenetv1),i=function(e,t,n){return xQ(function(){var r=A$(e,n.conv_0,[1,1]),i=A$(r,n.conv_1,[2,2]),a=A$(i,n.conv_2,[1,1]),o=A$(a,n.conv_3,[2,2]),s=A$(o,n.conv_4,[1,1]),l=A$(s,n.conv_5,[2,2]),c=A$(l,n.conv_6,[1,1]),u=A$(c,n.conv_7,[2,2]),A=p$(t,n.box_predictor_0),d=p$(e,n.box_predictor_1),h=p$(i,n.box_predictor_2),f=p$(o,n.box_predictor_3),p=p$(l,n.box_predictor_4),g=p$(u,n.box_predictor_5);return{boxPredictions:iR([A.boxPredictionEncoding,d.boxPredictionEncoding,h.boxPredictionEncoding,f.boxPredictionEncoding,p.boxPredictionEncoding,g.boxPredictionEncoding],1),classPredictions:iR([A.classPrediction,d.classPrediction,h.classPrediction,f.classPrediction,p.classPrediction,g.classPrediction],1)}})}(r.out,r.conv11,t.prediction_layer);return function(e,t,n){return xQ(function(){var r=e.shape[0],i=f$(HR(VR(n.extra_dim,[r,1,1]),[-1,4]),HR(e,[-1,4]));i=HR(i,[r,i.shape[0]/r,4]);var a=hV(rq(t,[0,0,1],[-1,-1,-1])),o=rq(a,[0,0,0],[-1,-1,1]);return o=HR(o,[r,o.shape[1]]),{boxes:qR(i),scores:qR(o)}})}(i.boxPredictions,i.classPredictions,t.output_layer)})},t.prototype.forward=function(e){return rJ(this,void 0,void 0,function(){var t;return iJ(this,function(n){switch(n.label){case 0:return t=this.forwardInput,[4,aZ(e)];case 1:return[2,t.apply(this,[n.sent()])]}})})},t.prototype.locateFaces=function(e,t){return void 0===t&&(t={}),rJ(this,void 0,void 0,function(){var n,r,i,a,o,s,l,c,u,A,d,h,f,p,g,m,v,y,b,w;return iJ(this,function(x){switch(x.label){case 0:return n=new g$(t),r=n.maxResults,i=n.minConfidence,[4,aZ(e)];case 1:for(a=x.sent(),o=this.forwardInput(a),s=o.boxes,l=o.scores,c=s[0],u=l[0],A=1;A<s.length;A++)s[A].dispose(),l[A].dispose();return f=(h=Array).from,[4,u.data()];case 2:return d=f.apply(h,[x.sent()]),p=function(e,t,n,r,i){var a=e.shape[0],o=Math.min(n,a),s=t.map(function(e,t){return{score:e,boxIndex:t}}).filter(function(e){return e.score>i}).sort(function(e,t){return t.score-e.score}),l=function(e){return e<=r?1:0},c=[];return s.forEach(function(t){if(!(c.length>=o)){for(var n=t.score,r=c.length-1;r>=0;--r){var a=h$(e,t.boxIndex,c[r]);if(0!==a&&(t.score*=l(a),t.score<=i))break}n===t.score&&c.push(t.boxIndex)}}),c}(c,d,r,.5,i),g=a.getReshapedInputDimensions(0),m=a.inputSize,v=m/g.width,y=m/g.height,b=c.arraySync(),w=p.map(function(e){var t=[Math.max(0,b[e][0]),Math.min(1,b[e][2])].map(function(e){return e*y}),n=t[0],r=t[1],i=[Math.max(0,b[e][1]),Math.min(1,b[e][3])].map(function(e){return e*v}),o=i[0],s=i[1];return new wJ(d[e],new _J(o,n,s-o,r-n),{height:a.getInputHeight(0),width:a.getInputWidth(0)})}),c.dispose(),u.dispose(),[2,w]}})})},t.prototype.getDefaultModelName=function(){return"ssd_mobilenetv1_model"},t.prototype.extractParamsFromWeigthMap=function(e){return u$(e)},t.prototype.extractParams=function(e){return function(e){var t=[],n=CZ(e),r=n.extractWeights,i=n.getRemainingWeights,a=c$(r,t),o=a.extractMobilenetV1Params,s=a.extractPredictionLayerParams,l=o(),c=s(),u={extra_dim:YQ(r(20472),[1,5118,4])};if(t.push({paramPath:"output_layer/extra_dim"}),0!==i().length)throw new Error("weights remaing after extract: "+i().length);return{params:{mobilenetv1:l,prediction_layer:c,output_layer:u},paramMappings:t}}(e)},t}(dZ);!function(e){function t(){return null!==e&&e.apply(this,arguments)||this}tJ(t,e)}(m$);var v$,y$=[new mJ(.738768,.874946),new mJ(2.42204,2.65704),new mJ(4.30971,7.04493),new mJ(10.246,4.59428),new mJ(12.6868,11.8741)],b$=[new mJ(1.603231,2.094468),new mJ(6.041143,7.080126),new mJ(2.882459,3.518061),new mJ(4.266906,5.178857),new mJ(9.041765,10.66308)],w$=[117.001,114.697,97.404],x$=function(e){return"number"===typeof e};function B$(e){return xQ(function(){var t=aG(e,GQ(.10000000149011612));return WV(Bq(uG(e,t)),t)})}function C$(e,t){return xQ(function(){var n=UR(e,[[0,0],[1,1],[1,1],[0,0]]);return n=jG(n,t.conv.filters,[1,1],"valid"),n=uG(n,t.bn.sub),n=aG(n,t.bn.truediv),B$(n=WV(n,t.conv.bias))})}function N$(e,t){return xQ(function(){var n=UR(e,[[0,0],[1,1],[1,1],[0,0]]);return n=MG(n,t.depthwise_filter,t.pointwise_filter,[1,1],"valid"),B$(n=WV(n,t.bias))})}function k$(e,t){var n=vZ(e,t);var r=wZ(e,t);return{extractConvParams:n,extractConvWithBatchNormParams:function(r,i,a){var o=n(r,i,3,a+"/conv"),s=function(n,r){var i=qQ(e(n)),a=qQ(e(n));return t.push({paramPath:r+"/sub"},{paramPath:r+"/truediv"}),{sub:i,truediv:a}}(i,a+"/bn");return{conv:o,bn:s}},extractSeparableConvParams:r}}function _$(e,t){var n=BZ(e,t);function r(e){return{filters:n(e+"/filters",4),bias:n(e+"/bias",1)}}return{extractConvParams:r,extractConvWithBatchNormParams:function(e){var t=r(e+"/conv"),i=function(e){return{sub:n(e+"/sub",1),truediv:n(e+"/truediv",1)}}(e+"/bn");return{conv:t,bn:i}},extractSeparableConvParams:xZ(n)}}!function(e){e[e.XS=224]="XS",e[e.SM=320]="SM",e[e.MD=416]="MD",e[e.LG=608]="LG"}(v$||(v$={}));var E$=function(){function e(e){var t=void 0===e?{}:e,n=t.inputSize,r=t.scoreThreshold;if(this._name="TinyYolov2Options",this._inputSize=n||416,this._scoreThreshold=r||.5,"number"!==typeof this._inputSize||this._inputSize%32!==0)throw new Error(this._name+" - expected inputSize to be a number divisible by 32");if("number"!==typeof this._scoreThreshold||this._scoreThreshold<=0||this._scoreThreshold>=1)throw new Error(this._name+" - expected scoreThreshold to be a number between 0 and 1")}return Object.defineProperty(e.prototype,"inputSize",{get:function(){return this._inputSize},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scoreThreshold",{get:function(){return this._scoreThreshold},enumerable:!0,configurable:!0}),e}(),S$=function(e){function t(t){var n=e.call(this,"TinyYolov2")||this;return function(e){if(!e)throw new Error("invalid config: "+e);if("boolean"!==typeof e.withSeparableConvs)throw new Error("config.withSeparableConvs has to be a boolean, have: "+e.withSeparableConvs);if(!x$(e.iouThreshold)||e.iouThreshold<0||e.iouThreshold>1)throw new Error("config.iouThreshold has to be a number between [0, 1], have: "+e.iouThreshold);if(!Array.isArray(e.classes)||!e.classes.length||!e.classes.every(function(e){return"string"===typeof e}))throw new Error("config.classes has to be an array class names: string[], have: "+JSON.stringify(e.classes));if(!Array.isArray(e.anchors)||!e.anchors.length||!e.anchors.map(function(e){return e||{}}).every(function(e){return x$(e.x)&&x$(e.y)}))throw new Error("config.anchors has to be an array of { x: number, y: number }, have: "+JSON.stringify(e.anchors));if(e.meanRgb&&(!Array.isArray(e.meanRgb)||3!==e.meanRgb.length||!e.meanRgb.every(x$)))throw new Error("config.meanRgb has to be an array of shape [number, number, number], have: "+JSON.stringify(e.meanRgb))}(t),n._config=t,n}return tJ(t,e),Object.defineProperty(t.prototype,"config",{get:function(){return this._config},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"withClassScores",{get:function(){return this.config.withClassScores||this.config.classes.length>1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"boxEncodingSize",{get:function(){return 5+(this.withClassScores?this.config.classes.length:0)},enumerable:!0,configurable:!0}),t.prototype.runTinyYolov2=function(e,t){var n=C$(e,t.conv0);return n=C$(n=ZG(n,[2,2],[2,2],"same"),t.conv1),n=C$(n=ZG(n,[2,2],[2,2],"same"),t.conv2),n=C$(n=ZG(n,[2,2],[2,2],"same"),t.conv3),n=C$(n=ZG(n,[2,2],[2,2],"same"),t.conv4),n=C$(n=ZG(n,[2,2],[2,2],"same"),t.conv5),n=C$(n=ZG(n,[2,2],[1,1],"same"),t.conv6),gZ(n=C$(n,t.conv7),t.conv8,"valid",!1)},t.prototype.runMobilenet=function(e,t){var n=this.config.isFirstLayerConv2d?B$(gZ(e,t.conv0,"valid",!1)):N$(e,t.conv0);return n=N$(n=ZG(n,[2,2],[2,2],"same"),t.conv1),n=N$(n=ZG(n,[2,2],[2,2],"same"),t.conv2),n=N$(n=ZG(n,[2,2],[2,2],"same"),t.conv3),n=N$(n=ZG(n,[2,2],[2,2],"same"),t.conv4),n=N$(n=ZG(n,[2,2],[2,2],"same"),t.conv5),n=ZG(n,[2,2],[1,1],"same"),n=t.conv6?N$(n,t.conv6):n,gZ(n=t.conv7?N$(n,t.conv7):n,t.conv8,"valid",!1)},t.prototype.forwardInput=function(e,t){var n=this,r=this.params;if(!r)throw new Error("TinyYolov2 - load model before inference");return xQ(function(){var i=e.toBatchTensor(t,!1).toFloat();return i=(i=n.config.meanRgb?CJ(i,n.config.meanRgb):i).div(GQ(256)),n.config.withSeparableConvs?n.runMobilenet(i,r):n.runTinyYolov2(i,r)})},t.prototype.forward=function(e,t){return rJ(this,void 0,void 0,function(){var n;return iJ(this,function(r){switch(r.label){case 0:return n=this.forwardInput,[4,aZ(e)];case 1:return[4,n.apply(this,[r.sent(),t])];case 2:return[2,r.sent()]}})})},t.prototype.detect=function(e,t){return void 0===t&&(t={}),rJ(this,void 0,void 0,function(){var n,r,i,a,o,s,l,c,u,A,d,h,f,p=this;return iJ(this,function(g){switch(g.label){case 0:return n=new E$(t),r=n.inputSize,i=n.scoreThreshold,[4,aZ(e)];case 1:return a=g.sent(),[4,this.forwardInput(a,r)];case 2:return o=g.sent(),s=xQ(function(){return qR(o)[0].expandDims()}),l={width:a.getInputWidth(0),height:a.getInputHeight(0)},[4,this.extractBoxes(s,a.getReshapedInputDimensions(0),i)];case 3:return c=g.sent(),o.dispose(),s.dispose(),u=c.map(function(e){return e.box}),A=c.map(function(e){return e.score}),d=c.map(function(e){return e.classScore}),h=c.map(function(e){return p.config.classes[e.label]}),f=BJ(u.map(function(e){return e.rescale(r)}),A,this.config.iouThreshold,!0),[2,f.map(function(e){return new bJ(A[e],d[e],h[e],u[e],l)})]}})})},t.prototype.getDefaultModelName=function(){return""},t.prototype.extractParamsFromWeigthMap=function(e){return function(e,t){var n,r=[],i=_$(e,r),a=i.extractConvParams,o=i.extractConvWithBatchNormParams,s=i.extractSeparableConvParams;if(t.withSeparableConvs){var l=t.filterSizes&&t.filterSizes.length||9;n={conv0:t.isFirstLayerConv2d?a("conv0"):s("conv0"),conv1:s("conv1"),conv2:s("conv2"),conv3:s("conv3"),conv4:s("conv4"),conv5:s("conv5"),conv6:l>7?s("conv6"):void 0,conv7:l>8?s("conv7"):void 0,conv8:a("conv8")}}else n={conv0:o("conv0"),conv1:o("conv1"),conv2:o("conv2"),conv3:o("conv3"),conv4:o("conv4"),conv5:o("conv5"),conv6:o("conv6"),conv7:o("conv7"),conv8:a("conv8")};return mZ(e,r),{params:n,paramMappings:r}}(e,this.config)},t.prototype.extractParams=function(e){var n=this.config.filterSizes||t.DEFAULT_FILTER_SIZES,r=n?n.length:void 0;if(7!==r&&8!==r&&9!==r)throw new Error("TinyYolov2 - expected 7 | 8 | 9 convolutional filters, but found "+r+" filterSizes in config");return function(e,t,n,r){var i,a=CZ(e),o=a.extractWeights,s=a.getRemainingWeights,l=[],c=k$(o,l),u=c.extractConvParams,A=c.extractConvWithBatchNormParams,d=c.extractSeparableConvParams;if(t.withSeparableConvs){var h=r[0],f=r[1],p=r[2],g=r[3],m=r[4],v=r[5],y=r[6],b=r[7],w=r[8];i={conv0:t.isFirstLayerConv2d?u(h,f,3,"conv0"):d(h,f,"conv0"),conv1:d(f,p,"conv1"),conv2:d(p,g,"conv2"),conv3:d(g,m,"conv3"),conv4:d(m,v,"conv4"),conv5:d(v,y,"conv5"),conv6:b?d(y,b,"conv6"):void 0,conv7:w?d(b,w,"conv7"):void 0,conv8:u(w||b||y,5*n,1,"conv8")}}else h=r[0],f=r[1],p=r[2],g=r[3],m=r[4],v=r[5],y=r[6],b=r[7],w=r[8],i={conv0:A(h,f,"conv0"),conv1:A(f,p,"conv1"),conv2:A(p,g,"conv2"),conv3:A(g,m,"conv3"),conv4:A(m,v,"conv4"),conv5:A(v,y,"conv5"),conv6:A(y,b,"conv6"),conv7:A(b,w,"conv7"),conv8:u(w,5*n,1,"conv8")};if(0!==s().length)throw new Error("weights remaing after extract: "+s().length);return{params:i,paramMappings:l}}(e,this.config,this.boxEncodingSize,n)},t.prototype.extractBoxes=function(e,t,n){return rJ(this,void 0,void 0,function(){var r,i,a,o,s,l,c,u,A,d,h,f,p,g,m,v,y,b,w,x,B,C,N,k,_,E,S,F,I,j=this;return iJ(this,function(U){switch(U.label){case 0:return r=t.width,i=t.height,a=Math.max(r,i),o=a/r,s=a/i,l=e.shape[1],c=this.config.anchors.length,u=xQ(function(){var t=e.reshape([l,l,c,j.boxEncodingSize]);return[t.slice([0,0,0,0],[l,l,c,4]),t.slice([0,0,0,4],[l,l,c,1]),j.withClassScores?hH(t.slice([0,0,0,5],[l,l,c,j.config.classes.length]),3):GQ(0)]}),A=u[0],d=u[1],h=u[2],f=[],[4,d.array()];case 1:return p=U.sent(),[4,A.array()];case 2:g=U.sent(),m=0,U.label=3;case 3:if(!(m<l))return[3,12];v=0,U.label=4;case 4:if(!(v<l))return[3,11];y=0,U.label=5;case 5:return y<c?(b=NJ(p[m][v][y][0]),!n||b>n?(w=(v+NJ(g[m][v][y][0]))/l*o,x=(m+NJ(g[m][v][y][1]))/l*s,B=Math.exp(g[m][v][y][2])*this.config.anchors[y].x/l*o,C=Math.exp(g[m][v][y][3])*this.config.anchors[y].y/l*s,N=w-B/2,k=x-C/2,_={row:m,col:v,anchor:y},this.withClassScores?[4,this.extractPredictedClass(h,_)]:[3,7]):[3,9]):[3,10];case 6:return I=U.sent(),[3,8];case 7:I={classScore:1,label:0},U.label=8;case 8:S=(E=I).classScore,F=E.label,f.push(nJ({box:new yJ(N,k,N+B,k+C),score:b,classScore:b*S,label:F},_)),U.label=9;case 9:return y++,[3,5];case 10:return v++,[3,4];case 11:return m++,[3,3];case 12:return A.dispose(),d.dispose(),h.dispose(),[2,f]}})})},t.prototype.extractPredictedClass=function(e,t){return rJ(this,void 0,void 0,function(){var n,r,i,a;return iJ(this,function(o){switch(o.label){case 0:return n=t.row,r=t.col,i=t.anchor,[4,e.array()];case 1:return a=o.sent(),[2,Array(this.config.classes.length).fill(0).map(function(e,t){return a[n][r][i][t]}).map(function(e,t){return{classScore:e,label:t}}).reduce(function(e,t){return e.classScore>t.classScore?e:t})]}})})},t.DEFAULT_FILTER_SIZES=[3,16,32,64,128,256,512,1024,1024],t}(dZ),F$=function(e){function t(t){void 0===t&&(t=!0);var n=Object.assign({},{withSeparableConvs:t,iouThreshold:.4,classes:["face"]},t?{anchors:b$,meanRgb:w$}:{anchors:y$,withClassScores:!0});return e.call(this,n)||this}return tJ(t,e),Object.defineProperty(t.prototype,"withSeparableConvs",{get:function(){return this.config.withSeparableConvs},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"anchors",{get:function(){return this.config.anchors},enumerable:!0,configurable:!0}),t.prototype.locateFaces=function(e,t){return rJ(this,void 0,void 0,function(){return iJ(this,function(n){switch(n.label){case 0:return[4,this.detect(e,t)];case 1:return[2,n.sent().map(function(e){return new wJ(e.score,e.relativeBox,{width:e.imageWidth,height:e.imageHeight})})]}})})},t.prototype.getDefaultModelName=function(){return this.withSeparableConvs?"tiny_yolov2_separable_conv_model":"tiny_yolov2_model"},t.prototype.extractParamsFromWeigthMap=function(t){return e.prototype.extractParamsFromWeigthMap.call(this,t)},t}(S$);var I$=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._name="TinyFaceDetectorOptions",t}return tJ(t,e),t}(E$),j$=function(){function e(){}return e.prototype.then=function(e){return rJ(this,void 0,void 0,function(){var t;return iJ(this,function(n){switch(n.label){case 0:return t=e,[4,this.run()];case 1:return[2,t.apply(void 0,[n.sent()])]}})})},e.prototype.run=function(){return rJ(this,void 0,void 0,function(){return iJ(this,function(e){throw new Error("ComposableTask - run is not implemented")})})},e}();function U$(e,t){var n={descriptor:t};return Object.assign({},e,n)}function O$(e,t,n,r,i){return void 0===i&&(i=function(e){return e.alignedRect}),rJ(this,void 0,void 0,function(){var a,o,s,l,c;return iJ(this,function(u){switch(u.label){case 0:return a=e.map(function(e){return LZ(e)?i(e):e.detection}),(s=r)?[3,5]:t instanceof eM?[4,sZ(t,a)]:[3,2];case 1:return l=u.sent(),[3,4];case 2:return[4,oZ(t,a)];case 3:l=u.sent(),u.label=4;case 4:s=l,u.label=5;case 5:return[4,n(o=s)];case 6:return c=u.sent(),o.forEach(function(e){return e instanceof eM&&e.dispose()}),[2,c]}})})}function P$(e,t,n,r,i){return rJ(this,void 0,void 0,function(){var a=this;return iJ(this,function(o){return[2,O$([e],t,function(e){return rJ(a,void 0,void 0,function(){return iJ(this,function(t){return[2,n(e[0])]})})},r,i)]})})}function L$(e){var t=CZ(e),n=t.extractWeights,r=t.getRemainingWeights,i=[],a=function(e,t){var n=vZ(e,t),r=yZ(e,t);function i(n,r){var i=qQ(e(n));return t.push({paramPath:r}),i}function a(e,t,r){return void 0===r&&(r=!1),{conv1:n(e[0],e[1],3,t+"/conv1"),prelu1_alpha:i(e[1],t+"/prelu1_alpha"),conv2:n(e[1],e[2],3,t+"/conv2"),prelu2_alpha:i(e[2],t+"/prelu2_alpha"),conv3:n(e[2],e[3],r?2:3,t+"/conv3"),prelu3_alpha:i(e[3],t+"/prelu3_alpha")}}return{extractPNetParams:function(){var e=a([3,10,16,32],"pnet"),t=n(32,2,1,"pnet/conv4_1"),r=n(32,4,1,"pnet/conv4_2");return nJ(nJ({},e),{conv4_1:t,conv4_2:r})},extractRNetParams:function(){var e=a([3,28,48,64],"rnet",!0),t=r(576,128,"rnet/fc1"),n=i(128,"rnet/prelu4_alpha"),o=r(128,2,"rnet/fc2_1"),s=r(128,4,"rnet/fc2_2");return nJ(nJ({},e),{fc1:t,prelu4_alpha:n,fc2_1:o,fc2_2:s})},extractONetParams:function(){var e=a([3,32,64,64],"onet"),t=n(64,128,2,"onet/conv4"),o=i(128,"onet/prelu4_alpha"),s=r(1152,256,"onet/fc1"),l=i(256,"onet/prelu5_alpha"),c=r(256,2,"onet/fc2_1"),u=r(256,4,"onet/fc2_2"),A=r(256,10,"onet/fc2_3");return nJ(nJ({},e),{conv4:t,prelu4_alpha:o,fc1:s,prelu5_alpha:l,fc2_1:c,fc2_2:u,fc2_3:A})}}}(n,i),o=a.extractPNetParams,s=a.extractRNetParams,l=a.extractONetParams,c=o(),u=s(),A=l();if(0!==r().length)throw new Error("weights remaing after extract: "+r().length);return{params:{pnet:c,rnet:u,onet:A},paramMappings:i}}function D$(e){var t=[],n=function(e,t){var n=BZ(e,t);function r(e){return{filters:n(e+"/weights",4,e+"/filters"),bias:n(e+"/bias",1)}}function i(e){return{weights:n(e+"/weights",2),bias:n(e+"/bias",1)}}function a(e){return n(e,1)}function o(e){return{conv1:r(e+"/conv1"),prelu1_alpha:a(e+"/prelu1_alpha"),conv2:r(e+"/conv2"),prelu2_alpha:a(e+"/prelu2_alpha"),conv3:r(e+"/conv3"),prelu3_alpha:a(e+"/prelu3_alpha")}}return{extractPNetParams:function(){var e=o("pnet"),t=r("pnet/conv4_1"),n=r("pnet/conv4_2");return nJ(nJ({},e),{conv4_1:t,conv4_2:n})},extractRNetParams:function(){var e=o("rnet"),t=i("rnet/fc1"),n=a("rnet/prelu4_alpha"),r=i("rnet/fc2_1"),s=i("rnet/fc2_2");return nJ(nJ({},e),{fc1:t,prelu4_alpha:n,fc2_1:r,fc2_2:s})},extractONetParams:function(){var e=o("onet"),t=r("onet/conv4"),n=a("onet/prelu4_alpha"),s=i("onet/fc1"),l=a("onet/prelu5_alpha"),c=i("onet/fc2_1"),u=i("onet/fc2_2"),A=i("onet/fc2_3");return nJ(nJ({},e),{conv4:t,prelu4_alpha:n,fc1:s,prelu5_alpha:l,fc2_1:c,fc2_2:u,fc2_3:A})}}}(e,t),r=n.extractPNetParams,i=n.extractRNetParams,a=n.extractONetParams,o=r(),s=i(),l=a();return mZ(e,t),{params:{pnet:o,rnet:s,onet:l},paramMappings:t}}function T$(e,t){var n=t[0],r=t[1];return{height:Math.floor(n*e),width:Math.floor(r*e)}}var M$=function(e){function t(t,n,r,i){return e.call(this,{left:t,top:n,right:r,bottom:i},!0)||this}return tJ(t,e),t}(vJ);function Q$(e){return xQ(function(){return aG(uG(e,GQ(127.5)),GQ(.0078125))})}function R$(e,t){return xQ(function(){return WV(Bq(e),aG(t,cV(Bq(cV(e)))))})}function H$(e,t,n){return void 0===n&&(n=!1),xQ(function(){var r=gZ(e,t.conv1,"valid");return r=R$(r,t.prelu1_alpha),r=R$(r=gZ(r=ZG(r,n?[2,2]:[3,3],[2,2],"same"),t.conv2,"valid"),t.prelu2_alpha),r=R$(r=gZ(r=n?r:ZG(r,[3,3],[2,2],"valid"),t.conv3,"valid"),t.prelu3_alpha)})}function z$(e,t,n,r,i){i.stage1=[];var a=t.map(function(t){return xQ(function(){var n={scale:t},i=function(e,t){return xQ(function(){var n=T$(t,e.shape.slice(1)),r=n.height,i=n.width,a=Q$(vX.resizeBilinear(e,[r,i]));return kq(a,[0,2,1,3])})}(e,t),a=Date.now(),o=function(e,t){return xQ(function(){var n=H$(e,t,!0),r=gZ(n,t.conv4_1,"valid"),i=SR(fq(r,3),3);return{prob:hH(uG(r,i),3),regions:gZ(n,t.conv4_2,"valid")}})}(i,r),s=o.prob,l=o.regions;return n.pnet=Date.now()-a,{scoresTensor:qR(qR(s,3)[1])[0],regionsTensor:qR(l)[0],scale:t,statsForScale:n}})}),o=a.map(function(e){var t=e.scoresTensor,r=e.regionsTensor,a=e.scale,o=e.statsForScale,s=function(e,t,n,r){for(var i=[],a=e.arraySync(),o=0;o<e.shape[0];o++)for(var s=0;s<e.shape[1];s++)a[o][s]>=r&&i.push(new mJ(s,o));return i.map(function(e){var r=new yJ(Math.round((2*e.y+1)/n),Math.round((2*e.x+1)/n),Math.round((2*e.y+12)/n),Math.round((2*e.x+12)/n)),i=a[e.y][e.x],o=t.arraySync();return{cell:r,score:i,region:new M$(o[e.y][e.x][0],o[e.y][e.x][1],o[e.y][e.x][2],o[e.y][e.x][3])}})}(t,r,a,n);if(t.dispose(),r.dispose(),!s.length)return i.stage1.push(o),[];var l=Date.now(),c=BJ(s.map(function(e){return e.cell}),s.map(function(e){return e.score}),.5);return o.nms=Date.now()-l,o.numBoxes=c.length,i.stage1.push(o),c.map(function(e){return s[e]})}),s=o.reduce(function(e,t){return e.concat(t)},[]),l=[],c=[];if(s.length>0){var u=Date.now(),A=BJ(s.map(function(e){return e.cell}),s.map(function(e){return e.score}),.7);i.stage1_nms=Date.now()-u,c=A.map(function(e){return s[e].score}),l=A.map(function(e){return s[e]}).map(function(e){var t=e.cell,n=e.region;return new yJ(t.left+n.left*t.width,t.top+n.top*t.height,t.right+n.right*t.width,t.bottom+n.bottom*t.height).toSquare().round()})}return{boxes:l,scores:c}}function K$(e,t,n){var r=n.width,i=n.height;return rJ(this,void 0,void 0,function(){var n,a,o,s=this;return iJ(this,function(l){switch(l.label){case 0:return n=VJ(e),[4,Promise.all(t.map(function(t){return rJ(s,void 0,void 0,function(){var r,i,a,o,s,l,c,u;return iJ(this,function(A){return r=t.padAtBorders(e.height,e.width),i=r.y,a=r.ey,o=r.x,s=r.ex,l=o-1,c=i-1,u=n.getImageData(l,c,s-l,a-c),[2,KJ.isNodejs()?tZ(u):createImageBitmap(u)]})})}))];case 1:return a=l.sent(),o=[],a.forEach(function(e){var t=VJ(eZ({width:r,height:i}));t.drawImage(e,0,0,r,i);for(var n=t.getImageData(0,0,r,i).data,a=[],s=0;s<n.length;s+=4)a.push(n[s+2]),a.push(n[s+1]),a.push(n[s]);o.push(a)}),[2,o.map(function(e){return xQ(function(){return Q$(kq(JQ(e,[1,r,i,3]),[0,2,1,3]).toFloat())})})]}})})}function W$(e,t,n,r,i){return rJ(this,void 0,void 0,function(){var a,o,s,l,c,u,A,d,h,f,p,g,m,v;return iJ(this,function(y){switch(y.label){case 0:return a=Date.now(),[4,K$(e,t,{width:24,height:24})];case 1:return o=y.sent(),i.stage2_extractImagePatches=Date.now()-a,a=Date.now(),s=o.map(function(e){var t=function(e,t){return xQ(function(){var n=H$(e,t),r=R$(SZ(HR(n,[n.shape[0],t.fc1.weights.shape[0]]),t.fc1),t.prelu4_alpha),i=SZ(r,t.fc2_1),a=SR(fq(i,1),1),o=hH(uG(i,a),1),s=SZ(r,t.fc2_2);return{scores:qR(o,1)[1],regions:s}})}(e,r);return e.dispose(),t}),i.stage2_rnet=Date.now()-a,l=s.length>1?iR(s.map(function(e){return e.scores})):s[0].scores,A=(u=Array).from,[4,l.data()];case 2:return c=A.apply(u,[y.sent()]),l.dispose(),d=c.map(function(e,t){return{score:e,idx:t}}).filter(function(e){return e.score>n}).map(function(e){return e.idx}),h=d.map(function(e){return t[e]}),f=d.map(function(e){return c[e]}),p=[],g=[],h.length>0&&(a=Date.now(),m=BJ(h,f,.7),i.stage2_nms=Date.now()-a,v=m.map(function(e){var t=s[d[e]].regions.arraySync();return new M$(t[0][0],t[0][1],t[0][2],t[0][3])}),g=m.map(function(e){return f[e]}),p=m.map(function(e,t){return h[e].calibrate(v[t])})),s.forEach(function(e){e.regions.dispose(),e.scores.dispose()}),[2,{boxes:p,scores:g}]}})})}function V$(e,t,n,r,i){return rJ(this,void 0,void 0,function(){var a,o,s,l,c,u,A,d,h,f,p,g,m,v,y;return iJ(this,function(b){switch(b.label){case 0:return a=Date.now(),[4,K$(e,t,{width:48,height:48})];case 1:return o=b.sent(),i.stage3_extractImagePatches=Date.now()-a,a=Date.now(),s=o.map(function(e){var t=function(e,t){return xQ(function(){var n=H$(e,t);n=R$(n=gZ(n=ZG(n,[2,2],[2,2],"same"),t.conv4,"valid"),t.prelu4_alpha);var r=R$(SZ(HR(n,[n.shape[0],t.fc1.weights.shape[0]]),t.fc1),t.prelu5_alpha),i=SZ(r,t.fc2_1),a=SR(fq(i,1),1),o=hH(uG(i,a),1),s=SZ(r,t.fc2_2),l=SZ(r,t.fc2_3);return{scores:qR(o,1)[1],regions:s,points:l}})}(e,r);return e.dispose(),t}),i.stage3_onet=Date.now()-a,l=s.length>1?iR(s.map(function(e){return e.scores})):s[0].scores,A=(u=Array).from,[4,l.data()];case 2:return c=A.apply(u,[b.sent()]),l.dispose(),d=c.map(function(e,t){return{score:e,idx:t}}).filter(function(e){return e.score>n}).map(function(e){return e.idx}),h=d.map(function(e){var t=s[e].regions.arraySync();return new M$(t[0][0],t[0][1],t[0][2],t[0][3])}),f=d.map(function(e,n){return t[e].calibrate(h[n])}),p=d.map(function(e){return c[e]}),g=[],m=[],v=[],f.length>0&&(a=Date.now(),y=BJ(f,p,.7,!1),i.stage3_nms=Date.now()-a,g=y.map(function(e){return f[e]}),m=y.map(function(e){return p[e]}),v=y.map(function(e,t){return Array(5).fill(0).map(function(n,r){var i=s[e].points.arraySync();return new mJ(i[0][r]*(g[t].width+1)+g[t].left,i[0][r+5]*(g[t].height+1)+g[t].top)})})),s.forEach(function(e){e.regions.dispose(),e.scores.dispose(),e.points.dispose()}),[2,{boxes:g,scores:m,points:v}]}})})}var G$=function(e){function t(){return e.call(this,"Mtcnn")||this}return tJ(t,e),t.prototype.load=function(t){return rJ(this,void 0,void 0,function(){return iJ(this,function(n){return console.warn("mtcnn is deprecated and will be removed soon"),[2,e.prototype.load.call(this,t)]})})},t.prototype.loadFromDisk=function(t){return rJ(this,void 0,void 0,function(){return iJ(this,function(n){return console.warn("mtcnn is deprecated and will be removed soon"),[2,e.prototype.loadFromDisk.call(this,t)]})})},t.prototype.forwardInput=function(e,t){return void 0===t&&(t={}),rJ(this,void 0,void 0,function(){var n,r,i,a,o,s,l,c,u,A,d,h,f,p,g,m,v,y,b,w,x;return iJ(this,function(B){switch(B.label){case 0:if(!(n=this.params))throw new Error("Mtcnn - load model before inference");if(!(r=e.canvases[0]))throw new Error("Mtcnn - inputCanvas is not defined, note that passing tensors into Mtcnn.forwardInput is not supported yet.");return i={},a=Date.now(),o=xQ(function(){return e=SR(DY.fromPixels(r)).toFloat(),xQ(function(){return WR(qR(e,3).reverse(),3)});var e}),s=function(e){return o.dispose(),i.total=Date.now()-a,e},l=o.shape.slice(1),c=l[0],u=l[1],A=new l$(t),d=A.minFaceSize,h=A.scaleFactor,f=A.maxNumScales,p=A.scoreThresholds,g=A.scaleSteps,m=(g||function(e,t,n){for(var r=n[0],i=n[1],a=12/e,o=[],s=Math.min(r,i)*a,l=0;s>=12;)o.push(a*Math.pow(t,l)),s*=t,l+=1;return o}(d,h,[c,u])).filter(function(e){var t=T$(e,[c,u]);return Math.min(t.width,t.height)>12}).slice(0,f),i.scales=m,i.pyramid=m.map(function(e){return T$(e,[c,u])}),v=Date.now(),[4,z$(o,m,p[0],n.pnet,i)];case 1:return y=B.sent(),i.total_stage1=Date.now()-v,y.boxes.length?(i.stage2_numInputBoxes=y.boxes.length,v=Date.now(),[4,W$(r,y.boxes,p[1],n.rnet,i)]):[2,s({results:[],stats:i})];case 2:return b=B.sent(),i.total_stage2=Date.now()-v,b.boxes.length?(i.stage3_numInputBoxes=b.boxes.length,v=Date.now(),[4,V$(r,b.boxes,p[2],n.onet,i)]):[2,s({results:[],stats:i})];case 3:return w=B.sent(),i.total_stage3=Date.now()-v,x=w.boxes.map(function(e,t){return DZ(PJ({},new wJ(w.scores[t],new _J(e.left/u,e.top/c,e.width/u,e.height/c),{height:c,width:u})),new SJ(w.points[t].map(function(t){return t.sub(new mJ(e.left,e.top)).div(new mJ(e.width,e.height))}),{width:e.width,height:e.height}))}),[2,s({results:x,stats:i})]}})})},t.prototype.forward=function(e,t){return void 0===t&&(t={}),rJ(this,void 0,void 0,function(){var n;return iJ(this,function(r){switch(r.label){case 0:return n=this.forwardInput,[4,aZ(e)];case 1:return[4,n.apply(this,[r.sent(),t])];case 2:return[2,r.sent().results]}})})},t.prototype.forwardWithStats=function(e,t){return void 0===t&&(t={}),rJ(this,void 0,void 0,function(){var n;return iJ(this,function(r){switch(r.label){case 0:return n=this.forwardInput,[4,aZ(e)];case 1:return[2,n.apply(this,[r.sent(),t])]}})})},t.prototype.getDefaultModelName=function(){return"mtcnn_model"},t.prototype.extractParamsFromWeigthMap=function(e){return D$(e)},t.prototype.extractParams=function(e){return L$(e)},t}(dZ),q$=[new mJ(1.603231,2.094468),new mJ(6.041143,7.080126),new mJ(2.882459,3.518061),new mJ(4.266906,5.178857),new mJ(9.041765,10.66308)],X$=[117.001,114.697,97.404],Y$=function(e){function t(){var t={withSeparableConvs:!0,iouThreshold:.4,classes:["face"],anchors:q$,meanRgb:X$,isFirstLayerConv2d:!0,filterSizes:[3,16,32,64,128,256,512]};return e.call(this,t)||this}return tJ(t,e),Object.defineProperty(t.prototype,"anchors",{get:function(){return this.config.anchors},enumerable:!0,configurable:!0}),t.prototype.locateFaces=function(e,t){return rJ(this,void 0,void 0,function(){return iJ(this,function(n){switch(n.label){case 0:return[4,this.detect(e,t)];case 1:return[2,n.sent().map(function(e){return new wJ(e.score,e.relativeBox,{width:e.imageWidth,height:e.imageHeight})})]}})})},t.prototype.getDefaultModelName=function(){return"tiny_face_detector_model"},t.prototype.extractParamsFromWeigthMap=function(t){return e.prototype.extractParamsFromWeigthMap.call(this,t)},t}(S$),J$={ssdMobilenetv1:new m$,tinyFaceDetector:new Y$,tinyYolov2:new F$,mtcnn:new G$,faceLandmark68Net:new XZ,faceLandmark68TinyNet:new JZ,faceRecognitionNet:new o$,faceExpressionNet:new OZ,ageGenderNet:new GZ};function Z$(e,t){var n={age:t};return Object.assign({},e,n)}var $$=function(e){function t(t,n,r){var i=e.call(this)||this;return i.parentTask=t,i.input=n,i.extractedFaces=r,i}return tJ(t,e),t}(j$),e0=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return tJ(t,e),t.prototype.run=function(){return rJ(this,void 0,void 0,function(){var e,t,n=this;return iJ(this,function(r){switch(r.label){case 0:return[4,this.parentTask];case 1:return[4,O$(e=r.sent(),this.input,function(e){return rJ(n,void 0,void 0,function(){return iJ(this,function(t){switch(t.label){case 0:return[4,Promise.all(e.map(function(e){return J$.faceExpressionNet.predictExpressions(e)}))];case 1:return[2,t.sent()]}})})},this.extractedFaces)];case 2:return t=r.sent(),[2,e.map(function(e,n){return PZ(e,t[n])})]}})})},t.prototype.withAgeAndGender=function(){return new a0(this,this.input)},t}($$),t0=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return tJ(t,e),t.prototype.run=function(){return rJ(this,void 0,void 0,function(){var e,t;return iJ(this,function(n){switch(n.label){case 0:return[4,this.parentTask];case 1:return(e=n.sent())?[4,P$(e,this.input,function(e){return J$.faceExpressionNet.predictExpressions(e)},this.extractedFaces)]:[2];case 2:return t=n.sent(),[2,PZ(e,t)]}})})},t.prototype.withAgeAndGender=function(){return new o0(this,this.input)},t}($$),n0=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return tJ(t,e),t.prototype.withAgeAndGender=function(){return new s0(this,this.input)},t.prototype.withFaceDescriptors=function(){return new u0(this,this.input)},t}(e0),r0=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return tJ(t,e),t.prototype.withAgeAndGender=function(){return new l0(this,this.input)},t.prototype.withFaceDescriptor=function(){return new A0(this,this.input)},t}(t0),i0=function(e){function t(t,n,r){var i=e.call(this)||this;return i.parentTask=t,i.input=n,i.extractedFaces=r,i}return tJ(t,e),t}(j$),a0=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return tJ(t,e),t.prototype.run=function(){return rJ(this,void 0,void 0,function(){var e,t,n=this;return iJ(this,function(r){switch(r.label){case 0:return[4,this.parentTask];case 1:return[4,O$(e=r.sent(),this.input,function(e){return rJ(n,void 0,void 0,function(){return iJ(this,function(t){switch(t.label){case 0:return[4,Promise.all(e.map(function(e){return J$.ageGenderNet.predictAgeAndGender(e)}))];case 1:return[2,t.sent()]}})})},this.extractedFaces)];case 2:return t=r.sent(),[2,e.map(function(e,n){var r=t[n],i=r.age;return Z$(s$(e,r.gender,r.genderProbability),i)})]}})})},t.prototype.withFaceExpressions=function(){return new e0(this,this.input)},t}(i0),o0=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return tJ(t,e),t.prototype.run=function(){return rJ(this,void 0,void 0,function(){var e,t,n,r,i;return iJ(this,function(a){switch(a.label){case 0:return[4,this.parentTask];case 1:return(e=a.sent())?[4,P$(e,this.input,function(e){return J$.ageGenderNet.predictAgeAndGender(e)},this.extractedFaces)]:[2];case 2:return t=a.sent(),n=t.age,r=t.gender,i=t.genderProbability,[2,Z$(s$(e,r,i),n)]}})})},t.prototype.withFaceExpressions=function(){return new t0(this,this.input)},t}(i0),s0=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return tJ(t,e),t.prototype.withFaceExpressions=function(){return new n0(this,this.input)},t.prototype.withFaceDescriptors=function(){return new u0(this,this.input)},t}(a0),l0=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return tJ(t,e),t.prototype.withFaceExpressions=function(){return new r0(this,this.input)},t.prototype.withFaceDescriptor=function(){return new A0(this,this.input)},t}(o0),c0=function(e){function t(t,n){var r=e.call(this)||this;return r.parentTask=t,r.input=n,r}return tJ(t,e),t}(j$),u0=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return tJ(t,e),t.prototype.run=function(){return rJ(this,void 0,void 0,function(){var e;return iJ(this,function(t){switch(t.label){case 0:return[4,this.parentTask];case 1:return[4,O$(e=t.sent(),this.input,function(e){return Promise.all(e.map(function(e){return J$.faceRecognitionNet.computeFaceDescriptor(e)}))},null,function(e){return e.landmarks.align(null,{useDlibAlignment:!0})})];case 2:return[2,t.sent().map(function(t,n){return U$(e[n],t)})]}})})},t.prototype.withFaceExpressions=function(){return new n0(this,this.input)},t.prototype.withAgeAndGender=function(){return new s0(this,this.input)},t}(c0),A0=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return tJ(t,e),t.prototype.run=function(){return rJ(this,void 0,void 0,function(){var e,t;return iJ(this,function(n){switch(n.label){case 0:return[4,this.parentTask];case 1:return(e=n.sent())?[4,P$(e,this.input,function(e){return J$.faceRecognitionNet.computeFaceDescriptor(e)},null,function(e){return e.landmarks.align(null,{useDlibAlignment:!0})})]:[2];case 2:return t=n.sent(),[2,U$(e,t)]}})})},t.prototype.withFaceExpressions=function(){return new r0(this,this.input)},t.prototype.withAgeAndGender=function(){return new l0(this,this.input)},t}(c0),d0=function(e){function t(t,n,r){var i=e.call(this)||this;return i.parentTask=t,i.input=n,i.useTinyLandmarkNet=r,i}return tJ(t,e),Object.defineProperty(t.prototype,"landmarkNet",{get:function(){return this.useTinyLandmarkNet?J$.faceLandmark68TinyNet:J$.faceLandmark68Net},enumerable:!0,configurable:!0}),t}(j$),h0=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return tJ(t,e),t.prototype.run=function(){return rJ(this,void 0,void 0,function(){var e,t,n,r,i,a=this;return iJ(this,function(o){switch(o.label){case 0:return[4,this.parentTask];case 1:return e=o.sent(),t=e.map(function(e){return e.detection}),this.input instanceof eM?[4,sZ(this.input,t)]:[3,3];case 2:return r=o.sent(),[3,5];case 3:return[4,oZ(this.input,t)];case 4:r=o.sent(),o.label=5;case 5:return n=r,[4,Promise.all(n.map(function(e){return a.landmarkNet.detectLandmarks(e)}))];case 6:return i=o.sent(),n.forEach(function(e){return e instanceof eM&&e.dispose()}),[2,e.map(function(e,t){return DZ(e,i[t])})]}})})},t.prototype.withFaceExpressions=function(){return new n0(this,this.input)},t.prototype.withAgeAndGender=function(){return new s0(this,this.input)},t.prototype.withFaceDescriptors=function(){return new u0(this,this.input)},t}(d0),f0=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return tJ(t,e),t.prototype.run=function(){return rJ(this,void 0,void 0,function(){var e,t,n,r,i;return iJ(this,function(a){switch(a.label){case 0:return[4,this.parentTask];case 1:return(e=a.sent())?(t=e.detection,this.input instanceof eM?[4,sZ(this.input,[t])]:[3,3]):[2];case 2:return r=a.sent(),[3,5];case 3:return[4,oZ(this.input,[t])];case 4:r=a.sent(),a.label=5;case 5:return n=r,[4,this.landmarkNet.detectLandmarks(n[0])];case 6:return i=a.sent(),n.forEach(function(e){return e instanceof eM&&e.dispose()}),[2,DZ(e,i)]}})})},t.prototype.withFaceExpressions=function(){return new r0(this,this.input)},t.prototype.withAgeAndGender=function(){return new l0(this,this.input)},t.prototype.withFaceDescriptor=function(){return new A0(this,this.input)},t}(d0),p0=function(e){function t(t,n){void 0===n&&(n=new g$);var r=e.call(this)||this;return r.input=t,r.options=n,r}return tJ(t,e),t}(j$),g0=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return tJ(t,e),t.prototype.run=function(){return rJ(this,void 0,void 0,function(){var e,t,n,r;return iJ(this,function(i){switch(i.label){case 0:return t=(e=this).input,(n=e.options)instanceof l$?[4,J$.mtcnn.forward(t,n)]:[3,2];case 1:return[2,i.sent().map(function(e){return e.detection})];case 2:if(r=n instanceof I$?function(e){return J$.tinyFaceDetector.locateFaces(e,n)}:n instanceof g$?function(e){return J$.ssdMobilenetv1.locateFaces(e,n)}:n instanceof E$?function(e){return J$.tinyYolov2.locateFaces(e,n)}:null,!r)throw new Error("detectFaces - expected options to be instance of TinyFaceDetectorOptions | SsdMobilenetv1Options | MtcnnOptions | TinyYolov2Options");return[2,r(t)]}})})},t.prototype.runAndExtendWithFaceDetections=function(){var e=this;return new Promise(function(t){return rJ(e,void 0,void 0,function(){var e;return iJ(this,function(n){switch(n.label){case 0:return[4,this.run()];case 1:return e=n.sent(),[2,t(e.map(function(e){return PJ({},e)}))]}})})})},t.prototype.withFaceLandmarks=function(e){return void 0===e&&(e=!1),new h0(this.runAndExtendWithFaceDetections(),this.input,e)},t.prototype.withFaceExpressions=function(){return new e0(this.runAndExtendWithFaceDetections(),this.input)},t.prototype.withAgeAndGender=function(){return new a0(this.runAndExtendWithFaceDetections(),this.input)},t}(p0),m0=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return tJ(t,e),t.prototype.run=function(){return rJ(this,void 0,void 0,function(){var e,t;return iJ(this,function(n){switch(n.label){case 0:return[4,new g0(this.input,this.options)];case 1:return e=n.sent(),t=e[0],e.forEach(function(e){e.score>t.score&&(t=e)}),[2,t]}})})},t.prototype.runAndExtendWithFaceDetection=function(){var e=this;return new Promise(function(t){return rJ(e,void 0,void 0,function(){var e;return iJ(this,function(n){switch(n.label){case 0:return[4,this.run()];case 1:return e=n.sent(),[2,t(e?PJ({},e):void 0)]}})})})},t.prototype.withFaceLandmarks=function(e){return void 0===e&&(e=!1),new f0(this.runAndExtendWithFaceDetection(),this.input,e)},t.prototype.withFaceExpressions=function(){return new t0(this.runAndExtendWithFaceDetection(),this.input)},t.prototype.withAgeAndGender=function(){return new o0(this.runAndExtendWithFaceDetection(),this.input)},t}(p0);function v0(e,t){return void 0===t&&(t=new g$),new m0(e,t)}function y0(e,t){return void 0===t&&(t=new g$),new g0(e,t)}function b0(e,t){if(e.length!==t.length)throw new Error("euclideanDistance: arr1.length !== arr2.length");var n=Array.from(e),r=Array.from(t);return Math.sqrt(n.map(function(e,t){return e-r[t]}).reduce(function(e,t){return e+Math.pow(t,2)},0))}var w0=function(){function e(e,t){void 0===t&&(t=.6),this._distanceThreshold=t;var n=Array.isArray(e)?e:[e];if(!n.length)throw new Error("FaceRecognizer.constructor - expected atleast one input");var r=1,i=function(){return"person "+r++};this._labeledDescriptors=n.map(function(e){if(e instanceof UJ)return e;if(e instanceof Float32Array)return new UJ(i(),[e]);if(e.descriptor&&e.descriptor instanceof Float32Array)return new UJ(i(),[e.descriptor]);throw new Error("FaceRecognizer.constructor - expected inputs to be of type LabeledFaceDescriptors | WithFaceDescriptor<any> | Float32Array | Array<LabeledFaceDescriptors | WithFaceDescriptor<any> | Float32Array>")})}return Object.defineProperty(e.prototype,"labeledDescriptors",{get:function(){return this._labeledDescriptors},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"distanceThreshold",{get:function(){return this._distanceThreshold},enumerable:!0,configurable:!0}),e.prototype.computeMeanDistance=function(e,t){return t.map(function(t){return b0(t,e)}).reduce(function(e,t){return e+t},0)/(t.length||1)},e.prototype.matchDescriptor=function(e){var t=this;return this.labeledDescriptors.map(function(n){var r=n.descriptors,i=n.label;return new IJ(i,t.computeMeanDistance(e,r))}).reduce(function(e,t){return e.distance<t.distance?e:t})},e.prototype.findBestMatch=function(e){var t=this.matchDescriptor(e);return t.distance<this.distanceThreshold?t:new IJ("unknown",t.distance)},e.prototype.toJSON=function(){return{distanceThreshold:this.distanceThreshold,labeledDescriptors:this.labeledDescriptors.map(function(e){return e.toJSON()})}},e.fromJSON=function(t){var n=t.labeledDescriptors.map(function(e){return UJ.fromJSON(e)});return new e(n,t.distanceThreshold)},e}();function x0(e,t){var n=new oJ(t.width,t.height),r=n.width,i=n.height;if(r<=0||i<=0)throw new Error("resizeResults - invalid dimensions: "+JSON.stringify({width:r,height:i}));if(Array.isArray(e))return e.map(function(e){return x0(e,{width:r,height:i})});if(LZ(e)){var a=e.detection.forSize(r,i),o=e.unshiftedLandmarks.forSize(a.box.width,a.box.height);return DZ(PJ(e,a),o)}return OJ(e)?PJ(e,e.detection.forSize(r,i)):e instanceof EJ||e instanceof wJ?e.forSize(r,i):e}const B0=()=>{const{id:e}=ie(),t=re(),[n,r]=(0,i.useState)(null),[a,o]=(0,i.useState)([]),[s,l]=(0,i.useState)(!0),[c,u]=(0,i.useState)(""),[A,d]=(0,i.useState)(!1),[h,f]=(0,i.useState)(!1),[p,g]=(0,i.useState)(!1),[m,v]=(0,i.useState)(""),[y,b]=(0,i.useState)(""),w=(0,i.useRef)(null),x=(0,i.useRef)(null),B=(0,i.useRef)(null),C=(0,i.useRef)(null),N=(0,i.useCallback)(async()=>{try{const t=await Xu.get("http://localhost:5001/api/workers/".concat(e));r(t.data)}catch(t){console.error(t),u("Failed to fetch worker data")}},[e]),k=(0,i.useCallback)(async()=>{try{const t=await Xu.get("http://localhost:5001/api/jobs/worker/".concat(e));o(t.data)}catch(t){console.error(t),u("Failed to fetch jobs")}finally{l(!1)}},[e]);(0,i.useEffect)(()=>{if(!localStorage.getItem("employee"))return void t("/employee/login");const e=localStorage.getItem("employee");if(e){const t=JSON.parse(e);r(t)}else N();return k(),window.openFaceAttendanceModal=()=>d(!0),()=>{window.openFaceAttendanceModal=void 0,C.current&&clearInterval(C.current)}},[e,N,k,t]),(0,i.useEffect)(()=>{(async()=>{if(A&&!h)try{CQ("webgl"),await NQ(),await J$.ssdMobilenetv1.loadFromUri("/models"),await J$.faceLandmark68Net.loadFromUri("/models"),await J$.faceRecognitionNet.loadFromUri("/models"),f(!0),v("")}catch(e){console.error("Error loading models:",e),v("Failed to load face detection models. Please ensure model files are correctly downloaded.")}})()},[A,h]);const _=()=>{localStorage.removeItem("employee"),t("/employee/login")},E=()=>{d(!1),v(""),b(""),f(!1),B.current&&(B.current.getTracks().forEach(e=>e.stop()),B.current=null),C.current&&(clearInterval(C.current),C.current=null)},S=e=>{if(!e)return;const t=e.getContext("2d"),n=e.width/2,r=e.height/2,i=.3*Math.min(e.width,e.height);t.clearRect(0,0,e.width,e.height),t.beginPath(),t.arc(n,r,i,0,2*Math.PI),t.strokeStyle="rgba(0, 255, 0, 0.7)",t.lineWidth=3,t.stroke(),t.beginPath(),t.arc(n,r,5,0,2*Math.PI),t.fillStyle="rgba(0, 255, 0, 0.7)",t.fill()},F=(0,i.useCallback)(async()=>{if(!w.current||!h||!n)return;const e=w.current.video;if(e){if(4!==e.readyState){if(e.networkState!==e.NETWORK_LOADING&&e.networkState!==e.NETWORK_IDLE)return;if(await new Promise(e=>setTimeout(e,50)),4!==e.readyState)return}g(!0),v("");try{const i=await v0(e,new g$({minConfidence:.7,maxResults:1})).withFaceLandmarks().withFaceDescriptor(),a=x.current;if(a){const t={width:e.videoWidth||e.width||640,height:e.videoHeight||e.height||480};a.width=t.width,a.height=t.height,S(a)}if(i){const a=i.detection.box;if(a.width<=0||a.height<=0)return v("Invalid face detection. Please ensure your face is clearly visible."),void g(!1);const o={width:e.videoWidth||e.width||640,height:e.videoHeight||e.height||480},s=x.current;if(s){s.width=o.width,s.height=o.height,S(s);const e=x0(i,o);if(!((e,t)=>{if(!e||!t)return!1;const n=e.box,r=t.width/2,i=t.height/2,a=.3*Math.min(t.width,t.height),o=n.x+n.width/2,s=n.y+n.height/2;return Math.sqrt(Math.pow(o-r,2)+Math.pow(s-i,2))<=a&&n.width>=.25*t.width&&n.height>=.25*t.height&&n.width<=.7*t.width&&n.height<=.7*t.height})(e.detection,s))return v("Please position your face within the circular frame."),void g(!1);try{JJ(s,e),QZ(s,e)}catch(t){console.warn("Error drawing face detection:",t)}try{const e=(await Xu.get("http://localhost:5001/api/workers/".concat(n._id,"/face-data"))).data;if(!e||!e.faceImages||0===e.faceImages.length)return v("No face data registered for this worker. Please contact administrator."),void g(!1);const t=e.faceImages.map(e=>new Float32Array(128)),r=[new UJ(n._id,t)],a=new w0(r,.6).findBestMatch(i.descriptor);a&&"unknown"!==a.label&&a.distance<.6?await I(n._id):v("Face not recognized. Please try again.")}catch(r){console.error("Error getting worker face data:",r),v("Failed to verify worker data. Please try again.")}}}else v("No face detected. Please position your face within the frame.")}catch(i){console.error("Error recognizing face:",i),v("Failed to recognize face. Please try again.")}finally{g(!1)}}else v("Camera not accessible.")},[h,n]);(0,i.useEffect)(()=>{let e;return A&&h&&((async()=>{try{const e=await navigator.mediaDevices.getUserMedia({video:{facingMode:"user",width:{ideal:640},height:{ideal:480}}});B.current=e,w.current&&(w.current.srcObject=e)}catch(e){console.error("Error accessing camera:",e),v("Could not access camera. Please ensure you have given permission.")}})(),e=setInterval(()=>{p||F()},1e3)),()=>{e&&clearInterval(e)}},[A,h,p,F]);const I=async e=>{try{if(200!==(await Xu.post("http://localhost:5001/api/workers/attendance",{workerId:e,method:"face"})).status)throw new Error("Failed to record attendance");b("Attendance recorded successfully!"),setTimeout(()=>{E()},2e3)}catch(t){console.error("Error recording attendance:",t),v("Failed to record attendance. Please try again.")}};return s?(0,Pe.jsxs)("div",{className:"flex min-h-screen bg-gray-100",children:[(0,Pe.jsx)(RD,{worker:n,onLogout:_}),(0,Pe.jsx)("div",{className:"flex-1 ml-64 flex items-center justify-center",children:(0,Pe.jsxs)("div",{className:"text-center",children:[(0,Pe.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),(0,Pe.jsx)("p",{className:"mt-4 text-gray-600",children:"Loading dashboard..."})]})})]}):c?(0,Pe.jsxs)("div",{className:"flex min-h-screen bg-gray-100",children:[(0,Pe.jsx)(RD,{worker:n,onLogout:_}),(0,Pe.jsx)("div",{className:"flex-1 ml-64 flex items-center justify-center",children:(0,Pe.jsx)("div",{className:"bg-white rounded-lg shadow-xl p-6 max-w-md w-full",children:(0,Pe.jsxs)("div",{className:"text-center",children:[(0,Pe.jsx)("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100",children:(0,Pe.jsx)("svg",{className:"h-6 w-6 text-red-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Pe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})}),(0,Pe.jsx)("h3",{className:"text-lg font-medium text-gray-900 mt-4",children:"Error"}),(0,Pe.jsx)("p",{className:"mt-2 text-gray-500",children:c}),(0,Pe.jsx)("button",{onClick:()=>window.location.reload(),className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 transition",children:"Retry"})]})})})]}):(0,Pe.jsxs)("div",{className:"flex min-h-screen bg-gray-100",children:[(0,Pe.jsx)(RD,{worker:n,onLogout:_}),(0,Pe.jsxs)("div",{className:"flex-1 ml-64",children:[(0,Pe.jsx)("div",{className:"bg-white shadow",children:(0,Pe.jsx)("div",{className:"max-w-6xl mx-auto px-4 py-4",children:(0,Pe.jsx)("h1",{className:"text-xl font-bold text-gray-900",children:"Employee Dashboard"})})}),(0,Pe.jsxs)("div",{className:"max-w-6xl mx-auto p-4",children:[(0,Pe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[(0,Pe.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,Pe.jsxs)("div",{className:"flex items-center",children:[(0,Pe.jsx)("div",{className:"p-3 rounded-full bg-blue-100 text-blue-600",children:(0,Pe.jsx)("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Pe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})}),(0,Pe.jsxs)("div",{className:"ml-4",children:[(0,Pe.jsx)("p",{className:"text-sm text-gray-500",children:"Assigned Jobs"}),(0,Pe.jsx)("p",{className:"text-2xl font-bold",children:a.length})]})]})}),(0,Pe.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,Pe.jsxs)("div",{className:"flex items-center",children:[(0,Pe.jsx)("div",{className:"p-3 rounded-full bg-green-100 text-green-600",children:(0,Pe.jsx)("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Pe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,Pe.jsxs)("div",{className:"ml-4",children:[(0,Pe.jsx)("p",{className:"text-sm text-gray-500",children:"Completed Jobs"}),(0,Pe.jsx)("p",{className:"text-2xl font-bold",children:a.filter(e=>"Done"===e.status).length})]})]})}),(0,Pe.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,Pe.jsxs)("div",{className:"flex items-center",children:[(0,Pe.jsx)("div",{className:"p-3 rounded-full bg-yellow-100 text-yellow-600",children:(0,Pe.jsx)("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Pe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,Pe.jsxs)("div",{className:"ml-4",children:[(0,Pe.jsx)("p",{className:"text-sm text-gray-500",children:"In Progress"}),(0,Pe.jsx)("p",{className:"text-2xl font-bold",children:a.filter(e=>"In Progress"===e.status).length})]})]})})]}),(0,Pe.jsxs)("div",{className:"bg-white rounded-lg shadow mb-6 p-6",children:[(0,Pe.jsx)("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Profile Information"}),(0,Pe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Pe.jsxs)("div",{children:[(0,Pe.jsx)("p",{className:"text-sm text-gray-500",children:"Name"}),(0,Pe.jsx)("p",{className:"font-semibold",children:null===n||void 0===n?void 0:n.name})]}),(0,Pe.jsxs)("div",{children:[(0,Pe.jsx)("p",{className:"text-sm text-gray-500",children:"Email"}),(0,Pe.jsx)("p",{className:"font-semibold",children:null===n||void 0===n?void 0:n.email})]}),(0,Pe.jsxs)("div",{children:[(0,Pe.jsx)("p",{className:"text-sm text-gray-500",children:"Role"}),(0,Pe.jsx)("p",{className:"font-semibold",children:null===n||void 0===n?void 0:n.role})]}),(0,Pe.jsxs)("div",{children:[(0,Pe.jsx)("p",{className:"text-sm text-gray-500",children:"Department"}),(0,Pe.jsx)("p",{className:"font-semibold",children:null!==n&&void 0!==n&&n.department?n.department.name:"Not Assigned"})]})]})]}),(0,Pe.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,Pe.jsx)("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Assigned Jobs"}),0===a.length?(0,Pe.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,Pe.jsx)("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Pe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),(0,Pe.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No jobs assigned"}),(0,Pe.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"You don't have any jobs assigned to you yet."})]}):(0,Pe.jsx)("div",{className:"overflow-x-auto",children:(0,Pe.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Pe.jsx)("thead",{className:"bg-gray-50",children:(0,Pe.jsxs)("tr",{children:[(0,Pe.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Job ID"}),(0,Pe.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customer"}),(0,Pe.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Device"}),(0,Pe.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Issue"}),(0,Pe.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"})]})}),(0,Pe.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:a.map(e=>{var t,n;return(0,Pe.jsxs)("tr",{children:[(0,Pe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:null===(t=e._id)||void 0===t?void 0:t.substring(0,8)}),(0,Pe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:null===(n=e.customer)||void 0===n?void 0:n.name}),(0,Pe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.device_model}),(0,Pe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.reported_issue}),(0,Pe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Pe.jsx)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full ".concat("Done"===e.status?"bg-green-100 text-green-800":"In Progress"===e.status?"bg-yellow-100 text-yellow-800":"Pending Approval"===e.status?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"),children:e.status})})]},e._id)})})]})})]})]})]}),A&&(0,Pe.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Pe.jsxs)("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md",children:[(0,Pe.jsxs)("div",{className:"border-b border-gray-200 px-6 py-4 flex justify-between items-center",children:[(0,Pe.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Face Recognition Attendance"}),(0,Pe.jsx)("button",{onClick:E,className:"text-gray-500 hover:text-gray-700",children:(0,Pe.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),(0,Pe.jsx)("div",{className:"px-6 py-4",children:(0,Pe.jsx)("div",{className:"mb-6",children:h?(0,Pe.jsxs)("div",{className:"face-attendance-container",children:[(0,Pe.jsxs)("div",{className:"webcam-container relative mb-4",children:[(0,Pe.jsx)("video",{ref:w,autoPlay:!0,playsInline:!0,muted:!0,className:"w-full rounded-lg"}),(0,Pe.jsx)("canvas",{ref:x,className:"absolute top-0 left-0 w-full h-full"})]}),(0,Pe.jsxs)("div",{className:"text-center mb-4",children:[(0,Pe.jsx)("div",{className:"inline-block p-2 bg-blue-100 rounded-full",children:(0,Pe.jsx)("div",{className:"w-4 h-4 bg-blue-500 rounded-full animate-pulse"})}),(0,Pe.jsx)("p",{className:"text-sm text-gray-600 mt-2",children:p?"Recognizing face...":"Position your face within the circular frame"})]}),m&&(0,Pe.jsx)("div",{className:"mb-4 p-3 text-center text-red-600 bg-red-50 rounded-md border border-red-200",children:m}),y&&(0,Pe.jsx)("div",{className:"mb-4 p-3 text-center text-green-600 bg-green-50 rounded-md border border-green-200",children:y}),(0,Pe.jsxs)("div",{className:"text-center text-gray-600",children:[(0,Pe.jsx)("p",{className:"font-medium",children:"Face Recognition Status"}),(0,Pe.jsx)("p",{className:"text-sm mt-1",children:p?"Analyzing facial features...":"Waiting for face detection"})]})]}):(0,Pe.jsxs)("div",{className:"flex flex-col items-center justify-center py-8",children:[(0,Pe.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500 mx-auto"}),(0,Pe.jsx)("p",{className:"mt-2 text-gray-600",children:"Loading face recognition models..."})]})})})]})})]})},C0=()=>{const e=re();(0,i.useEffect)(()=>{localStorage.getItem("admin")&&e("/dashboard")},[e]);return(0,Pe.jsx)("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center p-4",children:(0,Pe.jsxs)("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md",children:[(0,Pe.jsxs)("div",{className:"border-b border-gray-200 px-6 py-8 text-center",children:[(0,Pe.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Repair Shop Management"}),(0,Pe.jsx)("p",{className:"text-gray-600",children:"Welcome to your repair shop management system"})]}),(0,Pe.jsx)("div",{className:"p-8",children:(0,Pe.jsxs)("div",{className:"space-y-6",children:[(0,Pe.jsx)("button",{onClick:()=>{e("/admin/login")},className:"w-full bg-blue-600 text-white py-3 px-4 rounded-lg font-semibold hover:bg-blue-700 transition focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:"Admin Login"}),(0,Pe.jsxs)("div",{className:"relative",children:[(0,Pe.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,Pe.jsx)("div",{className:"w-full border-t border-gray-300"})}),(0,Pe.jsx)("div",{className:"relative flex justify-center text-sm",children:(0,Pe.jsx)("span",{className:"px-2 bg-white text-gray-500",children:"OR"})})]}),(0,Pe.jsx)("button",{onClick:()=>{e("/employee/login")},className:"w-full bg-green-600 text-white py-3 px-4 rounded-lg font-semibold hover:bg-green-700 transition focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2",children:"Employee Login"})]})}),(0,Pe.jsx)("div",{className:"border-t border-gray-200 px-6 py-4 text-center",children:(0,Pe.jsxs)("p",{className:"text-xs text-gray-500",children:["\xa9 ",(new Date).getFullYear()," Repair Shop Management System. All rights reserved."]})})]})})},N0=()=>{const[e,t]=(0,i.useState)(""),[n,r]=(0,i.useState)(""),[a,o]=(0,i.useState)(!1),[s,l]=(0,i.useState)(!1),[c,u]=(0,i.useState)(""),A=re();(0,i.useEffect)(()=>{localStorage.getItem("admin")&&A("/dashboard")},[A]);return(0,Pe.jsx)("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center p-4",children:(0,Pe.jsxs)("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md",children:[(0,Pe.jsx)("div",{className:"border-b border-gray-200 px-6 py-4",children:(0,Pe.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Admin Login"})}),(0,Pe.jsxs)("div",{className:"p-6",children:[c&&(0,Pe.jsx)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:c}),(0,Pe.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),l(!0),u("");try{const t=await Ju.post("/admin/login",{username:e,password:n});t.data.admin?(localStorage.setItem("admin",JSON.stringify(t.data.admin)),A("/dashboard")):u("Login failed")}catch(r){r.response&&r.response.data&&r.response.data.error?u(r.response.data.error):u("Invalid username or password")}finally{l(!1)}},children:[(0,Pe.jsxs)("div",{className:"mb-4",children:[(0,Pe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Username"}),(0,Pe.jsx)("input",{type:"text",value:e,onChange:e=>t(e.target.value),className:"w-full border border-gray-300 p-3 rounded focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"Enter username",required:!0})]}),(0,Pe.jsxs)("div",{className:"mb-6",children:[(0,Pe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),(0,Pe.jsxs)("div",{className:"relative",children:[(0,Pe.jsx)("input",{type:a?"text":"password",value:n,onChange:e=>r(e.target.value),className:"w-full border border-gray-300 p-3 rounded focus:ring-2 focus:ring-blue-500 outline-none pr-10",placeholder:"Enter password",required:!0}),(0,Pe.jsx)("button",{type:"button",onClick:()=>o(!a),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-500 hover:text-gray-700",children:a?(0,Pe.jsx)("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Pe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})}):(0,Pe.jsxs)("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[(0,Pe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),(0,Pe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]})]}),(0,Pe.jsxs)("div",{className:"flex justify-between",children:[(0,Pe.jsx)("button",{type:"button",onClick:()=>{A("/")},className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-100",children:"Back"}),(0,Pe.jsx)("button",{type:"submit",disabled:s,className:"px-4 py-2 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 transition disabled:opacity-50",children:s?"Logging in...":"Login"})]})]})]})]})})},k0=()=>new Promise((e,t)=>{navigator.geolocation?"https:"===window.location.protocol||"localhost"===window.location.hostname||"127.0.0.1"===window.location.hostname?(console.log("Attempting to get current location..."),navigator.geolocation.getCurrentPosition(t=>{console.log("Location retrieved successfully:",{latitude:t.coords.latitude,longitude:t.coords.longitude,accuracy:t.coords.accuracy,timestamp:t.timestamp}),e({latitude:t.coords.latitude,longitude:t.coords.longitude})},e=>{console.error("Geolocation error:",e);let n="";switch(e.code){case e.PERMISSION_DENIED:n="Location access denied. Please enable location permissions in your browser settings and try again.";break;case e.POSITION_UNAVAILABLE:n="Location information is unavailable. Please ensure location services are enabled on your device and try again.";break;case e.TIMEOUT:n="Location request timed out. Please try again or check your network connection.";break;default:n="An unknown error occurred while retrieving location. Please try again."}console.error("Location error details:",n),t(new Error(n))},{enableHighAccuracy:!1,timeout:15e3,maximumAge:6e4})):t(new Error("Location services require a secure connection (HTTPS). Please access this application over HTTPS or localhost.")):t(new Error("Geolocation is not supported by your browser. Please use a modern browser with location services enabled."))}),_0=()=>{const[e,t]=(0,i.useState)([]),[n,r]=(0,i.useState)([]),[a,o]=(0,i.useState)(!0),[s,l]=(0,i.useState)(""),[c,u]=(0,i.useState)(""),[A,d]=(0,i.useState)(""),[h,f]=(0,i.useState)((new Date).toISOString().split("T")[0]),[p,g]=(0,i.useState)(null),[m,v]=(0,i.useState)(!1),[y,b]=(0,i.useState)(""),[w,x]=(0,i.useState)(!1),[B,C]=(0,i.useState)(!1),[N,k]=(0,i.useState)("idle"),[_,E]=(0,i.useState)(!1),[S,F]=(0,i.useState)(null),[I,j]=(0,i.useState)(!0),[U,O]=(0,i.useState)({}),[P,L]=(0,i.useState)(null),[D,T]=(0,i.useState)(new Set),M=re(),Q=(0,i.useRef)(null),R=(0,i.useRef)(null),H=(0,i.useRef)(null),z=(0,i.useRef)(null),K=(0,i.useRef)([]);(0,i.useEffect)(()=>{localStorage.getItem("admin")||M("/admin/login")},[M]),(0,i.useEffect)(()=>{(async()=>{await W()})()},[]),(0,i.useEffect)(()=>{let e;return p&&(e=setInterval(()=>{g(e=>{if(!e)return null;const t=e.endTime-Date.now();return t<=0?(console.log("Cooldown timer expired for worker ".concat(e.workerId)),T(t=>{const n=new Set(t);return n.delete(e.workerId),n}),null):Me(Me({},e),{},{remainingTime:t})})},1e3)),()=>{e&&clearInterval(e)}},[p]),(0,i.useEffect)(()=>{const e=setInterval(()=>{T(e=>{if(!p)return e;if(p.endTime-Date.now()<=0){console.log("Cleaning up expired cooldown for worker ".concat(p.workerId));const t=new Set(e);return t.delete(p.workerId),t}return e})},1e4);return()=>{clearInterval(e)}},[p]),(0,i.useEffect)(()=>{(async()=>{try{console.log("Pre-loading face recognition models..."),console.log("SSD MobileNet v1 already loaded:",J$.ssdMobilenetv1.isLoaded),console.log("Face Landmark 68 Net already loaded:",J$.faceLandmark68Net.isLoaded),console.log("Face Recognition Net already loaded:",J$.faceRecognitionNet.isLoaded),CQ("webgl"),await NQ(),J$.ssdMobilenetv1.isLoaded&&J$.faceLandmark68Net.isLoaded&&J$.faceRecognitionNet.isLoaded?console.log("Face recognition models already loaded"):(await Y(),console.log("Face recognition models pre-loaded successfully"))}catch(s){console.error("Failed to pre-load face recognition models:",s)}})()},[]);const W=async()=>{try{console.log("Fetching workers...");const e=await Ju.get("/workers");console.log("Workers fetched successfully:",e.data),t(e.data),o(!1)}catch(e){console.error("Error fetching workers:",e),e.response&&(console.error("Response data:",e.response.data),console.error("Response status:",e.response.status),console.error("Response headers:",e.response.headers)),l("Failed to fetch workers"),o(!1)}},V=(0,i.useCallback)(()=>{let t=e.filter(e=>!!e.attendanceRecords&&e.attendanceRecords.some(e=>{const t=new Date(e.date),n=new Date(h);return t.toDateString()===n.toDateString()}));A&&(t=t.filter(e=>e.name.toLowerCase().includes(A.toLowerCase())||e.rfid&&e.rfid.toLowerCase().includes(A.toLowerCase())||e.department&&e.department.name.toLowerCase().includes(A.toLowerCase()))),r(t)},[e,A,h]);(0,i.useEffect)(()=>{V()},[V]);const G=()=>{v(!1),b(""),x(!1)},q=()=>{C(!1),k("idle"),H.current&&(H.current.getTracks().forEach(e=>e.stop()),H.current=null),z.current&&(clearInterval(z.current),z.current=null),l(""),u(""),L(null)},X=async()=>{console.log("Starting camera initialization...");try{k("loading"),console.log("Requesting camera access...");const t=await navigator.mediaDevices.getUserMedia({video:{facingMode:"user",width:{ideal:640},height:{ideal:480}}});if(console.log("Camera access granted"),H.current=t,Q.current){if(console.log("Setting up video element"),Q.current.srcObject=t,Q.current.readyState>=2){console.log("Video already ready, starting face detection"),k("camera_ready");try{return void await J()}catch(e){return console.error("Face detection failed to start:",e),k("camera_ready"),void l("Camera is ready but face recognition is unavailable. You can manually select a worker.")}}Q.current.onloadedmetadata=async()=>{console.log("Video metadata loaded"),k("camera_ready");try{await J()}catch(e){console.error("Face detection failed to start:",e),k("camera_ready"),l("Camera is ready but face recognition is unavailable. You can manually select a worker.")}},Q.current.onerror=e=>{console.error("Video error:",e),k("error"),l("Error with video stream. Please try again.")},setTimeout(()=>{"loading"===N&&(console.log("Video metadata timeout - assuming camera is ready"),k("camera_ready"),l("Camera is ready but face recognition is unavailable."))},3e3)}}catch(t){console.error("Error accessing camera:",t),k("error");let e="Could not access camera. ";"NotAllowedError"===t.name?e+="Please grant camera permission when prompted.":"NotFoundError"===t.name?e+="No camera found. Please connect a camera and try again.":e+="Please ensure you have given permission and that your camera is not in use.",l(e)}},Y=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3,t=0;for(;t<e;)try{return console.log("Attempting to load face recognition models (attempt ".concat(t+1,"/").concat(e,")...")),CQ("webgl"),await NQ(),await J$.ssdMobilenetv1.loadFromUri("/models"),await J$.faceLandmark68Net.loadFromUri("/models"),await J$.faceRecognitionNet.loadFromUri("/models"),console.log("All face recognition models loaded successfully"),!0}catch(s){if(t++,console.error("Model loading attempt failed (".concat(t,"/").concat(e,"):"),s),console.error("Error details:",{name:s.name,message:s.message,stack:s.stack}),s.message&&s.message.includes("tensor should have")&&(console.error("This error indicates the model files are corrupted or incomplete."),console.error("Please verify that all model files were downloaded completely.")),t<e){const e=1e3*Math.pow(2,t);console.log("Waiting ".concat(e,"ms before retrying...")),await new Promise(t=>setTimeout(t,e))}}throw new Error("Failed to load face detection models after ".concat(e," attempts"))},J=async()=>{console.log("Starting face detection with face-api.js...");try{if(console.log("Checking if models are loaded..."),console.log("SSD MobileNet v1 loaded:",J$.ssdMobilenetv1.isLoaded),console.log("Face Landmark 68 Net loaded:",J$.faceLandmark68Net.isLoaded),console.log("Face Recognition Net loaded:",J$.faceRecognitionNet.isLoaded),!J$.ssdMobilenetv1.isLoaded||!J$.faceLandmark68Net.isLoaded||!J$.faceRecognitionNet.isLoaded){console.log("Models not loaded, loading now...");try{await Y(),console.log("After loading - SSD MobileNet v1 loaded:",J$.ssdMobilenetv1.isLoaded),console.log("After loading - Face Landmark 68 Net loaded:",J$.faceLandmark68Net.isLoaded),console.log("After loading - Face Recognition Net loaded:",J$.faceRecognitionNet.isLoaded)}catch(e){return console.error("Failed to load face recognition models:",e),k("error"),void l("Face recognition models failed to load. Please try again.")}}console.log("Loading worker face data..."),await Z(),console.log("Setting up face detection interval..."),z.current&&clearInterval(z.current),z.current=setInterval(async()=>{if(Q.current&&Q.current.readyState>=2)try{k("detecting"),console.log("Detecting faces...");const n=await y0(Q.current).withFaceLandmarks().withFaceDescriptors();if(!n||!Array.isArray(n))return void console.log("No faces detected or invalid detection result");if(console.log("Found ".concat(n.length," faces")),R.current){const e=R.current,t=Q.current;e.width=t.videoWidth,e.height=t.videoHeight;e.getContext("2d").clearRect(0,0,e.width,e.height),n&&Array.isArray(n)&&n.length>0&&(JJ(e,n.map(e=>e.detection)),QZ(e,n))}if(n&&Array.isArray(n)&&n.length>0){const r=await ee(n[0].descriptor);if(L(r),r){const e=le(r._id);if(e.active){console.log("Worker on cooldown (enhanced check), skipping all processing"),k("cooldown"),g({workerId:r._id,endTime:Date.now()+e.remainingTime,remainingTime:e.remainingTime});const t=Math.ceil(e.remainingTime/1e3);return l("Please wait ".concat(t," seconds before next punch")),void setTimeout(()=>{l("")},3e3)}}if(r&&D.has(r._id)){console.log("Worker is on cooldown (Set check), skipping detection"),k("cooldown");const e=se(r._id);if(e.active){g({workerId:r._id,endTime:Date.now()+e.remainingTime,remainingTime:e.remainingTime});const t=Math.ceil(e.remainingTime/1e3);l("Please wait ".concat(t," seconds before next punch"))}else T(e=>{const t=new Set(e);return t.delete(r._id),t});return}if(r){console.log("Face matched with worker:",r.name);const n=se(r._id);if(n.active){console.log("Worker on cooldown, skipping stability check"),k("cooldown"),g({workerId:r._id,endTime:Date.now()+n.remainingTime,remainingTime:n.remainingTime});const e=Math.ceil(n.remainingTime/1e3);return l("Please wait ".concat(e," seconds before next punch")),void setTimeout(()=>{l("")},3e3)}const i=Date.now(),a=3,o=2e3;if($.current.workerId===r._id&&i-$.current.timestamp<o?($.current.count++,$.current.timestamp=i):($.current.workerId=r._id,$.current.timestamp=i,$.current.count=1),$.current.count>=a){console.log("Face is stable, proceeding with attendance check"),$.current.count=0,await new Promise(e=>setTimeout(e,500));const n=se(r._id);if(n.active){console.log("Worker on cooldown, skipping attendance recording");const e=Math.ceil(n.remainingTime/1e3);l("Please wait ".concat(e," seconds before next punch")),setTimeout(()=>{l("")},3e3)}else try{const t=r._id,n={workerId:t,method:"face"};try{const e=await k0();n.latitude=e.latitude,n.longitude=e.longitude}catch(e){console.warn("Could not get location:",e)}console.log("Recording attendance for worker:",t);const i=await Ju.post("/workers/attendance",n);if(200!==i.status&&201!==i.status)throw new Error("Failed to record attendance");{const e=i.data;if(!1===e.success)if("COOLDOWN_ACTIVE"===e.reason){console.log("Attendance rejected due to cooldown for",r.name),l(e.message),T(e=>{const t=new Set(e);return t.add(r._id),t});const t=1e3*e.remainingTime,n=Date.now()+t;g({workerId:r._id,endTime:n,remainingTime:t}),setTimeout(()=>{l("")},3e3)}else e.message&&e.message.includes("outside the allowed attendance location")?(console.log("Attendance rejected due to location for",r.name),l("You are outside the allowed attendance location"),setTimeout(()=>{l("")},3e3)):e.message&&e.message.includes("Location permission is required")?(console.log("Attendance rejected due to missing location permission for",r.name),l("Location permission is required to mark attendance"),setTimeout(()=>{l("")},3e3)):(l(e.message||"Failed to record attendance"),setTimeout(()=>{l("")},3e3));else if(!0===e.success){console.log("Attendance recorded successfully for",r.name),u(e.message),ce(r._id),T(e=>{const t=new Set(e);return t.add(r._id),t});const t=Date.now()+6e4;g({workerId:r._id,endTime:t,remainingTime:6e4}),setTimeout(()=>{u("")},3e3),await W()}else{console.log("Unexpected response format from server:",e),u("Attendance recorded successfully"),ce(r._id),T(e=>{const t=new Set(e);return t.add(r._id),t});const t=Date.now()+6e4;g({workerId:r._id,endTime:t,remainingTime:6e4}),setTimeout(()=>{u("")},3e3),await W()}}}catch(t){console.error("Error recording attendance:",t),t.response&&t.response.data&&t.response.data.message?l(t.response.data.message):l("Failed to record attendance. Please try again.")}n.active?(k("cooldown"),setTimeout(()=>{k("detecting")},2e3)):(k("recognized"),setTimeout(()=>{k("detecting")},2e3))}else console.log("Face detected but not stable yet (".concat($.current.count,"/").concat(a,")")),k("detecting")}else console.log("Face detected but not recognized"),k("detecting"),$.current.count=0}else console.log("No faces detected"),k("detecting"),$.current.count>0&&($.current.count=0,console.log("Resetting face stability counter due to no face detection"))}catch(n){console.error("Error during face detection:",n),console.error("Error details:",{name:n.name,message:n.message,stack:n.stack}),k("error"),l("Face detection error. Please try again.")}},1e3),console.log("Face detection started successfully")}catch(s){console.error("Error starting face detection:",s),console.error("Error details:",{name:s.name,message:s.message,stack:s.stack}),k("error"),l("Face detection failed to start. Please try again.")}},Z=(0,i.useCallback)(async()=>{console.log("Loading worker face data for recognition...");try{K.current=[];for(const r of e)if(r.faceData&&r.faceData.length>0){console.log("Processing face data for worker: ".concat(r.name));try{const e=[];for(const n of r.faceData)try{const t=new Image;let i=n;i.startsWith("data:image")||(i="data:image/jpeg;base64,".concat(n)),t.src=i,await new Promise((e,n)=>{const r=setTimeout(()=>{n(new Error("Image loading timeout"))},5e3);t.onload=()=>{clearTimeout(r),e()},t.onerror=()=>{clearTimeout(r),n(new Error("Image loading error"))}});const a=await v0(t).withFaceLandmarks().withFaceDescriptor();a?(e.push(a.descriptor),console.log("Generated descriptor for face image of ".concat(r.name))):console.log("No face detected in image for ".concat(r.name))}catch(t){console.error("Error processing face image for ".concat(r.name,":"),t)}e.length>0&&(K.current.push({workerId:r._id,workerName:r.name,descriptors:e}),console.log("Loaded ".concat(e.length," face descriptors for ").concat(r.name)))}catch(n){console.error("Error processing face data for worker ".concat(r.name,":"),n)}}console.log("Loaded face data for ".concat(K.current.length," workers"))}catch(s){console.error("Error loading worker face data:",s)}},[e]);(0,i.useEffect)(()=>{(async()=>{B&&e.length>0&&await Z()})()},[Z,B]);const $=(0,i.useRef)({workerId:null,timestamp:0,count:0}),ee=async t=>{console.log("Matching face with workers...");try{if(!K.current||0===K.current.length)return console.log("No worker face data available for matching"),null;for(const n of K.current)for(const r of n.descriptors){const i=b0(t,r);if(i<.4){console.log("Face matched with worker: ".concat(n.workerName," (distance: ").concat(i,")"));const t=e.find(e=>e._id===n.workerId);return t||null}}return console.log("No matching worker found"),null}catch(s){return console.error("Error matching face with workers:",s),null}},te=async()=>{if(y)try{x(!0),console.log("Validating RFID:",y);const e=await Ju.get("/workers"),t=e.data.find(e=>e.rfid===y);if(t){console.log("RFID found, worker:",t);const e=le(t._id);if(e.active){const t=Math.ceil(e.remainingTime/1e3);return l("Please wait ".concat(t," seconds before next punch")),x(!1),void setTimeout(()=>{l("")},3e3)}const n=new Date;n.setHours(0,0,0,0);const r=t.attendanceRecords.filter(e=>{const t=new Date(e.date);return t.setHours(0,0,0,0),t.getTime()===n.getTime()});let i=0;r.forEach(e=>{e.checkIn&&i++,e.checkOut&&i++});const a=i%2===0;F(t),j(a),v(!1),E(!0)}else console.log("RFID not found"),l("Invalid RFID. Please try again."),x(!1),setTimeout(()=>{l("")},3e3)}catch(e){console.error("Error validating RFID:",e),e.response&&(console.error("Response data:",e.response.data),console.error("Response status:",e.response.status),console.error("Response headers:",e.response.headers)),l("Failed to validate RFID. Please try again."),x(!1),setTimeout(()=>{l("")},3e3)}},ne=()=>{E(!1),F(null)},ie=e=>new Date(e).toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"}),ae=e=>{if(!e)return"--:-- --";const t=new Date(e);let n=t.getHours();const r=t.getMinutes(),i=n>=12?"PM":"AM";n%=12,n=n||12;const a=r<10?"0"+r:r;return"".concat(n,":").concat(a," ").concat(i)},oe=e=>e.attendanceRecords?e.attendanceRecords.filter(e=>{const t=new Date(e.date),n=new Date(h);return t.toDateString()===n.toDateString()}):[],se=e=>{if(!D.has(e))return console.log("Worker ".concat(e," is not in cooldown set")),{active:!1,remainingTime:0};if(console.log("Worker ".concat(e," is in cooldown set")),p&&p.workerId===e){const t=p.endTime-Date.now();return console.log("Cooldown timer for worker ".concat(e,": ").concat(t,"ms remaining")),t>0?{active:!0,remainingTime:t}:(console.log("Cooldown expired for worker ".concat(e,", removing from cooldown set")),T(t=>{const n=new Set(t);return n.delete(e),n}),g(null),{active:!1,remainingTime:0})}return console.log("Worker ".concat(e," in cooldown set but no timer, assuming active")),{active:!0,remainingTime:6e4}},le=e=>{const t=se(e);if(t.active)return t;const n=localStorage.getItem("lastPunchTime_".concat(e));if(n){const t=Date.now()-parseInt(n);if(t<6e4){return{active:!0,remainingTime:6e4-t}}localStorage.removeItem("lastPunchTime_".concat(e))}return{active:!1,remainingTime:0}},ce=e=>{localStorage.setItem("lastPunchTime_".concat(e),Date.now().toString())};return a?(0,Pe.jsx)("div",{className:"p-8 bg-gray-100 min-h-screen ml-64 flex items-center justify-center",children:(0,Pe.jsxs)("div",{className:"text-center",children:[(0,Pe.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto"}),(0,Pe.jsx)("p",{className:"mt-4 text-gray-600",children:"Loading attendance data..."})]})}):(0,Pe.jsxs)("div",{className:"p-8 bg-gray-100 min-h-screen ml-64",children:[(0,Pe.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,Pe.jsxs)("div",{children:[(0,Pe.jsx)("h2",{className:"text-2xl font-bold",children:"Attendance Management"}),(0,Pe.jsx)("p",{className:"text-gray-600",children:"Track worker attendance"})]}),(0,Pe.jsxs)("div",{className:"flex space-x-3",children:[(0,Pe.jsx)("button",{onClick:()=>{v(!0),b(""),x(!1)},className:"bg-blue-600 text-white px-4 py-2 rounded-lg font-semibold hover:bg-blue-700 transition",children:"RFID"}),(0,Pe.jsx)("button",{onClick:()=>{C(!0),k("loading"),l(""),u(""),z.current&&(clearInterval(z.current),z.current=null),X()},className:"bg-green-600 text-white px-4 py-2 rounded-lg font-semibold hover:bg-green-700 transition",children:"Face Attendance"})]})]}),s&&(0,Pe.jsx)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:s}),c&&(0,Pe.jsx)("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded mb-4",children:c}),B&&(0,Pe.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Pe.jsxs)("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md",children:[(0,Pe.jsxs)("div",{className:"border-b border-gray-200 px-6 py-4 flex justify-between items-center",children:[(0,Pe.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Face Recognition Attendance"}),(0,Pe.jsx)("button",{onClick:q,className:"text-gray-500 hover:text-gray-700",children:(0,Pe.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),(0,Pe.jsxs)("div",{className:"px-6 py-4",children:[(0,Pe.jsxs)("div",{className:"mb-6",children:[(0,Pe.jsxs)("div",{className:"relative w-full h-64 bg-gray-100 rounded-lg overflow-hidden flex items-center justify-center",children:[("loading"===N||"camera_ready"===N||"detecting"===N||"recognized"===N||"cooldown"===N)&&(0,Pe.jsxs)(Pe.Fragment,{children:[(0,Pe.jsx)("video",{ref:Q,autoPlay:!0,playsInline:!0,muted:!0,className:"absolute inset-0 w-full h-full object-cover",onLoadedData:()=>{console.log("Attendance video element loaded data")}}),(0,Pe.jsx)("canvas",{ref:R,className:"absolute inset-0 w-full h-full"}),p&&P&&p.workerId===P._id&&(0,Pe.jsx)("div",{className:"absolute top-4 left-0 right-0 flex justify-center",children:(0,Pe.jsxs)("div",{className:"bg-yellow-500 bg-opacity-90 text-white px-4 py-2 rounded-lg",children:["Cooldown: ",Math.ceil(p.remainingTime/1e3)," seconds remaining"]})}),"detecting"===N&&(0,Pe.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,Pe.jsx)("div",{className:"bg-blue-500 bg-opacity-75 text-white px-4 py-2 rounded-lg",children:"Detecting face..."})}),"cooldown"===N&&(0,Pe.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,Pe.jsx)("div",{className:"bg-yellow-500 bg-opacity-75 text-white px-4 py-2 rounded-lg",children:"On cooldown, please wait..."})}),"loading"===N&&(0,Pe.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,Pe.jsx)("div",{className:"bg-gray-500 bg-opacity-75 text-white px-4 py-2 rounded-lg",children:"Initializing camera..."})}),"recognized"===N&&(0,Pe.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,Pe.jsx)("div",{className:"bg-green-500 bg-opacity-75 text-white px-4 py-2 rounded-lg",children:"Face recognized and attendance recorded!"})})]}),"error"===N&&(0,Pe.jsxs)("div",{className:"text-center",children:[(0,Pe.jsx)("svg",{className:"w-12 h-12 text-red-500 mx-auto mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),(0,Pe.jsx)("p",{className:"text-gray-600",children:"Error accessing camera"})]}),"recognized"===N&&(0,Pe.jsx)("div",{className:"absolute bottom-4 left-0 right-0",children:(0,Pe.jsx)("div",{className:"bg-green-500 bg-opacity-90 text-white px-4 py-2 rounded-lg mx-4",children:"Face recognized and attendance recorded!"})})]}),(0,Pe.jsxs)("div",{className:"mt-4 text-center",children:[(0,Pe.jsx)("p",{className:"text-sm text-gray-600",children:"detecting"===N?"Scanning for faces... Please position your face in the frame":"recognized"===N?"Face recognized and attendance recorded!":"loading"===N?"Initializing camera and face detection models...":"error"===N?"Error with face detection. Please close and reopen the scanner.":"cooldown"===N?"On cooldown, please wait before marking attendance again.":"Waiting for camera access..."}),"loading"===N&&(0,Pe.jsxs)("div",{className:"mt-4",children:[(0,Pe.jsx)("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-blue-500"}),(0,Pe.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:"Loading face detection models..."})]}),"detecting"===N&&(0,Pe.jsxs)("div",{className:"mt-4",children:[(0,Pe.jsxs)("div",{className:"inline-flex space-x-1",children:[(0,Pe.jsx)("div",{className:"h-2 w-2 bg-blue-500 rounded-full animate-bounce"}),(0,Pe.jsx)("div",{className:"h-2 w-2 bg-blue-500 rounded-full animate-bounce",style:{animationDelay:"0.2s"}}),(0,Pe.jsx)("div",{className:"h-2 w-2 bg-blue-500 rounded-full animate-bounce",style:{animationDelay:"0.4s"}})]}),(0,Pe.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:"Searching for faces"})]}),"recognized"===N&&(0,Pe.jsxs)("div",{className:"mt-4",children:[(0,Pe.jsx)("div",{className:"inline-flex items-center justify-center h-8 w-8 rounded-full bg-green-500",children:(0,Pe.jsx)("svg",{className:"h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Pe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),(0,Pe.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:"Attendance recorded successfully"})]}),"error"===N&&(0,Pe.jsxs)("div",{className:"mt-4",children:[(0,Pe.jsx)("div",{className:"inline-flex items-center justify-center h-8 w-8 rounded-full bg-red-500",children:(0,Pe.jsx)("svg",{className:"h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Pe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),(0,Pe.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:"Please close and reopen the scanner"}),(0,Pe.jsx)("button",{onClick:q,className:"mt-2 px-3 py-1 bg-blue-500 text-white rounded text-sm hover:bg-blue-600 transition",children:"Close Scanner"})]})]})]}),(0,Pe.jsx)("div",{className:"flex justify-end space-x-3 mt-6",children:(0,Pe.jsx)("button",{onClick:q,className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition",children:"Cancel"})})]})]})}),m&&(0,Pe.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Pe.jsxs)("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md",children:[(0,Pe.jsxs)("div",{className:"border-b border-gray-200 px-6 py-4 flex justify-between items-center",children:[(0,Pe.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Enter RFID"}),(0,Pe.jsx)("button",{onClick:G,className:"text-gray-500 hover:text-gray-700",children:(0,Pe.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),(0,Pe.jsxs)("div",{className:"px-6 py-4",children:[(0,Pe.jsxs)("div",{className:"mb-6",children:[(0,Pe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"RFID"}),(0,Pe.jsx)("input",{type:"text",value:y,onChange:e=>{b(e.target.value)},onKeyPress:e=>{"Enter"===e.key&&y&&te()},placeholder:"Enter RFID",className:"w-full border border-gray-300 p-3 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none",autoFocus:!0,disabled:w}),(0,Pe.jsx)("p",{className:"mt-2 text-sm text-gray-500",children:"RFID format: 2 letters + 4 digits (e.g., AB1234)"})]}),(0,Pe.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,Pe.jsx)("button",{onClick:G,className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition",disabled:w,children:"Cancel"}),(0,Pe.jsx)("button",{onClick:te,disabled:!y||w,className:"px-4 py-2 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 transition disabled:opacity-50",children:w?"Validating...":"Enter"})]})]})]})}),_&&S&&(0,Pe.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Pe.jsxs)("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md",children:[(0,Pe.jsx)("div",{className:"border-b border-gray-200 px-6 py-4",children:(0,Pe.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Confirm Attendance"})}),(0,Pe.jsxs)("div",{className:"px-6 py-4",children:[(0,Pe.jsxs)("div",{className:"mb-6",children:[(0,Pe.jsxs)("p",{className:"text-gray-700 mb-4",children:["Do you want to Punch ",I?"In":"Out","?"]}),(0,Pe.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,Pe.jsx)("p",{className:"font-medium",children:S.name}),(0,Pe.jsx)("p",{className:"text-sm text-gray-600",children:S.rfid})]})]}),(0,Pe.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,Pe.jsx)("button",{onClick:ne,className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition",children:"Cancel"}),(0,Pe.jsxs)("button",{onClick:async()=>{if(S)try{console.log("Sending RFID attendance request:",{rfid:S.rfid,method:I?"checkIn":"checkOut"});try{const t=await k0(),n={rfid:S.rfid,method:I?"checkIn":"checkOut",latitude:t.latitude,longitude:t.longitude};var e=await Ju.post("/workers/attendance",n)}catch(t){console.warn("Could not get location:",t);e=await Ju.post("/workers/attendance",{rfid:S.rfid,method:I?"checkIn":"checkOut"})}if(!e||!e.data)throw new Error("Invalid response from server");if("COOLDOWN_ACTIVE"===e.data.reason){l(e.data.message),T(e=>{const t=new Set(e);return t.add(S._id),t});const t=1e3*e.data.remainingTime,n=Date.now()+t;return g({workerId:S._id,endTime:n,remainingTime:t}),void ne()}if(e.data.message&&e.data.message.includes("outside the allowed attendance location"))return l("You are outside the allowed attendance location"),void ne();if(e.data.message&&e.data.message.includes("Location permission is required"))return l("Location permission is required to mark attendance"),void ne();if(!0===e.data.success){u(e.data.message),S&&ce(S._id),T(e=>{const t=new Set(e);return S&&t.add(S._id),t});const t=e.data.remainingTime?1e3*e.data.remainingTime:6e4,n=Date.now()+t;g({workerId:S?S._id:null,endTime:n,remainingTime:t}),ne(),await W()}else{if("COOLDOWN_ACTIVE"===e.data.reason){l(e.data.message),T(e=>{const t=new Set(e);return S&&t.add(S._id),t});const t=1e3*e.data.remainingTime,n=Date.now()+t;return g({workerId:S?S._id:null,endTime:n,remainingTime:t}),void ne()}if(e.data.message&&e.data.message.includes("outside the allowed attendance location"))return l("You are outside the allowed attendance location"),void ne();if(e.data.message&&e.data.message.includes("Location permission is required"))return l("Location permission is required to mark attendance"),void ne();l("Failed to record attendance. Please try again."),ne()}}catch(n){console.error(n),n.response&&n.response.data&&n.response.data.message?n.response.data.message.includes("outside the allowed attendance location")?l("You are outside the allowed attendance location"):n.response.data.message.includes("Location permission is required")?l("Location permission is required to mark attendance"):l(n.response.data.message):n.message&&n.message.includes("Geolocation")?l("Location permission is required to mark attendance"):l("Failed to record attendance. Please try again."),T(e=>{const t=new Set(e);return S&&(t.add(S._id),ce(S._id)),t});const e=Date.now()+6e4;g({workerId:S?S._id:null,endTime:e,remainingTime:6e4}),ne()}},className:"px-4 py-2 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 transition",children:["Punch ",I?"In":"Out"]})]})]})]})}),(0,Pe.jsx)("div",{className:"bg-white rounded shadow overflow-hidden mb-6",children:(0,Pe.jsx)("div",{className:"p-6",children:(0,Pe.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[(0,Pe.jsxs)("div",{className:"flex-1",children:[(0,Pe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search Workers"}),(0,Pe.jsx)("input",{type:"text",value:A,onChange:e=>d(e.target.value),placeholder:"Search by name, RFID, or department...",className:"w-full border border-gray-300 p-3 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"})]}),(0,Pe.jsxs)("div",{children:[(0,Pe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Date"}),(0,Pe.jsx)("input",{type:"date",value:h,onChange:e=>f(e.target.value),className:"border border-gray-300 p-3 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"})]})]})})}),(0,Pe.jsxs)("div",{className:"bg-white rounded shadow overflow-hidden",children:[(0,Pe.jsxs)("div",{className:"border-b border-gray-200 p-6",children:[(0,Pe.jsx)("h3",{className:"text-lg font-semibold",children:"Attendance Records"}),(0,Pe.jsxs)("p",{className:"text-gray-600 mt-1",children:["Attendance records for ",ie(h)]})]}),(0,Pe.jsx)("div",{className:"overflow-x-auto",children:(0,Pe.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Pe.jsx)("thead",{className:"bg-gray-50",children:(0,Pe.jsxs)("tr",{children:[(0,Pe.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),(0,Pe.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Employee ID (RFID)"}),(0,Pe.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Department"}),(0,Pe.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),(0,Pe.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"In Time"}),(0,Pe.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Out Time"}),(0,Pe.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Duration"})]})}),(0,Pe.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:0===n.length?(0,Pe.jsx)("tr",{children:(0,Pe.jsx)("td",{colSpan:"7",className:"px-6 py-4 text-center text-gray-500",children:"No attendance records found for the selected date."})}):n.map(e=>{const t=(e=>{const t=oe(e);if(!t||0===t.length)return[];const n=[];return t.forEach(e=>{e.checkIn&&n.push({time:e.checkIn,type:"in"}),e.checkOut&&n.push({time:e.checkOut,type:"out"})}),n.sort((e,t)=>new Date(e.time)-new Date(t.time)),n})(e),n=(e=>{const t=oe(e);if(!t||0===t.length)return"--:--:--";let n=0;t.forEach(e=>{if(e.checkIn&&e.checkOut){const t=new Date(e.checkIn),r=new Date(e.checkOut);n+=r-t}});const r=Math.floor(n/1e3),i=Math.floor(r/3600),a=Math.floor(r%3600/60),o=r%60;return"".concat(i,"h ").concat(a,"m ").concat(o,"s")})(e),r=[],i=[];return t.forEach((e,t)=>{t%2===0?r.push(e):i.push(e)}),(0,Pe.jsxs)("tr",{children:[(0,Pe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Pe.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.name})}),(0,Pe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.rfid||"N/A"}),(0,Pe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.department?e.department.name:"N/A"}),(0,Pe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:ie(h)}),(0,Pe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:r.length>0?(0,Pe.jsx)("div",{className:"flex flex-col space-y-1",children:r.map((e,t)=>(0,Pe.jsx)("span",{className:"text-green-600 font-medium",children:ae(e.time)},t))}):(0,Pe.jsx)("span",{className:"text-gray-400",children:"--:-- --"})}),(0,Pe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:i.length>0?(0,Pe.jsx)("div",{className:"flex flex-col space-y-1",children:i.map((e,t)=>(0,Pe.jsx)("span",{className:"text-red-600 font-medium",children:ae(e.time)},t))}):(0,Pe.jsx)("span",{className:"text-gray-400",children:"--:-- --"})}),(0,Pe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:n})]},e._id)})})]})})]})]})},E0=()=>{const{id:e}=ie(),t=re(),[n,r]=(0,i.useState)(null),[a,o]=(0,i.useState)([]),[s,l]=(0,i.useState)(!0),[c,u]=(0,i.useState)(""),[A,d]=(0,i.useState)(""),[h,f]=(0,i.useState)(!1),[p,g]=(0,i.useState)(!1),[m,v]=(0,i.useState)(""),[y,b]=(0,i.useState)(0),[w,x]=(0,i.useState)(!1),[B,C]=(0,i.useState)(!1),[N,k]=(0,i.useState)("idle"),[_,E]=(0,i.useState)(!1),S=(0,i.useRef)(null),F=(0,i.useRef)(null),I=(0,i.useRef)(null),j=(0,i.useRef)(null),U=(0,i.useRef)([]),[O,P]=(0,i.useState)(""),[L,D]=(0,i.useState)(!1),T=()=>{localStorage.removeItem("employee"),t("/employee/login")},M=e=>e?new Date(e).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}):"-",Q=(e,t)=>{if(!e||!t)return"-";const n=new Date(e),r=new Date(t)-n,i=Math.floor(r/36e5),a=Math.floor(r%36e5/6e4),o=Math.floor(r%6e4/1e3);return"".concat(i,"h ").concat(a,"m ").concat(o,"s")},R=(0,i.useCallback)(()=>{if(x(!1),k("idle"),U.current=[],I.current){I.current.getTracks().forEach(e=>e.stop()),I.current=null}j.current&&(clearInterval(j.current),j.current=null)},[]),H=(0,i.useCallback)(()=>{C(!1),D(!1),P("")},[]),z=(0,i.useCallback)(async e=>{try{const t=(await Ju.get("/workers/".concat(e))).data;if(t.attendanceRecords&&Array.isArray(t.attendanceRecords)){const e=[...t.attendanceRecords].sort((e,t)=>new Date(t.date)-new Date(e.date));o(e)}}catch(t){console.error(t),u("Failed to fetch attendance records")}},[]),K=(0,i.useCallback)(async()=>{try{const e=await Ju.get("/admin/public-location-settings"),{enabled:t,latitude:n,longitude:r,radius:i}=e.data;if(!t||!n||!r||!i)return f(!1),g(!0),void v("Location settings not configured by admin");if(!navigator.geolocation)return f(!1),g(!0),void v("Geolocation is not supported by your browser");navigator.geolocation.getCurrentPosition(e=>{const t=e.coords.latitude,a=e.coords.longitude,o=((e,t,n,r)=>{const i=e*Math.PI/180,a=n*Math.PI/180,o=(n-e)*Math.PI/180,s=(r-t)*Math.PI/180,l=Math.sin(o/2)*Math.sin(o/2)+Math.cos(i)*Math.cos(a)*Math.sin(s/2)*Math.sin(s/2);return 2*Math.atan2(Math.sqrt(l),Math.sqrt(1-l))*6371e3})(n,r,t,a);b(o/1e3),o<=i?(f(!0),v("")):(f(!1),v("You are outside the allowed attendance location. Distance: ".concat((o/1e3).toFixed(2)," km from site."))),g(!0)},e=>{switch(f(!1),g(!0),e.code){case e.PERMISSION_DENIED:v("Location permission denied. Please enable location access to use attendance features.");break;case e.POSITION_UNAVAILABLE:v("Location information is unavailable. Please check your device location settings and try again.");break;case e.TIMEOUT:v("Location request timed out. Please try again.");break;default:v("Unable to retrieve your location. Please check your device location settings and try again.")}console.error("Geolocation error:",e)},{enableHighAccuracy:!0,timeout:15e3,maximumAge:6e4})}catch(e){console.error("Location validation error:",e),f(!1),g(!0),v("Unable to validate location. Please try again.")}},[]),W=(0,i.useCallback)(async()=>{try{await Ju.post("/workers/attendance",{workerId:n._id,method:"face"}),d("Attendance recorded successfully!")}catch(e){console.error("Error recording attendance:",e),u("Failed to record attendance")}},[n]),V=(0,i.useCallback)(async e=>{try{const t=await Ju.post("/workers/attendance",{rfid:e,method:"rfid"});d("Attendance recorded for ".concat(t.data.attendanceRecord.workerName||"worker")),H(),z(n._id)}catch(t){console.error("Error recording RFID attendance:",t),u("Failed to record attendance")}},[n,z,H]),G=(0,i.useCallback)(e=>{P(e.target.value),"Enter"===e.key&&e.target.value&&V(e.target.value)},[V]),q=(0,i.useCallback)(()=>{O&&V(O)},[O,V]),X=(0,i.useCallback)(async()=>{if(S.current&&F.current&&0!==U.current.length)try{const e=await y0(S.current).withFaceLandmarks().withFaceDescriptors();if(e.length>0){const t=new w0(U.current).findBestMatch(e[0].descriptor);"unknown"!==t.label&&t.distance<.6&&(k("recognized"),clearInterval(j.current),await W(),setTimeout(()=>{R(),z(n._id)},2e3))}}catch(e){console.error("Error during face detection:",e)}},[n,z,W,R]),Y=(0,i.useCallback)(async()=>{if(_&&n)try{k("camera_ready");const e=(await Ju.get("/workers/".concat(n._id,"/face-data"))).data.faceImages||[];if(!e||0===e.length)return void k("error");const t=[];for(const n of e){const e=new Image;e.src=n,await new Promise(t=>{e.onload=t});const r=await v0(e).withFaceLandmarks().withFaceDescriptor();r&&t.push(r.descriptor)}U.current=t;const r=await navigator.mediaDevices.getUserMedia({video:{facingMode:"user"}});S.current&&(S.current.srcObject=r,I.current=r,k("detecting"),j.current=setInterval(X,100))}catch(e){console.error("Error starting face recognition:",e),k("error")}},[_,n,X]);(0,i.useEffect)(()=>{(async()=>{try{const t=await Ju.get("/workers/".concat(e));r(t.data),await z(t.data._id),await K()}catch(t){console.error(t),u("Failed to fetch worker data")}finally{l(!1)}})()},[e,z,K]),(0,i.useEffect)(()=>{w&&(async()=>{try{await J$.ssdMobilenetv1.loadFromUri("/models"),await J$.faceLandmark68Net.loadFromUri("/models"),await J$.faceRecognitionNet.loadFromUri("/models"),E(!0)}catch(e){console.error("Error loading face models:",e),k("error")}})()},[w]),(0,i.useEffect)(()=>{w&&_&&"loading"===N&&Y()},[w,_,N,Y]);return s?(0,Pe.jsxs)("div",{className:"flex min-h-screen bg-gray-100",children:[(0,Pe.jsx)(RD,{worker:n,onLogout:T}),(0,Pe.jsx)("div",{className:"flex-1 ml-64 flex items-center justify-center",children:(0,Pe.jsx)("div",{className:"text-xl",children:"Loading attendance data..."})})]}):c?(0,Pe.jsxs)("div",{className:"flex min-h-screen bg-gray-100",children:[(0,Pe.jsx)(RD,{worker:n,onLogout:T}),(0,Pe.jsx)("div",{className:"flex-1 ml-64 flex items-center justify-center",children:(0,Pe.jsx)("div",{className:"bg-white rounded-lg shadow-xl p-6 max-w-md w-full",children:(0,Pe.jsxs)("div",{className:"text-center",children:[(0,Pe.jsx)("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100",children:(0,Pe.jsx)("svg",{className:"h-6 w-6 text-red-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Pe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})}),(0,Pe.jsx)("h3",{className:"text-lg font-medium text-gray-900 mt-4",children:"Error"}),(0,Pe.jsx)("p",{className:"mt-2 text-gray-500",children:c}),(0,Pe.jsx)("button",{onClick:()=>window.location.reload(),className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 transition",children:"Retry"})]})})})]}):(0,Pe.jsxs)("div",{className:"flex min-h-screen bg-gray-100",children:[(0,Pe.jsx)(RD,{worker:n,onLogout:T}),(0,Pe.jsxs)("div",{className:"flex-1 ml-64",children:[(0,Pe.jsx)("div",{className:"bg-white shadow",children:(0,Pe.jsxs)("div",{className:"max-w-6xl mx-auto px-4 py-4",children:[(0,Pe.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between",children:[(0,Pe.jsxs)("div",{children:[(0,Pe.jsx)("h1",{className:"text-xl font-bold text-gray-900",children:"Attendance"}),(0,Pe.jsx)("p",{className:"text-gray-600",children:"Track your attendance records"})]}),(0,Pe.jsxs)("div",{className:"mt-4 md:mt-0 flex space-x-2",children:[(0,Pe.jsxs)("button",{onClick:()=>{h&&(x(!0),k("loading"))},disabled:!h||!p,className:"px-4 py-2 rounded-lg font-semibold transition flex items-center ".concat(h&&p?"bg-green-600 hover:bg-green-700 text-white":"bg-gray-300 text-gray-500 cursor-not-allowed"),children:[(0,Pe.jsxs)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,Pe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),(0,Pe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),"Face Attendance"]}),(0,Pe.jsxs)("button",{onClick:()=>{h&&(C(!0),D(!0),P(""))},disabled:!h||!p,className:"px-4 py-2 rounded-lg font-semibold transition flex items-center ".concat(h&&p?"bg-blue-600 hover:bg-blue-700 text-white":"bg-gray-300 text-gray-500 cursor-not-allowed"),children:[(0,Pe.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M7 20l4-16m2 16l4-16M6 9h14M4 15h14"})}),"RFID Attendance"]})]})]}),A&&(0,Pe.jsx)("div",{className:"mt-4 p-3 bg-green-100 text-green-800 rounded-lg",children:A}),c&&(0,Pe.jsx)("div",{className:"mt-4 p-3 bg-red-100 text-red-800 rounded-lg",children:c}),p?h?(0,Pe.jsxs)("div",{className:"mt-4 p-3 bg-green-100 text-green-800 rounded-lg",children:["You are within the allowed attendance location. Distance: ",y.toFixed(2)," km from site."]}):(0,Pe.jsx)("div",{className:"mt-4 p-3 bg-red-100 text-red-800 rounded-lg",children:m||"You are outside the allowed attendance location. Attendance is disabled."}):(0,Pe.jsx)("div",{className:"mt-4 p-3 bg-yellow-100 text-yellow-800 rounded-lg",children:"Checking your location..."})]})}),(0,Pe.jsx)("div",{className:"max-w-6xl mx-auto p-4",children:(0,Pe.jsxs)("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[(0,Pe.jsx)("div",{className:"border-b border-gray-200 px-4 py-3",children:(0,Pe.jsx)("h3",{className:"text-lg font-semibold",children:"Your Attendance Records"})}),0===a.length?(0,Pe.jsx)("div",{className:"p-8 text-center text-gray-500",children:"No attendance records found."}):(0,Pe.jsx)("div",{className:"overflow-x-auto",children:(0,Pe.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Pe.jsx)("thead",{className:"bg-gray-50",children:(0,Pe.jsxs)("tr",{children:[(0,Pe.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),(0,Pe.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"In Time"}),(0,Pe.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Out Time"}),(0,Pe.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Duration"}),(0,Pe.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Method"})]})}),(0,Pe.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:a.map((e,t)=>{return(0,Pe.jsxs)("tr",{children:[(0,Pe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:(n=e.date,new Date(n).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}))}),(0,Pe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:M(e.checkIn)}),(0,Pe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:M(e.checkOut)}),(0,Pe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:Q(e.checkIn,e.checkOut)}),(0,Pe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Pe.jsx)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full ".concat("face"===e.method?"bg-green-100 text-green-800":"rfid"===e.method?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"),children:"face"===e.method?"Face":"rfid"===e.method?"RFID":e.method})})]},t);var n})})]})})]})})]}),w&&(0,Pe.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50",children:(0,Pe.jsxs)("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md",children:[(0,Pe.jsxs)("div",{className:"border-b border-gray-200 px-6 py-4 flex justify-between items-center",children:[(0,Pe.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Face Attendance"}),(0,Pe.jsx)("button",{onClick:R,className:"text-gray-500 hover:text-gray-700",children:(0,Pe.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),(0,Pe.jsxs)("div",{className:"p-6",children:["loading"===N&&(0,Pe.jsxs)("div",{className:"text-center py-8",children:[(0,Pe.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600 mx-auto mb-4"}),(0,Pe.jsx)("p",{className:"text-gray-600",children:"Loading face recognition..."})]}),"camera_ready"===N&&(0,Pe.jsxs)("div",{className:"text-center",children:[(0,Pe.jsxs)("div",{className:"relative mx-auto mb-4",children:[(0,Pe.jsx)("video",{ref:S,autoPlay:!0,playsInline:!0,className:"w-full rounded-lg border-2 border-gray-300 max-h-64"}),(0,Pe.jsx)("canvas",{ref:F,className:"hidden"})]}),(0,Pe.jsx)("p",{className:"text-sm text-gray-600",children:"Position your face in the frame"})]}),"detecting"===N&&(0,Pe.jsxs)("div",{className:"text-center",children:[(0,Pe.jsxs)("div",{className:"relative mx-auto mb-4",children:[(0,Pe.jsx)("video",{ref:S,autoPlay:!0,playsInline:!0,className:"w-full rounded-lg border-2 border-green-500 max-h-64"}),(0,Pe.jsx)("canvas",{ref:F,className:"hidden"}),(0,Pe.jsx)("div",{className:"absolute inset-0 border-4 border-green-500 rounded-lg animate-pulse"})]}),(0,Pe.jsx)("p",{className:"text-sm text-gray-600",children:"Detecting face..."})]}),"recognized"===N&&(0,Pe.jsxs)("div",{className:"text-center py-8",children:[(0,Pe.jsx)("div",{className:"mx-auto bg-green-100 rounded-full p-3 w-16 h-16 flex items-center justify-center mb-4",children:(0,Pe.jsx)("svg",{className:"w-8 h-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),(0,Pe.jsx)("p",{className:"text-gray-600 mb-4",children:"Face recognized successfully!"}),(0,Pe.jsx)("p",{className:"text-sm text-gray-500",children:"Recording attendance..."})]}),"error"===N&&(0,Pe.jsxs)("div",{className:"text-center py-8",children:[(0,Pe.jsx)("div",{className:"mx-auto bg-red-100 rounded-full p-3 w-16 h-16 flex items-center justify-center mb-4",children:(0,Pe.jsx)("svg",{className:"w-8 h-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})}),(0,Pe.jsx)("p",{className:"text-gray-600 mb-4",children:"Face recognition failed"}),(0,Pe.jsx)("button",{onClick:()=>k("camera_ready"),className:"px-4 py-2 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 transition",children:"Try Again"})]})]})]})}),B&&(0,Pe.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Pe.jsxs)("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md",children:[(0,Pe.jsxs)("div",{className:"border-b border-gray-200 px-6 py-4 flex justify-between items-center",children:[(0,Pe.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"RFID Attendance"}),(0,Pe.jsx)("button",{onClick:H,className:"text-gray-500 hover:text-gray-700",children:(0,Pe.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),(0,Pe.jsx)("div",{className:"px-6 py-4",children:L?(0,Pe.jsxs)("div",{className:"text-center",children:[(0,Pe.jsx)("div",{className:"mx-auto bg-gray-200 rounded-full p-4 w-24 h-24 flex items-center justify-center mb-4",children:(0,Pe.jsx)("svg",{className:"w-12 h-12 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M7 20l4-16m2 16l4-16M6 9h14M4 15h14"})})}),(0,Pe.jsx)("p",{className:"text-gray-600 mb-4",children:"Scan your RFID card or enter RFID manually"}),(0,Pe.jsx)("input",{type:"text",value:O,onChange:e=>P(e.target.value),onKeyPress:G,placeholder:"Enter RFID",className:"w-full border border-gray-300 p-3 rounded focus:ring-2 focus:ring-blue-500 outline-none mb-4",autoFocus:!0}),(0,Pe.jsx)("button",{onClick:q,disabled:!O,className:"w-full px-4 py-2 bg-green-600 text-white rounded-lg font-semibold hover:bg-green-700 transition disabled:opacity-50",children:"Submit RFID"})]}):(0,Pe.jsxs)("div",{className:"text-center py-8",children:[(0,Pe.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600 mx-auto mb-4"}),(0,Pe.jsx)("p",{className:"text-gray-600",children:"Recording attendance..."})]})})]})})]})},S0=()=>{const[e,t]=(0,i.useState)([]),[n,r]=(0,i.useState)({enabled:!1,latitude:0,longitude:0,radius:100}),[a,o]=(0,i.useState)(!1),[s,l]=(0,i.useState)(!1),[c,u]=(0,i.useState)(!1),[A,d]=(0,i.useState)(null),[h,f]=(0,i.useState)({id:null,name:"",workingTime:{from:"",to:""},lunchTime:{from:"",to:"",enabled:!0},breakTime:{from:"",to:"",enabled:!0}});(0,i.useEffect)(()=>{(async()=>{const e=await iA();t(e)})(),(async()=>{try{const e=await fetch("http://localhost:5001/api/admin/location-settings");if(e.ok){const t=await e.json();r(t)}}catch(e){console.error("Error loading location settings:",e)}})()},[]);const p=e=>{const{name:t,value:n}=e.target;if(t.includes(".")){const[e,r]=t.split(".");f(t=>Me(Me({},t),{},{[e]:Me(Me({},t[e]),{},{[r]:n})}))}else f(e=>Me(Me({},e),{},{[t]:n}))},g=e=>{const{name:t,value:n,type:i,checked:a}=e.target,o="checkbox"===i?a:n;r(e=>Me(Me({},e),{},{[t]:o}))},m=e=>{f(t=>Me(Me({},t),{},{[e]:Me(Me({},t[e]),{},{enabled:!t[e].enabled})}))};return(0,Pe.jsxs)("div",{className:"ml-64 p-8",children:[(0,Pe.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,Pe.jsx)("h1",{className:"text-3xl font-bold text-gray-800 mb-6",children:"Settings"}),(0,Pe.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6 mb-8",children:[(0,Pe.jsx)("h2",{className:"text-xl font-semibold text-gray-700 mb-4",children:"Location Settings"}),(0,Pe.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{const e=await fetch("http://localhost:5001/api/admin/location-settings",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});if(e.ok)alert("Location settings saved successfully");else{const t=await e.json();alert("Error saving location settings: ".concat(t.error))}}catch(t){console.error("Error saving location settings:",t),alert("Error saving location settings")}},children:[(0,Pe.jsxs)("div",{className:"mb-4",children:[(0,Pe.jsxs)("label",{className:"inline-flex items-center",children:[(0,Pe.jsx)("input",{type:"checkbox",name:"enabled",checked:n.enabled,onChange:g,className:"rounded text-blue-600"}),(0,Pe.jsx)("span",{className:"ml-2 text-gray-700",children:"Enable Location Restriction"})]}),(0,Pe.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"When enabled, workers can only mark attendance when within the specified location"})]}),n.enabled&&(0,Pe.jsxs)(Pe.Fragment,{children:[(0,Pe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-4",children:[(0,Pe.jsxs)("div",{children:[(0,Pe.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"latitude",children:"Latitude"}),(0,Pe.jsx)("input",{type:"number",id:"latitude",name:"latitude",value:n.latitude,onChange:g,step:"any",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,Pe.jsxs)("div",{children:[(0,Pe.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"longitude",children:"Longitude"}),(0,Pe.jsx)("input",{type:"number",id:"longitude",name:"longitude",value:n.longitude,onChange:g,step:"any",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]})]}),(0,Pe.jsxs)("div",{className:"mb-6",children:[(0,Pe.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"radius",children:"Radius (meters)"}),(0,Pe.jsx)("input",{type:"number",id:"radius",name:"radius",value:n.radius,onChange:g,min:"10",max:"1000",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0}),(0,Pe.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Recommended range: 50-1000 meters. Workers must be within this radius to mark attendance."})]}),(0,Pe.jsxs)("div",{className:"mb-6",children:[(0,Pe.jsx)("button",{type:"button",onClick:()=>{navigator.geolocation?"https:"===window.location.protocol||"localhost"===window.location.hostname||"127.0.0.1"===window.location.hostname?(console.log("Attempting to get current location in Settings..."),o(!0),navigator.geolocation.getCurrentPosition(e=>{console.log("Location retrieved successfully in Settings:",{latitude:e.coords.latitude,longitude:e.coords.longitude,accuracy:e.coords.accuracy,timestamp:e.timestamp}),r(t=>Me(Me({},t),{},{latitude:e.coords.latitude,longitude:e.coords.longitude})),o(!1),alert("Location captured successfully!")},e=>{console.error("Geolocation error in Settings:",e);let t="";switch(e.code){case e.PERMISSION_DENIED:t="Location access denied. Please enable location permissions in your browser settings and try again.";break;case e.POSITION_UNAVAILABLE:t="Location information is unavailable. Please ensure location services are enabled on your device and try again.";break;case e.TIMEOUT:t="Location request timed out. Please try again or check your network connection.";break;default:t="An unknown error occurred while retrieving location. Please try again."}console.error("Location error details in Settings:",t),alert(t),o(!1)},{enableHighAccuracy:!1,timeout:15e3,maximumAge:6e4})):alert("Location services require a secure connection (HTTPS). Please access this application over HTTPS or localhost."):alert("Geolocation is not supported by your browser. Please use a modern browser with location services enabled.")},disabled:a,className:"bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline transition ".concat(a?"opacity-50 cursor-not-allowed":""),children:a?"Getting Location...":"Capture Current Location"}),(0,Pe.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Click to automatically fill in your current location coordinates"})]})]}),(0,Pe.jsx)("div",{className:"flex justify-end",children:(0,Pe.jsx)("button",{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-6 rounded focus:outline-none focus:shadow-outline transition",children:"Save Location Settings"})})]})]}),(0,Pe.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,Pe.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,Pe.jsx)("h2",{className:"text-xl font-semibold text-gray-700",children:"Batch Management"}),(0,Pe.jsx)("button",{onClick:()=>{f({id:null,name:"",workingTime:{from:"",to:""},lunchTime:{from:"",to:"",enabled:!0},breakTime:{from:"",to:"",enabled:!0}}),l(!0)},className:"bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline transition",children:"Add New Batch"})]}),(0,Pe.jsx)("div",{className:"overflow-x-auto",children:(0,Pe.jsxs)("table",{className:"min-w-full bg-white",children:[(0,Pe.jsx)("thead",{children:(0,Pe.jsxs)("tr",{className:"bg-gray-100 text-gray-600 uppercase text-sm leading-normal",children:[(0,Pe.jsx)("th",{className:"py-3 px-6 text-left",children:"Batch Name"}),(0,Pe.jsx)("th",{className:"py-3 px-6 text-left",children:"Working Hours"}),(0,Pe.jsx)("th",{className:"py-3 px-6 text-left",children:"Lunch Time"}),(0,Pe.jsx)("th",{className:"py-3 px-6 text-left",children:"Break Time"}),(0,Pe.jsx)("th",{className:"py-3 px-6 text-left",children:"Actions"})]})}),(0,Pe.jsx)("tbody",{className:"text-gray-600 text-sm",children:e.map(e=>(0,Pe.jsxs)("tr",{className:"border-b border-gray-200 hover:bg-gray-50",children:[(0,Pe.jsx)("td",{className:"py-3 px-6",children:e.name}),(0,Pe.jsxs)("td",{className:"py-3 px-6",children:[e.workingTime.from," - ",e.workingTime.to]}),(0,Pe.jsx)("td",{className:"py-3 px-6",children:e.lunchTime.enabled?"".concat(e.lunchTime.from," - ").concat(e.lunchTime.to):"Disabled"}),(0,Pe.jsx)("td",{className:"py-3 px-6",children:e.breakTime.enabled?"".concat(e.breakTime.from," - ").concat(e.breakTime.to):"Disabled"}),(0,Pe.jsx)("td",{className:"py-3 px-6",children:(0,Pe.jsxs)("div",{className:"flex item-center gap-2",children:[(0,Pe.jsx)("button",{onClick:()=>(e=>{f(e),l(!0)})(e),className:"text-blue-600 hover:text-blue-900",children:"Edit"}),(0,Pe.jsx)("button",{onClick:()=>(e=>{d(e),u(!0)})(e),className:"text-red-600 hover:text-red-900",children:"Delete"})]})})]},e.id))})]})})]})]}),s&&(0,Pe.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Pe.jsxs)("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl",children:[(0,Pe.jsx)("div",{className:"border-b px-6 py-4",children:(0,Pe.jsx)("h3",{className:"text-xl font-semibold text-gray-800",children:h.id?"Edit Batch":"Add New Batch"})}),(0,Pe.jsxs)("form",{onSubmit:async n=>{n.preventDefault();try{if(h._id){const n=await(async(e,t)=>{try{return(await Ju.put("/batches/".concat(e),t)).data}catch(n){throw console.error("Error updating batch:",n),n}})(h._id,{name:h.name,workingTime:h.workingTime,lunchTime:h.lunchTime,breakTime:h.breakTime}),r=e.map(e=>e._id===h._id?Me(Me({},n),{},{_id:h._id}):e);t(r)}else{const n={name:h.name,workingTime:h.workingTime,lunchTime:h.lunchTime,breakTime:h.breakTime},r=await(async e=>{try{return(await Ju.post("/batches",e)).data}catch(t){throw console.error("Error creating batch:",t),t}})(n);t([...e,r])}}catch(r){console.error("Error saving batch:",r)}l(!1)},children:[(0,Pe.jsxs)("div",{className:"px-6 py-4 max-h-[70vh] overflow-y-auto",children:[(0,Pe.jsxs)("div",{className:"mb-4",children:[(0,Pe.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"name",children:"Batch Name"}),(0,Pe.jsx)("input",{type:"text",id:"name",name:"name",value:h.name,onChange:p,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,Pe.jsxs)("div",{className:"mb-6",children:[(0,Pe.jsx)("h4",{className:"text-lg font-medium text-gray-700 mb-3",children:"Working Time"}),(0,Pe.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Pe.jsxs)("div",{children:[(0,Pe.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"workingTime.from",children:"From"}),(0,Pe.jsx)("input",{type:"time",id:"workingTime.from",name:"workingTime.from",value:h.workingTime.from,onChange:p,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,Pe.jsxs)("div",{children:[(0,Pe.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"workingTime.to",children:"To"}),(0,Pe.jsx)("input",{type:"time",id:"workingTime.to",name:"workingTime.to",value:h.workingTime.to,onChange:p,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]})]})]}),(0,Pe.jsxs)("div",{className:"mb-6",children:[(0,Pe.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,Pe.jsx)("h4",{className:"text-lg font-medium text-gray-700",children:"Lunch Time"}),(0,Pe.jsxs)("label",{className:"inline-flex items-center",children:[(0,Pe.jsx)("input",{type:"checkbox",checked:h.lunchTime.enabled,onChange:()=>m("lunchTime"),className:"rounded text-blue-600"}),(0,Pe.jsx)("span",{className:"ml-2 text-gray-700",children:"Enable"})]})]}),h.lunchTime.enabled&&(0,Pe.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Pe.jsxs)("div",{children:[(0,Pe.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"lunchTime.from",children:"From"}),(0,Pe.jsx)("input",{type:"time",id:"lunchTime.from",name:"lunchTime.from",value:h.lunchTime.from,onChange:p,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,Pe.jsxs)("div",{children:[(0,Pe.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"lunchTime.to",children:"To"}),(0,Pe.jsx)("input",{type:"time",id:"lunchTime.to",name:"lunchTime.to",value:h.lunchTime.to,onChange:p,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]}),(0,Pe.jsxs)("div",{className:"mb-6",children:[(0,Pe.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,Pe.jsx)("h4",{className:"text-lg font-medium text-gray-700",children:"Break Time"}),(0,Pe.jsxs)("label",{className:"inline-flex items-center",children:[(0,Pe.jsx)("input",{type:"checkbox",checked:h.breakTime.enabled,onChange:()=>m("breakTime"),className:"rounded text-blue-600"}),(0,Pe.jsx)("span",{className:"ml-2 text-gray-700",children:"Enable"})]})]}),h.breakTime.enabled&&(0,Pe.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Pe.jsxs)("div",{children:[(0,Pe.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"breakTime.from",children:"From"}),(0,Pe.jsx)("input",{type:"time",id:"breakTime.from",name:"breakTime.from",value:h.breakTime.from,onChange:p,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,Pe.jsxs)("div",{children:[(0,Pe.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"breakTime.to",children:"To"}),(0,Pe.jsx)("input",{type:"time",id:"breakTime.to",name:"breakTime.to",value:h.breakTime.to,onChange:p,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]})]}),(0,Pe.jsxs)("div",{className:"border-t px-6 py-4 bg-gray-50 flex justify-end gap-3",children:[(0,Pe.jsx)("button",{type:"button",onClick:()=>{l(!1)},className:"px-4 py-2 text-gray-600 hover:text-gray-800 font-medium rounded-md transition",children:"Cancel"}),(0,Pe.jsx)("button",{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-6 rounded focus:outline-none focus:shadow-outline transition",children:h.id?"Update Batch":"Add Batch"})]})]})]})}),c&&(0,Pe.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Pe.jsxs)("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md",children:[(0,Pe.jsx)("div",{className:"border-b px-6 py-4",children:(0,Pe.jsx)("h3",{className:"text-xl font-semibold text-gray-800",children:"Confirm Delete"})}),(0,Pe.jsx)("div",{className:"px-6 py-4",children:(0,Pe.jsxs)("p",{className:"text-gray-700",children:["Are you sure you want to delete this batch ",(0,Pe.jsxs)("strong",{children:['"',null===A||void 0===A?void 0:A.name,'"']}),"? This action cannot be undone."]})}),(0,Pe.jsxs)("div",{className:"border-t px-6 py-4 bg-gray-50 flex justify-end gap-3",children:[(0,Pe.jsx)("button",{type:"button",onClick:()=>{u(!1),d(null)},className:"px-4 py-2 text-gray-600 hover:text-gray-800 font-medium rounded-md transition",children:"Cancel"}),(0,Pe.jsx)("button",{onClick:async()=>{if(A){try{await(async e=>{try{return(await Ju.delete("/batches/".concat(e))).data}catch(t){throw console.error("Error deleting batch:",t),t}})(A._id);const n=e.filter(e=>e._id!==A._id);t(n)}catch(n){console.error("Error deleting batch:",n)}u(!1),d(null)}},className:"bg-red-600 hover:bg-red-700 text-white font-bold py-2 px-6 rounded focus:outline-none focus:shadow-outline transition",children:"Delete"})]})]})})]})},F0=()=>{const[e,t]=(0,i.useState)([]),[n,r]=(0,i.useState)(!0),[a,o]=(0,i.useState)(""),[s,l]=(0,i.useState)(""),c=re(),[u,A]=(0,i.useState)(!1),[d,h]=(0,i.useState)({name:"",contactPerson:"",email:"",phone:"",address:{street:"",city:"",state:"",zipCode:"",country:""},gstNumber:"",paymentTerms:"",isActive:!0}),[f,p]=(0,i.useState)(!1),[g,m]=(0,i.useState)(null);(0,i.useEffect)(()=>{localStorage.getItem("admin")||c("/admin/login")},[c]),(0,i.useEffect)(()=>{v()},[]);const v=async()=>{try{const e=await Ju.get("/suppliers");t(e.data),r(!1)}catch(e){console.error(e),o("Failed to fetch suppliers"),r(!1)}},y=e=>{const{name:t,value:n,type:r,checked:i}=e.target;if(t.startsWith("address.")){const e=t.split(".")[1];h(t=>Me(Me({},t),{},{address:Me(Me({},t.address),{},{[e]:n})}))}else h(e=>Me(Me({},e),{},{[t]:"checkbox"===r?i:n}))};return n?(0,Pe.jsx)("div",{className:"p-8 bg-gray-100 min-h-screen ml-64 flex items-center justify-center",children:(0,Pe.jsx)("div",{className:"text-xl",children:"Loading suppliers..."})}):(0,Pe.jsxs)("div",{className:"p-8 bg-gray-100 min-h-screen ml-64",children:[(0,Pe.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,Pe.jsxs)("div",{children:[(0,Pe.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Suppliers Management"}),(0,Pe.jsx)("p",{className:"text-gray-600",children:"Manage your suppliers and vendor information"})]}),(0,Pe.jsx)("button",{onClick:()=>A(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg font-semibold hover:bg-blue-700 transition",children:"Add New Supplier"})]}),a&&!u&&(0,Pe.jsx)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:a}),s&&!u&&(0,Pe.jsx)("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded mb-4",children:s}),u&&(0,Pe.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Pe.jsxs)("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,Pe.jsx)("div",{className:"border-b border-gray-200 px-6 py-4",children:(0,Pe.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:f?"Edit Supplier":"Add New Supplier"})}),(0,Pe.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{f?(await Ju.put("/suppliers/".concat(g),d),l("Supplier updated successfully")):(await Ju.post("/suppliers",d),l("Supplier created successfully")),h({name:"",contactPerson:"",email:"",phone:"",address:{street:"",city:"",state:"",zipCode:"",country:""},gstNumber:"",paymentTerms:"",isActive:!0}),p(!1),m(null),A(!1),v()}catch(r){var t,n;console.error(r),o((null===(t=r.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.error)||"Failed to ".concat(f?"update":"create"," supplier"))}},children:[(0,Pe.jsx)("div",{className:"px-6 py-4",children:(0,Pe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Pe.jsxs)("div",{children:[(0,Pe.jsxs)("div",{className:"mb-4",children:[(0,Pe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Supplier Name *"}),(0,Pe.jsx)("input",{type:"text",name:"name",value:d.name,onChange:y,className:"w-full border border-gray-300 p-3 rounded focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"e.g. ABC Electronics",required:!0})]}),(0,Pe.jsxs)("div",{className:"mb-4",children:[(0,Pe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Contact Person"}),(0,Pe.jsx)("input",{type:"text",name:"contactPerson",value:d.contactPerson,onChange:y,className:"w-full border border-gray-300 p-3 rounded focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"e.g. John Smith"})]}),(0,Pe.jsxs)("div",{className:"mb-4",children:[(0,Pe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),(0,Pe.jsx)("input",{type:"email",name:"email",value:d.email,onChange:y,className:"w-full border border-gray-300 p-3 rounded focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"e.g. john@abcelectronics.com"})]}),(0,Pe.jsxs)("div",{className:"mb-4",children:[(0,Pe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone"}),(0,Pe.jsx)("input",{type:"text",name:"phone",value:d.phone,onChange:y,className:"w-full border border-gray-300 p-3 rounded focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"e.g. +91 9876543210"})]}),(0,Pe.jsxs)("div",{className:"mb-4",children:[(0,Pe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"GST Number"}),(0,Pe.jsx)("input",{type:"text",name:"gstNumber",value:d.gstNumber,onChange:y,className:"w-full border border-gray-300 p-3 rounded focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"e.g. 22AAAAA0000A1Z5"})]})]}),(0,Pe.jsxs)("div",{children:[(0,Pe.jsxs)("div",{className:"mb-4",children:[(0,Pe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Payment Terms"}),(0,Pe.jsx)("input",{type:"text",name:"paymentTerms",value:d.paymentTerms,onChange:y,className:"w-full border border-gray-300 p-3 rounded focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"e.g. Net 30 days"})]}),(0,Pe.jsxs)("div",{className:"mb-4",children:[(0,Pe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Street Address"}),(0,Pe.jsx)("input",{type:"text",name:"address.street",value:d.address.street,onChange:y,className:"w-full border border-gray-300 p-3 rounded focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"e.g. 123 Main Street"})]}),(0,Pe.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Pe.jsxs)("div",{className:"mb-4",children:[(0,Pe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"City"}),(0,Pe.jsx)("input",{type:"text",name:"address.city",value:d.address.city,onChange:y,className:"w-full border border-gray-300 p-3 rounded focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"e.g. Mumbai"})]}),(0,Pe.jsxs)("div",{className:"mb-4",children:[(0,Pe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"State"}),(0,Pe.jsx)("input",{type:"text",name:"address.state",value:d.address.state,onChange:y,className:"w-full border border-gray-300 p-3 rounded focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"e.g. Maharashtra"})]})]}),(0,Pe.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Pe.jsxs)("div",{className:"mb-4",children:[(0,Pe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"ZIP Code"}),(0,Pe.jsx)("input",{type:"text",name:"address.zipCode",value:d.address.zipCode,onChange:y,className:"w-full border border-gray-300 p-3 rounded focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"e.g. 400001"})]}),(0,Pe.jsxs)("div",{className:"mb-4",children:[(0,Pe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Country"}),(0,Pe.jsx)("input",{type:"text",name:"address.country",value:d.address.country,onChange:y,className:"w-full border border-gray-300 p-3 rounded focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"e.g. India"})]})]}),(0,Pe.jsxs)("div",{className:"mb-4 flex items-center",children:[(0,Pe.jsx)("input",{type:"checkbox",name:"isActive",checked:d.isActive,onChange:y,className:"h-4 w-4 text-blue-600 rounded focus:ring-blue-500"}),(0,Pe.jsx)("label",{className:"ml-2 block text-sm text-gray-700",children:"Active Supplier"})]})]})]})}),(0,Pe.jsxs)("div",{className:"border-t border-gray-200 px-6 py-4 bg-gray-50 rounded-b-lg flex justify-end space-x-3",children:[(0,Pe.jsx)("button",{type:"button",onClick:()=>{A(!1),p(!1),m(null),h({name:"",contactPerson:"",email:"",phone:"",address:{street:"",city:"",state:"",zipCode:"",country:""},gstNumber:"",paymentTerms:"",isActive:!0}),o(""),l("")},className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-100",children:"Cancel"}),(0,Pe.jsx)("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 transition",disabled:!d.name,children:f?"Update Supplier":"Add Supplier"})]})]})]})}),(0,Pe.jsxs)("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[(0,Pe.jsx)("div",{className:"border-b border-gray-200 p-6",children:(0,Pe.jsxs)("h2",{className:"text-xl font-semibold text-gray-800",children:["Suppliers List (",e.length,")"]})}),0===e.length?(0,Pe.jsx)("div",{className:"p-8 text-center text-gray-500",children:'No suppliers found. Click "Add New Supplier" to add one.'}):(0,Pe.jsx)("div",{className:"overflow-x-auto",children:(0,Pe.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Pe.jsx)("thead",{className:"bg-gray-50",children:(0,Pe.jsxs)("tr",{children:[(0,Pe.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Supplier Name"}),(0,Pe.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contact Person"}),(0,Pe.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),(0,Pe.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Phone"}),(0,Pe.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,Pe.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,Pe.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(e=>(0,Pe.jsxs)("tr",{children:[(0,Pe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Pe.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.name})}),(0,Pe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.contactPerson||"N/A"}),(0,Pe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.email||"N/A"}),(0,Pe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.phone||"N/A"}),(0,Pe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Pe.jsx)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full ".concat(e.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:e.isActive?"Active":"Inactive"})}),(0,Pe.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:[(0,Pe.jsx)("button",{onClick:()=>(e=>{var t,n,r,i,a;h({name:e.name,contactPerson:e.contactPerson||"",email:e.email||"",phone:e.phone||"",address:{street:(null===(t=e.address)||void 0===t?void 0:t.street)||"",city:(null===(n=e.address)||void 0===n?void 0:n.city)||"",state:(null===(r=e.address)||void 0===r?void 0:r.state)||"",zipCode:(null===(i=e.address)||void 0===i?void 0:i.zipCode)||"",country:(null===(a=e.address)||void 0===a?void 0:a.country)||""},gstNumber:e.gstNumber||"",paymentTerms:e.paymentTerms||"",isActive:void 0===e.isActive||e.isActive}),p(!0),m(e._id),A(!0)})(e),className:"text-blue-600 hover:text-blue-900 mr-4",children:"Edit"}),(0,Pe.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this supplier?"))try{await Ju.delete("/suppliers/".concat(e)),v(),l("Supplier deleted successfully")}catch(t){console.error(t),o("Failed to delete supplier")}})(e._id),className:"text-red-600 hover:text-red-900 mr-4",children:"Delete"}),(0,Pe.jsx)("button",{onClick:()=>c("/purchases?supplier=".concat(e._id)),className:"text-green-600 hover:text-green-900",children:"View Purchases"})]})]},e._id))})]})})]})]})},I0=()=>{var e,t,n,r,a,o,s,l,c;const[u,A]=(0,i.useState)([]),[d,h]=(0,i.useState)(!0),[f,p]=(0,i.useState)(""),[g,m]=(0,i.useState)(""),v=re(),y=te(),[b,w]=(0,i.useState)(""),[x,B]=(0,i.useState)({startDate:"",endDate:"",supplier:"",paymentStatus:[],minAmount:"",maxAmount:"",invoiceNumber:"",part:""}),[C,N]=(0,i.useState)(!1),[k,_]=(0,i.useState)(!1),[E,S]=(0,i.useState)({supplier:b||"",purchaseDate:"",invoiceNumber:"",items:[{part:"",quantity:1,unitPrice:0}],subtotal:0,tax:0,discount:0,totalAmount:0,paymentStatus:"Pending",notes:""}),[F,I]=(0,i.useState)(!1),[j,U]=(0,i.useState)(null),[O,P]=(0,i.useState)([]),[L,D]=(0,i.useState)([]);(0,i.useEffect)(()=>{localStorage.getItem("admin")||v("/admin/login")},[v]),(0,i.useEffect)(()=>{const e=new URLSearchParams(y.search).get("supplier");e&&w(e)},[y]);const T=(0,i.useCallback)(async()=>{try{const[e,t]=await Promise.all([Ju.get("/suppliers"),Ju.get("/inventory")]);P(e.data),D(t.data);const n=new URLSearchParams;let r;if(x.startDate&&n.append("startDate",x.startDate),x.endDate&&n.append("endDate",x.endDate),x.supplier&&n.append("supplier",x.supplier),x.paymentStatus.length>0&&x.paymentStatus.forEach(e=>{n.append("paymentStatus",e)}),x.minAmount&&n.append("minAmount",x.minAmount),x.maxAmount&&n.append("maxAmount",x.maxAmount),x.invoiceNumber&&n.append("invoiceNumber",x.invoiceNumber),x.part&&n.append("part",x.part),b){const e=n.toString()?"/purchases/supplier/".concat(b,"?").concat(n.toString()):"/purchases/supplier/".concat(b);r=await Ju.get(e)}else{const e=n.toString()?"/purchases?".concat(n.toString()):"/purchases";r=await Ju.get(e)}A(r.data),h(!1)}catch(e){console.error(e),p("Failed to fetch data"),h(!1)}},[b,x]);(0,i.useEffect)(()=>{T()},[b,x,T]);const M=e=>{const{name:t,value:n}=e.target;S(e=>Me(Me({},e),{},{[t]:n}))},Q=(e,t,n)=>{const r=[...E.items];if(r[e][t]=n,"quantity"===t||"unitPrice"===t){const i="quantity"===t?n:r[e].quantity,a="unitPrice"===t?n:r[e].unitPrice;r[e].totalPrice=i*a}S(e=>Me(Me({},e),{},{items:r})),R(r)},R=e=>{const t=e.reduce((e,t)=>e+(t.totalPrice||0),0),n=parseFloat(E.tax)||0,r=parseFloat(E.discount)||0,i=t+n-r;S(e=>Me(Me({},e),{},{subtotal:t,totalAmount:i}))},H=()=>{_(!1),I(!1),U(null),S({supplier:b||"",purchaseDate:"",invoiceNumber:"",items:[{part:"",quantity:1,unitPrice:0}],subtotal:0,tax:0,discount:0,totalAmount:0,paymentStatus:"Pending",notes:""}),p(""),m("")},z=(e,t)=>{B(n=>Me(Me({},n),{},{[e]:t}))},K=()=>{B({startDate:"",endDate:"",supplier:"",paymentStatus:[],minAmount:"",maxAmount:"",invoiceNumber:"",part:""})},W=e=>{if(!e)return"N/A";return new Date(e).toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"})},V=()=>{const e=[];if(x.startDate||x.endDate){const t=x.startDate?W(x.startDate):"Beginning",n=x.endDate?W(x.endDate):"Today";e.push("Date: ".concat(t," to ").concat(n))}if(x.supplier){var t;const n=(null===(t=O.find(e=>e._id===x.supplier))||void 0===t?void 0:t.name)||"Unknown Supplier";e.push("Supplier: ".concat(n))}if(x.paymentStatus.length>0&&e.push("Status: ".concat(x.paymentStatus.join(", "))),x.minAmount||x.maxAmount){const t=x.minAmount||"0",n=x.maxAmount||"\u221e";e.push("Amount: Rs ".concat(t," - Rs ").concat(n))}if(x.invoiceNumber&&e.push("Invoice: ".concat(x.invoiceNumber)),x.part){var n;const t=(null===(n=L.find(e=>e._id===x.part))||void 0===n?void 0:n.name)||"Unknown Part";e.push("Part: ".concat(t))}return e},G=e=>{const t=new Date,n=new Date;n.setDate(n.getDate()-e),B(e=>Me(Me({},e),{},{startDate:n.toISOString().split("T")[0],endDate:t.toISOString().split("T")[0]}))},q=(e,t)=>{B(n=>Me(Me({},n),{},{minAmount:e,maxAmount:t}))};return d?(0,Pe.jsx)("div",{className:"p-8 bg-gray-100 min-h-screen ml-64 flex items-center justify-center",children:(0,Pe.jsx)("div",{className:"text-xl",children:"Loading purchases..."})}):(0,Pe.jsxs)("div",{className:"p-8 bg-gray-100 min-h-screen ml-64",children:[(0,Pe.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-8 gap-4",children:[(0,Pe.jsxs)("div",{children:[(0,Pe.jsxs)("div",{className:"flex items-center mb-2",children:[(0,Pe.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mr-3",children:"\ud83d\uded2 Purchase History"}),(0,Pe.jsxs)("span",{className:"bg-blue-100 text-blue-800 text-sm font-medium px-2.5 py-0.5 rounded-full",children:[u.length," records"]})]}),b?(0,Pe.jsx)("div",{className:"bg-blue-50 p-3 rounded-lg border border-blue-200 max-w-2xl",children:(0,Pe.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-2",children:[(0,Pe.jsxs)("p",{className:"text-gray-700",children:[(0,Pe.jsx)("span",{className:"font-medium",children:"Showing purchases for supplier:"}),(0,Pe.jsx)("span",{className:"font-semibold text-blue-700 ml-1",children:(null===(e=O.find(e=>e._id===b))||void 0===e?void 0:e.name)||"Unknown Supplier"})]}),(0,Pe.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,Pe.jsxs)("button",{onClick:()=>{w(""),v("/purchases")},className:"text-blue-600 hover:text-blue-800 text-sm font-medium flex items-center",children:[(0,Pe.jsx)("span",{className:"mr-1",children:"\ud83d\udccb"})," Show All Purchases"]}),(0,Pe.jsx)("span",{className:"text-gray-300 hidden md:inline",children:"|"}),(0,Pe.jsxs)("button",{onClick:()=>v("/suppliers"),className:"text-blue-600 hover:text-blue-800 text-sm font-medium flex items-center",children:[(0,Pe.jsx)("span",{className:"mr-1",children:"\ud83d\ude9a"})," Back to Suppliers"]})]})]})}):(0,Pe.jsx)("p",{className:"text-gray-600 max-w-2xl",children:"Track and manage supplier purchases with advanced filtering capabilities"})]}),(0,Pe.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,Pe.jsxs)("button",{onClick:()=>N(!C),className:"px-4 py-2 rounded-lg font-semibold transition flex items-center ".concat(C?"bg-red-500 hover:bg-red-600 text-white":"bg-gray-600 hover:bg-gray-700 text-white"),children:[(0,Pe.jsx)("span",{className:"mr-2",children:C?"\u2715":"\ud83d\udd0d"}),C?"Hide Filters":"Show Filters"]}),(0,Pe.jsxs)("button",{onClick:()=>_(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg font-semibold transition flex items-center",children:[(0,Pe.jsx)("span",{className:"mr-2",children:"\u2795"}),"Add New Purchase"]})]})]}),(x.startDate||x.endDate||x.supplier||x.paymentStatus.length>0||x.minAmount||x.maxAmount||x.invoiceNumber||x.part)&&(0,Pe.jsx)("div",{className:"mb-6 p-4 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl border border-blue-200 shadow-sm",children:(0,Pe.jsxs)("div",{className:"flex justify-between items-start",children:[(0,Pe.jsxs)("div",{className:"flex-1",children:[(0,Pe.jsxs)("div",{className:"flex items-center mb-2",children:[(0,Pe.jsx)("span",{className:"font-semibold text-blue-800 mr-2",children:"Active Filters:"}),(0,Pe.jsxs)("span",{className:"text-xs bg-blue-500 text-white px-2 py-1 rounded-full",children:[V().length," applied"]})]}),(0,Pe.jsx)("div",{className:"flex flex-wrap gap-2",children:V().map((e,t)=>(0,Pe.jsxs)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-white text-blue-700 border border-blue-200 shadow-sm",children:[e,(0,Pe.jsx)("button",{onClick:()=>{e.startsWith("Date:")?(z("startDate",""),z("endDate","")):e.startsWith("Supplier:")?z("supplier",""):e.startsWith("Status:")?B(e=>Me(Me({},e),{},{paymentStatus:[]})):e.startsWith("Amount:")?(z("minAmount",""),z("maxAmount","")):e.startsWith("Invoice:")?z("invoiceNumber",""):e.startsWith("Part:")&&z("part","")},className:"ml-2 text-blue-400 hover:text-blue-600",children:"\xd7"})]},t))})]}),(0,Pe.jsxs)("button",{onClick:K,className:"text-blue-600 hover:text-blue-800 text-sm font-medium flex items-center",children:[(0,Pe.jsx)("span",{className:"mr-1",children:"\ud83d\uddd1\ufe0f"})," Clear All"]})]})}),C&&(0,Pe.jsx)("div",{className:"mb-6 bg-white rounded-xl shadow-lg p-6 border border-gray-200",children:(0,Pe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:[(0,Pe.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,Pe.jsxs)("h3",{className:"text-sm font-semibold text-gray-700 mb-3 flex items-center",children:[(0,Pe.jsx)("span",{className:"mr-2",children:"\ud83d\udcc5"})," Date Range"]}),(0,Pe.jsxs)("div",{className:"space-y-3",children:[(0,Pe.jsxs)("div",{className:"flex space-x-2",children:[(0,Pe.jsxs)("div",{className:"flex-1",children:[(0,Pe.jsx)("label",{className:"block text-xs text-gray-500 mb-1",children:"From"}),(0,Pe.jsx)("input",{type:"date",value:x.startDate,onChange:e=>z("startDate",e.target.value),className:"w-full border border-gray-300 p-2 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,Pe.jsxs)("div",{className:"flex-1",children:[(0,Pe.jsx)("label",{className:"block text-xs text-gray-500 mb-1",children:"To"}),(0,Pe.jsx)("input",{type:"date",value:x.endDate,onChange:e=>z("endDate",e.target.value),className:"w-full border border-gray-300 p-2 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),(0,Pe.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,Pe.jsx)("button",{onClick:()=>G(7),className:"text-xs px-3 py-1 bg-blue-100 text-blue-700 hover:bg-blue-200 rounded-full transition",children:"7 Days"}),(0,Pe.jsx)("button",{onClick:()=>G(30),className:"text-xs px-3 py-1 bg-blue-100 text-blue-700 hover:bg-blue-200 rounded-full transition",children:"30 Days"}),(0,Pe.jsx)("button",{onClick:()=>G(90),className:"text-xs px-3 py-1 bg-blue-100 text-blue-700 hover:bg-blue-200 rounded-full transition",children:"90 Days"}),(0,Pe.jsx)("button",{onClick:()=>G(365),className:"text-xs px-3 py-1 bg-blue-100 text-blue-700 hover:bg-blue-200 rounded-full transition",children:"1 Year"})]})]})]}),(0,Pe.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,Pe.jsxs)("h3",{className:"text-sm font-semibold text-gray-700 mb-3 flex items-center",children:[(0,Pe.jsx)("span",{className:"mr-2",children:"\ud83d\ude9a"})," Supplier"]}),(0,Pe.jsxs)("select",{value:x.supplier,onChange:e=>z("supplier",e.target.value),className:"w-full border border-gray-300 p-2 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[(0,Pe.jsx)("option",{value:"",children:"All Suppliers"}),O.map(e=>(0,Pe.jsx)("option",{value:e._id,children:e.name},e._id))]})]}),(0,Pe.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,Pe.jsxs)("h3",{className:"text-sm font-semibold text-gray-700 mb-3 flex items-center",children:[(0,Pe.jsx)("span",{className:"mr-2",children:"\ud83d\udcb3"})," Payment Status"]}),(0,Pe.jsx)("div",{className:"space-y-2",children:["Pending","Paid","Partial","Overdue"].map(e=>(0,Pe.jsxs)("div",{className:"flex items-center",children:[(0,Pe.jsx)("input",{type:"checkbox",id:"status-".concat(e),checked:x.paymentStatus.includes(e),onChange:()=>(e=>{B(t=>{const n=t.paymentStatus.includes(e)?t.paymentStatus.filter(t=>t!==e):[...t.paymentStatus,e];return Me(Me({},t),{},{paymentStatus:n})})})(e),className:"h-4 w-4 text-blue-600 rounded border-gray-300 focus:ring-blue-500"}),(0,Pe.jsx)("label",{htmlFor:"status-".concat(e),className:"ml-2 text-sm text-gray-700",children:e})]},e))})]}),(0,Pe.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,Pe.jsxs)("h3",{className:"text-sm font-semibold text-gray-700 mb-3 flex items-center",children:[(0,Pe.jsx)("span",{className:"mr-2",children:"\ud83d\udcb0"})," Amount Range (Rs)"]}),(0,Pe.jsxs)("div",{className:"space-y-3",children:[(0,Pe.jsxs)("div",{className:"flex space-x-2",children:[(0,Pe.jsxs)("div",{className:"flex-1",children:[(0,Pe.jsx)("label",{className:"block text-xs text-gray-500 mb-1",children:"Min"}),(0,Pe.jsx)("input",{type:"number",placeholder:"0",value:x.minAmount,onChange:e=>z("minAmount",e.target.value),className:"w-full border border-gray-300 p-2 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,Pe.jsxs)("div",{className:"flex-1",children:[(0,Pe.jsx)("label",{className:"block text-xs text-gray-500 mb-1",children:"Max"}),(0,Pe.jsx)("input",{type:"number",placeholder:"Any",value:x.maxAmount,onChange:e=>z("maxAmount",e.target.value),className:"w-full border border-gray-300 p-2 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),(0,Pe.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,Pe.jsx)("button",{onClick:()=>q(0,5e3),className:"text-xs px-3 py-1 bg-green-100 text-green-700 hover:bg-green-200 rounded-full transition",children:"< 5K"}),(0,Pe.jsx)("button",{onClick:()=>q(5e3,1e4),className:"text-xs px-3 py-1 bg-green-100 text-green-700 hover:bg-green-200 rounded-full transition",children:"5K-10K"}),(0,Pe.jsx)("button",{onClick:()=>q(1e4,""),className:"text-xs px-3 py-1 bg-green-100 text-green-700 hover:bg-green-200 rounded-full transition",children:"10K+"})]})]})]}),(0,Pe.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,Pe.jsxs)("h3",{className:"text-sm font-semibold text-gray-700 mb-3 flex items-center",children:[(0,Pe.jsx)("span",{className:"mr-2",children:"\ud83e\uddfe"})," Invoice Number"]}),(0,Pe.jsx)("input",{type:"text",placeholder:"Search invoice...",value:x.invoiceNumber,onChange:e=>z("invoiceNumber",e.target.value),className:"w-full border border-gray-300 p-2 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,Pe.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,Pe.jsxs)("h3",{className:"text-sm font-semibold text-gray-700 mb-3 flex items-center",children:[(0,Pe.jsx)("span",{className:"mr-2",children:"\ud83d\udd27"})," Part/Item"]}),(0,Pe.jsxs)("select",{value:x.part,onChange:e=>z("part",e.target.value),className:"w-full border border-gray-300 p-2 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[(0,Pe.jsx)("option",{value:"",children:"All Parts"}),L.map(e=>(0,Pe.jsxs)("option",{value:e._id,children:[e.name," (",e.sku,")"]},e._id))]})]}),(0,Pe.jsx)("div",{className:"bg-gray-50 p-4 rounded-lg flex items-end",children:(0,Pe.jsxs)("div",{className:"space-y-2 w-full",children:[(0,Pe.jsxs)("button",{onClick:()=>{T()},className:"w-full px-4 py-2 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 transition text-sm flex items-center justify-center",children:[(0,Pe.jsx)("span",{className:"mr-2",children:"\ud83d\udd0d"})," Apply Filters"]}),(0,Pe.jsxs)("button",{onClick:K,className:"w-full px-4 py-2 bg-gray-300 text-gray-700 rounded-lg font-semibold hover:bg-gray-400 transition text-sm flex items-center justify-center",children:[(0,Pe.jsx)("span",{className:"mr-2",children:"\ud83d\uddd1\ufe0f"})," Clear All"]})]})})]})}),f&&!k&&(0,Pe.jsxs)("div",{className:"bg-red-50 border-l-4 border-red-500 text-red-700 p-4 mb-6 rounded-lg shadow-sm",children:[(0,Pe.jsxs)("div",{className:"flex items-center",children:[(0,Pe.jsx)("svg",{className:"h-5 w-5 text-red-500 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Pe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,Pe.jsx)("strong",{children:"Error:"})]}),(0,Pe.jsx)("p",{className:"mt-1 ml-7",children:f})]}),g&&!k&&(0,Pe.jsxs)("div",{className:"bg-green-50 border-l-4 border-green-500 text-green-700 p-4 mb-6 rounded-lg shadow-sm",children:[(0,Pe.jsxs)("div",{className:"flex items-center",children:[(0,Pe.jsx)("svg",{className:"h-5 w-5 text-green-500 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Pe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,Pe.jsx)("strong",{children:"Success:"})]}),(0,Pe.jsx)("p",{className:"mt-1 ml-7",children:g})]}),k&&(0,Pe.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Pe.jsxs)("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-y-auto border border-gray-200",children:[(0,Pe.jsxs)("div",{className:"border-b border-gray-200 px-6 py-4 bg-gradient-to-r from-gray-50 to-gray-100 flex justify-between items-center rounded-t-xl",children:[(0,Pe.jsxs)("h2",{className:"text-xl font-bold text-gray-800 flex items-center",children:[(0,Pe.jsx)("span",{className:"mr-2",children:F?"\u270f\ufe0f":j?"\ud83d\udcc4":"\u2795"}),F?"Edit Purchase":j?"Purchase Invoice":"Add New Purchase"]}),(0,Pe.jsx)("button",{onClick:H,className:"text-gray-500 hover:text-gray-700 bg-white rounded-full p-2 shadow-sm hover:shadow-md transition",children:(0,Pe.jsx)("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Pe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),F||!F&&!j?(0,Pe.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{F?(await Ju.put("/purchases/".concat(j),E),m("Purchase updated successfully")):(await Ju.post("/purchases",E),m("Purchase created successfully")),S({supplier:"",purchaseDate:"",invoiceNumber:"",items:[{part:"",quantity:1,unitPrice:0}],subtotal:0,tax:0,discount:0,totalAmount:0,paymentStatus:"Pending",notes:""}),I(!1),U(null),_(!1),T()}catch(r){var t,n;console.error(r),p((null===(t=r.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.error)||"Failed to ".concat(F?"update":"create"," purchase"))}},children:[(0,Pe.jsxs)("div",{className:"px-6 py-4",children:[(0,Pe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[(0,Pe.jsxs)("div",{children:[(0,Pe.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center",children:[(0,Pe.jsx)("span",{className:"mr-2",children:"\ud83d\ude9a"})," Supplier *"]}),(0,Pe.jsxs)("select",{name:"supplier",value:E.supplier,onChange:M,className:"w-full border border-gray-300 p-3 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition",required:!0,disabled:!F,children:[(0,Pe.jsx)("option",{value:"",children:"Select a supplier"}),O.map(e=>(0,Pe.jsx)("option",{value:e._id,children:e.name},e._id))]})]}),(0,Pe.jsxs)("div",{children:[(0,Pe.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center",children:[(0,Pe.jsx)("span",{className:"mr-2",children:"\ud83d\udcc5"})," Purchase Date *"]}),(0,Pe.jsx)("input",{type:"date",name:"purchaseDate",value:E.purchaseDate,onChange:M,className:"w-full border border-gray-300 p-3 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition",required:!0,disabled:!F})]}),(0,Pe.jsxs)("div",{children:[(0,Pe.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center",children:[(0,Pe.jsx)("span",{className:"mr-2",children:"\ud83e\uddfe"})," Invoice Number"]}),(0,Pe.jsx)("input",{type:"text",name:"invoiceNumber",value:E.invoiceNumber,onChange:M,className:"w-full border border-gray-300 p-3 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition",placeholder:"e.g. INV-2023-001",disabled:!F})]}),(0,Pe.jsxs)("div",{children:[(0,Pe.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center",children:[(0,Pe.jsx)("span",{className:"mr-2",children:"\ud83d\udcb3"})," Payment Status"]}),(0,Pe.jsxs)("select",{name:"paymentStatus",value:E.paymentStatus,onChange:M,className:"w-full border border-gray-300 p-3 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition",disabled:!F,children:[(0,Pe.jsx)("option",{value:"Pending",children:"Pending"}),(0,Pe.jsx)("option",{value:"Paid",children:"Paid"}),(0,Pe.jsx)("option",{value:"Partial",children:"Partial"}),(0,Pe.jsx)("option",{value:"Overdue",children:"Overdue"})]})]})]}),(0,Pe.jsxs)("div",{className:"mb-6",children:[(0,Pe.jsxs)("div",{className:"flex justify-between items-center mb-4 pb-2 border-b border-gray-200",children:[(0,Pe.jsxs)("h4",{className:"text-md font-semibold text-gray-900 flex items-center",children:[(0,Pe.jsx)("span",{className:"mr-2",children:"\ud83d\udd27"})," Items"]}),F&&(0,Pe.jsxs)("button",{type:"button",onClick:()=>{S(e=>Me(Me({},e),{},{items:[{part:"",quantity:1,unitPrice:0},...e.items]}))},className:"inline-flex items-center px-3 py-1 bg-blue-600 text-white rounded-lg text-sm font-medium hover:bg-blue-700 transition",children:[(0,Pe.jsx)("span",{className:"mr-1",children:"+"})," Add Item"]})]}),E.items.map((e,t)=>{var n;return(0,Pe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-4 mb-4 items-end bg-gray-50 p-4 rounded-lg border border-gray-200",children:[(0,Pe.jsxs)("div",{className:"md:col-span-5",children:[(0,Pe.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center",children:[(0,Pe.jsx)("span",{className:"mr-1",children:"\u2699\ufe0f"})," Part *"]}),(0,Pe.jsxs)("select",{value:e.part,onChange:e=>Q(t,"part",e.target.value),className:"w-full border border-gray-300 p-3 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition",required:!0,disabled:!F,children:[(0,Pe.jsx)("option",{value:"",children:"Select a part"}),L.map(e=>(0,Pe.jsxs)("option",{value:e._id,children:[e.name," (",e.sku,")"]},e._id))]})]}),(0,Pe.jsxs)("div",{className:"md:col-span-2",children:[(0,Pe.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center",children:[(0,Pe.jsx)("span",{className:"mr-1",children:"\ud83d\udd22"})," Quantity"]}),(0,Pe.jsx)("input",{type:"number",min:"1",value:e.quantity,onChange:e=>Q(t,"quantity",parseInt(e.target.value)||0),className:"w-full border border-gray-300 p-3 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition",disabled:!F})]}),(0,Pe.jsxs)("div",{className:"md:col-span-2",children:[(0,Pe.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center",children:[(0,Pe.jsx)("span",{className:"mr-1",children:"\u20b9"})," Unit Price (Rs)"]}),(0,Pe.jsx)("input",{type:"number",step:"0.01",min:"0",value:e.unitPrice,onChange:e=>Q(t,"unitPrice",parseFloat(e.target.value)||0),className:"w-full border border-gray-300 p-3 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition",disabled:!F})]}),(0,Pe.jsxs)("div",{className:"md:col-span-2",children:[(0,Pe.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center",children:[(0,Pe.jsx)("span",{className:"mr-1",children:"\ud83d\udcb0"})," Total (Rs)"]}),(0,Pe.jsx)("input",{type:"text",readOnly:!0,value:(null===(n=e.totalPrice)||void 0===n?void 0:n.toFixed(2))||"0.00",className:"w-full border border-gray-300 p-3 rounded-lg bg-gray-100 font-medium"})]}),(0,Pe.jsx)("div",{className:"md:col-span-1 flex items-center justify-center",children:F&&E.items.length>1&&(0,Pe.jsx)("button",{type:"button",onClick:()=>(e=>{if(E.items.length>1){const t=[...E.items];t.splice(e,1),S(e=>Me(Me({},e),{},{items:t})),R(t)}})(t),className:"text-red-600 hover:text-red-800 p-2 rounded-full hover:bg-red-100 transition",title:"Remove item",children:(0,Pe.jsx)("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Pe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})})]},t)})]}),(0,Pe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6 p-4 bg-gray-50 rounded-lg border border-gray-200",children:[(0,Pe.jsxs)("div",{children:[(0,Pe.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center",children:[(0,Pe.jsx)("span",{className:"mr-1",children:"\ud83e\uddee"})," Subtotal (Rs)"]}),(0,Pe.jsx)("input",{type:"text",readOnly:!0,value:E.subtotal.toFixed(2),className:"w-full border border-gray-300 p-3 rounded-lg bg-gray-100 font-medium"})]}),(0,Pe.jsxs)("div",{children:[(0,Pe.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center",children:[(0,Pe.jsx)("span",{className:"mr-1",children:" taxpaid"})," Tax (Rs)"]}),(0,Pe.jsx)("input",{type:"number",step:"0.01",min:"0",name:"tax",value:E.tax,onChange:M,className:"w-full border border-gray-300 p-3 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition",disabled:!F})]}),(0,Pe.jsxs)("div",{children:[(0,Pe.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center",children:[(0,Pe.jsx)("span",{className:"mr-1",children:"\ud83c\udff7\ufe0f"})," Discount (Rs)"]}),(0,Pe.jsx)("input",{type:"number",step:"0.01",min:"0",name:"discount",value:E.discount,onChange:M,className:"w-full border border-gray-300 p-3 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition",disabled:!F})]}),(0,Pe.jsxs)("div",{children:[(0,Pe.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center",children:[(0,Pe.jsx)("span",{className:"mr-1",children:"\ud83d\udcb0"})," Total Amount (Rs)"]}),(0,Pe.jsx)("input",{type:"text",readOnly:!0,value:E.totalAmount.toFixed(2),className:"w-full border border-gray-300 p-3 rounded-lg bg-gradient-to-r from-blue-50 to-blue-100 font-bold text-blue-800"})]})]}),(0,Pe.jsxs)("div",{className:"mb-4",children:[(0,Pe.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center",children:[(0,Pe.jsx)("span",{className:"mr-1",children:"\ud83d\udcdd"})," Notes"]}),(0,Pe.jsx)("textarea",{name:"notes",value:E.notes,onChange:M,rows:"3",className:"w-full border border-gray-300 p-3 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition",placeholder:"Additional notes about this purchase...",disabled:!F})]})]}),(0,Pe.jsxs)("div",{className:"border-t border-gray-200 px-6 py-4 bg-gray-50 rounded-b-xl flex justify-end space-x-3",children:[(0,Pe.jsx)("button",{type:"button",onClick:H,className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-100 font-medium transition",children:"Cancel"}),F&&(0,Pe.jsx)("button",{type:"submit",className:"px-4 py-2 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-lg font-semibold hover:from-blue-700 hover:to-blue-800 transition shadow-md hover:shadow-lg",children:F?"Update Purchase":"Add Purchase"})]})]}):(0,Pe.jsxs)("div",{id:"purchase-invoice",className:"px-6 py-4",children:[(0,Pe.jsx)("div",{className:"border-b border-gray-200 pb-4 mb-6",children:(0,Pe.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[(0,Pe.jsxs)("div",{children:[(0,Pe.jsx)("h3",{className:"text-2xl font-bold text-gray-900",children:"PURCHASE INVOICE"}),(0,Pe.jsxs)("p",{className:"text-gray-500 mt-1",children:["#",E.invoiceNumber||"N/A"]})]}),(0,Pe.jsxs)("div",{className:"text-right",children:[(0,Pe.jsxs)("p",{className:"text-gray-600",children:["Date: ",E.purchaseDate?new Date(E.purchaseDate).toLocaleDateString():"N/A"]}),(0,Pe.jsx)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium mt-2 ".concat("Paid"===E.paymentStatus?"bg-green-100 text-green-800":"Pending"===E.paymentStatus?"bg-yellow-100 text-yellow-800":"Partial"===E.paymentStatus?"bg-blue-100 text-blue-800":"bg-red-100 text-red-800"),children:E.paymentStatus||"N/A"})]})]})}),(0,Pe.jsxs)("div",{className:"mb-8",children:[(0,Pe.jsxs)("h4",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center",children:[(0,Pe.jsx)("span",{className:"mr-2",children:"\ud83d\ude9a"})," Supplier Information"]}),(0,Pe.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:[(0,Pe.jsx)("p",{className:"font-medium text-gray-900",children:(null===(t=O.find(e=>e._id===E.supplier))||void 0===t?void 0:t.name)||"N/A"}),(0,Pe.jsx)("p",{className:"text-gray-600 text-sm mt-1",children:(null===(n=O.find(e=>e._id===E.supplier))||void 0===n?void 0:n.contactPerson)||""}),(0,Pe.jsx)("p",{className:"text-gray-600 text-sm",children:(null===(r=O.find(e=>e._id===E.supplier))||void 0===r?void 0:r.email)||""}),(0,Pe.jsx)("p",{className:"text-gray-600 text-sm",children:(null===(a=O.find(e=>e._id===E.supplier))||void 0===a?void 0:a.phone)||""})]})]}),(0,Pe.jsxs)("div",{className:"mb-8",children:[(0,Pe.jsxs)("h4",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center",children:[(0,Pe.jsx)("span",{className:"mr-2",children:"\ud83d\udd27"})," Items"]}),(0,Pe.jsx)("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:(0,Pe.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Pe.jsx)("thead",{className:"bg-gray-50",children:(0,Pe.jsxs)("tr",{children:[(0,Pe.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Part"}),(0,Pe.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"SKU"}),(0,Pe.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Quantity"}),(0,Pe.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Unit Price"}),(0,Pe.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total"})]})}),(0,Pe.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:E.items.map((e,t)=>{var n,r;const i=L.find(t=>t._id===e.part);return(0,Pe.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,Pe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:(null===i||void 0===i?void 0:i.name)||"N/A"}),(0,Pe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:(null===i||void 0===i?void 0:i.sku)||"N/A"}),(0,Pe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.quantity}),(0,Pe.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:["Rs ",(null===(n=e.unitPrice)||void 0===n?void 0:n.toFixed(2))||"0.00"]}),(0,Pe.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:["Rs ",(null===(r=e.totalPrice)||void 0===r?void 0:r.toFixed(2))||"0.00"]})]},t)})})]})})]}),(0,Pe.jsx)("div",{className:"mb-8",children:(0,Pe.jsxs)("div",{className:"max-w-xs ml-auto",children:[(0,Pe.jsxs)("div",{className:"flex justify-between py-2",children:[(0,Pe.jsx)("span",{className:"text-gray-600",children:"Subtotal:"}),(0,Pe.jsxs)("span",{className:"font-medium",children:["Rs ",(null===(o=E.subtotal)||void 0===o?void 0:o.toFixed(2))||"0.00"]})]}),(0,Pe.jsxs)("div",{className:"flex justify-between py-2",children:[(0,Pe.jsx)("span",{className:"text-gray-600",children:"Tax:"}),(0,Pe.jsxs)("span",{className:"font-medium",children:["Rs ",(null===(s=E.tax)||void 0===s?void 0:s.toFixed(2))||"0.00"]})]}),(0,Pe.jsxs)("div",{className:"flex justify-between py-2",children:[(0,Pe.jsx)("span",{className:"text-gray-600",children:"Discount:"}),(0,Pe.jsxs)("span",{className:"font-medium",children:["Rs ",(null===(l=E.discount)||void 0===l?void 0:l.toFixed(2))||"0.00"]})]}),(0,Pe.jsxs)("div",{className:"flex justify-between py-3 border-t border-gray-200 mt-2",children:[(0,Pe.jsx)("span",{className:"text-lg font-bold text-gray-900",children:"Total Amount:"}),(0,Pe.jsxs)("span",{className:"text-lg font-bold text-blue-600",children:["Rs ",(null===(c=E.totalAmount)||void 0===c?void 0:c.toFixed(2))||"0.00"]})]})]})}),E.notes&&(0,Pe.jsxs)("div",{className:"mb-6",children:[(0,Pe.jsxs)("h4",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center",children:[(0,Pe.jsx)("span",{className:"mr-2",children:"\ud83d\udcdd"})," Notes"]}),(0,Pe.jsx)("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:(0,Pe.jsx)("p",{className:"text-gray-700 whitespace-pre-wrap",children:E.notes})})]}),(0,Pe.jsx)("div",{className:"border-t border-gray-200 pt-4 mt-6",children:(0,Pe.jsxs)("button",{onClick:async()=>{const e=document.getElementById("purchase-invoice");if(e)try{const t=await kl()(e,{scale:2,useCORS:!0,logging:!1}),n=t.toDataURL("image/png"),r=new jo("p","mm","a4"),i=210,a=297,o=t.height*i/t.width;let s=o,l=0;for(r.addImage(n,"PNG",0,l,i,o),s-=a;s>=0;)l=s-o,r.addPage(),r.addImage(n,"PNG",0,l,i,o),s-=a;const c=E.invoiceNumber||"invoice",u=E.purchaseDate?new Date(E.purchaseDate).toISOString().split("T")[0]:(new Date).toISOString().split("T")[0],A="purchase_invoice_".concat(c,"_").concat(u,".pdf");r.save(A),m("PDF downloaded successfully")}catch(t){console.error("Error generating PDF:",t),p("Failed to generate PDF")}else p("Unable to generate PDF")},className:"px-4 py-2 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-lg font-semibold hover:from-blue-700 hover:to-blue-800 transition shadow-md hover:shadow-lg flex items-center",children:[(0,Pe.jsx)("span",{className:"mr-2",children:"\u2b07\ufe0f"})," Download as PDF"]})})]})]})}),(0,Pe.jsxs)("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden border border-gray-200",children:[(0,Pe.jsx)("div",{className:"border-b border-gray-200 p-6 bg-gradient-to-r from-gray-50 to-gray-100",children:(0,Pe.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[(0,Pe.jsxs)("div",{children:[(0,Pe.jsxs)("h2",{className:"text-xl font-bold text-gray-800 flex items-center",children:[(0,Pe.jsx)("span",{className:"mr-2",children:"\ud83d\udccb"})," Purchase Records"]}),(0,Pe.jsxs)("p",{className:"text-gray-600 text-sm mt-1",children:[u.length," ",1===u.length?"record":"records"," found"]})]}),(0,Pe.jsx)("div",{className:"flex items-center space-x-4",children:(0,Pe.jsxs)("div",{className:"text-sm text-gray-500",children:[(0,Pe.jsx)("span",{className:"font-medium",children:"Total Value:"}),(0,Pe.jsxs)("span",{className:"ml-1 font-semibold text-gray-800",children:["Rs ",u.reduce((e,t)=>e+t.totalAmount,0).toFixed(2)]})]})})]})}),0===u.length?(0,Pe.jsxs)("div",{className:"p-12 text-center",children:[(0,Pe.jsx)("div",{className:"text-5xl mb-4",children:"\ud83d\udccb"}),(0,Pe.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No purchases found"}),(0,Pe.jsx)("p",{className:"text-gray-500 mb-4",children:"Get started by adding your first purchase record"}),(0,Pe.jsxs)("button",{onClick:()=>_(!0),className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 transition",children:[(0,Pe.jsx)("span",{className:"mr-2",children:"\u2795"}),"Add New Purchase"]})]}):(0,Pe.jsx)("div",{className:"overflow-x-auto",children:(0,Pe.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Pe.jsx)("thead",{className:"bg-gray-50",children:(0,Pe.jsxs)("tr",{children:[(0,Pe.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),(0,Pe.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Supplier"}),(0,Pe.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Invoice"}),(0,Pe.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Items"}),(0,Pe.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total"}),(0,Pe.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,Pe.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,Pe.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:u.map(e=>{var t,n,r;return(0,Pe.jsxs)("tr",{className:"hover:bg-gray-50 transition",children:[(0,Pe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 font-medium",children:W(e.purchaseDate)}),(0,Pe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Pe.jsx)("div",{className:"text-sm font-medium text-gray-900",children:(null===(t=e.supplier)||void 0===t?void 0:t.name)||"N/A"})}),(0,Pe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.invoiceNumber||"N/A"}),(0,Pe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:(0,Pe.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[(null===(n=e.items)||void 0===n?void 0:n.length)||0," items"]})}),(0,Pe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-bold text-gray-900",children:(r=e.totalAmount,"Rs ".concat(r.toFixed(2)))}),(0,Pe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Pe.jsx)("span",{className:"px-3 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ".concat("Paid"===e.paymentStatus?"bg-green-100 text-green-800":"Pending"===e.paymentStatus?"bg-yellow-100 text-yellow-800":"Partial"===e.paymentStatus?"bg-blue-100 text-blue-800":"bg-red-100 text-red-800"),children:e.paymentStatus})}),(0,Pe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:(0,Pe.jsxs)("div",{className:"flex space-x-2",children:[(0,Pe.jsxs)("button",{onClick:()=>(async e=>{try{const t=(await Ju.get("/purchases/".concat(e._id))).data;S({supplier:t.supplier._id||t.supplier,purchaseDate:t.purchaseDate?new Date(t.purchaseDate).toISOString().split("T")[0]:"",invoiceNumber:t.invoiceNumber||"",items:t.items.map(e=>({part:e.part._id||e.part,quantity:e.quantity,unitPrice:e.unitPrice,totalPrice:e.totalPrice})),subtotal:t.subtotal||0,tax:t.tax||0,discount:t.discount||0,totalAmount:t.totalAmount||0,paymentStatus:t.paymentStatus||"Pending",notes:t.notes||""}),I(!1),U(t._id),_(!0)}catch(t){console.error("Error fetching purchase details:",t),p("Failed to load purchase details"),S({supplier:e.supplier._id||e.supplier,purchaseDate:e.purchaseDate?new Date(e.purchaseDate).toISOString().split("T")[0]:"",invoiceNumber:e.invoiceNumber||"",items:e.items.map(e=>({part:e.part._id||e.part,quantity:e.quantity,unitPrice:e.unitPrice,totalPrice:e.totalPrice})),subtotal:e.subtotal||0,tax:e.tax||0,discount:e.discount||0,totalAmount:e.totalAmount||0,paymentStatus:e.paymentStatus||"Pending",notes:e.notes||""}),I(!1),U(e._id),_(!0)}})(e),className:"text-green-600 hover:text-green-900 flex items-center text-sm",title:"View purchase",children:[(0,Pe.jsx)("span",{className:"mr-1",children:"\ud83d\udc41\ufe0f"}),"View"]}),(0,Pe.jsxs)("button",{onClick:()=>(e=>{S({supplier:e.supplier._id||e.supplier,purchaseDate:e.purchaseDate?new Date(e.purchaseDate).toISOString().split("T")[0]:"",invoiceNumber:e.invoiceNumber||"",items:e.items.map(e=>({part:e.part._id||e.part,quantity:e.quantity,unitPrice:e.unitPrice,totalPrice:e.totalPrice})),subtotal:e.subtotal||0,tax:e.tax||0,discount:e.discount||0,totalAmount:e.totalAmount||0,paymentStatus:e.paymentStatus||"Pending",notes:e.notes||""}),I(!0),U(e._id),_(!0)})(e),className:"text-blue-600 hover:text-blue-900 flex items-center text-sm",title:"Edit purchase",children:[(0,Pe.jsx)("span",{className:"mr-1",children:"\u270f\ufe0f"}),"Edit"]}),(0,Pe.jsxs)("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this purchase?"))try{await Ju.delete("/purchases/".concat(e)),T(),m("Purchase deleted successfully")}catch(t){console.error(t),p("Failed to delete purchase")}})(e._id),className:"text-red-600 hover:text-red-900 flex items-center text-sm",title:"Delete purchase",children:[(0,Pe.jsx)("span",{className:"mr-1",children:"\ud83d\uddd1\ufe0f"}),"Delete"]})]})})]},e._id)})})]})})]})]})},j0=()=>{const[e,t]=(0,i.useState)([]),[n,r]=(0,i.useState)([]),[a,o]=(0,i.useState)(!0),[s,l]=(0,i.useState)(""),[c,u]=(0,i.useState)(""),[A,d]=(0,i.useState)(""),[h,f]=(0,i.useState)(""),[p,g]=(0,i.useState)(!1),[m,v]=(0,i.useState)(!1),[y,b]=(0,i.useState)(!1),[w,x]=(0,i.useState)(null),[B,C]=(0,i.useState)({name:"",date:"",description:"",appliesTo:"all"}),[N,k]=(0,i.useState)([]),_=re();(0,i.useEffect)(()=>{localStorage.getItem("admin")||_("/admin/login")},[_]),(0,i.useEffect)(()=>{E(),S()},[]);const E=async()=>{try{const e=await Ju.get("/holidays");t(e.data),o(!1)}catch(e){console.error(e),l("Failed to fetch holidays"),o(!1)}},S=async()=>{try{const e=await Ju.get("/workers");r(e.data)}catch(e){console.error(e),l("Failed to fetch workers")}},F=e=>{const{name:t,value:n}=e.target;C(e=>Me(Me({},e),{},{[t]:n}))},I=()=>{let t=[...e];if(A&&h){const e=new Date(A),n=new Date(h);n.setHours(23,59,59,999),t=t.filter(t=>{const r=new Date(t.date);return r>=e&&r<=n})}if(p){const e=new Date;e.setHours(0,0,0,0),t=t.filter(t=>{const n=new Date(t.date);return n.setHours(0,0,0,0),n>=e})}return t},j=e=>{const t=new Date(e),n=t.getFullYear(),r=String(t.getMonth()+1).padStart(2,"0"),i=String(t.getDate()).padStart(2,"0");return"".concat(n,"-").concat(r,"-").concat(i)},U=e=>{const t=new Date;t.setHours(0,0,0,0);const n=new Date(e);return n.setHours(0,0,0,0),n<t},O=()=>{v(!1),b(!1),x(null),C({name:"",date:"",description:"",appliesTo:"all"}),k([]),l(""),u("")},P=e=>{const t=new Date;t.setHours(0,0,0,0);const n=new Date(e);return n.setHours(0,0,0,0),n<t?(0,Pe.jsx)("span",{className:"px-2 py-1 text-xs rounded-full bg-gray-200 text-gray-800",children:"Past"}):(0,Pe.jsx)("span",{className:"px-2 py-1 text-xs rounded-full bg-green-200 text-green-800",children:"Upcoming"})},L=e=>"all"===e.appliesTo?"All Employees":e.employees&&e.employees.length>0?"".concat(e.employees.length," Employee").concat(e.employees.length>1?"s":""):"None Selected";if(a)return(0,Pe.jsx)("div",{className:"p-8 bg-gray-100 min-h-screen ml-64 flex items-center justify-center",children:(0,Pe.jsx)("div",{className:"text-xl",children:"Loading holidays..."})});const D=I();return(0,Pe.jsxs)("div",{className:"p-8 bg-gray-100 min-h-screen ml-64",children:[(0,Pe.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,Pe.jsxs)("div",{children:[(0,Pe.jsx)("h2",{className:"text-2xl font-bold",children:"Holiday Management"}),(0,Pe.jsx)("p",{className:"text-gray-600",children:"Manage company holidays"})]}),(0,Pe.jsx)("button",{onClick:()=>{C({name:"",date:"",description:"",appliesTo:"all"}),k([]),b(!1),x(null),v(!0)},className:"bg-blue-600 text-white px-4 py-2 rounded-lg font-semibold hover:bg-blue-700 transition",children:"Add Holiday"})]}),s&&!m&&(0,Pe.jsx)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:s}),c&&!m&&(0,Pe.jsx)("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded mb-4",children:c}),(0,Pe.jsxs)("div",{className:"bg-white rounded-lg shadow mb-6",children:[(0,Pe.jsx)("div",{className:"p-4 border-b border-gray-200",children:(0,Pe.jsx)("h3",{className:"text-lg font-semibold",children:"Filters"})}),(0,Pe.jsx)("div",{className:"p-4",children:(0,Pe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,Pe.jsxs)("div",{children:[(0,Pe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Date"}),(0,Pe.jsx)("input",{type:"date",value:A,onChange:e=>d(e.target.value),className:"w-full border border-gray-300 p-2 rounded focus:ring-2 focus:ring-blue-500 outline-none"})]}),(0,Pe.jsxs)("div",{children:[(0,Pe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"End Date"}),(0,Pe.jsx)("input",{type:"date",value:h,onChange:e=>f(e.target.value),className:"w-full border border-gray-300 p-2 rounded focus:ring-2 focus:ring-blue-500 outline-none"})]}),(0,Pe.jsx)("div",{className:"flex items-end",children:(0,Pe.jsx)("button",{onClick:I,className:"px-4 py-2 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 transition",children:"Apply Range"})}),(0,Pe.jsxs)("div",{className:"flex items-end space-x-2",children:[(0,Pe.jsx)("button",{onClick:()=>g(!p),className:"px-4 py-2 rounded-lg font-semibold transition ".concat(p?"bg-green-600 text-white hover:bg-green-700":"bg-gray-200 text-gray-700 hover:bg-gray-300"),children:p?"Showing Upcoming":"Show Upcoming"}),(0,Pe.jsx)("button",{onClick:()=>{d(""),f(""),g(!1)},className:"px-4 py-2 bg-gray-600 text-white rounded-lg font-semibold hover:bg-gray-700 transition",children:"Clear Filters"})]})]})})]}),(0,Pe.jsxs)("div",{className:"bg-white rounded shadow overflow-hidden",children:[(0,Pe.jsx)("div",{className:"border-b border-gray-200",children:(0,Pe.jsxs)("h3",{className:"p-4 text-lg font-semibold",children:["Holidays List (",D.length,")"]})}),0===D.length?(0,Pe.jsx)("div",{className:"p-8 text-center text-gray-500",children:'No holidays found. Click "Add Holiday" to add one.'}):(0,Pe.jsx)("div",{className:"overflow-x-auto",children:(0,Pe.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Pe.jsx)("thead",{className:"bg-gray-50",children:(0,Pe.jsxs)("tr",{children:[(0,Pe.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),(0,Pe.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),(0,Pe.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Description"}),(0,Pe.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Applies To"}),(0,Pe.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,Pe.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created"}),(0,Pe.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,Pe.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:D.map(e=>{return(0,Pe.jsxs)("tr",{children:[(0,Pe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Pe.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.name})}),(0,Pe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:(t=e.date,new Date(t).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}))}),(0,Pe.jsx)("td",{className:"px-6 py-4 text-sm text-gray-500 max-w-xs truncate",children:e.description}),(0,Pe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:L(e)}),(0,Pe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:P(e.date)}),(0,Pe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(e.createdAt).toLocaleDateString()}),(0,Pe.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:[(0,Pe.jsx)("button",{onClick:()=>(e=>{C({name:e.name,date:j(e.date),description:e.description,appliesTo:e.appliesTo}),"specific"===e.appliesTo&&e.employees?k(e.employees.map(e=>e._id)):k([]),b(!0),x(e._id),v(!0)})(e),className:"text-blue-600 hover:text-blue-900 mr-4",children:"Edit"}),(0,Pe.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this holiday?"))try{await Ju.delete("/holidays/".concat(e)),u("Holiday deleted successfully"),E()}catch(r){var t,n;console.error(r),l((null===(t=r.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.error)||"Failed to delete holiday")}})(e._id),disabled:U(e.date),className:"".concat(U(e.date)?"text-gray-400 cursor-not-allowed":"text-red-600 hover:text-red-900"),title:U(e.date)?"Cannot delete past holidays":"",children:"Delete"})]})]},e._id);var t})})]})})]}),m&&(0,Pe.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Pe.jsxs)("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-screen overflow-y-auto",children:[(0,Pe.jsxs)("div",{className:"border-b border-gray-200 px-6 py-4 flex justify-between items-center",children:[(0,Pe.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:y?"Edit Holiday":"Add New Holiday"}),(0,Pe.jsx)("button",{onClick:O,className:"text-gray-500 hover:text-gray-700",children:(0,Pe.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),(0,Pe.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),B.name&&B.date)if("specific"!==B.appliesTo||0!==N.length)try{const e=Me(Me({},B),{},{employees:"specific"===B.appliesTo?N:[]});y?(await Ju.put("/holidays/".concat(w),e),u("Holiday updated successfully")):(await Ju.post("/holidays",e),u("Holiday created successfully")),O(),E()}catch(r){var t,n;console.error(r),l((null===(t=r.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.error)||"Failed to ".concat(y?"update":"create"," holiday"))}else l("Please select at least one employee");else l("Name and Date are required")},className:"px-6 py-4",children:[(0,Pe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Pe.jsxs)("div",{className:"mb-4",children:[(0,Pe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Holiday Name *"}),(0,Pe.jsx)("input",{type:"text",name:"name",value:B.name,onChange:F,className:"w-full border border-gray-300 p-3 rounded focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"e.g. New Year's Day",required:!0})]}),(0,Pe.jsxs)("div",{className:"mb-4",children:[(0,Pe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date *"}),(0,Pe.jsx)("input",{type:"date",name:"date",value:B.date,onChange:F,className:"w-full border border-gray-300 p-3 rounded focus:ring-2 focus:ring-blue-500 outline-none",required:!0})]}),(0,Pe.jsxs)("div",{className:"md:col-span-2 mb-4",children:[(0,Pe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description / Reason"}),(0,Pe.jsx)("textarea",{name:"description",value:B.description,onChange:F,rows:"3",className:"w-full border border-gray-300 p-3 rounded focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"Describe the holiday..."})]}),(0,Pe.jsxs)("div",{className:"md:col-span-2 mb-4",children:[(0,Pe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Applies To *"}),(0,Pe.jsxs)("div",{className:"space-y-2",children:[(0,Pe.jsxs)("div",{className:"flex items-center",children:[(0,Pe.jsx)("input",{type:"radio",id:"appliesToAll",name:"appliesTo",value:"all",checked:"all"===B.appliesTo,onChange:F,className:"h-4 w-4 text-blue-600 focus:ring-blue-500"}),(0,Pe.jsx)("label",{htmlFor:"appliesToAll",className:"ml-2 block text-sm text-gray-700",children:"All Employees"})]}),(0,Pe.jsxs)("div",{className:"flex items-center",children:[(0,Pe.jsx)("input",{type:"radio",id:"appliesToSpecific",name:"appliesTo",value:"specific",checked:"specific"===B.appliesTo,onChange:F,className:"h-4 w-4 text-blue-600 focus:ring-blue-500"}),(0,Pe.jsx)("label",{htmlFor:"appliesToSpecific",className:"ml-2 block text-sm text-gray-700",children:"Specific Employees"})]})]})]}),"specific"===B.appliesTo&&(0,Pe.jsxs)("div",{className:"md:col-span-2 mb-4",children:[(0,Pe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Employees"}),(0,Pe.jsx)("div",{className:"border border-gray-300 rounded-lg p-4 max-h-60 overflow-y-auto",children:0===n.length?(0,Pe.jsx)("p",{className:"text-gray-500 text-center py-4",children:"No workers available"}):(0,Pe.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:n.map(e=>(0,Pe.jsxs)("div",{className:"flex items-center",children:[(0,Pe.jsx)("input",{type:"checkbox",id:"worker-".concat(e._id),checked:N.includes(e._id),onChange:()=>{return t=e._id,void k(e=>e.includes(t)?e.filter(e=>e!==t):[...e,t]);var t},className:"h-4 w-4 text-blue-600 focus:ring-blue-500"}),(0,Pe.jsxs)("label",{htmlFor:"worker-".concat(e._id),className:"ml-2 block text-sm text-gray-700",children:[e.name," "]})]},e._id))})})]})]}),s&&(0,Pe.jsx)("div",{className:"mb-4 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:s}),c&&(0,Pe.jsx)("div",{className:"mb-4 bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded",children:c}),(0,Pe.jsxs)("div",{className:"border-t border-gray-200 px-6 py-4 bg-gray-50 rounded-b-lg flex justify-end space-x-3",children:[(0,Pe.jsx)("button",{type:"button",onClick:O,className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-100",children:"Cancel"}),(0,Pe.jsx)("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 transition",children:y?"Update Holiday":"Create Holiday"})]})]})]})})]})},U0=e=>{if(!e)return{hours:0,minutes:0};const[t,n]=e.split(":").map(Number);return{hours:isNaN(t)?0:t,minutes:isNaN(n)?0:n}},O0=(e,t,n)=>{if(!e||!t)return{deductionMinutes:0,deductionAmount:0};if(!e.checkIn)return{deductionMinutes:0,deductionAmount:0};if(!e.checkOut)return{deductionMinutes:0,deductionAmount:0};const r=new Date(e.checkIn),i=new Date(e.checkOut);if(isNaN(r.getTime())||isNaN(i.getTime()))return{deductionMinutes:0,deductionAmount:0};const a=U0(t.workingTime.from),o=U0(t.workingTime.to),s=new Date(r);s.setHours(a.hours,a.minutes,0,0);const l=new Date(r);l.setHours(o.hours,o.minutes,0,0);let c=0;if(r>s){const e=Math.ceil((r-s)/6e4);c+=Math.max(0,e)}if(i<l){const e=Math.ceil((l-i)/6e4);c+=Math.max(0,e)}if(t.lunchTime&&t.lunchTime.enabled){const e=U0(t.lunchTime.from),n=U0(t.lunchTime.to),a=new Date(r);a.setHours(e.hours,e.minutes,0,0);const o=new Date(r);if(o.setHours(n.hours,n.minutes,0,0),r>=a&&r<=o){const e=Math.ceil((r-a)/6e4)+1;c+=Math.max(0,e)}if(i>=a&&i<=o){const e=Math.ceil((o-i)/6e4)+1;c+=Math.max(0,e)}}return{deductionMinutes:c,deductionAmount:c*n}},P0=(e,t,n,r,i,a)=>{if(!e||!e.salary)return{originalMonthlySalary:0,earnedSalary:0,finalSalary:0,totalWorkingDays:0,presentDays:0,absentDays:0,totalDeductionMinutes:0,totalDeductionAmount:0,attendancePercentage:0,perMinuteSalary:0,dailyBreakdown:[]};const o=((e,t,n,r)=>{const i=new Date(e,t,0).getDate();let a=0;for(let s=1;s<=i;s++)0===new Date(Date.UTC(e,t-1,s)).getUTCDay()&&a++;let o=0;return n&&Array.isArray(n)&&n.forEach(n=>{const i=new Date(n.date);i.getUTCFullYear()===e&&i.getUTCMonth()===t-1&&("all"===n.appliesTo||"specific"===n.appliesTo&&n.employees&&Array.isArray(n.employees)&&n.employees.some(e=>e._id===r||e===r))&&o++}),Math.max(0,i-a-o)})(t,n,r,e._id),s=(l=e.salary,c=o,!l||c<=0?0:l/c);var l,c;const u=(e=>{if(!e||!e.workingTime)return 0;const t=U0(e.workingTime.from),n=U0(e.workingTime.to);let r=60*n.hours+n.minutes-(60*t.hours+t.minutes);if(e.lunchTime&&e.lunchTime.enabled){const t=U0(e.lunchTime.from),n=U0(e.lunchTime.to);r-=60*n.hours+n.minutes-(60*t.hours+t.minutes)}if(e.breakTime&&e.breakTime.enabled){const t=U0(e.breakTime.from),n=U0(e.breakTime.to);r-=60*n.hours+n.minutes-(60*t.hours+t.minutes)}return Math.max(0,r)})(a),A=((e,t)=>!e||t<=0?0:e/(t/60))(s,u),d=(e=>e?e/60:0)(A),h=Array.isArray(i)?i.filter(e=>{if(!e||!e.date)return!1;const r=new Date(e.date);return r.getUTCFullYear()===t&&r.getUTCMonth()===n-1}):[];let f=0,p=0,g=0;const m=[],v=new Date(t,n,0).getDate();for(let B=1;B<=v;B++){const i=new Date(Date.UTC(t,n-1,B));if(0===i.getUTCDay()){m.push({date:i.toISOString().split("T")[0],inTime:null,outTime:null,status:"Off (Sunday)",deductedMinutes:0,salaryEarned:0});continue}let o=!1;if(Array.isArray(r)&&(o=r.some(r=>{if(!r||!r.date)return!1;const i=new Date(r.date);return i.getUTCDate()===B&&i.getUTCMonth()===n-1&&i.getUTCFullYear()===t&&("all"===r.appliesTo||"specific"===r.appliesTo&&r.employees&&Array.isArray(r.employees)&&r.employees.some(t=>t._id===e._id||t===e._id))})),o){m.push({date:i.toISOString().split("T")[0],inTime:null,outTime:null,status:"Off (Holiday)",deductedMinutes:0,salaryEarned:0});continue}const l=h.find(e=>{const r=new Date(e.date);return r.getUTCDate()===B&&r.getUTCMonth()===n-1&&r.getUTCFullYear()===t});if(l&&l.checkIn){f++;const{deductionMinutes:e,deductionAmount:t}=O0(l,a,d);p+=e,g+=t;const n=Math.max(0,s-t);m.push({date:i.toISOString().split("T")[0],inTime:l.checkIn,outTime:l.checkOut,status:"Present",deductedMinutes:e,salaryEarned:n})}else{g+=s,m.push({date:i.toISOString().split("T")[0],inTime:null,outTime:null,status:"Absent",deductedMinutes:u,salaryEarned:0})}}const y=o-f,b=Math.max(0,s*f-g),w=Math.max(0,e.salary-s*y-g),x=o>0?f/o*100:0;return{originalMonthlySalary:e.salary,earnedSalary:b,finalSalary:w,totalWorkingDays:o,presentDays:f,absentDays:y,totalDeductionMinutes:p,totalDeductionAmount:g,attendancePercentage:x,perMinuteSalary:d,dailyBreakdown:m}},L0=()=>{const[e,t]=(0,i.useState)([]),[n,r]=(0,i.useState)([]),[a,o]=(0,i.useState)(!0),[s,l]=(0,i.useState)(""),[c,u]=(0,i.useState)(""),[A,d]=(0,i.useState)(!1),[h,f]=(0,i.useState)(null),[p,g]=(0,i.useState)((new Date).getMonth()+1),[m,v]=(0,i.useState)((new Date).getFullYear()),[y,b]=(0,i.useState)(null),[w,x]=(0,i.useState)([]),[B,C]=(0,i.useState)([]),N=re();(0,i.useEffect)(()=>{localStorage.getItem("admin")||N("/admin/login")},[N]);const k=()=>{const e=[],t=new Date,n=t.getFullYear(),r=t.getMonth(),i=new Date(n,r+1,0).getDate();for(let a=1;a<=i;a++){const t=new Date(n,r,a);if(0===t.getDay())continue;if(Math.random()>.1){const i=540+Math.floor(31*Math.random())-15,o=Math.floor(i/60),s=i%60,l=1080+Math.floor(31*Math.random())-15,c=Math.floor(l/60),u=l%60;let A=o,d=s;if(Math.random()>.9){const e=i+(30+Math.floor(61*Math.random()));A=Math.floor(e/60),d=e%60}let h=c,f=u;if(Math.random()>.9){const e=l-(30+Math.floor(61*Math.random()));h=Math.floor(e/60),f=e%60}e.push({date:t.toISOString(),checkIn:new Date(n,r,a,A,d).toISOString(),checkOut:new Date(n,r,a,h,f).toISOString(),method:"face"})}}return e};(0,i.useEffect)(()=>{(async()=>{try{let e=(await Ju.get("/workers")).data;e=e.map(e=>"6926f6cc5ea6ccfe339a7210"===e._id?Me(Me({},e),{},{attendanceRecords:k()}):e),t(e),r(e);const n=await Ju.get("/holidays");x(n.data);const i=await Ju.get("/batches");C(i.data),o(!1)}catch(e){console.error(e),l("Failed to fetch data"),o(!1)}})()},[]),(0,i.useEffect)(()=>{if(c){const t=e.filter(e=>e.name.toLowerCase().includes(c.toLowerCase())||e.department&&e.department.name.toLowerCase().includes(c.toLowerCase()));r(t)}else r(e)},[c,e]);const _=e=>e?"\u20b9".concat(e.toFixed(2)):"\u20b90.00",E=e=>e?"".concat(e.toFixed(2),"%"):"0.00%",S=e=>{if(!e)return"--:--:--";const t=new Date(e);let n=t.getHours();const r=t.getMinutes(),i=t.getSeconds(),a=n>=12?"PM":"AM";n%=12,n=n||12;const o=r<10?"0"+r:r,s=i<10?"0"+i:i;return"".concat(n,":").concat(o,":").concat(s," ").concat(a)},F=(e,t)=>{if(!e||!t)return 0;let n=0;if(t.workingTime){const e=t.workingTime.from.split(":").map(Number),r=t.workingTime.to.split(":").map(Number);if(n=60*r[0]+r[1]-(60*e[0]+e[1]),t.lunchTime&&t.lunchTime.enabled){const e=t.lunchTime.from.split(":").map(Number),r=t.lunchTime.to.split(":").map(Number);n-=60*r[0]+r[1]-(60*e[0]+e[1])}if(t.breakTime&&t.breakTime.enabled){const e=t.breakTime.from.split(":").map(Number),r=t.breakTime.to.split(":").map(Number);n-=60*r[0]+r[1]-(60*e[0]+e[1])}}return e.filter(e=>"Present"===e.status).length*n/60},I=(e,t)=>{if(!e||!t||!t.workingTime)return 0;let n=0;const r=t.workingTime.from.split(":").map(Number),i=t.workingTime.to.split(":").map(Number);if(n=60*i[0]+i[1]-(60*r[0]+r[1]),t.lunchTime&&t.lunchTime.enabled){const e=t.lunchTime.from.split(":").map(Number),r=t.lunchTime.to.split(":").map(Number);n-=60*r[0]+r[1]-(60*e[0]+e[1])}if(t.breakTime&&t.breakTime.enabled){const e=t.breakTime.from.split(":").map(Number),r=t.breakTime.to.split(":").map(Number);n-=60*r[0]+r[1]-(60*e[0]+e[1])}return e/(n/60)};return a?(0,Pe.jsx)("div",{className:"p-8 bg-gray-100 min-h-screen ml-64 flex items-center justify-center",children:(0,Pe.jsx)("div",{className:"text-xl",children:"Loading salary data..."})}):(0,Pe.jsxs)("div",{className:"p-8 bg-gray-100 min-h-screen ml-64",children:[(0,Pe.jsx)("div",{className:"flex justify-between items-center mb-6",children:(0,Pe.jsxs)("div",{children:[(0,Pe.jsx)("h2",{className:"text-2xl font-bold",children:"Salary Management"}),(0,Pe.jsx)("p",{className:"text-gray-600",children:"Manage employee salaries and view reports"})]})}),s&&(0,Pe.jsx)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:s}),(0,Pe.jsx)("div",{className:"bg-white rounded shadow overflow-hidden mb-6",children:(0,Pe.jsx)("div",{className:"p-6",children:(0,Pe.jsx)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:(0,Pe.jsxs)("div",{className:"flex-1",children:[(0,Pe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search Employees"}),(0,Pe.jsx)("input",{type:"text",value:c,onChange:e=>u(e.target.value),placeholder:"Search by employee name or department...",className:"w-full border border-gray-300 p-3 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"})]})})})}),(0,Pe.jsxs)("div",{className:"bg-white rounded shadow overflow-hidden",children:[(0,Pe.jsxs)("div",{className:"border-b border-gray-200 p-6",children:[(0,Pe.jsx)("h3",{className:"text-lg font-semibold",children:"Employee Salaries"}),(0,Pe.jsx)("p",{className:"text-gray-600 mt-1",children:"List of all employees with their salary information"})]}),(0,Pe.jsx)("div",{className:"overflow-x-auto",children:(0,Pe.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Pe.jsx)("thead",{className:"bg-gray-50",children:(0,Pe.jsxs)("tr",{children:[(0,Pe.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Employee Name"}),(0,Pe.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Employee ID"}),(0,Pe.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Department"}),(0,Pe.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Original Monthly Salary"}),(0,Pe.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Salary (This Month)"}),(0,Pe.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Fine / Deduction (This Month)"}),(0,Pe.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,Pe.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:0===n.length?(0,Pe.jsx)("tr",{children:(0,Pe.jsx)("td",{colSpan:"7",className:"px-6 py-4 text-center text-gray-500",children:"No employees found."})}):n.map(e=>(0,Pe.jsxs)("tr",{children:[(0,Pe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Pe.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.name})}),(0,Pe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e._id}),(0,Pe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.department?e.department.name:"N/A"}),(0,Pe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.salary?_(e.salary):"N/A"}),(0,Pe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.salary?_(e.salary):"N/A"}),(0,Pe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"\u20b90"}),(0,Pe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:(0,Pe.jsx)("button",{onClick:()=>(e=>{f(e),d(!0)})(e),className:"text-blue-600 hover:text-blue-900",children:"View Report"})})]},e._id))})]})})]}),A&&h&&(0,Pe.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Pe.jsxs)("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-4xl max-h-screen overflow-y-auto",children:[(0,Pe.jsxs)("div",{className:"border-b border-gray-200 px-6 py-4 flex justify-between items-center",children:[(0,Pe.jsxs)("h3",{className:"text-lg font-semibold text-gray-900",children:["Salary Report \u2013 ",h.name]}),(0,Pe.jsx)("button",{onClick:()=>{d(!1),f(null),b(null)},className:"text-gray-500 hover:text-gray-700",children:(0,Pe.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),(0,Pe.jsxs)("div",{className:"px-6 py-4",children:[(0,Pe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[(0,Pe.jsxs)("div",{children:[(0,Pe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Month"}),(0,Pe.jsxs)("select",{value:p,onChange:e=>g(Number(e.target.value)),className:"w-full border border-gray-300 p-3 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none",children:[(0,Pe.jsx)("option",{value:1,children:"January"}),(0,Pe.jsx)("option",{value:2,children:"February"}),(0,Pe.jsx)("option",{value:3,children:"March"}),(0,Pe.jsx)("option",{value:4,children:"April"}),(0,Pe.jsx)("option",{value:5,children:"May"}),(0,Pe.jsx)("option",{value:6,children:"June"}),(0,Pe.jsx)("option",{value:7,children:"July"}),(0,Pe.jsx)("option",{value:8,children:"August"}),(0,Pe.jsx)("option",{value:9,children:"September"}),(0,Pe.jsx)("option",{value:10,children:"October"}),(0,Pe.jsx)("option",{value:11,children:"November"}),(0,Pe.jsx)("option",{value:12,children:"December"})]})]}),(0,Pe.jsxs)("div",{children:[(0,Pe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Year"}),(0,Pe.jsx)("select",{value:m,onChange:e=>v(Number(e.target.value)),className:"w-full border border-gray-300 p-3 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none",children:(()=>{const e=(new Date).getFullYear(),t=[];for(let n=e-5;n<=e+5;n++)t.push(n);return t})().map(e=>(0,Pe.jsx)("option",{value:e,children:e},e))})]}),(0,Pe.jsx)("div",{className:"flex items-end space-x-2",children:(0,Pe.jsx)("button",{onClick:async()=>{if(h)try{const e=B.find(e=>{var t;return e._id===(null===(t=h.batch)||void 0===t?void 0:t._id)})||B.find(e=>e._id===h.batch)||h.batch,t=P0(h,m,p,w,h.attendanceRecords||[],e);b(t)}catch(e){console.error("Error generating report:",e),l("Failed to generate salary report")}},className:"flex-1 px-4 py-3 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 transition",children:"Generate Report"})})]}),y?(0,Pe.jsxs)("div",{className:"space-y-6",children:[(0,Pe.jsx)("div",{className:"flex justify-end space-x-3",children:(0,Pe.jsxs)("button",{onClick:()=>{if(!y||!h)return;const e=B.find(e=>{var t;return e._id===(null===(t=h.batch)||void 0===t?void 0:t._id)})||B.find(e=>e._id===h.batch)||h.batch,t=I(y.originalMonthlySalary/y.totalWorkingDays,e),n=h.name,r=h._id,i=h.department?h.department.name:"N/A";let a="\n      <!DOCTYPE html>\n      <html>\n      <head>\n        <title>Salary Report - ".concat(n,'</title>\n        <style>\n          body { font-family: Arial, sans-serif; margin: 20px; }\n          .header { text-align: center; margin-bottom: 30px; }\n          .summary-section { margin-bottom: 30px; }\n          .summary-label { font-weight: bold; display: inline-block; width: 200px; }\n          .summary-value { display: inline-block; }\n          table { width: 100%; border-collapse: collapse; margin-top: 20px; }\n          th, td { border: 1px solid #ddd; padding: 8px; text-align: left; }\n          th { background-color: #f2f2f2; }\n          .text-center { text-align: center; }\n          .text-right { text-align: right; }\n          .status-present { background-color: #d4edda; color: #155724; padding: 3px 8px; border-radius: 10px; }\n          .status-absent { background-color: #f8d7da; color: #721c24; padding: 3px 8px; border-radius: 10px; }\n          .status-off { background-color: #e2e3e5; color: #383d41; padding: 3px 8px; border-radius: 10px; }\n        </style>\n      </head>\n      <body>\n        <div class="header">\n          <h1>Salary Report</h1>\n          <h2>').concat(n,"</h2>\n          <p>Employee ID: ").concat(r," | Department: ").concat(i,"</p>\n          <p>Period: ").concat(p,"/").concat(m,'</p>\n        </div>\n        \n        <div class="summary-section">\n          <h3>Summary</h3>\n          <div>\n            <span class="summary-label">Employee Name:</span>\n            <span class="summary-value">').concat(n,'</span>\n          </div>\n          <div>\n            <span class="summary-label">Employee ID:</span>\n            <span class="summary-value">').concat(r,'</span>\n          </div>\n          <div>\n            <span class="summary-label">Original Salary:</span>\n            <span class="summary-value">').concat(_(y.originalMonthlySalary),'</span>\n          </div>\n          <div>\n            <span class="summary-label">Actual Earned Salary:</span>\n            <span class="summary-value">').concat(_(y.earnedSalary),'</span>\n          </div>\n          <div>\n            <span class="summary-label">Total Final Salary:</span>\n            <span class="summary-value">').concat(_(y.finalSalary),'</span>\n          </div>\n          <div>\n            <span class="summary-label">Total Days in Period:</span>\n            <span class="summary-value">').concat(new Date(m,p,0).getDate(),'</span>\n          </div>\n          <div>\n            <span class="summary-label">Total Working Days:</span>\n            <span class="summary-value">').concat(y.totalWorkingDays,'</span>\n          </div>\n          <div>\n            <span class="summary-label">Total Absent Days:</span>\n            <span class="summary-value">').concat(y.absentDays,'</span>\n          </div>\n          <div>\n            <span class="summary-label">Total Holidays:</span>\n            <span class="summary-value">0</span>\n          </div>\n          <div>\n            <span class="summary-label">Total Sundays:</span>\n            <span class="summary-value">').concat(Math.floor(new Date(m,p,0).getDate()/7),'</span>\n          </div>\n          <div>\n            <span class="summary-label">Actual Working Days:</span>\n            <span class="summary-value">').concat(y.presentDays,'</span>\n          </div>\n          <div>\n            <span class="summary-label">Total Working Hours:</span>\n            <span class="summary-value">').concat(F(y.dailyBreakdown,e).toFixed(2),' hrs</span>\n          </div>\n          <div>\n            <span class="summary-label">Total Permission Time:</span>\n            <span class="summary-value">').concat(y.totalDeductionMinutes.toFixed(2),' mins</span>\n          </div>\n          <div>\n            <span class="summary-label">Absent Deduction:</span>\n            <span class="summary-value">').concat(_(y.absentDays*(y.originalMonthlySalary/y.totalWorkingDays)||0),'</span>\n          </div>\n          <div>\n            <span class="summary-label">Permission Deduction:</span>\n            <span class="summary-value">').concat(_(y.totalDeductionAmount-(y.absentDays*(y.originalMonthlySalary/y.totalWorkingDays)||0)),'</span>\n          </div>\n          <div>\n            <span class="summary-label">Total Deductions:</span>\n            <span class="summary-value">').concat(_(y.totalDeductionAmount),'</span>\n          </div>\n          <div>\n            <span class="summary-label">Attendance Rate:</span>\n            <span class="summary-value">').concat(E(y.attendancePercentage),'</span>\n          </div>\n          <div>\n            <span class="summary-label">Per Hour Salary:</span>\n            <span class="summary-value">').concat(_(t),'</span>\n          </div>\n          <div>\n            <span class="summary-label">Per Minute Salary:</span>\n            <span class="summary-value">').concat(_(y.perMinuteSalary),"</span>\n          </div>\n        </div>\n        \n        <h3>Daily Breakdown</h3>\n        <table>\n          <thead>\n            <tr>\n              <th>Date</th>\n              <th>IN Time</th>\n              <th>OUT Time</th>\n              <th>Status</th>\n              <th>Deducted Minutes</th>\n              <th>Salary Earned</th>\n            </tr>\n          </thead>\n          <tbody>\n    ");y.dailyBreakdown.forEach(e=>{const t="Present"===e.status?"status-present":"Absent"===e.status?"status-absent":"status-off";a+="\n        <tr>\n          <td>".concat(e.date,"</td>\n          <td>").concat(S(e.inTime),"</td>\n          <td>").concat(S(e.outTime),'</td>\n          <td><span class="').concat(t,'">').concat(e.status,'</span></td>\n          <td class="text-right">').concat(e.deductedMinutes,'</td>\n          <td class="text-right">').concat(_(e.salaryEarned),"</td>\n        </tr>\n      ")}),a+="\n          </tbody>\n        </table>\n      </body>\n      </html>\n    ";const o=new Blob([a],{type:"text/html"}),s=URL.createObjectURL(o),l=document.createElement("a");l.href=s,l.download="salary_report_".concat(n,"_").concat(p,"_").concat(m,".html"),document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL(s)},className:"px-4 py-2 bg-red-600 text-white rounded-lg font-semibold hover:bg-red-700 transition flex items-center",children:[(0,Pe.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M9 19l3 3m0 0l3-3m-3 3V10"})}),"Download PDF"]})}),(0,Pe.jsxs)("div",{className:"bg-gray-50 p-6 rounded-lg",children:[(0,Pe.jsx)("h4",{className:"text-lg font-semibold mb-4",children:"Summary"}),(0,Pe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Pe.jsxs)("div",{children:[(0,Pe.jsx)("span",{className:"font-medium",children:"Employee Name:"})," ",h.name]}),(0,Pe.jsxs)("div",{children:[(0,Pe.jsx)("span",{className:"font-medium",children:"Employee ID:"})," ",h._id]}),(0,Pe.jsxs)("div",{children:[(0,Pe.jsx)("span",{className:"font-medium",children:"Original Salary:"})," ",_(y.originalMonthlySalary)]}),(0,Pe.jsxs)("div",{children:[(0,Pe.jsx)("span",{className:"font-medium",children:"Actual Earned Salary:"})," ",_(y.earnedSalary)]}),(0,Pe.jsxs)("div",{children:[(0,Pe.jsx)("span",{className:"font-medium",children:"Total Final Salary:"})," ",_(y.finalSalary)]}),(0,Pe.jsxs)("div",{children:[(0,Pe.jsx)("span",{className:"font-medium",children:"Total Days in Period:"})," ",new Date(m,p,0).getDate()]}),(0,Pe.jsxs)("div",{children:[(0,Pe.jsx)("span",{className:"font-medium",children:"Total Working Days:"})," ",y.totalWorkingDays]}),(0,Pe.jsxs)("div",{children:[(0,Pe.jsx)("span",{className:"font-medium",children:"Total Absent Days:"})," ",y.absentDays]}),(0,Pe.jsxs)("div",{children:[(0,Pe.jsx)("span",{className:"font-medium",children:"Total Holidays:"})," 0"]}),(0,Pe.jsxs)("div",{children:[(0,Pe.jsx)("span",{className:"font-medium",children:"Total Sundays:"})," ",Math.floor(new Date(m,p,0).getDate()/7)]}),(0,Pe.jsxs)("div",{children:[(0,Pe.jsx)("span",{className:"font-medium",children:"Actual Working Days:"})," ",y.presentDays]}),(0,Pe.jsxs)("div",{children:[(0,Pe.jsx)("span",{className:"font-medium",children:"Total Working Hours:"})," ",F(y.dailyBreakdown,h.batch).toFixed(2)," hrs"]}),(0,Pe.jsxs)("div",{children:[(0,Pe.jsx)("span",{className:"font-medium",children:"Total Permission Time:"})," ",y.totalDeductionMinutes.toFixed(2)," mins"]}),(0,Pe.jsxs)("div",{children:[(0,Pe.jsx)("span",{className:"font-medium",children:"Absent Deduction:"})," ",_(y.absentDays*(y.originalMonthlySalary/y.totalWorkingDays)||0)]}),(0,Pe.jsxs)("div",{children:[(0,Pe.jsx)("span",{className:"font-medium",children:"Permission Deduction:"})," ",_(y.totalDeductionAmount-(y.absentDays*(y.originalMonthlySalary/y.totalWorkingDays)||0))]}),(0,Pe.jsxs)("div",{children:[(0,Pe.jsx)("span",{className:"font-medium",children:"Total Deductions:"})," ",_(y.totalDeductionAmount)]}),(0,Pe.jsxs)("div",{children:[(0,Pe.jsx)("span",{className:"font-medium",children:"Attendance Rate:"})," ",E(y.attendancePercentage)]}),(0,Pe.jsxs)("div",{children:[(0,Pe.jsx)("span",{className:"font-medium",children:"Per Hour Salary:"})," ",_(I(y.originalMonthlySalary/y.totalWorkingDays,h.batch))]}),(0,Pe.jsxs)("div",{children:[(0,Pe.jsx)("span",{className:"font-medium",children:"Per Minute Salary:"})," ",_(y.perMinuteSalary)]})]})]}),(0,Pe.jsxs)("div",{className:"bg-white rounded shadow overflow-hidden",children:[(0,Pe.jsx)("div",{className:"border-b border-gray-200 p-4",children:(0,Pe.jsx)("h4",{className:"text-lg font-semibold",children:"Daily Breakdown"})}),(0,Pe.jsx)("div",{className:"overflow-x-auto max-h-96 overflow-y-auto",children:(0,Pe.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Pe.jsx)("thead",{className:"bg-gray-50 sticky top-0",children:(0,Pe.jsxs)("tr",{children:[(0,Pe.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),(0,Pe.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"IN Time"}),(0,Pe.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"OUT Time"}),(0,Pe.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,Pe.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Deducted Minutes"}),(0,Pe.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Salary Earned"})]})}),(0,Pe.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:y.dailyBreakdown.map((e,t)=>(0,Pe.jsxs)("tr",{children:[(0,Pe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.date}),(0,Pe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:S(e.inTime)}),(0,Pe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:S(e.outTime)}),(0,Pe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Pe.jsx)("span",{className:"px-2 py-1 text-xs rounded-full ".concat("Present"===e.status?"bg-green-200 text-green-800":"Absent"===e.status?"bg-red-200 text-red-800":"bg-gray-200 text-gray-800"),children:e.status})}),(0,Pe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.deductedMinutes}),(0,Pe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:_(e.salaryEarned)})]},t))})]})})]})]}):(0,Pe.jsx)("div",{className:"bg-gray-50 p-6 rounded-lg text-center",children:(0,Pe.jsx)("p",{className:"text-gray-600",children:'Click "Generate Report" to view the salary report.'})})]})]})})]})},D0=()=>{const e=te(),t=["/","/admin/login","/employee/login"].includes(e.pathname),n=e.pathname.startsWith("/employee/")&&e.pathname.endsWith("/dashboard"),r=e.pathname.startsWith("/employee/")&&e.pathname.endsWith("/attendance"),i=(!t&&!(n&&!r)&&(localStorage.getItem("admin")||localStorage.getItem("employee")&&(r||e.pathname.startsWith("/employee/")&&e.pathname.endsWith("/dashboard"))),localStorage.getItem("admin")),a=localStorage.getItem("employee");return!t&&(i||a&&(r||n))?(0,Pe.jsx)(Le,{}):null};const T0=function(){return(0,Pe.jsx)(Se,{children:(0,Pe.jsxs)("div",{className:"bg-gray-100 min-h-screen",children:[(0,Pe.jsx)(D0,{}),(0,Pe.jsxs)(we,{children:[(0,Pe.jsx)(ye,{path:"/",element:(0,Pe.jsx)(C0,{})}),(0,Pe.jsx)(ye,{path:"/admin/login",element:(0,Pe.jsx)(N0,{})}),(0,Pe.jsx)(ye,{path:"/dashboard",element:(0,Pe.jsx)(MD,{})}),(0,Pe.jsx)(ye,{path:"/jobs/new",element:(0,Pe.jsx)(eA,{})}),(0,Pe.jsx)(ye,{path:"/jobs",element:(0,Pe.jsx)(tA,{})}),(0,Pe.jsx)(ye,{path:"/jobs/:id",element:(0,Pe.jsx)(oA,{})}),(0,Pe.jsx)(ye,{path:"/departments",element:(0,Pe.jsx)(nA,{})}),(0,Pe.jsx)(ye,{path:"/inventory",element:(0,Pe.jsx)(rA,{})}),(0,Pe.jsx)(ye,{path:"/workers",element:(0,Pe.jsx)(aA,{})}),(0,Pe.jsx)(ye,{path:"/attendance",element:(0,Pe.jsx)(_0,{})}),(0,Pe.jsx)(ye,{path:"/holidays",element:(0,Pe.jsx)(j0,{})}),(0,Pe.jsx)(ye,{path:"/admin/salary",element:(0,Pe.jsx)(L0,{})}),(0,Pe.jsx)(ye,{path:"/financials",element:(0,Pe.jsx)(TD,{})}),(0,Pe.jsx)(ye,{path:"/settings",element:(0,Pe.jsx)(S0,{})}),(0,Pe.jsx)(ye,{path:"/suppliers",element:(0,Pe.jsx)(F0,{})}),(0,Pe.jsx)(ye,{path:"/purchases",element:(0,Pe.jsx)(I0,{})}),(0,Pe.jsx)(ye,{path:"/employee/login",element:(0,Pe.jsx)(QD,{})}),(0,Pe.jsx)(ye,{path:"/employee/:id/dashboard",element:(0,Pe.jsx)(B0,{})}),(0,Pe.jsx)(ye,{path:"/employee/:id/attendance",element:(0,Pe.jsx)(E0,{})})]})]})})};o.createRoot(document.getElementById("root")).render((0,Pe.jsx)(i.StrictMode,{children:(0,Pe.jsx)(T0,{})}))})()})();